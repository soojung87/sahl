{"remainingRequest":"D:\\service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\service\\src\\components\\SomeIPService.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\service\\src\\components\\SomeIPService.vue","mtime":1662616122142},{"path":"D:\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\service\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgY29uc3RhbnQgZnJvbSAiLi4vc3RvcmUvY29uc3RhbnRzLmpzIg0KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICIuLi9tYWluLmpzIg0KaW1wb3J0IGRpYWxvZ1BhdGhTZXR0aW5nIGZyb20gJy4uL2NvbXBvbmVudHMvZGlhbG9nUGF0aFNldHRpbmcudnVlJw0KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBwcm9wczogWydlbGVtZW50JywgJ2lzRGF0YWlsVmlldycsICdtaW5pbWFwdG9vbGJhcicsICdsb2NhdGlvbiddLA0KICAgIGNvbXBvbmVudHM6e2RpYWxvZ1BhdGhTZXR0aW5nfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICBhY3RpdmVVVUlEKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVVVSUQNCiAgICAgICAgfSwNCiAgICAgICAgZGV0YWlsVmlld1VVSUQoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZGV0YWlsVmlld1VVSUQNCiAgICAgICAgfSwNCiAgICAgICAgc2V0dGluZygpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5nDQogICAgICAgIH0sDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICBhY3RpdmVVVUlEKHZhbCkgew0KICAgICAgICAgICAgdGhpcy5zZXRUb29sYmFyQ29sb3IodmFsKQ0KICAgICAgICB9LA0KICAgICAgICBkZXRhaWxWaWV3VVVJRCh2YWwpIHsNCiAgICAgICAgICAgIHRoaXMuc2V0VG9vbGJhckNvbG9yRGV0YWlsVmlldyh2YWwpDQogICAgICAgIH0sDQogICAgICAgIHNldHRpbmcodmFsdWUpIHsNCiAgICAgICAgICAgIHRoaXMuem9vbXZhbHVlID0gdmFsdWUuem9vbU1haW4NCiAgICAgICAgICAgIGlmICh0aGlzLnpvb212YWx1ZSA8IHRoaXMuJHNldFpvb21pblRvb2x0aXApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzVG9vbHRpcCA9IGZhbHNlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNUb29sdGlwID0gdGhpcy5taW5pbWFwdG9vbGJhcg0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnpvb212YWx1ZSAgPiB0aGlzLiRzZXRab29taW5MaW5lVGl0bGUgJiYgdGhpcy56b29tdmFsdWUgPCB0aGlzLiRzZXRab29taW5MaW5lU2V0dXBTdGFydCkgew0KICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZHJhd0xpbmVUaXRsZUJhcicsIHRoaXMuZWxlbWVudC51dWlkLCBmYWxzZSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuem9vbXZhbHVlID4gdGhpcy4kc2V0Wm9vbWluTGluZVNldHVwU3RhcnQgJiYgdGhpcy56b29tdmFsdWUgPCB0aGlzLiRzZXRab29taW5MaW5lU2V0dXBFbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RyYXdMaW5lVGl0bGVCYXInLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5pc2VsZW1lbnRPcGVuQ2xvc2UpDQogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmlzZWxlbWVudE9wZW5DbG9zZSAmJiB0aGlzLmxvY2F0aW9uID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuZmllbGRELmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNGaWVsZERPcGVuQ2xvc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnZmllbGQnLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5maWVsZFRhYiwgdGhpcy5lbGVtZW50LmZpZWxkRFt0aGlzLmZpZWxkVGFiXS5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnZmllbGQnLCB0aGlzLmVsZW1lbnQudXVpZCwgbnVsbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuZXZlbnRHLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFdmVudEdPcGVuQ2xvc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnZXZlbnQnLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5ldmVudEdUYWIsIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdldmVudCcsIHRoaXMuZWxlbWVudC51dWlkLCBudWxsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMuc2V0VG9vbGJhckNvbG9yKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVVVSUQpDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgcnVsZXM6IHsNCiAgICAgICAgICAgICAgICBuYW1lOiAgW3ZhbCA9PiAodmFsIHx8ICcnKS5sZW5ndGggPiAwIF0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZGlhbG9nUGF0aCA6IGZhbHNlLA0KICAgICAgICAgICAgY29sb3JUb29sYmFyOiAiIzZBNUFDRCIsDQogICAgICAgICAgICB6b29tdmFsdWU6IHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmcuem9vbU1haW4sDQogICAgICAgICAgICBpc1Rvb2x0aXA6IHRoaXMubWluaW1hcHRvb2xiYXIsDQogICAgICAgICAgICBpc2VsZW1lbnRPcGVuQ2xvc2U6IGZhbHNlLC8vdGhpcy5taW5pbWFwdG9vbGJhciwgLy90b29sYmFy66eMIOuztOyXrOykhOqyg+ydtOuDkCDslYTri4jrg5Ag7ISk7KCVIHRydWU6IOyghOyytCDri6Qg67O07Jes7KSMIC8gZmFsc2UgOiB0b29sYmFy66eMIOuztOyXrOykjA0KICAgICAgICAgICAgZGlhbG9nVGV4dDogZmFsc2UsDQogICAgICAgICAgICBlZGl0QVJYTUw6IHtuYW1lOicnLCBzZXJ2aWNlOiBudWxsLCBtYWp2ZXJzaW9uOicnLCBtaW52ZXJzaW9uOicnLCBpZDogJycsIGV2ZW50RzpbXSwgZXZlbnREOiBbXSwgbWV0aG9kRDpbXSwgZmllbGREOltdfSwNCiAgICAgICAgICAgIGVkaXRUZXh0RXZlbnREOiB7bmFtZTonJywgZXZlbnQ6IG51bGwsIGlkRTonJywgbWF4bGVuZ3RoOicnLCB0aW1lOicnLCBzZXJpYWxpemVyOm51bGwsIHByb3RvY2FsOm51bGwsIGlkOiAnJ30sDQogICAgICAgICAgICBlZGl0VGV4dE1ldGhvZDoge25hbWU6JycsIG1ldGhvZDogbnVsbCwgaWRNOicnLCBtYXhyZXF1ZXN0OicnLCBtYXhyZXNwb25zZTonJywgdGltZXJlcXVlc3Q6JycsIHRpbWVyZXNwb25zZTonJywgcHJvdG9jYWw6bnVsbCwgaWQ6ICcnfSwNCiAgICAgICAgICAgIGVkaXRUZXh0RmllbGQ6IHtuYW1lOiAnJywgZmllbGQ6bnVsbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldG5hbWU6ICcnLGdldGlkOiAnJyxnZXRtYXhyZXE6ICcnLGdldG1heHJlczogJycsZ2V0dGltZXJlcTogJycsZ2V0dGltZXJlczogJycsZ2V0cHJvdG86IG51bGwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuYW1lOiAnJyxzZXRpZDogJycsc2V0bWF4cmVxOiAnJyxzZXRtYXhyZXM6ICcnLHNldHRpbWVyZXE6ICcnLHNldHRpbWVyZXM6ICcnLHNldHByb3RvOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90bmFtZTogJycsbm90aWQ6ICcnLG5vdG1heDogJycsbm90dGltZTogJycsbm90c2VyaWFsOiBudWxsLG5vdHByb3RvOiBudWxsLCBpZDogJyd9LA0KICAgICAgICAgICAgZWRpdFRleHRFdmVudEc6IHtuYW1lOiAnJywgaWRHOiAnJywgZXZlbnQ6IFtdLCBpZDogJyd9LA0KICAgICAgICAgICAgZWRpdFRleHRFdmVudFJlZjoge2V2ZW50OiBudWxsLCBpZDogJyd9LA0KICAgICAgICAgICAgc2VsU2VydmljZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTZXJ2aWNlSW50ZXJmYWNlLA0KICAgICAgICAgICAgaXNFdmVudEdPcGVuQ2xvc2U6IHRydWUsDQogICAgICAgICAgICBpc0V2ZW50RE9wZW5DbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzTWV0aG9kRE9wZW5DbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzRmllbGRET3BlbkNsb3NlOiB0cnVlLA0KDQogICAgICAgICAgICBldmVudEdUYWI6IG51bGwsDQogICAgICAgICAgICBpc0V2ZW50T3BlbkNsb3NlOiB0cnVlLA0KICAgICAgICAgICAgaXNkZWxldGVFdmVudDogZmFsc2UsDQogICAgICAgICAgICBzZWxlY3REZWxlY3RFdmVudDogW10sDQogICAgICAgICAgICBoZWFkZXJFdmVudDogWw0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ0V2ZW50IFJlZicsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdldmVudCcgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBlZGl0RXZlbnQ6IHsgZXZlbnQ6IG51bGwsIGlkOiAnJ30sDQogICAgICAgICAgICBpc0VkaXRpbmdFdmVudDogdHJ1ZSwNCiAgICAgICAgICAgIHNlbEV2ZW50OiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNvbWVJUEV2ZW50RGVwbG95bWVudCwNCg0KICAgICAgICAgICAgaXNkZWxldGVFdmVudEQ6IGZhbHNlLA0KICAgICAgICAgICAgc2VsVmFyaWFibGVEYXRhOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFZhcmlhYmxlRGF0YVByb3RvdHlwZSwNCiAgICAgICAgICAgIHNlbGVjdERlbGVjdEV2ZW50RDogW10sDQogICAgICAgICAgICBoZWFkZXJFdmVudEQ6IFsNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdOYW1lJywgYWxpZ246ICdzdGFydCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICduYW1lJyB9LA0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ0V2ZW50IFJlZicsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdldmVudCcgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdFdmVudCBJRCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdpZEUnIH0sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnTWF4aW11bSBTZWdtZW50IExlbmd0aCcsIHNvcnRhYmxlOiBmYWxzZSwgd2lkdGg6ICcxODBweCcsIHZhbHVlOiAnbWF4bGVuZ3RoJyB9LA0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ1NlcGFyYXRpb24gVGltZScsIHNvcnRhYmxlOiBmYWxzZSwgd2lkdGg6ICcxMzBweCcsIHZhbHVlOiAndGltZScgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdTZXJpYWxpemVyJywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ3NlcmlhbGl6ZXInIH0sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnVHJhbnNwb3J0IFByb3RvY2FsJywgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogJzE0MHB4JywgdmFsdWU6ICdwcm90b2NhbCcgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBlZGl0RXZlbnREOiB7IG5hbWU6JycsIGV2ZW50OiBudWxsLCBpZEU6JycsIG1heGxlbmd0aDonJywgdGltZTonJywgc2VyaWFsaXplcjpudWxsLCBwcm90b2NhbDpudWxsLCBpZDogJyd9LA0KICAgICAgICAgICAgZGVmYXVsdEV2ZW50RDogeyBuYW1lOicnLCBldmVudDogbnVsbCwgaWRFOicnLCBtYXhsZW5ndGg6JycsIHRpbWU6JycsIHNlcmlhbGl6ZXI6bnVsbCwgcHJvdG9jYWw6bnVsbCwgaWQ6ICcnIH0sDQogICAgICAgICAgICBpc0VkaXRpbmdWYXJpYWJsZURhdGE6IHRydWUsDQogICAgICAgICAgICBzZWxlY3RTZXJpYWxpemVyOiBbJ1NPTUVJUCcsICdTSUdOQUwtQkFTRUQnXSwNCiAgICAgICAgICAgIHNlbGVjdFByb3RvY2FsOiBbJ1VEUCcsICdUQ1AnLF0sDQoNCiAgICAgICAgICAgIGlzZGVsZXRlTWV0aG9kRDogZmFsc2UsDQogICAgICAgICAgICBzZWxDbGllbnRTZXJ2ZXI6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2xpZW50U2VydmVyLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0TWV0aG9kRDogW10sDQogICAgICAgICAgICBoZWFkZXJNZXRob2REOiBbDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnTmFtZScsIGFsaWduOiAnc3RhcnQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnbmFtZScgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdNZXRob2QgUmVmJywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ21ldGhvZCcgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdNZXRob2QgSUQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnaWRNJyB9LA0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ01heGltdW0gU2VnbWVudCBMZW5ndGggUmVxdWVzdCcsIHNvcnRhYmxlOiBmYWxzZSwgd2lkdGg6ICcyMzBweCcsIHZhbHVlOiAnbWF4cmVxdWVzdCcgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdNYXhpbXVtIFNlZ21lbnQgTGVuZ3RoIFJlc3BvbnNlJywgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogJzI0MHB4JywgdmFsdWU6ICdtYXhyZXNwb25zZScgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdTZXBhcmF0aW9uIFRpbWUgUmVxdWVzdCcsIHNvcnRhYmxlOiBmYWxzZSwgd2lkdGg6ICcxODBweCcsIHZhbHVlOiAndGltZXJlcXVlc3QnIH0sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnU2VwYXJhdGlvbiBUaW1lIFJlc3BvbnNlJywgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogJzE4MHB4JywgdmFsdWU6ICd0aW1lcmVzcG9uc2UnIH0sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnVHJhbnNwb3J0IFByb3RvY2FsJywgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogJzE0MHB4JywgdmFsdWU6ICdwcm90b2NhbCcgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBlZGl0TWV0aG9kRDogeyBuYW1lOicnLCBtZXRob2Q6IG51bGwsIGlkTTonJywgbWF4cmVxdWVzdDonJywgbWF4cmVzcG9uc2U6JycsIHRpbWVyZXF1ZXN0OicnLCB0aW1lcmVzcG9uc2U6JycsIHByb3RvY2FsOm51bGwsIGlkOiAnJyB9LA0KICAgICAgICAgICAgZGVmYXVsdE1ldGhvZEQ6IHtuYW1lOicnLCBtZXRob2Q6IG51bGwsIGlkTTonJywgbWF4cmVxdWVzdDonJywgbWF4cmVzcG9uc2U6JycsIHRpbWVyZXF1ZXN0OicnLCB0aW1lcmVzcG9uc2U6JycsIHByb3RvY2FsOm51bGwsIGlkOiAnJyB9LA0KICAgICAgICAgICAgaXNFZGl0aW5nQ2xpZW50U2VydmVyOiB0cnVlLA0KDQogICAgICAgICAgICBmaWVsZFRhYjogbnVsbCwNCiAgICAgICAgICAgIHNlbEZpZWxkOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEZpZWxkLA0KICAgICAgICAgICAgaXNHZXRPcGVuQ2xvc2U6IHRydWUsDQogICAgICAgICAgICBpc1NldE9wZW5DbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzTm90aWZpZXJPcGVuQ2xvc2U6IHRydWUsDQoNCiAgICAgICAgICAgIGJlZm9yZUZpZWxkOiAnJywNCiAgICAgICAgICAgIGJlZm9yZUdldDogJycsDQogICAgICAgICAgICBiZWZvcmVTZXQ6ICcnLA0KICAgICAgICAgICAgYmVmb3JlTm90aTogJycsDQogICAgICAgICAgICBiZWZvcmVFdmVudEc6ICcnLA0KICAgICAgICAgICAgYmVmb3JlTmFtZTogJycsDQogICAgICAgICAgICBiZWZvcmVQYXRoOiAnJw0KICAgICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkICgpIHsNCiAgICAgICAgaWYgKHRoaXMubWluaW1hcHRvb2xiYXIgJiYgdGhpcy56b29tdmFsdWUgPCB0aGlzLiRzZXRab29taW5FbGVtZW50KSB7DQogICAgICAgICAgICB0aGlzLmlzVG9vbHRpcCA9IGZhbHNlDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgc3VibWl0RGlhbG9nKGVsZW1lbnQpIHsNCiAgICAgICAgICAgIHRoaXMuYmVmb3JlUGF0aCA9IHRoaXMuZWxlbWVudC5wYXRoDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQucGF0aCA9IGVsZW1lbnQNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLCAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdQYXRoJywgYmVmb3JlbmFtZTogdGhpcy5iZWZvcmVQYXRofSApDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2lzaW50b0Vycm9yTGlzdCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBuYW1lOnRoaXMuZWxlbWVudC5uYW1lLCBwYXRoOnRoaXMuZWxlbWVudC5wYXRofSkNCiAgICAgICAgfSwNCiAgICAgICAgc2V0VG9vbGJhckNvbG9yKHV1aWQpIA0KICAgICAgICB7DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQudXVpZCA9PSB1dWlkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xvclRvb2xiYXIgPSAiI0ZGMTQ5MyIgDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuY29sb3JUb29sYmFyID0gIiM2QTVBQ0QiDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldFRvb2xiYXJDb2xvckRldGFpbFZpZXcoaXNkZXRhaWwpIHsNCiAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC51dWlkID09IGlzZGV0YWlsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xvclRvb2xiYXIgPSAiI0IwRTBFNiIgDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWxlbWVudC51dWlkID09IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVVVSUQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yVG9vbGJhciAgPSAiI0ZGMTQ5MyINCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xvclRvb2xiYXIgPSAiIzZBNUFDRCINCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2hvd1NvbWVJUFNlcnZpY2UgKCkgew0KICAgICAgICAgICAgdGhpcy5pc2VsZW1lbnRPcGVuQ2xvc2UgPSB0aGlzLmlzZWxlbWVudE9wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkcmF3TGluZVRpdGxlQmFyJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuaXNlbGVtZW50T3BlbkNsb3NlKQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNlbGVtZW50T3BlbkNsb3NlICYmIHRoaXMubG9jYXRpb24gPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuZmllbGRELmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRmllbGRET3BlbkNsb3NlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdmaWVsZCcsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmZpZWxkVGFiLCB0aGlzLmVsZW1lbnQuZmllbGREW3RoaXMuZmllbGRUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2ZpZWxkJywgdGhpcy5lbGVtZW50LnV1aWQsIG51bGwpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmV2ZW50Ry5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0V2ZW50R09wZW5DbG9zZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnZXZlbnQnLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5ldmVudEdUYWIsIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2V2ZW50JywgdGhpcy5lbGVtZW50LnV1aWQsIG51bGwpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBzaG93RXZlbnRHKCkgew0KICAgICAgICAgICAgdGhpcy5pc0V2ZW50R09wZW5DbG9zZSA9IHRoaXMuaXNFdmVudEdPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC5ldmVudEcubGVuZ3RoID4gMCAmJiB0aGlzLmxvY2F0aW9uID09IDEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNFdmVudEdPcGVuQ2xvc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnZXZlbnQnLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5ldmVudEdUYWIsIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdldmVudCcsIHRoaXMuZWxlbWVudC51dWlkLCBudWxsKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkcmF3TGluZScpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0V2ZW50KCkgew0KICAgICAgICAgICAgdGhpcy5pc0V2ZW50T3BlbkNsb3NlID0gdGhpcy5pc0V2ZW50T3BlbkNsb3NlID8gZmFsc2UgOiB0cnVlDQogICAgICAgICAgICAvLyDshKDsnYQg64uk7IucIOq3uOugpOykmOyVvCDtlZjquLAg65WM66y47JeQDQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZHJhd0xpbmUnKQ0KICAgICAgICB9LA0KICAgICAgICBzaG93RXZlbnREKCkgew0KICAgICAgICAgICAgdGhpcy5pc0V2ZW50RE9wZW5DbG9zZSA9IHRoaXMuaXNFdmVudERPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgICAgIC8vIOyEoOydhCDri6Tsi5wg6re466Ck7KSY7JW8IO2VmOq4sCDrlYzrrLjsl5ANCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkcmF3TGluZScpDQogICAgICAgIH0sDQogICAgICAgIHNob3dNZXRob2REKCkgew0KICAgICAgICAgICAgdGhpcy5pc01ldGhvZERPcGVuQ2xvc2UgPSB0aGlzLmlzTWV0aG9kRE9wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgLy8g7ISg7J2EIOuLpOyLnCDqt7jroKTspJjslbwg7ZWY6riwIOuVjOusuOyXkA0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RyYXdMaW5lJykNCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0ZpZWxkRCgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNGaWVsZERPcGVuQ2xvc2UgPSB0aGlzLmlzRmllbGRET3BlbkNsb3NlID8gZmFsc2UgOiB0cnVlDQogICAgICAgICAgICAvLyDshKDsnYQg64uk7IucIOq3uOugpOykmOyVvCDtlZjquLAg65WM66y47JeQDQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuZmllbGRELmxlbmd0aCA+IDAgJiYgdGhpcy5sb2NhdGlvbiA9PSAxKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmlzRmllbGRET3BlbkNsb3NlICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdmaWVsZCcsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmZpZWxkVGFiLCB0aGlzLmVsZW1lbnQuZmllbGREW3RoaXMuZmllbGRUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdmaWVsZCcsIHRoaXMuZWxlbWVudC51dWlkLCBudWxsKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkcmF3TGluZScpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0dldCgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNHZXRPcGVuQ2xvc2UgPSB0aGlzLmlzR2V0T3BlbkNsb3NlID8gZmFsc2UgOiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHNob3dTZXQoKSB7DQogICAgICAgICAgICB0aGlzLmlzU2V0T3BlbkNsb3NlID0gdGhpcy5pc1NldE9wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBzaG93Tm90aWZpZXIoKSB7DQogICAgICAgICAgICB0aGlzLmlzTm90aWZpZXJPcGVuQ2xvc2UgPSB0aGlzLmlzTm90aWZpZXJPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgfSwNCg0KICAgICAgICBjbGlja1NvbWVJUFNlcnZpY2VOYW1lKCkgew0KICAgICAgICAgICAgdGhpcy5iZWZvcmVOYW1lID0gdGhpcy5lbGVtZW50Lm5hbWUNCiAgICAgICAgfSwNCiAgICAgICAgaW5wdXRTb21lSVBTZXJ2aWNlTmFtZSgpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFNvbWVJUFNlcnZpY2UnLCB7Y29tcG86Ik5hbWUiLCB1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBuYW1lOnRoaXMuZWxlbWVudC5uYW1lfSApDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdOYW1lJywgcGF0aExlbmd0aDp0aGlzLmVsZW1lbnQucGF0aC5zcGxpdCgnLycpLmxlbmd0aCwgYmVmb3JlbmFtZTogdGhpcy5iZWZvcmVOYW1lfSApDQogICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50Lm5hbWUgIT0gJycpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2lzaW50b0Vycm9yTGlzdCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBuYW1lOnRoaXMuZWxlbWVudC5uYW1lLCBwYXRoOnRoaXMuZWxlbWVudC5wYXRofSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuYmVmb3JlTmFtZSA9IHRoaXMuZWxlbWVudC5uYW1lDQogICAgICAgIH0sDQogICAgICAgIGNsaWNrRXZlbnRHTmFtZShuYW1lKSB7DQogICAgICAgICAgICB0aGlzLmJlZm9yZUV2ZW50RyA9IG5hbWUNCiAgICAgICAgfSwNCiAgICAgICAgaW5wdXRFdmVudEdOYW1lKG5hbWUpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdFdmVudEcnLCBsaXN0bmFtZTogbmFtZSwgYmVmb3JlbmFtZTogdGhpcy5iZWZvcmVFdmVudEd9ICkNCiAgICAgICAgICAgIHRoaXMuYmVmb3JlRXZlbnRHID0gbmFtZQ0KICAgICAgICB9LA0KDQogICAgICAgIGFkZEV2ZW50RygpIHsNCiAgICAgICAgICAgIGNvbnN0IGVkaXRJdGVtID0ge25hbWU6ICcnLCBpZEc6ICcnLCBldmVudDogW10sIGlkOiAnJ30NCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IG5ldyBPYmplY3QoZWRpdEl0ZW0pDQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCg0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgIGFkZE9iai5uYW1lID0gJ0V2ZW50IEdyb3VwXycgKyBuKys7DQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lbGVtZW50LmV2ZW50Ry5zb21lKGVsZSA9PiBlbGUubmFtZSA9PT0gYWRkT2JqLm5hbWUpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBhZGRPYmouaWQgPSBuDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuZXZlbnRHLnB1c2goYWRkT2JqKQ0KICAgICAgICAgICAgdGhpcy5ldmVudEdUYWIgPSB0aGlzLmVsZW1lbnQuZXZlbnRHLmxlbmd0aC0xDQogICAgICAgICAgICBpZih0aGlzLmxvY2F0aW9uID09IDEpIHsNCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2V2ZW50JywgdGhpcy5lbGVtZW50LnV1aWQsIG51bGwpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNsaWNrRXZlbnRHdGFiKCkgew0KICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUV2ZW50ID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RXZlbnQgPSBbXQ0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VFdmVudEdUYWIoKSB7DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuZXZlbnRHLmxlbmd0aCA+IDAgJiYgdGhpcy5sb2NhdGlvbiA9PSAxICYmIHRoaXMuZXZlbnRHVGFiICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge0V2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnZXZlbnQnLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5ldmVudEdUYWIsIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKX0sIDMwMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUV2ZW50RyhpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlUmVmVGFibGUnLCB7ZGVsZXRlTmFtZTonZXZlbnRHJywgZGVsZXRlVGFiOiB0cnVlLCB0YWJOYW1lOiB0aGlzLmVsZW1lbnQuZXZlbnRHW2lkeF0ubmFtZSwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lfSkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEdbaWR4XS5ldmVudC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lQ29uID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnR0YWItJytpdGVtLmlkKyctJyt0aGlzLmVsZW1lbnQuZXZlbnRHW2lkeF0uaWQpDQogICAgICAgICAgICAgICAgaWYoZW5kTGluZUNvbiAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnR0YWItJytpdGVtLmlkKyctJyt0aGlzLmVsZW1lbnQuZXZlbnRHW2lkeF0uaWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCg0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50Ry5zcGxpY2UoaWR4LCAxKQ0KICAgICAgICB9LA0KICAgICAgICBpc0NoZWNrRXZlbnQoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZUV2ZW50ID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlRXZlbnQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RXZlbnQgPSBbXQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlRXZlbnQgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUV2ZW50KCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3REZWxlY3RFdmVudCkNCiAgICAgICAgICAgIGlmICh0aGlzLmlzZGVsZXRlRXZlbnQgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RXZlbnQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5lbGVtZW50LmV2ZW50R1t0aGlzLmV2ZW50R1RhYl0uZXZlbnQubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gdGhpcy5lbGVtZW50LmV2ZW50R1t0aGlzLmV2ZW50R1RhYl0uZXZlbnRbaV0uaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2V2ZW50dGFiLScrdGhpcy5lbGVtZW50LmV2ZW50R1t0aGlzLmV2ZW50R1RhYl0uZXZlbnRbaV0uaWQrJy0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2V2ZW50dGFiLScrdGhpcy5lbGVtZW50LmV2ZW50R1t0aGlzLmV2ZW50R1RhYl0uZXZlbnRbaV0uaWQrJy0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZXZlbnRHW3RoaXMuZXZlbnRHVGFiXS5ldmVudCA9IHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50LmZpbHRlcihpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdERlbGVjdEV2ZW50LmluZGV4T2YoaXRlbSkgPCAwIH0pDQoNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlRXZlbnQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RXZlbnQgPSBbXQ0KICAgICAgICAgICAgfSANCiAgICAgICAgfSwNCiAgICAgICAgb3BlbkV2ZW50KGlkeCkgeyANCiAgICAgICAgICAgIHRoaXMuc2VsRXZlbnQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNvbWVJUEV2ZW50RGVwbG95bWVudA0KDQogICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmV2ZW50R1t0aGlzLmV2ZW50R1RhYl0uZXZlbnRbaWR4XS5ldmVudCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9ldmVudHRhYi0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uaWQrJy0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKQ0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTb21lSVBFdmVudERlcGxveW1lbnRQYXRoKHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uZXZlbnQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50LmV2ZW50ID0geyBuYW1lOiB0aGlzLmVsZW1lbnQuZXZlbnRHW3RoaXMuZXZlbnRHVGFiXS5ldmVudFtpZHhdLmV2ZW50LCB1dWlkOiBlbmRMaW5lfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0RXZlbnRJdGVtKGlkeCkgew0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9ldmVudHRhYi0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uaWQrJy0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIHRoaXMuZWRpdEV2ZW50LmV2ZW50ID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9ldmVudHRhYi0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uaWQrJy0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uZXZlbnQgPSBudWxsDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gdGhpcy5lZGl0RXZlbnQuZXZlbnQudXVpZCkgew0KICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnR0YWItJyt0aGlzLmVsZW1lbnQuZXZlbnRHW3RoaXMuZXZlbnRHVGFiXS5ldmVudFtpZHhdLmlkKyctJyt0aGlzLmVsZW1lbnQuZXZlbnRHW3RoaXMuZXZlbnRHVGFiXS5pZCkNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9ldmVudHRhYi0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uaWQrJy0nK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkLCB0aGlzLmVsZW1lbnQudXVpZCsnL2V2ZW50dGFiJyt0aGlzLmVsZW1lbnQuZXZlbnRHW3RoaXMuZXZlbnRHVGFiXS5pZCwgdGhpcy5lZGl0RXZlbnQuZXZlbnQudXVpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZXZlbnRHW3RoaXMuZXZlbnRHVGFiXS5ldmVudFtpZHhdLmV2ZW50ID0gdGhpcy5lZGl0RXZlbnQuZXZlbnQubmFtZQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRFdmVudC5ldmVudCAhPSBudWxsICYmIHRoaXMuZWRpdEV2ZW50LmV2ZW50LnV1aWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2V2ZW50dGFiLScrdGhpcy5lbGVtZW50LmV2ZW50R1t0aGlzLmV2ZW50R1RhYl0uZXZlbnRbaWR4XS5pZCsnLScrdGhpcy5lbGVtZW50LmV2ZW50R1t0aGlzLmV2ZW50R1RhYl0uaWQsIHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnR0YWInK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkLCB0aGlzLmVkaXRFdmVudC5ldmVudC51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uZXZlbnQgPSB0aGlzLmVkaXRFdmVudC5ldmVudC5uYW1lDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWRpdEV2ZW50LmV2ZW50ICE9IG51bGwgJiYgZW5kTGluZSA9PSB0aGlzLmVkaXRFdmVudC5ldmVudC51dWlkICYmIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uZXZlbnQgIT0gdGhpcy5lZGl0RXZlbnQuZXZlbnQubmFtZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50W2lkeF0uZXZlbnQgPSB0aGlzLmVkaXRFdmVudC5ldmVudC5uYW1lDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsRXZlbnQoKQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWxFdmVudCgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50ID0ge2V2ZW50OiBudWxsfQ0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkRXZlbnQoKSB7DQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCiAgICAgICAgICAgIHdoaWxlIChyZXMpIHsNCiAgICAgICAgICAgICAgICBuKysNCiAgICAgICAgICAgICAgICByZXMgPSB0aGlzLmVsZW1lbnQuZXZlbnRHW3RoaXMuZXZlbnRHVGFiXS5ldmVudC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50LmlkID0gbg0KDQogICAgICAgICAgICBpZiggdGhpcy5lZGl0RXZlbnQuZXZlbnQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2V2ZW50dGFiLScrbisnLScrdGhpcy5lbGVtZW50LmV2ZW50R1t0aGlzLmV2ZW50R1RhYl0uaWQsIHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnR0YWInK3RoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmlkLCB0aGlzLmVkaXRFdmVudC5ldmVudC51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50LmV2ZW50ID0gdGhpcy5lZGl0RXZlbnQuZXZlbnQubmFtZQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmVkaXRFdmVudCkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEdbdGhpcy5ldmVudEdUYWJdLmV2ZW50LnB1c2goYWRkT2JqKTsNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsRXZlbnQoKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRFdmVudFNlbGVjdCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdGluZ0V2ZW50ID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0RXZlbnQuZXZlbnQgIT0gbnVsbCAmJiB0aGlzLmVkaXRFdmVudC5ldmVudC51dWlkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXREZXRhaWxWaWV3Jywge3V1aWQ6IHRoaXMuZWRpdEV2ZW50LmV2ZW50LnV1aWQsIGVsZW1lbnQ6IGNvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X3N0cn0gKQ0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVkaXRFdmVudC5ldmVudC51dWlkK3RoaXMubG9jYXRpb24pLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KQ0KICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWN0aXZlLWVsZW1lbnQnLCB0aGlzLmVkaXRFdmVudC5ldmVudC51dWlkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldEV2ZW50TGlzdCgpDQogICAgICAgICAgICAgICAgdGhpcy5pc0VkaXRpbmdFdmVudCA9IGZhbHNlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nRXZlbnQgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldEV2ZW50TGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsRXZlbnQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNvbWVJUEV2ZW50RGVwbG95bWVudA0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgY2xlYXJFdmVudCgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nRXZlbnQgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmVkaXRFdmVudC5ldmVudCA9IG51bGwNCiAgICAgICAgfSwNCg0KDQogICAgICAgIGNsZWFyU2VydmljZSgpIHsNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXJ2aWNlID0gbnVsbA0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlJykNCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2UnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRTZXJ2aWNlU2VsZWN0KCkgew0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlJykNCiAgICAgICAgICAgIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNlcnZpY2VJbnRlcmZhY2VQYXRoKHRoaXMuZWxlbWVudC5zZXJ2aWNlLCAwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiBlbmRMaW5lLCBlbGVtZW50OiBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX3N0cn0gKQ0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVuZExpbmUrdGhpcy5sb2NhdGlvbikuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnc3RhcnQnIH0pDQogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FjdGl2ZS1lbGVtZW50JywgZW5kTGluZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0U2VydmljZUxpc3QoKSB7DQogICAgICAgICAgICB0aGlzLnNlbFNlcnZpY2UgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNlcnZpY2VJbnRlcmZhY2UNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIHNldFNlcnZpY2UoaXRlbSkgew0KICAgICAgICAgICAgaWYoIHRoaXMuZWxlbWVudC5zZXJ2aWNlICE9IGl0ZW0ubmFtZSkgew0KICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZScpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gaXRlbS51dWlkKSB7DQogICAgICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2UnKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL+yDiOuhnCDstpTqsIDtlbTspIDri6QNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlJywgdGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlJywgaXRlbS51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXJ2aWNlID0gaXRlbS5uYW1lDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBuZXdTZXJ2aWNlKCkgew0KICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKQ0KICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKQ0KDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRTZXJ2aWNlJywgew0KICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVNlcnZpY2VJbnRlcmZhY2UsIHBhdGg6ICcnLA0KICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICB2ZXJzaW9uTWFqOicnLCB2ZXJzaW9uTWluOicnLCBuYW1lc3BhY2U6JycsIGV2ZW50czpbXSwgZmllbGRzOltdLCBtZXRob2RzOltdLCBpc3NlcnZpY2U6IG51bGwsDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZV9zdHIpDQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX3N0cikNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFNvbWVJUFNlcnZpY2UnLCB7Y29tcG86InoiLCB1dWlkOnRoaXMuZWxlbWVudC51dWlkLCB6aW5kZXg6Mn0gKQ0KICAgICAgICB9LA0KDQogICAgICAgIGlzQ2hlY2tFdmVudEQoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZUV2ZW50RCA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUV2ZW50RCA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RFdmVudEQgPSBbXQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlRXZlbnREID0gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVFdmVudEQoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZUV2ZW50RCA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RFdmVudEQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5lbGVtZW50LmV2ZW50RC5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pZCA9PSB0aGlzLmVsZW1lbnQuZXZlbnREW2ldLmlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlRXZlbnRELScrdGhpcy5lbGVtZW50LmV2ZW50RFtpXS5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlRXZlbnRELScrdGhpcy5lbGVtZW50LmV2ZW50RFtpXS5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldGVSZWZUYWJsZScsIHtkZWxldGVOYW1lOidldmVudEQnLCBkZWxldEl0ZW1MaXN0OiB0aGlzLnNlbGVjdERlbGVjdEV2ZW50RCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lfSkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZXZlbnREID0gdGhpcy5lbGVtZW50LmV2ZW50RC5maWx0ZXIoaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REZWxlY3RFdmVudEQuaW5kZXhPZihpdGVtKSA8IDAgfSkNCg0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVFdmVudEQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RXZlbnREID0gW10NCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIG9wZW5FdmVudEQoaWR4KSB7DQogICAgICAgICAgICB0aGlzLnNlbFZhcmlhYmxlRGF0YSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VmFyaWFibGVEYXRhUHJvdG90eXBlDQogICAgICAgICAgICB0aGlzLmVkaXRFdmVudEQubmFtZSA9IHRoaXMuZWxlbWVudC5ldmVudERbaWR4XS5uYW1lDQogICAgICAgICAgICBpZiAoIHRoaXMuZWxlbWVudC5ldmVudERbaWR4XS5ldmVudCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlRXZlbnRELScrdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLmlkKQ0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTZXJ2aWNlSW50ZXJmYWNlUGF0aCh0aGlzLmVsZW1lbnQuZXZlbnREW2lkeF0uZXZlbnQsIDEpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50RC5ldmVudCA9IHsgbmFtZTogdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLmV2ZW50LCB1dWlkOiBlbmRMaW5lIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50RC5pZEUgPSB0aGlzLmVsZW1lbnQuZXZlbnREW2lkeF0uaWRFDQogICAgICAgICAgICB0aGlzLmVkaXRFdmVudEQubWF4bGVuZ3RoID0gdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLm1heGxlbmd0aA0KICAgICAgICAgICAgdGhpcy5lZGl0RXZlbnRELnRpbWUgPSB0aGlzLmVsZW1lbnQuZXZlbnREW2lkeF0udGltZQ0KICAgICAgICAgICAgdGhpcy5lZGl0RXZlbnRELnNlcmlhbGl6ZXIgPSB0aGlzLmVsZW1lbnQuZXZlbnREW2lkeF0uc2VyaWFsaXplcg0KICAgICAgICAgICAgdGhpcy5lZGl0RXZlbnRELnByb3RvY2FsID0gdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLnByb3RvY2FsDQogICAgICAgIH0sDQogICAgICAgIGVkaXRFdmVudERJdGVtKGlkeCkgew0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlRXZlbnRELScrdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLmlkKQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIHRoaXMuZWRpdEV2ZW50RC5ldmVudCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZUV2ZW50RC0nK3RoaXMuZWxlbWVudC5ldmVudERbaWR4XS5pZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZXZlbnREW2lkeF0uZXZlbnQgPSBudWxsDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gdGhpcy5lZGl0RXZlbnRELmV2ZW50LnV1aWQpIHsNCiAgICAgICAgICAgICAgICAvL+q4sOyhtOq6vCDsgq3soJztlbTslbztlZzri6QgdnVleOyXkOyEnOuPhCDsgq3soJztlZjqs6AgbWFpbnZpZXfsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIA0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VFdmVudEQtJyt0aGlzLmVsZW1lbnQuZXZlbnREW2lkeF0uaWQpDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZUV2ZW50RC0nK3RoaXMuZWxlbWVudC5ldmVudERbaWR4XS5pZCwgdGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlRXZlbnREJywgdGhpcy5lZGl0RXZlbnRELmV2ZW50LnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLmV2ZW50ID0gdGhpcy5lZGl0RXZlbnRELmV2ZW50Lm5hbWUNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kTGluZSA9PSB1bmRlZmluZWQgJiYgdGhpcy5lZGl0RXZlbnRELmV2ZW50ICE9IG51bGwgJiYgdGhpcy5lZGl0RXZlbnRELmV2ZW50LnV1aWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VFdmVudEQtJyt0aGlzLmVsZW1lbnQuZXZlbnREW2lkeF0uaWQsIHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZUV2ZW50RCcsIHRoaXMuZWRpdEV2ZW50RC5ldmVudC51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudERbaWR4XS5ldmVudCA9IHRoaXMuZWRpdEV2ZW50RC5ldmVudC5uYW1lDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWRpdEV2ZW50RC5ldmVudCAhPSBudWxsICYmIGVuZExpbmUgPT0gdGhpcy5lZGl0RXZlbnRELmV2ZW50LnV1aWQgJiYgdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLmV2ZW50ICE9IHRoaXMuZWRpdEV2ZW50RC5ldmVudC5uYW1lKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLmV2ZW50ID0gdGhpcy5lZGl0RXZlbnRELmV2ZW50Lm5hbWUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5ldmVudERbaWR4XS5uYW1lICE9IHRoaXMuZWRpdEV2ZW50RC5uYW1lKXsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VOYW1lOiAnRXZlbnREJywgbGlzdG5hbWU6IHRoaXMuZWRpdEV2ZW50RC5uYW1lLCBiZWZvcmVuYW1lOnRoaXMuZWxlbWVudC5ldmVudERbaWR4XS5uYW1lfSApDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudERbaWR4XS5uYW1lID0gdGhpcy5lZGl0RXZlbnRELm5hbWUNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudERbaWR4XS5pZEUgPSB0aGlzLmVkaXRFdmVudEQuaWRFDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuZXZlbnREW2lkeF0ubWF4bGVuZ3RoID0gdGhpcy5lZGl0RXZlbnRELm1heGxlbmd0aA0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLnRpbWUgPSB0aGlzLmVkaXRFdmVudEQudGltZQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLnNlcmlhbGl6ZXIgPSB0aGlzLmVkaXRFdmVudEQuc2VyaWFsaXplcg0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RFtpZHhdLnByb3RvY2FsID0gdGhpcy5lZGl0RXZlbnRELnByb3RvY2FsDQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoaXMuY2FuY2VsRXZlbnREKCkNCiAgICAgICAgfSwNCiAgICAgICAgY2FuY2VsRXZlbnREKCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0RXZlbnREID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0RXZlbnREKQ0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkRXZlbnREKCkgew0KICAgICAgICAgICAgbGV0IHJlcyA9IHRydWUsIG4gPSAwDQogICAgICAgICAgICB3aGlsZSAocmVzKSB7DQogICAgICAgICAgICAgICAgbisrDQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lbGVtZW50LmV2ZW50RC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50RC5pZCA9IG4NCg0KICAgICAgICAgICAgaWYoIHRoaXMuZWRpdEV2ZW50RC5ldmVudCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZUV2ZW50RC0nK24sIHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZUV2ZW50RCcsIHRoaXMuZWRpdEV2ZW50RC5ldmVudC51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdEV2ZW50RC5ldmVudCA9IHRoaXMuZWRpdEV2ZW50RC5ldmVudC5uYW1lDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdEV2ZW50RCkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEQucHVzaChhZGRPYmopOw0KICAgICAgICAgICAgdGhpcy5jYW5jZWxFdmVudEQoKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRWYXJpYWJsZURhdGFTZWxlY3QoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc0VkaXRpbmdWYXJpYWJsZURhdGEgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRFdmVudEQuZXZlbnQgIT0gbnVsbCAmJiB0aGlzLmVkaXRFdmVudEQuZXZlbnQudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiB0aGlzLmVkaXRFdmVudEQuZXZlbnQudXVpZCwgZWxlbWVudDogY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9zdHJ9ICkNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lZGl0RXZlbnRELmV2ZW50LnV1aWQrdGhpcy5sb2NhdGlvbikuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnc3RhcnQnIH0pDQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhY3RpdmUtZWxlbWVudCcsIHRoaXMuZWRpdEV2ZW50RC5ldmVudC51dWlkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldFZhcmlhYmxlRGF0YUxpc3QoKQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nVmFyaWFibGVEYXRhID0gZmFsc2UNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0VkaXRpbmdWYXJpYWJsZURhdGEgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldFZhcmlhYmxlRGF0YUxpc3QoKSB7DQogICAgICAgICAgICB0aGlzLnNlbFZhcmlhYmxlRGF0YSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VmFyaWFibGVEYXRhUHJvdG90eXBlDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBjbGVhclZhcmlhYmxlRGF0YSgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nVmFyaWFibGVEYXRhID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5lZGl0RXZlbnRELmV2ZW50ID0gbnVsbA0KICAgICAgICB9LA0KDQogICAgICAgIGlzQ2hlY2tNZXRob2REKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVNZXRob2REID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlTWV0aG9kRCA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RNZXRob2REID0gW10NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZU1ldGhvZEQgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZU1ldGhvZEQoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZU1ldGhvZEQgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0TWV0aG9kRC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLmVsZW1lbnQubWV0aG9kRC5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pZCA9PSB0aGlzLmVsZW1lbnQubWV0aG9kRFtpXS5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZU1ldGhvZEQtJyt0aGlzLmVsZW1lbnQubWV0aG9kRFtpXS5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlTWV0aG9kRC0nK3RoaXMuZWxlbWVudC5tZXRob2REW2ldLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2RlbGV0ZVJlZlRhYmxlJywge2RlbGV0ZU5hbWU6J21ldGhvZEQnLCBkZWxldEl0ZW1MaXN0OiB0aGlzLnNlbGVjdERlbGVjdE1ldGhvZEQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZX0pDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZEQgPSB0aGlzLmVsZW1lbnQubWV0aG9kRC5maWx0ZXIoaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REZWxlY3RNZXRob2RELmluZGV4T2YoaXRlbSkgPCAwIH0pDQoNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlTWV0aG9kRCA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RNZXRob2REID0gW10NCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIG9wZW5NZXRob2REKGlkeCkgew0KICAgICAgICAgICAgdGhpcy5zZWxDbGllbnRTZXJ2ZXIgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENsaWVudFNlcnZlciwNCg0KICAgICAgICAgICAgdGhpcy5lZGl0TWV0aG9kRC5uYW1lID0gdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5uYW1lDQogICAgICAgICAgICBpZiAoIHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ubWV0aG9kICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VNZXRob2RELScrdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5pZCkNCiAgICAgICAgICAgICAgICBpZiAoZW5kTGluZSA9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0U2VydmljZUludGVyZmFjZVBhdGgodGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5tZXRob2QsIDMpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kID0geyBuYW1lOiB0aGlzLmVsZW1lbnQubWV0aG9kRFtpZHhdLm1ldGhvZCwgdXVpZDogZW5kTGluZX0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdE1ldGhvZEQuaWRNID0gdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5pZE0NCiAgICAgICAgICAgIHRoaXMuZWRpdE1ldGhvZEQubWF4cmVxdWVzdCA9IHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ubWF4cmVxdWVzdA0KICAgICAgICAgICAgdGhpcy5lZGl0TWV0aG9kRC5tYXhyZXNwb25zZSA9IHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ubWF4cmVzcG9uc2UNCiAgICAgICAgICAgIHRoaXMuZWRpdE1ldGhvZEQudGltZXJlcXVlc3QgPSB0aGlzLmVsZW1lbnQubWV0aG9kRFtpZHhdLnRpbWVyZXF1ZXN0DQogICAgICAgICAgICB0aGlzLmVkaXRNZXRob2RELnRpbWVyZXNwb25zZSA9IHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0udGltZXJlc3BvbnNlDQogICAgICAgICAgICB0aGlzLmVkaXRNZXRob2RELnByb3RvY2FsID0gdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5wcm90b2NhbA0KICAgICAgICB9LA0KICAgICAgICBlZGl0TWV0aG9kREl0ZW0oaWR4KSB7DQogICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VNZXRob2RELScrdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5pZCkNCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRNZXRob2RELm1ldGhvZCA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZU1ldGhvZEQtJyt0aGlzLmVsZW1lbnQubWV0aG9kRFtpZHhdLmlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ubWV0aG9kID0gbnVsbA0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCAmJiBlbmRMaW5lICE9IHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kLnV1aWQpIHsNCiAgICAgICAgICAgICAgICAvL+q4sOyhtOq6vCDsgq3soJztlbTslbztlZzri6QgdnVleOyXkOyEnOuPhCDsgq3soJztlZjqs6AgbWFpbnZpZXfsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIA0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VNZXRob2RELScrdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5pZCkNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlTWV0aG9kRC0nK3RoaXMuZWxlbWVudC5tZXRob2REW2lkeF0uaWQsIHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZU1ldGhvZEQnLCB0aGlzLmVkaXRNZXRob2RELm1ldGhvZC51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ubWV0aG9kID0gdGhpcy5lZGl0TWV0aG9kRC5tZXRob2QubmFtZQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRNZXRob2RELm1ldGhvZCAhPSBudWxsICYmIHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kLnV1aWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VNZXRob2RELScrdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5pZCwgdGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlTWV0aG9kRCcsIHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5tZXRob2QgPSB0aGlzLmVkaXRNZXRob2RELm1ldGhvZC5uYW1lDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kICE9IG51bGwgJiYgZW5kTGluZSA9PSB0aGlzLmVkaXRNZXRob2RELm1ldGhvZC51dWlkICYmIHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ubWV0aG9kICE9IHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kLm5hbWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQubWV0aG9kRFtpZHhdLm1ldGhvZCA9IHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kLm5hbWUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ubmFtZSAhPSB0aGlzLmVkaXRNZXRob2RELm5hbWUpew0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdNZXRob2REJywgbGlzdG5hbWU6IHRoaXMuZWRpdE1ldGhvZEQubmFtZSwgYmVmb3JlbmFtZTogdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5uYW1lfSApDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ubmFtZSA9IHRoaXMuZWRpdE1ldGhvZEQubmFtZQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5pZE0gPSB0aGlzLmVkaXRNZXRob2RELmlkTQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS5tYXhyZXF1ZXN0ID0gdGhpcy5lZGl0TWV0aG9kRC5tYXhyZXF1ZXN0DQogICAgICAgICAgICB0aGlzLmVsZW1lbnQubWV0aG9kRFtpZHhdLm1heHJlc3BvbnNlID0gdGhpcy5lZGl0TWV0aG9kRC5tYXhyZXNwb25zZQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZERbaWR4XS50aW1lcmVxdWVzdCA9IHRoaXMuZWRpdE1ldGhvZEQudGltZXJlcXVlc3QNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0udGltZXJlc3BvbnNlID0gdGhpcy5lZGl0TWV0aG9kRC50aW1lcmVzcG9uc2UNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tZXRob2REW2lkeF0ucHJvdG9jYWwgPSB0aGlzLmVkaXRNZXRob2RELnByb3RvY2FsDQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoaXMuY2FuY2VsTWV0aG9kRCgpDQogICAgICAgIH0sDQogICAgICAgIGNhbmNlbE1ldGhvZEQoKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRNZXRob2REID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0TWV0aG9kRCkNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIGFkZE1ldGhvZEQoKSB7DQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCiAgICAgICAgICAgIHdoaWxlIChyZXMpIHsNCiAgICAgICAgICAgICAgICBuKysNCiAgICAgICAgICAgICAgICByZXMgPSB0aGlzLmVsZW1lbnQubWV0aG9kRC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdE1ldGhvZEQuaWQgPSBuDQoNCiAgICAgICAgICAgIGlmKCB0aGlzLmVkaXRNZXRob2RELm1ldGhvZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZU1ldGhvZEQtJytuLCB0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VNZXRob2REJywgdGhpcy5lZGl0TWV0aG9kRC5tZXRob2QudXVpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRNZXRob2RELm1ldGhvZCA9IHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kLm5hbWUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0TWV0aG9kRCkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tZXRob2RELnB1c2goYWRkT2JqKTsNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsTWV0aG9kRCgpDQogICAgICAgIH0sDQogICAgICAgIHNldENsaWVudFNlcnZlclNlbGVjdCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdGluZ0NsaWVudFNlcnZlciA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdE1ldGhvZEQubWV0aG9kICE9IG51bGwgJiYgdGhpcy5lZGl0TWV0aG9kRC5tZXRob2QudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiB0aGlzLmVkaXRNZXRob2RELm1ldGhvZC51dWlkLCBlbGVtZW50OiBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX3N0cn0gKQ0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVkaXRNZXRob2RELm1ldGhvZC51dWlkK3RoaXMubG9jYXRpb24pLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KQ0KICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWN0aXZlLWVsZW1lbnQnLCB0aGlzLmVkaXRNZXRob2RELm1ldGhvZC51dWlkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldENsaWVudFNlcnZlckxpc3QoKQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nQ2xpZW50U2VydmVyID0gZmFsc2UNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0VkaXRpbmdDbGllbnRTZXJ2ZXIgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldENsaWVudFNlcnZlckxpc3QoKSB7DQogICAgICAgICAgICB0aGlzLnNlbENsaWVudFNlcnZlciA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2xpZW50U2VydmVyDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBjbGVhckNsaWVudFNlcnZlcigpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nQ2xpZW50U2VydmVyID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5lZGl0TWV0aG9kRC5tZXRob2QgPSBudWxsDQogICAgICAgIH0sDQoNCiAgICAgICAgY2xpY2tGaWVsZE5hbWUobmFtZSkgew0KICAgICAgICAgICAgdGhpcy5iZWZvcmVGaWVsZCA9IG5hbWUNCiAgICAgICAgfSwNCiAgICAgICAgY2xpY2tGaWVsZEdldE5hbWUobmFtZSkgew0KICAgICAgICAgICAgdGhpcy5iZWZvcmVHZXQgPSBuYW1lDQogICAgICAgIH0sDQogICAgICAgIGNsaWNrRmllbGRTZXROYW1lKG5hbWUpIHsNCiAgICAgICAgICAgIHRoaXMuYmVmb3JlU2V0ID0gbmFtZQ0KICAgICAgICB9LA0KICAgICAgICBjbGlja0ZpZWxkTm90TmFtZShuYW1lKSB7DQogICAgICAgICAgICB0aGlzLmJlZm9yZU5vdGkgPSBuYW1lDQogICAgICAgIH0sDQogICAgICAgIGlucHV0RmllbGROYW1lKG5hbWUpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdmaWxlTmFtZScsIGxpc3RuYW1lOiBuYW1lLCBiZWZvcmVuYW1lOiB0aGlzLmJlZm9yZUZpZWxkfSApDQogICAgICAgICAgICB0aGlzLmJlZm9yZUZpZWxkID0gbmFtZQ0KICAgICAgICB9LA0KICAgICAgICBpbnB1dEZpZWxkR2V0TmFtZShuYW1lKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VOYW1lOiAnZ2V0TmFtZScsIGxpc3RuYW1lOiBuYW1lLCBiZWZvcmVuYW1lOiB0aGlzLmJlZm9yZUdldH0gKQ0KICAgICAgICAgICAgdGhpcy5iZWZvcmVHZXQgPSBuYW1lDQogICAgICAgIH0sDQogICAgICAgIGlucHV0RmllbGRTZXROYW1lKG5hbWUpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdzZXROYW1lJywgbGlzdG5hbWU6IG5hbWUsIGJlZm9yZW5hbWU6IHRoaXMuYmVmb3JlU2V0fSApDQogICAgICAgICAgICB0aGlzLmJlZm9yZVNldCA9IG5hbWUNCiAgICAgICAgfSwNCiAgICAgICAgaW5wdXRGaWVsZE5vdE5hbWUobmFtZSkgew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VQYXRoRWxlbWVudCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBwYXRoOiB0aGlzLmVsZW1lbnQucGF0aCwgbmFtZTogdGhpcy5lbGVtZW50Lm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlTmFtZTogJ25vdE5hbWUnLCBsaXN0bmFtZTogbmFtZSwgYmVmb3JlbmFtZTogdGhpcy5iZWZvcmVOb3RpfSApDQogICAgICAgICAgICB0aGlzLmJlZm9yZU5vdGkgPSBuYW1lDQogICAgICAgIH0sDQogICAgICAgIGFkZEZpZWxkKCkgew0KICAgICAgICAgICAgY29uc3QgZWRpdEl0ZW0gPSB7bmFtZTogJycsIGZpZWxkOm51bGwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRuYW1lOiAnJyxnZXRpZDogJycsZ2V0bWF4cmVxOiAnJyxnZXRtYXhyZXM6ICcnLGdldHRpbWVyZXE6ICcnLGdldHRpbWVyZXM6ICcnLGdldHByb3RvOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmFtZTogJycsc2V0aWQ6ICcnLHNldG1heHJlcTogJycsc2V0bWF4cmVzOiAnJyxzZXR0aW1lcmVxOiAnJyxzZXR0aW1lcmVzOiAnJyxzZXRwcm90bzogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdG5hbWU6ICcnLG5vdGlkOiAnJyxub3RtYXg6ICcnLG5vdHRpbWU6ICcnLG5vdHNlcmlhbDogbnVsbCxub3Rwcm90bzogbnVsbCwgaWQ6ICcnfQ0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gbmV3IE9iamVjdChlZGl0SXRlbSkNCiAgICAgICAgICAgIGxldCByZXMgPSB0cnVlLCBuID0gMA0KDQogICAgICAgICAgICB3aGlsZSAocmVzKSB7DQogICAgICAgICAgICAgICAgYWRkT2JqLm5hbWUgPSAnRmllbGRfRGVwbG95bWVudF8nICsgbisrOw0KICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZWxlbWVudC5maWVsZEQuc29tZShlbGUgPT4gZWxlLm5hbWUgPT09IGFkZE9iai5uYW1lKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYWRkT2JqLmlkID0gbg0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpZWxkRC5wdXNoKGFkZE9iaikNCiAgICAgICAgICAgIHRoaXMuZmllbGRUYWIgPSB0aGlzLmVsZW1lbnQuZmllbGRELmxlbmd0aC0xDQogICAgICAgICAgICBpZih0aGlzLmxvY2F0aW9uID09IDEpIHsNCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2ZpZWxkJywgdGhpcy5lbGVtZW50LnV1aWQsIG51bGwpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNsaWNrRmllbGR0YWIoKSB7DQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGlkeCkNCiAgICAgICAgICAgIHRoaXMuaXNHZXRPcGVuQ2xvc2UgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmlzU2V0T3BlbkNsb3NlID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5pc05vdGlmaWVyT3BlbkNsb3NlID0gdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VGaWVsZFRhYigpIHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2NoYW5nZScrJyAvICcpDQogICAgICAgICAgICAvL+ydtOugh+qyjCDtlbTspJjslbzsp4AgdGFi7JeQIOyeiOuKlOqyg+ydhCDri6Qg6re466aw64uk7J2M7JeQIOyEoOydhCDri6Tsi5wg6re466Ck7KSE7IiY7J6I64ukLg0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmZpZWxkRC5sZW5ndGggPiAwICYmIHRoaXMubG9jYXRpb24gPT0gMSAmJiB0aGlzLmZpZWxkVGFiICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7RXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdmaWVsZCcsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmZpZWxkVGFiLCB0aGlzLmVsZW1lbnQuZmllbGREW3RoaXMuZmllbGRUYWJdLmlkKX0sIDMwMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUZpZWxkKGlkeCkgew0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9maWVsZC0nK3RoaXMuZWxlbWVudC5maWVsZERbaWR4XS5pZCkNCiAgICAgICAgICAgIGlmKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmllbGQtJyt0aGlzLmVsZW1lbnQuZmllbGREW2lkeF0uaWQpDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2RlbGV0ZVJlZlRhYmxlJywge2RlbGV0ZU5hbWU6J0ZpZWxkRCcsIGRlbGV0ZVRhYjogdHJ1ZSwgdGFiTmFtZTogdGhpcy5lbGVtZW50LmZpZWxkRFtpZHhdLm5hbWUsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRuYW1lOiB0aGlzLmVsZW1lbnQuZmllbGREW2lkeF0uZ2V0bmFtZSwgc2V0bmFtZTogdGhpcy5lbGVtZW50LmZpZWxkRFtpZHhdLnNldG5hbWUsIG5vdG5hbWU6IHRoaXMuZWxlbWVudC5maWVsZERbaWR4XS5ub3RuYW1lfSkNCg0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpZWxkRC5zcGxpY2UoaWR4LCAxKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRGaWVsZFNlbGVjdCgpIHsNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmllbGQtJyt0aGlzLmVsZW1lbnQuZmllbGREW3RoaXMuZmllbGRUYWJdLmlkKQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0U2VydmljZUludGVyZmFjZVBhdGgodGhpcy5lbGVtZW50LmZpZWxkRFt0aGlzLmZpZWxkVGFiXS5maWVsZCwgMikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldERldGFpbFZpZXcnLCB7dXVpZDogZW5kTGluZSwgZWxlbWVudDogY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9zdHJ9ICkNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbmRMaW5lK3RoaXMubG9jYXRpb24pLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KQ0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhY3RpdmUtZWxlbWVudCcsIGVuZExpbmUpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldFNlcnZpY2VSZWYoaXRlbSkgew0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpdGVtKQ0KICAgICAgICAgICAgaWYoIHRoaXMuZWxlbWVudC5maWVsZERbdGhpcy5maWVsZFRhYl0uZmllbGQgIT0gaXRlbS5uYW1lKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9maWVsZC0nK3RoaXMuZWxlbWVudC5maWVsZERbdGhpcy5maWVsZFRhYl0uaWQpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gaXRlbS51dWlkKSB7DQogICAgICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZpZWxkLScrdGhpcy5lbGVtZW50LmZpZWxkRFt0aGlzLmZpZWxkVGFiXS5pZCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy/sg4jroZwg7LaU6rCA7ZW07KSA64ukDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gaXRlbS51dWlkKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZpZWxkLScrdGhpcy5lbGVtZW50LmZpZWxkRFt0aGlzLmZpZWxkVGFiXS5pZCwgdGhpcy5lbGVtZW50LnV1aWQrJy9maWVsZHRhYicrdGhpcy5lbGVtZW50LmZpZWxkRFt0aGlzLmZpZWxkVGFiXS5pZCwgaXRlbS51dWlkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZmllbGREW3RoaXMuZmllbGRUYWJdLmZpZWxkID0gaXRlbS5uYW1lDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRGaWVsZExpc3QoKSB7DQogICAgICAgICAgICB0aGlzLnNlbEZpZWxkID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRGaWVsZA0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgY2xlYXJGaWVsZCgpIHsNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmllbGQtJyt0aGlzLmVsZW1lbnQuZmllbGREW3RoaXMuZmllbGRUYWJdLmlkKQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpZWxkRFt0aGlzLmZpZWxkVGFiXS5maWVsZCA9IG51bGwNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9maWVsZC0nK3RoaXMuZWxlbWVudC5maWVsZERbdGhpcy5maWVsZFRhYl0uaWQpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCg0KICAgICAgICBzZXRhY3RpdmVVVUlEKCkgew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXR1dWlkJywge3V1aWQ6IHRoaXMuZWxlbWVudC51dWlkfSApDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2VkaXRTb21lSVBTZXJ2aWNlJywge2NvbXBvOiJ6IiwgdXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgemluZGV4OjEwfSApDQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUxpbmUoZmluZUxpbmUpIHsNCiAgICAgICAgICAgIHZhciBsaW5lbnVtID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShmaW5lTGluZSkNCiAgICAgICAgICAgIGlmIChsaW5lbnVtICE9IC0xKSB7DQogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgbGluZW51bSkNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7c3RhcnRudW06IGxpbmVudW19ICkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbmV3TGluZShzdGFydExpbmUsIGRyYXdMaW5lLCBlbmRMaW5lKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywge3N0YXJ0OiBzdGFydExpbmUsIGVuZDogZW5kTGluZX0gKQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZHJhd0xpbmUsIGVuZExpbmUpDQogICAgICAgIH0sDQoNCiAgICAgICAgdmlld0FSWE1MKCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwubmFtZSA9IHRoaXMuZWxlbWVudC5uYW1lDQogICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5tYWp2ZXJzaW9uID0gdGhpcy5lbGVtZW50Lm1hanZlcnNpb24NCiAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLm1pbnZlcnNpb24gPSB0aGlzLmVsZW1lbnQubWludmVyc2lvbg0KICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwuaWQgPSB0aGlzLmVsZW1lbnQuaWQNCiAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLnNlcnZpY2UgPSB0aGlzLmVsZW1lbnQuc2VydmljZQ0KICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwuZXZlbnRHID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVsZW1lbnQuZXZlbnRHKSkNCiAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLmV2ZW50RCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5lbGVtZW50LmV2ZW50RCkpDQogICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5tZXRob2REID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVsZW1lbnQubWV0aG9kRCkpDQogICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5maWVsZEQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZWxlbWVudC5maWVsZEQpKQ0KICAgICAgICAgICAgdGhpcy5kaWFsb2dUZXh0PSB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHNhdmVBUlhNTCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQubmFtZSAhPSB0aGlzLmVkaXRBUlhNTC5uYW1lKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdlZGl0U29tZUlQU2VydmljZScsIHtjb21wbzoiTmFtZSIsIHV1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIG5hbWU6dGhpcy5lZGl0QVJYTUwubmFtZX0gKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWRpdEFSWE1MLm5hbWUsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VOYW1lOiAnTmFtZScsIHBhdGhMZW5ndGg6dGhpcy5lbGVtZW50LnBhdGguc3BsaXQoJy8nKS5sZW5ndGgsIGJlZm9yZW5hbWU6IHRoaXMuZWxlbWVudC5uYW1lfSApDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdEFSWE1MLm5hbWUgIT0gJycpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpc2ludG9FcnJvckxpc3QnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgbmFtZTp0aGlzLmVkaXRBUlhNTC5uYW1lLCBwYXRoOnRoaXMuZWxlbWVudC5wYXRofSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmVsZW1lbnQubmFtZSA9IHRoaXMuZWRpdEFSWE1MLm5hbWUNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tYWp2ZXJzaW9uID0gdGhpcy5lZGl0QVJYTUwubWFqdmVyc2lvbg0KICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1pbnZlcnNpb24gPSB0aGlzLmVkaXRBUlhNTC5taW52ZXJzaW9uDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuaWQgPSB0aGlzLmVkaXRBUlhNTC5pZA0KDQogICAgICAgICAgICB0aGlzLmVkaXRUYWJsZUxpc3QoKQ0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSBudWxsLCBjaGFuZ0VuZExpbmUgPSBudWxsDQoNCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRBUlhNTC5zZXJ2aWNlICE9IHRoaXMuZWxlbWVudC5zZXJ2aWNlKSB7DQogICAgICAgICAgICAgICAgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2UnKQ0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlJykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY2hhbmdFbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTZXJ2aWNlSW50ZXJmYWNlUGF0aCh0aGlzLmVkaXRBUlhNTC5zZXJ2aWNlLCAwKQ0KICAgICAgICAgICAgICAgIGlmIChjaGFuZ0VuZExpbmUgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlJywgdGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlJywgY2hhbmdFbmRMaW5lKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXJ2aWNlID0gdGhpcy5lZGl0QVJYTUwuc2VydmljZQ0KDQogICAgICAgICAgICBpZiAodGhpcy5lZGl0QVJYTUwuZXZlbnRELmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5ldmVudEQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGlzSGF2ZVRhYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LmV2ZW50RC5sZW5ndGg7IG4rKyl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmV2ZW50RFtuXS5pZCA9PSBpdGVtLmlkICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RFtuXS5ldmVudCA9PSBpdGVtLmV2ZW50ICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSGF2ZVRhYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICghaXNIYXZlVGFibGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlRXZlbnRELScraXRlbS5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VFdmVudEQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdFbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTZXJ2aWNlSW50ZXJmYWNlUGF0aChpdGVtLmV2ZW50LCAxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nRW5kTGluZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZUV2ZW50RC0nK2l0ZW0uaWQsIHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZUV2ZW50RCcsIGNoYW5nRW5kTGluZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnNlcmlhbGl6ZXIgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXJpYWxpemVyID0gaXRlbS5zZXJpYWxpemVyLnRvVXBwZXJDYXNlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEoaXRlbS5zZXJpYWxpemVyID09ICdTT01FSVAnIHx8IGl0ZW0uc2VyaWFsaXplciA9PSAnU0lHTkFMLUJBU0VEJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNlcmlhbGl6ZXIgPSBudWxsDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucHJvdG9jYWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcm90b2NhbCA9IGl0ZW0ucHJvdG9jYWwudG9VcHBlckNhc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIShpdGVtLnByb3RvY2FsID09ICdVRFAnIHx8IGl0ZW0ucHJvdG9jYWwgPT0gJ1RDUCcpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcm90b2NhbCA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgaXNIYXZlVGFibGUgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5ldmVudEQuZm9yRWFjaChlZGl0ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0LmlkID09IGl0ZW0uaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0hhdmVUYWJsZSA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0hhdmVUYWJsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VFdmVudEQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZUV2ZW50RC0nK2l0ZW0uaWQpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmV2ZW50RC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9FdmVudHRhYmxlLScraXRlbS5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VFdmVudEQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZWRpdEFSWE1MLmV2ZW50RCkpDQoNCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRBUlhNTC5tZXRob2RELmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5tZXRob2RELmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhciBpc0hhdmVUYWJsZSA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgbj0wOyBuPHRoaXMuZWxlbWVudC5tZXRob2RELmxlbmd0aDsgbisrKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQubWV0aG9kRFtuXS5pZCA9PSBpdGVtLmlkICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZERbbl0ubWV0aG9kID09IGl0ZW0ubWV0aG9kICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSGF2ZVRhYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICghaXNIYXZlVGFibGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlTWV0aG9kRC0nK2l0ZW0uaWQpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlTWV0aG9kRC0nK2l0ZW0uaWQpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ0VuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNlcnZpY2VJbnRlcmZhY2VQYXRoKGl0ZW0ubWV0aG9kLCAzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nRW5kTGluZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZU1ldGhvZEQtJytpdGVtLmlkLCB0aGlzLmVsZW1lbnQudXVpZCsnL3NlcnZpY2VNZXRob2REJywgY2hhbmdFbmRMaW5lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucHJvdG9jYWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcm90b2NhbCA9IGl0ZW0ucHJvdG9jYWwudG9VcHBlckNhc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIShpdGVtLnByb3RvY2FsID09ICdVRFAnIHx8IGl0ZW0ucHJvdG9jYWwgPT0gJ1RDUCcpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcm90b2NhbCA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZEQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGlzSGF2ZVRhYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwubWV0aG9kRC5mb3JFYWNoKGVkaXQgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXQuaWQgPT0gaXRlbS5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSGF2ZVRhYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSGF2ZVRhYmxlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZU1ldGhvZEQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvc2VydmljZU1ldGhvZEQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5tZXRob2RELmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZEQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlTWV0aG9kRC0nK2l0ZW0uaWQpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9zZXJ2aWNlTWV0aG9kRC0nK2l0ZW0uaWQpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1ldGhvZEQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZWRpdEFSWE1MLm1ldGhvZEQpKQ0KDQogICAgICAgICAgICBpZiAodGhpcy5lZGl0QVJYTUwuZmllbGRELmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5maWVsZEQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGlzSGF2ZVRhYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LmZpZWxkRC5sZW5ndGg7IG4rKyl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmZpZWxkRFtuXS5pZCA9PSBpdGVtLmlkICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpZWxkRFtuXS5maWVsZCA9PSBpdGVtLmZpZWxkICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSGF2ZVRhYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICghaXNIYXZlVGFibGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9maWVsZC0nK2l0ZW0uaWQpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9maWVsZC0nK2l0ZW0uaWQpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ0VuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNlcnZpY2VJbnRlcmZhY2VQYXRoKGl0ZW0uZmllbGQsIDIpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdFbmRMaW5lICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9maWVsZC0nK2l0ZW0uaWQsIHRoaXMuZWxlbWVudC51dWlkKycvZmllbGQnLCBjaGFuZ0VuZExpbmUpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5nZXRwcm90byAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldHByb3RvID0gaXRlbS5nZXRwcm90by50b1VwcGVyQ2FzZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBpZighKGl0ZW0uZ2V0cHJvdG8gPT0gJ1VEUCcgfHwgaXRlbS5nZXRwcm90byA9PSAnVENQJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldHByb3RvID0gbnVsbA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnNldHByb3RvICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0cHJvdG8gPSBpdGVtLnNldHByb3RvLnRvVXBwZXJDYXNlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEoaXRlbS5zZXRwcm90byA9PSAnVURQJyB8fCBpdGVtLnNldHByb3RvID09ICdUQ1AnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0cHJvdG8gPSBudWxsDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm90cHJvdG8gIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5ub3Rwcm90byA9IGl0ZW0ubm90cHJvdG8udG9VcHBlckNhc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIShpdGVtLm5vdHByb3RvID09ICdVRFAnIHx8IGl0ZW0ubm90cHJvdG8gPT0gJ1RDUCcpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5ub3Rwcm90byA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub3RzZXJpYWwgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5ub3RzZXJpYWwgPSBpdGVtLm5vdHNlcmlhbC50b1VwcGVyQ2FzZSgpDQogICAgICAgICAgICAgICAgICAgICAgICBpZighKGl0ZW0ubm90c2VyaWFsID09ICdTT01FSVAnIHx8IGl0ZW0ubm90c2VyaWFsID09ICdTSUdOQUwtQkFTRUQnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubm90c2VyaWFsID0gbnVsbA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZmllbGRELmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhciBpc0hhdmVUYWJsZSA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLmZpZWxkRC5mb3JFYWNoKGVkaXQgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXQuaWQgPT0gaXRlbS5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSGF2ZVRhYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSGF2ZVRhYmxlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmllbGQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmllbGQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5maWVsZEQubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZmllbGRELmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmllbGQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmllbGQtJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5maWVsZEQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZWRpdEFSWE1MLmZpZWxkRCkpDQoNCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRBUlhNTC5ldmVudEcubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLmV2ZW50Ry5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICBpdGVtLmV2ZW50LmZvckVhY2goZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNIYXZlVGFibGUgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50Ry5mb3JFYWNoKGV2ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldi5ldmVudC5mb3JFYWNoKGV2ZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmUuaWQgPT0gZGF0YS5pZCAmJiBldmUuZXZlbnQgPT0gZGF0YS5ldmVudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNIYXZlVGFibGUgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNIYXZlVGFibGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnR0YWItJytkYXRhLmlkKyctJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9ldmVudHRhYi0nK2RhdGEuaWQrJy0nK2l0ZW0uaWQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nRW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0U29tZUlQRXZlbnREZXBsb3ltZW50UGF0aChkYXRhLmV2ZW50KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ0VuZExpbmUgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9ldmVudHRhYi0nK2RhdGEuaWQrJy0nK2l0ZW0uaWQsIHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnQnLCBjaGFuZ0VuZExpbmUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50Ry5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICBpdGVtLmV2ZW50LmZvckVhY2goZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNIYXZlVGFibGUgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwuZXZlbnRHLmZvckVhY2goZWRpdCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdC5ldmVudC5mb3JFYWNoKGVkaXRFID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRFLmlkID09IGRhdGEuaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSGF2ZVRhYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSGF2ZVRhYmxlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2V2ZW50dGFiLScrZGF0YS5pZCsnLScraXRlbS5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnR0YWItJytkYXRhLmlkKyctJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmV2ZW50Ry5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5ldmVudEcuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZXZlbnQuZm9yRWFjaChkYXRhID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ldmVudCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZXZlbnR0YWItJytkYXRhLmlkKyctJytpdGVtLmlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2V2ZW50dGFiLScrZGF0YS5pZCsnLScraXRlbS5pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5lZGl0QVJYTUwuZXZlbnRHKSkNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsQVJYTUwoKQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0VGFibGVMaXN0KCkgew0KICAgICAgICAgICAgdmFyIGRlbGV0ZUl0ZW0gPSBbXQ0KICAgICAgICAgICAgaWYgKHRoaXMuZWRpdEFSWE1MLmV2ZW50RC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgZGVsZXRlSXRlbSA9IFtdDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50RC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgaXNFeGlzdGVuY2UgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5ldmVudEQuZm9yRWFjaChkYXRhID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmlkID09IGl0ZW0uaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0V4aXN0ZW5jZSA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5uYW1lICE9IGl0ZW0ubmFtZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlTmFtZTogJ0V2ZW50RCcsIGxpc3RuYW1lOiBkYXRhLm5hbWUsIGJlZm9yZW5hbWU6IGl0ZW0ubmFtZX0gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0V4aXN0ZW5jZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlSXRlbS5wdXNoKGl0ZW0pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGlmIChkZWxldGVJdGVtLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2RlbGV0ZVJlZlRhYmxlJywge2RlbGV0ZU5hbWU6J2V2ZW50RCcsIGRlbGV0SXRlbUxpc3Q6IGRlbGV0ZUl0ZW0sIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZX0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmV2ZW50RC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlUmVmVGFibGUnLCB7ZGVsZXRlTmFtZTonZXZlbnREJywgZGVsZXRJdGVtTGlzdDogdGhpcy5lbGVtZW50LmV2ZW50RCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRBUlhNTC5tZXRob2RELmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBkZWxldGVJdGVtID0gW10NCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQubWV0aG9kRC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgaXNFeGlzdGVuY2UgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5tZXRob2RELmZvckVhY2goZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5pZCA9PSBpdGVtLmlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNFeGlzdGVuY2UgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubmFtZSAhPSBpdGVtLm5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VQYXRoRWxlbWVudCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBwYXRoOiB0aGlzLmVsZW1lbnQucGF0aCwgbmFtZTogdGhpcy5lbGVtZW50Lm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdNZXRob2REJywgbGlzdG5hbWU6IGRhdGEubmFtZSwgYmVmb3JlbmFtZTogaXRlbS5uYW1lfSApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRXhpc3RlbmNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVJdGVtLnB1c2goaXRlbSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgaWYgKGRlbGV0ZUl0ZW0ubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlUmVmVGFibGUnLCB7ZGVsZXRlTmFtZTonbWV0aG9kRCcsIGRlbGV0SXRlbUxpc3Q6IGRlbGV0ZUl0ZW0sIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZX0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50Lm1ldGhvZEQubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2RlbGV0ZVJlZlRhYmxlJywge2RlbGV0ZU5hbWU6J21ldGhvZEQnLCBkZWxldEl0ZW1MaXN0OiB0aGlzLmVsZW1lbnQubWV0aG9kRCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRBUlhNTC5maWVsZEQubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5maWVsZEQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGlzSGF2ZVRhYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwuZmllbGRELmZvckVhY2goZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5pZCA9PSBpdGVtLmlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNIYXZlVGFibGUgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubmFtZSAhPSBpdGVtLm5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VQYXRoRWxlbWVudCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBwYXRoOiB0aGlzLmVsZW1lbnQucGF0aCwgbmFtZTogdGhpcy5lbGVtZW50Lm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdmaWxlTmFtZScsIGxpc3RuYW1lOiBkYXRhLm5hbWUsIGJlZm9yZW5hbWU6IGl0ZW0ubmFtZX0gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5nZXRuYW1lICE9IGl0ZW0uZ2V0bmFtZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlTmFtZTogJ2dldE5hbWUnLCBsaXN0bmFtZTogZGF0YS5nZXRuYW1lLCBiZWZvcmVuYW1lOiBpdGVtLmdldG5hbWV9ICkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc2V0bmFtZSAhPSBpdGVtLnNldG5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VQYXRoRWxlbWVudCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBwYXRoOiB0aGlzLmVsZW1lbnQucGF0aCwgbmFtZTogdGhpcy5lbGVtZW50Lm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWU6ICdzZXROYW1lJywgbGlzdG5hbWU6IGRhdGEuc2V0bmFtZSwgYmVmb3JlbmFtZTogaXRlbS5zZXRuYW1lfSApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vdG5hbWUgIT0gaXRlbS5ub3RuYW1lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VOYW1lOiAnbm90TmFtZScsIGxpc3RuYW1lOiBkYXRhLm5vdG5hbWUsIGJlZm9yZW5hbWU6IGl0ZW0ubm90bmFtZX0gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0hhdmVUYWJsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldGVSZWZUYWJsZScsIHtkZWxldGVOYW1lOidGaWVsZEQnLCBkZWxldGVUYWI6IHRydWUsIHRhYk5hbWU6IGl0ZW0ubmFtZSwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldG5hbWU6IGl0ZW0uZ2V0bmFtZSwgc2V0bmFtZTogaXRlbS5zZXRuYW1lLCBub3RuYW1lOiBpdGVtLm5vdG5hbWV9KQ0KDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmZpZWxkRC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5maWVsZEQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlUmVmVGFibGUnLCB7ZGVsZXRlTmFtZTonRmllbGREJywgZGVsZXRlVGFiOiB0cnVlLCB0YWJOYW1lOiBpdGVtLm5hbWUsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRuYW1lOiBpdGVtLmdldG5hbWUsIHNldG5hbWU6IGl0ZW0uc2V0bmFtZSwgbm90bmFtZTogaXRlbS5ub3RuYW1lfSkNCg0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHRoaXMuZWRpdEFSWE1MLmV2ZW50Ry5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50Ry5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgaXNIYXZlVGFibGUgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5ldmVudEcuZm9yRWFjaChkYXRhID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmlkID09IGl0ZW0uaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0hhdmVUYWJsZSA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5uYW1lICE9IGl0ZW0ubmFtZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlTmFtZTogJ0V2ZW50RycsIGxpc3RuYW1lOiBkYXRhLm5hbWUsIGJlZm9yZW5hbWU6IGl0ZW0ubmFtZX0gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0hhdmVUYWJsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldGVSZWZUYWJsZScsIHtkZWxldGVOYW1lOidldmVudEcnLCBkZWxldGVUYWI6IHRydWUsIHRhYk5hbWU6IGl0ZW0ubmFtZSwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuZXZlbnRHLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV2ZW50Ry5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldGVSZWZUYWJsZScsIHtkZWxldGVOYW1lOidldmVudEcnLCBkZWxldGVUYWI6IHRydWUsIHRhYk5hbWU6IGl0ZW0ubmFtZSwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lfSkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNhbmNlbEFSWE1MKCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwgPSB7bmFtZTonJywgc2VydmljZTogbnVsbCwgbWFqdmVyc2lvbjonJywgbWludmVyc2lvbjonJywgaWQ6ICcnLCBldmVudEc6W10sIGV2ZW50RDogW10sIG1ldGhvZEQ6W10sIGZpZWxkRDpbXX0NCiAgICAgICAgICAgIHRoaXMuZWRpdFRleHRFdmVudEQgPSB7bmFtZTonJywgZXZlbnQ6IG51bGwsIGlkRTonJywgbWF4bGVuZ3RoOicnLCB0aW1lOicnLCBzZXJpYWxpemVyOm51bGwsIHByb3RvY2FsOm51bGwsIGlkOiAnJ30NCiAgICAgICAgICAgIHRoaXMuZWRpdFRleHRNZXRob2QgPSB7bmFtZTonJywgbWV0aG9kOiBudWxsLCBpZE06JycsIG1heHJlcXVlc3Q6JycsIG1heHJlc3BvbnNlOicnLCB0aW1lcmVxdWVzdDonJywgdGltZXJlc3BvbnNlOicnLCBwcm90b2NhbDpudWxsLCBpZDogJyd9DQogICAgICAgICAgICB0aGlzLmVkaXRUZXh0RmllbGQgPSB7bmFtZTogJycsIGZpZWxkOm51bGwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRuYW1lOiAnJyxnZXRpZDogJycsZ2V0bWF4cmVxOiAnJyxnZXRtYXhyZXM6ICcnLGdldHRpbWVyZXE6ICcnLGdldHRpbWVyZXM6ICcnLGdldHByb3RvOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmFtZTogJycsc2V0aWQ6ICcnLHNldG1heHJlcTogJycsc2V0bWF4cmVzOiAnJyxzZXR0aW1lcmVxOiAnJyxzZXR0aW1lcmVzOiAnJyxzZXRwcm90bzogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdG5hbWU6ICcnLG5vdGlkOiAnJyxub3RtYXg6ICcnLG5vdHRpbWU6ICcnLG5vdHNlcmlhbDogbnVsbCxub3Rwcm90bzogbnVsbCwgaWQ6ICcnfQ0KICAgICAgICAgICAgdGhpcy5lZGl0VGV4dEV2ZW50RyA9IHtuYW1lOiAnJywgaWRHOiAnJywgZXZlbnQ6IFtdLCBpZDogJyd9DQogICAgICAgICAgICB0aGlzLmVkaXRUZXh0RXZlbnRSZWYgPSB7IGV2ZW50OiBudWxsLCBpZDogJyd9DQogICAgICAgICAgICB0aGlzLmRpYWxvZ1RleHQgPSBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICBuZXdUZXh0TWV0aG9kKCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0VGV4dE1ldGhvZCA9IHtuYW1lOicnLCBtZXRob2Q6IG51bGwsIGlkTTonJywgbWF4cmVxdWVzdDonJywgbWF4cmVzcG9uc2U6JycsIHRpbWVyZXF1ZXN0OicnLCB0aW1lcmVzcG9uc2U6JycsIHByb3RvY2FsOm51bGwsIGlkOiAnJ30NCiAgICAgICAgICAgIGxldCByZXMgPSB0cnVlLCBuID0gMA0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgICBuKys7DQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lZGl0QVJYTUwubWV0aG9kRC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdFRleHRNZXRob2QuaWQgPSBuDQoNCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdFRleHRNZXRob2QpDQogICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5tZXRob2RELnB1c2goYWRkT2JqKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRUZXh0TWV0aG9kKGlkeCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwubWV0aG9kRC5zcGxpY2UoaWR4LDEpDQogICAgICAgIH0sDQogICAgICAgIG5ld1RleHRFdmVudEQoKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRUZXh0RXZlbnREID0ge25hbWU6ICcnLCB0eXBlOiBudWxsLCBpZDogJyd9DQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCiAgICAgICAgICAgIHdoaWxlIChyZXMpIHsNCiAgICAgICAgICAgICAgICBuKys7DQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lZGl0QVJYTUwuZXZlbnRELnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBuKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5lZGl0VGV4dEV2ZW50RC5pZCA9IG4NCg0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0VGV4dEV2ZW50RCkNCiAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLmV2ZW50RC5wdXNoKGFkZE9iaik7DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0VGV4dEV2ZW50RChpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLmV2ZW50RC5zcGxpY2UoaWR4LDEpDQogICAgICAgIH0sDQogICAgICAgIG5ld1RleHRGaWVsZCgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdFRleHRGaWVsZCA9IHtuYW1lOiAnJywgZmllbGQ6bnVsbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldG5hbWU6ICcnLGdldGlkOiAnJyxnZXRtYXhyZXE6ICcnLGdldG1heHJlczogJycsZ2V0dGltZXJlcTogJycsZ2V0dGltZXJlczogJycsZ2V0cHJvdG86IG51bGwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRuYW1lOiAnJyxzZXRpZDogJycsc2V0bWF4cmVxOiAnJyxzZXRtYXhyZXM6ICcnLHNldHRpbWVyZXE6ICcnLHNldHRpbWVyZXM6ICcnLHNldHByb3RvOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90bmFtZTogJycsbm90aWQ6ICcnLG5vdG1heDogJycsbm90dGltZTogJycsbm90c2VyaWFsOiBudWxsLG5vdHByb3RvOiBudWxsLCBpZDogJyd9DQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCiAgICAgICAgICAgIHdoaWxlIChyZXMpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRUZXh0RmllbGQubmFtZSA9ICdGaWVsZF9EZXBsb3ltZW50XycrbisrOw0KICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZWRpdEFSWE1MLmZpZWxkRC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdFRleHRGaWVsZC5pZCA9IG4NCg0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0VGV4dEZpZWxkKQ0KICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwuZmllbGRELnB1c2goYWRkT2JqKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRUZXh0RmllbGQoaWR4KSB7DQogICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5maWVsZEQuc3BsaWNlKGlkeCwxKQ0KICAgICAgICB9LA0KICAgICAgICBuZXdUZXh0RXZlbnRHKCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0VGV4dEV2ZW50RyA9IHtuYW1lOiAnJywgaWRHOiAnJywgZXZlbnQ6IFtdLCBpZDogJyd9DQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCiAgICAgICAgICAgIHdoaWxlIChyZXMpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRUZXh0RXZlbnRHLm5hbWUgPSAnRXZlbnQgR3JvdXBfJyArIG4rKw0KICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZWRpdEFSWE1MLmV2ZW50Ry5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdFRleHRFdmVudEcuaWQgPSBuDQoNCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdFRleHRFdmVudEcpDQogICAgICAgICAgICB0aGlzLmVkaXRBUlhNTC5ldmVudEcucHVzaChhZGRPYmopOw0KICAgICAgICB9LA0KICAgICAgICBkZWxldFRleHRFdmVudEcoaWR4LCApIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLmV2ZW50Ry5zcGxpY2UoaWR4LDEpDQogICAgICAgIH0sDQogICAgICAgIG5ld1RleHRFdmVudFIoaWR4RXZlbnRHKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRUZXh0RXZlbnRSZWYgPSB7ZXZlbnQ6IG51bGwsIGlkOiAnJ30NCiAgICAgICAgICAgIGxldCByZXMgPSB0cnVlLCBuID0gMA0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgIG4rKzsNCiAgICAgICAgICAgICAgICByZXMgPSB0aGlzLmVkaXRBUlhNTC5ldmVudEdbaWR4RXZlbnRHXS5ldmVudC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdFRleHRFdmVudFJlZi5pZCA9IG4NCg0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0VGV4dEV2ZW50UmVmKQ0KICAgICAgICAgICAgdGhpcy5lZGl0QVJYTUwuZXZlbnRHW2lkeEV2ZW50R10uZXZlbnQucHVzaChhZGRPYmopOw0KICAgICAgICB9LA0KICAgICAgICBkZWxldFRleHRFdmVudFIoaWR4LCBpZHhFdmVudEcpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdEFSWE1MLmV2ZW50R1tpZHhFdmVudEddLmV2ZW50LnNwbGljZShpZHgsMSkNCiAgICAgICAgfSwNCg0KICAgIH0sDQoNCn0NCg=="},{"version":3,"sources":["SomeIPService.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkzBA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"SomeIPService.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div :id=\"element.uuid\">\r\n        <v-container>\r\n            <v-tooltip bottom color=\"success\" :disabled=\"isTooltip\" z-index=\"10\">\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-card outlined :color=\"minimaptoolbar ? null : colorToolbar\" v-bind=\"attrs\" v-on=\"on\">\r\n                        <v-toolbar v-if=\"!isDatailView && zoomvalue > $setZoominElement\" :color=colorToolbar dark hide-on-scroll height=\"30px\" class=\"drag-handle\">\r\n                            <v-hover v-if=\"minimaptoolbar\" v-slot=\"{ hover }\">\r\n                                <v-btn icon @click=\"showSomeIPService\">\r\n                                    <v-icon>{{ iselementOpenClose ? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                </v-btn>\r\n                            </v-hover>\r\n                            <v-btn v-if=\"minimaptoolbar\" icon @click.stop=\"dialogPath=true\">\r\n                                <v-icon> mdi-routes</v-icon>\r\n                            </v-btn>\r\n                            <dialogPathSetting v-model=\"dialogPath\" :path=\"element.path\" @submit=\"submitDialog\"/>\r\n                            <v-toolbar-title>SomeIP Service Interface Deployment</v-toolbar-title>\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn v-if=\"minimaptoolbar\" icon @click=\"viewARXML\">\r\n                                <v-icon> mdi-format-text</v-icon>\r\n                            </v-btn>\r\n                        </v-toolbar>\r\n                        <v-toolbar v-else-if=\"zoomvalue < $setZoominElement\" :color=colorToolbar dark hide-on-scroll height=\"50px\" class=\"drag-handle\">\r\n                            <v-toolbar-title>{{ element.name }}</v-toolbar-title>\r\n                        </v-toolbar>\r\n                        <v-toolbar v-else hide-on-scroll dense flat>\r\n                            <v-toolbar-title>SomeIP Service Interface Deployment</v-toolbar-title>\r\n                        </v-toolbar>\r\n                        <v-card-text v-show=\"iselementOpenClose && zoomvalue > $setZoominElement\">\r\n                            <v-text-field v-model=\"element.name\" :label=\"'name  <'+element.path +'>'\" :rules=\"rules.name\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\"\r\n                                        @input='inputSomeIPServiceName' @click=\"clickSomeIPServiceName()\" outlined dense></v-text-field>\r\n                            <v-row>\r\n                                <v-col cols=\"10\">\r\n                                    <v-text-field v-model=\"element.service\" readonly @click=\"setServiceSelect()\" clearable @click:clear='clearService()' label=\"Service Interface Reference\" style=\"height:25px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"2\">\r\n                                    <v-menu>\r\n                                        <template v-slot:activator=\"{ on, attrs }\">\r\n                                            <v-btn color=\"deep-purple accent-4\" :id=\"element.uuid+'/service'\" dark icon v-bind=\"attrs\" v-on=\"on\" @click=\"setServiceList()\">\r\n                                                <v-icon>mdi-menu-down-outline</v-icon>\r\n                                            </v-btn>\r\n                                        </template>\r\n                                        <v-list>\r\n                                            <v-list-item v-for=\"(item, i) in selService\" :key=\"i\" link @click=\"setService(item)\">\r\n                                                <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                                            </v-list-item>\r\n                                            <v-btn outlined color=\"indigo\" dense text small block @click=\"newService\" >\r\n                                                <v-icon >mdi-plus</v-icon>New Item\r\n                                            </v-btn>\r\n                                        </v-list>\r\n                                    </v-menu>\r\n                                </v-col>\r\n                            </v-row>\r\n                            <v-text-field v-model=\"element.id\" label=\"Service Interface ID\" placeholder=\"Int\" style=\"height: 45px;margin:10px 0 0 0;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                            <v-row>\r\n                                <v-col col=\"6\">\r\n                                <v-text-field v-model=\"element.majversion\" label=\"Major Version\" placeholder=\"number.number\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                </v-col>\r\n                                <v-col col=\"6\">\r\n                                <v-text-field v-model=\"element.minversion\" label=\"Minor Version\" placeholder=\"number.number\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                </v-col>\r\n                            </v-row>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/event'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showEventG\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isEventGOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Event Groups\r\n                                    <v-btn v-if=\"isEventGOpenClose\" @click=\"addEventG()\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-plus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-show=\"isEventGOpenClose\">\r\n                                    <v-tabs v-model='eventGTab' height=\"30px\" show-arrows @change=\"changeEventGTab()\">\r\n                                        <v-tab v-for=\"(tab, idx) in element.eventG\" :key=\"idx\" @click=\"clickEventGtab()\"> \r\n                                            {{tab.name}}\r\n                                            <v-btn text x-small @click=\"deleteEventG(idx)\"><v-icon x-small>mdi-close</v-icon></v-btn></v-tab>\r\n                                    </v-tabs>\r\n                                    <v-tabs-items v-model=\"eventGTab\">\r\n                                        <v-tab-item v-for=\"(tab, idx) in element.eventG\" :key=\"idx\">\r\n                                            <v-card flat>\r\n                                                <v-card-text>\r\n                                                    <v-text-field v-model=\"tab.name\" :rules=\"rules.name\" label=\"Name\" @input=\"inputEventGName(tab.name)\" @click=\"clickEventGName(tab.name)\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                    <v-text-field v-model=\"tab.idG\" label=\"Group Id\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                    <v-card outlined class=\"mx-auto\">\r\n                                                        <div class=\"subtitle-2\" style=\"height:20px\" :id=\"element.uuid+'/eventtab'+tab.id\">\r\n                                                            <v-hover v-slot=\"{ hover }\">\r\n                                                                <v-btn text @click=\"showEvent\" x-small color=\"indigo\">\r\n                                                                    <v-icon>{{ isEventOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                                </v-btn>\r\n                                                            </v-hover>\r\n                                                            Event Reference\r\n                                                            <v-btn @click=\"isCheckEvent\" text x-small color=\"indigo\" v-if=\"isEventOpenClose\">\r\n                                                                <v-icon>mdi-check</v-icon>\r\n                                                            </v-btn>\r\n                                                            <v-btn v-if=\"isEventOpenClose && isdeleteEvent\" @click=\"deleteEvent\" text x-small color=\"indigo\">\r\n                                                                <v-icon>mdi-minus</v-icon>\r\n                                                            </v-btn>\r\n                                                        </div>\r\n                                                        <v-card-text v-show=\"isEventOpenClose\">\r\n                                                            <v-data-table v-model=\"selectDelectEvent\" :headers=\"headerEvent\" :items=\"tab.event\" :items-per-page='20'\r\n                                                                    :show-select=\"isdeleteEvent\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                                                <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                                                    <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                                                </template>\r\n                                                                <template v-if=\"!isdeleteEvent\" v-slot:body=\"{ items, headers }\">\r\n                                                                    <tbody>\r\n                                                                        <tr v-for=\"(item,num) in items\" :key=\"num\">\r\n                                                                            <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                                                <v-edit-dialog persistent @open=\"openEvent(num)\" @cancel=\"cancelEvent\" @save=\"editEventItem(num)\" large >\r\n                                                                                    {{item[header.value]}}\r\n                                                                                    <template v-slot:input>\r\n                                                                                        <br>\r\n                                                                                        <v-autocomplete v-model='editEvent.event' label='Event Reference' :items='selEvent' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                                            return-object :readonly=\"!isEditingEvent\" clearable @click=\"setEventSelect()\" \r\n                                                                                            @click:clear='clearEvent' @blur=\"isEditingEvent=true\" outlined dense style=\"height: 45px;\">\r\n                                                                                        </v-autocomplete>\r\n                                                                                    </template>\r\n                                                                                </v-edit-dialog>\r\n                                                                            </td>\r\n                                                                        </tr>\r\n                                                                        <tr>\r\n                                                                            <th colspan=\"3\">\r\n                                                                                <v-edit-dialog  large persistent @cancel=\"cancelEvent\" @save=\"addEvent()\"> \r\n                                                                                    <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                                        <v-icon >mdi-plus</v-icon>New Item\r\n                                                                                    </v-btn>\r\n                                                                                    <template v-slot:input>\r\n                                                                                        <br>\r\n                                                                                        <v-autocomplete v-model='editEvent.event' label='Event Reference' :items='selEvent' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                                            return-object :readonly=\"!isEditingEvent\" clearable @click=\"setEventSelect()\" \r\n                                                                                            @click:clear='clearEvent' @blur=\"isEditingEvent=true\" outlined dense style=\"height: 45px;\">\r\n                                                                                        </v-autocomplete>\r\n                                                                                    </template>\r\n                                                                                </v-edit-dialog>\r\n                                                                            </th>\r\n                                                                        </tr>\r\n                                                                    </tbody>\r\n                                                                </template>\r\n                                                            </v-data-table>\r\n                                                        </v-card-text>\r\n                                                    </v-card>\r\n                                                </v-card-text>\r\n                                            </v-card>\r\n                                        </v-tab-item>\r\n                                    </v-tabs-items>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/serviceEventD'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showEventD\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isEventDOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Event Deployments\r\n                                    <v-btn @click=\"isCheckEventD\" text x-small color=\"indigo\" v-if=\"isEventDOpenClose\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isEventDOpenClose && isdeleteEventD\" @click=\"deleteEventD\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-show=\"isEventDOpenClose\">\r\n                                    <v-data-table v-model=\"selectDelectEventD\" :headers=\"headerEventD\" :items=\"element.eventD\" :items-per-page='20'\r\n                                            :show-select=\"isdeleteEventD\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteEventD\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent @open=\"openEventD(idx)\" @cancel=\"cancelEventD\" @save=\"editEventDItem(idx)\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-text-field v-model=\"editEventD.name\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-autocomplete v-model='editEventD.event' label='Event Reference' :items='selVariableData' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingVariableData\" clearable @click=\"setVariableDataSelect()\" \r\n                                                                            @click:clear='clearVariableData' @blur=\"isEditingVariableData=true\" outlined dense style=\"height: 45px;\">\r\n                                                                </v-autocomplete>\r\n                                                                <v-text-field v-model=\"editEventD.idE\" label=\"Event ID\" placeholder=\"Int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editEventD.maxlength\" label=\"Maximum Segment Length\" placeholder=\"Int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editEventD.time\" label=\"Separation Time\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editEventD.serializer\" clearable :items=\"selectSerializer\" label=\"Serializer\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-select v-model=\"editEventD.protocal\" clearable :items=\"selectProtocal\" label=\"Transport Protocal\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent @cancel=\"cancelEventD\" @save=\"addEventD()\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                <v-icon >mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-text-field v-model=\"editEventD.name\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-autocomplete v-model='editEventD.event' label='Event Reference' :items='selVariableData' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingVariableData\" clearable @click=\"setVariableDataSelect()\" \r\n                                                                            @click:clear='clearVariableData' @blur=\"isEditingVariableData=true\" outlined dense style=\"height: 45px;\">\r\n                                                                </v-autocomplete>\r\n                                                                <v-text-field v-model=\"editEventD.idE\" label=\"Event ID\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editEventD.maxlength\" label=\"Maximum Segment Length\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editEventD.time\" label=\"Separation Time\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editEventD.serializer\" clearable :items=\"selectSerializer\" label=\"Serializer\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-select v-model=\"editEventD.protocal\" clearable :items=\"selectProtocal\" label=\"Transport Protocal\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/serviceMethodD'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showMethodD\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isMethodDOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Method Deployments\r\n                                    <v-btn @click=\"isCheckMethodD\" text x-small color=\"indigo\" v-if=\"isMethodDOpenClose\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isMethodDOpenClose && isdeleteMethodD\" @click=\"deleteMethodD\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-show=\"isMethodDOpenClose\">\r\n                                    <v-data-table v-model=\"selectDelectMethodD\" :headers=\"headerMethodD\" :items=\"element.methodD\" :items-per-page='20'\r\n                                            :show-select=\"isdeleteMethodD\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteMethodD\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent @open=\"openMethodD(idx)\" @cancel=\"cancelMethodD\" @save=\"editMethodDItem(idx)\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-text-field v-model=\"editMethodD.name\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-autocomplete v-model='editMethodD.method' label='Method Reference' :items='selClientServer' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingClientServer\" clearable @click=\"setClientServerSelect()\" \r\n                                                                            @click:clear='clearClientServer' @blur=\"isEditingClientServer=true\" outlined dense style=\"height: 45px;\">\r\n                                                                </v-autocomplete>\r\n                                                                <v-text-field v-model=\"editMethodD.idM\" label=\"Method ID\" placeholder=\"Int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editMethodD.maxrequest\" label=\"Maximum Segment Length Request\" placeholder=\"Int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editMethodD.maxresponse\" label=\"Maximum Segment Length Response\" placeholder=\"Int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editMethodD.timerequest\" label=\"Separation Time Request\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editMethodD.timeresponse\" label=\"Separation Time Response\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editMethodD.protocal\" clearable :items=\"selectProtocal\" label=\"Transport Protocal\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent @cancel=\"cancelMethodD\" @save=\"addMethodD()\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                <v-icon >mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-text-field v-model=\"editMethodD.name\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-autocomplete v-model='editMethodD.method' label='Method Reference' :items='selClientServer' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingClientServer\" clearable @click=\"setClientServerSelect()\" \r\n                                                                            @click:clear='clearClientServer' @blur=\"isEditingClientServer=true\" outlined dense style=\"height: 45px;\">\r\n                                                                </v-autocomplete>\r\n                                                                <v-text-field v-model=\"editMethodD.idM\" label=\"Method ID\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editMethodD.maxrequest\" label=\"Maximum Segment Length Request\" placeholder=\"Int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editMethodD.maxresponse\" label=\"Maximum Segment Length Response\" placeholder=\"Int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editMethodD.timerequest\" label=\"Separation Time Request\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-text-field v-model=\"editMethodD.timeresponse\" label=\"Separation Time Response\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editMethodD.protocal\" clearable :items=\"selectProtocal\" label=\"Transport Protocal\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/field'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showFieldD\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isFieldDOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Field Deployments \r\n                                    <v-btn v-if=\"isFieldDOpenClose\" @click=\"addField\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-plus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-show=\"isFieldDOpenClose\">\r\n                                    <v-tabs v-model='fieldTab' height=\"30px\" show-arrows @change=\"changeFieldTab()\">\r\n                                        <v-tab v-for=\"(tab, idx) in element.fieldD\" :key=\"idx\" @click=\"clickFieldtab()\" > \r\n                                            {{tab.name}}\r\n                                            <v-btn text x-small @click=\"deleteField(idx)\"><v-icon x-small>mdi-close</v-icon></v-btn></v-tab>\r\n                                    </v-tabs>\r\n                                    <v-tabs-items v-model=\"fieldTab\">\r\n                                        <v-tab-item v-for=\"(tab, idx) in element.fieldD\" :key=\"idx\">\r\n                                            <v-card flat>\r\n                                                <v-card-text>\r\n                                                    <v-text-field v-model=\"tab.name\" @input=\"inputFieldName(tab.name)\" @click=\"clickFieldName(tab.name)\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                    <v-row style=\"height: 70px\">\r\n                                                        <v-col cols=\"10\">\r\n                                                            <v-text-field v-model=\"tab.field\" readonly @click=\"setFieldSelect()\" clearable @click:clear='clearField()' label=\"Field Reference\" style=\"height:25px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                        </v-col>\r\n                                                        <v-col cols=\"2\">\r\n                                                            <v-menu>\r\n                                                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                                                    <v-btn color=\"deep-purple accent-4\" :id=\"element.uuid+'/fieldtab'+tab.id\" icon v-bind=\"attrs\" v-on=\"on\" @click=\"setFieldList()\">\r\n                                                                        <v-icon>mdi-menu-down-outline</v-icon>\r\n                                                                    </v-btn>\r\n                                                                </template>\r\n                                                                <v-list >\r\n                                                                    <v-list-item v-for=\"(item, i) in selField\" :key=\"i\" link @click=\"setServiceRef(item)\">\r\n                                                                        <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                                                                    </v-list-item>\r\n                                                                    <v-list-item v-if=\"selField.length == 0\">\r\n                                                                        <v-list-item-title>No Data Available</v-list-item-title>\r\n                                                                    </v-list-item>\r\n                                                                </v-list>\r\n                                                            </v-menu>\r\n                                                        </v-col>\r\n                                                    </v-row>\r\n                                                    <v-card outlined class=\"mx-auto\">\r\n                                                        <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                                            <v-hover v-slot=\"{ hover }\">\r\n                                                                <v-btn text @click=\"showGet\" x-small color=\"indigo\">\r\n                                                                    <v-icon>{{ isGetOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                                </v-btn>\r\n                                                            </v-hover>\r\n                                                            Get\r\n                                                        </div>\r\n                                                        <v-card-text v-if=\"isGetOpenClose\">\r\n                                                            <v-text-field v-model=\"tab.getname\" @input=\"inputFieldGetName(tab.getname)\" @click=\"clickFieldGetName(tab.getname)\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\"  style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.getid\" label=\"Method ID\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.getmaxreq\" label=\"Maximum Segment Length Request\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.getmaxres\" label=\"Maximum Segment Length Response\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.gettimereq\" label=\"Separation Time Request\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.gettimeres\" label=\"Separation Time Response\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-select v-model=\"tab.getproto\" clearable :items=\"selectProtocal\" label=\"Transport Protocal\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                        </v-card-text>\r\n                                                    </v-card>\r\n                                                    <v-card outlined class=\"mx-auto\">\r\n                                                        <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                                            <v-hover v-slot=\"{ hover }\">\r\n                                                                <v-btn text @click=\"showSet\" x-small color=\"indigo\">\r\n                                                                    <v-icon>{{ isSetOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                                </v-btn>\r\n                                                            </v-hover>\r\n                                                            Set\r\n                                                        </div>\r\n                                                        <v-card-text v-if=\"isSetOpenClose\">\r\n                                                            <v-text-field v-model=\"tab.setname\" @input=\"inputFieldSetName(tab.setname)\" @click=\"clickFieldSetName(tab.setname)\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.setid\" label=\"Method ID\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.setmaxreq\" label=\"Maximum Segment Length Request\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.setmaxres\" label=\"Maximum Segment Length Response\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.settimereq\" label=\"Separation Time Request\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.settimeres\" label=\"Separation Time Response\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-select v-model=\"tab.setproto\" clearable :items=\"selectProtocal\" label=\"Transport Protocal\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                        </v-card-text>\r\n                                                    </v-card>\r\n                                                    <v-card outlined class=\"mx-auto\">\r\n                                                        <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                                            <v-hover v-slot=\"{ hover }\">\r\n                                                                <v-btn text @click=\"showNotifier\" x-small color=\"indigo\">\r\n                                                                    <v-icon>{{ isNotifierOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                                </v-btn>\r\n                                                            </v-hover>\r\n                                                            Notifier\r\n                                                        </div>\r\n                                                        <v-card-text v-if=\"isNotifierOpenClose\">\r\n                                                            <v-text-field v-model=\"tab.notname\" @input=\"inputFieldNotName(tab.notname)\" @click=\"clickFieldNotName(tab.notname)\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.notid\" label=\"Event ID\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.notmax\" label=\"Maximum Segment Length\" placeholder=\"Int\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-text-field v-model=\"tab.nottime\" label=\"Separation Time\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            <v-select v-model=\"tab.notserial\" clearable :items=\"selectSerializer\" label=\"Serializer\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                            <v-select v-model=\"tab.notproto\" clearable :items=\"selectProtocal\" label=\"Transport Protocal\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                        </v-card-text>\r\n                                                    </v-card>\r\n                                                </v-card-text>\r\n                                            </v-card>\r\n                                        </v-tab-item>\r\n                                    </v-tabs-items>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                        </v-card-text>\r\n                        <v-card-text v-show=\"(!iselementOpenClose && zoomvalue > $setZoominElement) || !minimaptoolbar\">\r\n                            <v-text-field v-model=\"element.name\" :label=\"'name  <'+element.path +'>'\" :rules=\"rules.name\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\"\r\n                                        readonly outlined dense></v-text-field>\r\n                        </v-card-text>\r\n                    </v-card>\r\n                </template>\r\n                <span>{{ element.name }}</span>\r\n            </v-tooltip>\r\n            <v-dialog v-model=\"dialogText\" persistent width=\"800\">\r\n                <v-card >\r\n                    <v-card-title class=\"text-h6 green accent-1\"> Edit Text </v-card-title>\r\n                    <v-card-text>\r\n                        <br>\r\n                        <v-row style=\"height: 30px;\">\r\n                            <label style=\"padding:10px;\">&#60;SHORT-NAME&#62;</label>\r\n                            <v-text-field v-model=\"editARXML.name\" placeholder=\"String\" style=\"height: 15px;\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                            <label style=\"padding:10px;\">&#60;&#47;SHORT-NAME&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 30px;\">\r\n                            <label style=\"padding:10px;\">&#60;SERVICE-INTERFACE-REF&#62;</label>\r\n                            <v-text-field v-model=\"editARXML.service\" placeholder=\"Path\"  class=\"lable-placeholer-color\" dense></v-text-field>\r\n                            <label style=\"padding:10px;\">&#60;&#47;SERVICE-INTERFACE-REF&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 30px;\">\r\n                            <label style=\"padding:10px;\">&#60;SERVICE-INTERFACE-ID&#62;</label>\r\n                            <v-text-field v-model=\"editARXML.id\" placeholder=\"Int\" style=\"height: 15px;\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                            <label style=\"padding:10px;\">&#60;&#47;SERVICE-INTERFACE-ID&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 25px;\">\r\n                            <label style=\"padding:10px;\">&#60;SERVICE-INTERFACE-VERSION&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 30px;\">\r\n                            <label style=\"padding:10px;margin-left:10px\">&#60;MAJOR-VERSION&#62;</label>\r\n                            <v-text-field v-model=\"editARXML.majversion\" placeholder=\"number.number\" style=\"height: 15px;\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                            <label style=\"padding:10px;\">&#60;&#47;MAJOR-VERSION&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 25px;\">\r\n                            <label style=\"padding:10px;margin-left:10px\">&#60;MINOR-VERSION&#62;</label>\r\n                            <v-text-field v-model=\"editARXML.minversion\" placeholder=\"number.number\" style=\"height: 15px;\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                            <label style=\"padding:10px;\">&#60;&#47;MINOR-VERSION&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 15px;\">\r\n                            <label style=\"padding:10px;\">&#60;&#47;SERVICE-INTERFACE-VERSION&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 50px;\">\r\n                            <label style=\"padding:10px;\">&#60;EVENT-DEPLOYMENTS&#62;</label>\r\n                            <v-btn style=\"margin: 3px 0px 0px -10px\" @click=\"newTextEventD()\" icon color=\"teal darken\" x-samll dark>\r\n                                <v-icon dense dark>mdi-plus</v-icon>\r\n                            </v-btn>\r\n                        </v-row>\r\n                        <div class=\"text-editDialog\" style=\"height: 250px;\">\r\n                            <v-row v-for=\"(item, i) in editARXML.eventD\" :key=\"i\" style=\"height: 220px;\">\r\n                                <div>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-btn style=\"margin: 15px -20px 0px 20px\" @click=\"deletTextEventD(i)\" text x-small color=\"indigo\">\r\n                                            <v-icon>mdi-minus</v-icon>\r\n                                        </v-btn>\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 10px;\">&#60;SOMEIP-EVENT-DEPLOYMENT&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SHORT-NAME&#62;</label>\r\n                                        <v-text-field v-model=\"item.name\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SHORT-NAME&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;EVENT-REF&#62;</label>\r\n                                        <v-text-field v-model=\"item.event\" placeholder=\"Path\" style=\"width:400px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;EVENT-REF&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;EVENT-ID&#62;</label>\r\n                                        <v-text-field v-model=\"item.idE\" placeholder=\"Int\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;EVENT-ID&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;MAXIMUM-SEGMENT-LENGTH&#62;</label>\r\n                                        <v-text-field v-model=\"item.maxlength\" placeholder=\"Int\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;MAXIMUM-SEGMENT-LENGTH&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SEPARATION-TIME&#62;</label>\r\n                                        <v-text-field v-model=\"item.time\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SEPARATION-TIMEE&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SERIALIZER&#62;</label>\r\n                                        <v-text-field v-model=\"item.serializer\" placeholder=\"SOMEIP or SIGNAL-BASED\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SERIALIZER&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;TRANSPORT-PROTOCOL&#62;</label>\r\n                                        <v-text-field v-model=\"item.protocal\" placeholder=\"UDP or TCP\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;TRANSPORT-PROTOCOL&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 30px;margin:0px;\">\r\n                                            <label style=\"padding:10px;margin-left:55px;\">&#60;&#47;SOMEIP-EVENT-DEPLOYMENT&#62;</label>\r\n                                    </v-row>\r\n                                </div>\r\n                            </v-row>\r\n                        </div>\r\n                        <v-row style=\"height: 15px;\">\r\n                            <label style=\"padding:10px;\">&#60;&#47;EVENT-DEPLOYMENTS&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 50px;\">\r\n                            <label style=\"padding:10px;\">&#60;FIELD-DEPLOYMENTS&#62;</label>\r\n                            <v-btn style=\"margin: 3px 0px 0px -10px\" @click=\"newTextField()\" icon color=\"teal darken\" x-samll dark>\r\n                                <v-icon dense dark>mdi-plus</v-icon>\r\n                            </v-btn>\r\n                        </v-row>\r\n                        <div class=\"text-editDialog\" style=\"height: 700px;\">\r\n                            <v-row v-for=\"(item, i) in editARXML.fieldD\" :key=\"i\" style=\"height: 750px;\">\r\n                                <div>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-btn style=\"margin: 15px -20px 0px 20px\" @click=\"deletTextField(i)\" text x-small color=\"indigo\">\r\n                                            <v-icon>mdi-minus</v-icon>\r\n                                        </v-btn>\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 10px;\">&#60;SOMEIP-FIELD-DEPLOYMENT&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SHORT-NAME&#62;</label>\r\n                                        <v-text-field v-model=\"item.name\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SHORT-NAME&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;FIELD-REF&#62;</label>\r\n                                        <v-text-field v-model=\"item.field\" placeholder=\"Path\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;FIELD-REF&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;GET&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SHORT-NAME&#62;</label>\r\n                                        <v-text-field v-model=\"item.getname\" placeholder=\"String\" style=\"width:400px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SHORT-NAME&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-col cols=\"5\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 90px;\">&#60;MAXIMUM-SEGMENT-LENGTH-REQUEST&#62;</label>\r\n                                        </v-col><v-col cols=\"4\">\r\n                                        <v-text-field v-model=\"item.getmaxreq\" placeholder=\"Int\" style=\"margin: -5px 0px 0px 75px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        </v-col><v-col cols=\"3\">\r\n                                        <label style=\"padding:10px;\">&#60;&#47;MAXIMUM-SEGMENT-LENGTH-REQUEST&#62;</label>\r\n                                        </v-col>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-col cols=\"5\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 90px;\">&#60;MAXIMUM-SEGMENT-LENGTH-RESPONSE&#62;</label>\r\n                                        </v-col><v-col cols=\"4\">\r\n                                        <v-text-field v-model=\"item.getmaxres\" placeholder=\"Int\" style=\"margin: -5px 0px 0px 75px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        </v-col><v-col cols=\"3\">\r\n                                        <label style=\"padding:10px;\">&#60;&#47;MAXIMUM-SEGMENT-LENGTH-RESPONSE&#62;</label>\r\n                                        </v-col>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;METHOD-ID&#62;</label>\r\n                                        <v-text-field v-model=\"item.getid\" placeholder=\"Int\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;METHOD-ID&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SEPARATION-TIME-REQUEST&#62;</label>\r\n                                        <v-text-field v-model=\"item.gettimereq\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SEPARATION-TIME-REQUEST&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SEPARATION-TIME-RESPONSE&#62;</label>\r\n                                        <v-text-field v-model=\"item.gettimeres\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SEPARATION-TIME-RESPONSE&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;TRANSPORT-PROTOCOL&#62;</label>\r\n                                        <v-text-field v-model=\"item.getproto\" placeholder=\"UDP or TCP\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;TRANSPORT-PROTOCOL&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;&#47;GET&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;NOTIFIER&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SHORT-NAME&#62;</label>\r\n                                        <v-text-field v-model=\"item.notname\" placeholder=\"String\" style=\"width:400px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SHORT-NAME&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;EVENT-ID&#62;</label>\r\n                                        <v-text-field v-model=\"item.notid\" placeholder=\"Int\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;EVENT-ID&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;MAXIMUM-SEGMENT-LENGTH&#62;</label>\r\n                                        <v-text-field v-model=\"item.notmax\" placeholder=\"Int\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;MAXIMUM-SEGMENT-LENGTH&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SEPARATION-TIME&#62;</label>\r\n                                        <v-text-field v-model=\"item.nottime\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SEPARATION-TIME&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SERIALIZER&#62;</label>\r\n                                        <v-text-field v-model=\"item.notserial\" placeholder=\"SOMEIP or SIGNAL-BASED\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SERIALIZER&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;TRANSPORT-PROTOCOL&#62;</label>\r\n                                        <v-text-field v-model=\"item.notproto\" placeholder=\"UDP or TCP\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;TRANSPORT-PROTOCOL&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;&#47;NOTIFIER&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SET&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SHORT-NAME&#62;</label>\r\n                                        <v-text-field v-model=\"item.getname\" placeholder=\"String\" style=\"width:400px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SHORT-NAME&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-col cols=\"5\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 90px;\">&#60;MAXIMUM-SEGMENT-LENGTH-REQUEST&#62;</label>\r\n                                        </v-col><v-col cols=\"4\">\r\n                                        <v-text-field v-model=\"item.setmaxreq\" placeholder=\"Int\" style=\"margin: -5px 0px 0px 75px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        </v-col><v-col cols=\"3\">\r\n                                        <label style=\"padding:10px;\">&#60;&#47;MAXIMUM-SEGMENT-LENGTH-RESPONSE&#62;</label>\r\n                                        </v-col>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-col cols=\"5\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 90px;\">&#60;MAXIMUM-SEGMENT-LENGTH-RESPONSE&#62;</label>\r\n                                        </v-col><v-col cols=\"4\">\r\n                                        <v-text-field v-model=\"item.setmaxres\" placeholder=\"Int\" style=\"margin: -5px 0px 0px 75px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        </v-col><v-col cols=\"3\">\r\n                                        <label style=\"padding:10px;\">&#60;&#47;MAXIMUM-SEGMENT-LENGTH-RESPONSE&#62;</label>\r\n                                        </v-col>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;METHOD-ID&#62;</label>\r\n                                        <v-text-field v-model=\"item.setid\" placeholder=\"Int\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;METHOD-ID&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SEPARATION-TIME-REQUEST&#62;</label>\r\n                                        <v-text-field v-model=\"item.settimereq\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SEPARATION-TIME-REQUEST&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;SEPARATION-TIME-RESPONSE&#62;</label>\r\n                                        <v-text-field v-model=\"item.settimeres\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SEPARATION-TIME-RESPONSE&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 100px;\">&#60;TRANSPORT-PROTOCOL&#62;</label>\r\n                                        <v-text-field v-model=\"item.setproto\" placeholder=\"UDP or TCP\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;TRANSPORT-PROTOCOL&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;&#47;SET&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 30px;margin:0px;\">\r\n                                            <label style=\"padding:10px;margin-left:55px;\">&#60;&#47;SOMEIP-FIELD-DEPLOYMENT&#62;</label>\r\n                                    </v-row>\r\n                                </div>\r\n                            </v-row>\r\n                        </div>\r\n                        <v-row style=\"height: 15px;\">\r\n                            <label style=\"padding:10px;\">&#60;&#47;FIELD-DEPLOYMENTS&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 50px;\">\r\n                            <label style=\"padding:10px;\">&#60;METHOD-DEPLOYMENTS&#62;</label>\r\n                            <v-btn style=\"margin: 3px 0px 0px -10px\" @click=\"newTextMethod()\" icon color=\"teal darken\" x-samll dark>\r\n                                <v-icon dense dark>mdi-plus</v-icon>\r\n                            </v-btn>\r\n                        </v-row>\r\n                        <div class=\"text-editDialog\" style=\"height: 300px;\">\r\n                            <v-row v-for=\"(item, i) in editARXML.methodD\" :key=\"i\" style=\"height: 240px;\">\r\n                                <div>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-btn style=\"margin: 15px -20px 0px 20px\" @click=\"deletTextMethod(i)\" text x-small color=\"indigo\">\r\n                                            <v-icon>mdi-minus</v-icon>\r\n                                        </v-btn>\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 10px;\">&#60;SOMEIP-METHOD-DEPLOYMENT&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SHORT-NAME&#62;</label>\r\n                                        <v-text-field v-model=\"item.name\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SHORT-NAME&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;METHOD-REF&#62;</label>\r\n                                        <v-text-field v-model=\"item.method\" placeholder=\"Path\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;METHOD-REF&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-col cols=\"5\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;MAXIMUM-SEGMENT-LENGTH-REQUEST&#62;</label>\r\n                                        </v-col><v-col cols=\"4\">\r\n                                        <v-text-field v-model=\"item.maxrequest\" placeholder=\"Int\" style=\"margin: -5px 0px 0px 75px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        </v-col><v-col cols=\"3\">\r\n                                        <label style=\"padding:10px;\">&#60;&#47;MAXIMUM-SEGMENT-LENGTH-REQUEST&#62;</label>\r\n                                        </v-col>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-col cols=\"5\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;MAXIMUM-SEGMENT-LENGTH-RESPONSE&#62;</label>\r\n                                        </v-col><v-col cols=\"4\">\r\n                                        <v-text-field v-model=\"item.maxresponse\" placeholder=\"Int\" style=\"margin: -5px 0px 0px 75px\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        </v-col><v-col cols=\"3\">\r\n                                        <label style=\"padding:10px;\">&#60;&#47;MAXIMUM-SEGMENT-LENGTH-RESPONSE&#62;</label>\r\n                                        </v-col>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;METHOD-ID&#62;</label>\r\n                                        <v-text-field v-model=\"item.idM\" placeholder=\"Int\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;METHOD-ID&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SEPARATION-TIME-REQUEST&#62;</label>\r\n                                        <v-text-field v-model=\"item.timerequest\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SEPARATION-TIME-REQUEST&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SEPARATION-TIME-RESPONSE&#62;</label>\r\n                                        <v-text-field v-model=\"item.timeresponse\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SEPARATION-TIME-RESPONSE&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;TRANSPORT-PROTOCOL&#62;</label>\r\n                                        <v-text-field v-model=\"item.protocal\" placeholder=\"UDP or TCP\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;TRANSPORT-PROTOCOL&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 30px;margin:0px;\">\r\n                                            <label style=\"padding:10px;margin-left:55px;\">&#60;&#47;SOMEIP-METHOD-DEPLOYMENT&#62;</label>\r\n                                    </v-row>\r\n                                </div>\r\n                            </v-row>\r\n                        </div>\r\n                        <v-row style=\"height: 20px;\">\r\n                            <label style=\"padding:10px;\">&#60;&#47;METHOD-DEPLOYMENTS&#62;</label>\r\n                        </v-row>\r\n                        <v-row style=\"height: 50px;\">\r\n                            <label style=\"padding:10px;\">&#60;EVENT-GROUPS&#62;</label>\r\n                            <v-btn style=\"margin: 3px 0px 0px -10px\" @click=\"newTextEventG()\" icon color=\"teal darken\" x-samll dark>\r\n                                <v-icon dense dark>mdi-plus</v-icon>\r\n                            </v-btn>\r\n                        </v-row>\r\n                        <div class=\"text-editDialog\" style=\"height: 300px;\">\r\n                            <v-row v-for=\"(item, i) in editARXML.eventG\" :key=\"i\" style=\"height: 230px;\">\r\n                                <div>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <v-btn style=\"margin: 15px -20px 0px 20px\" @click=\"deletTextEventG(i)\" text x-small color=\"indigo\">\r\n                                            <v-icon>mdi-minus</v-icon>\r\n                                        </v-btn>\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 10px;\"> &#60;SOMEIP-EVENT-GROUP&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 25px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;SHORT-NAME&#62;</label>\r\n                                        <v-text-field v-model=\"item.name\" placeholder=\"String\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;SHORT-NAME&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 10px;margin:0px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;EVENT-GROUP-ID&#62;</label>\r\n                                        <v-text-field v-model=\"item.idG\" placeholder=\"Int\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                        <label style=\"padding:10px;\">&#60;&#47;EVENT-GROUP-ID&#62;</label>\r\n                                    </v-row>\r\n                                    <v-row style=\"height: 50px;\">\r\n                                        <label style=\"padding:10px;margin-left:90px;\">&#60;EVENT-REFS&#62;</label>\r\n                                        <v-btn style=\"margin: 3px 0px 0px -10px\" @click=\"newTextEventR(i)\" icon color=\"teal darken\" x-samll dark>\r\n                                            <v-icon dense dark>mdi-plus</v-icon>\r\n                                        </v-btn>\r\n                                    </v-row>\r\n                                    <div class=\"text-Inner-editDialog\" style=\"height: 100px;\">\r\n                                        <v-row v-for=\"(eve, e) in item.event\" :key=\"e\" style=\"height: 25px;\">\r\n                                            <div>\r\n                                                <br>\r\n                                                <v-row style=\"height: 25px;margin:0px;\">\r\n                                                    <v-btn style=\"margin: 15px -90px 0px 90px\" @click=\"deletTextEventR(e,i)\" text x-small color=\"indigo\">\r\n                                                        <v-icon>mdi-minus</v-icon>\r\n                                                    </v-btn>\r\n                                                    <label style=\"padding:10px;margin:2px 0px 2px 80px;\">&#60;EVENT-REF&#62;</label>\r\n                                                    <v-text-field v-model=\"eve.event\" style=\"width:400px\" placeholder=\"Path\" class=\"lable-placeholer-color\" dense></v-text-field>\r\n                                                    <label style=\"padding:10px;\">&#60;&#47;EVENT-REF&#62;</label>\r\n                                                </v-row>\r\n                                            </div>\r\n                                        </v-row>\r\n                                    </div> \r\n                                    <v-row style=\"height: 30px;\">\r\n                                        <label style=\"padding:10px;margin:2px 0px 2px 90px;\">&#60;&#47;EVENT-REFS&#62;</label>\r\n                                    </v-row>                                    \r\n                                    <v-row style=\"height: 30px;margin:0px;\">\r\n                                            <label style=\"padding:10px;margin-left:55px;\">&#60;&#47;SOMEIP-EVENT-GROUP&#62;</label>\r\n                                    </v-row>\r\n                                </div>\r\n                            </v-row>\r\n                        </div>\r\n                        <v-row style=\"height: 20px;\">\r\n                            <label style=\"padding:10px;\">&#60;&#47;EVENT-GROUPS&#62;</label>\r\n                        </v-row>\r\n                    </v-card-text>\r\n                    <v-card-actions>\r\n                        <v-spacer></v-spacer>\r\n                        <v-btn class=\"d-inline-flex ml-3 mr-1\" color=\"green darken-1\" text  @click=\"saveARXML()\" >\r\n                            Save\r\n                        </v-btn>\r\n                        <v-btn class=\"d-inline-flex ml-3 mr-1\" color=\"green darken-1\" text @click=\"cancelARXML()\">\r\n                            Cancel\r\n                        </v-btn>\r\n                    </v-card-actions>\r\n                </v-card>\r\n            </v-dialog>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport constant from \"../store/constants.js\"\r\nimport { EventBus } from \"../main.js\"\r\nimport dialogPathSetting from '../components/dialogPathSetting.vue'\r\n\r\n\r\nexport default {\r\n    props: ['element', 'isDatailView', 'minimaptoolbar', 'location'],\r\n    components:{dialogPathSetting},\r\n    computed: {\r\n        activeUUID() {\r\n            return this.$store.state.activeUUID\r\n        },\r\n        detailViewUUID() {\r\n            return this.$store.state.detailViewUUID\r\n        },\r\n        setting() {\r\n            return this.$store.state.setting\r\n        },\r\n    },\r\n    watch: {\r\n        activeUUID(val) {\r\n            this.setToolbarColor(val)\r\n        },\r\n        detailViewUUID(val) {\r\n            this.setToolbarColorDetailView(val)\r\n        },\r\n        setting(value) {\r\n            this.zoomvalue = value.zoomMain\r\n            if (this.zoomvalue < this.$setZoominTooltip) {\r\n                this.isTooltip = false\r\n            } else {\r\n                this.isTooltip = this.minimaptoolbar\r\n                if (this.zoomvalue  > this.$setZoominLineTitle && this.zoomvalue < this.$setZoominLineSetupStart) {\r\n                    EventBus.$emit('drawLineTitleBar', this.element.uuid, false)\r\n                } else if (this.zoomvalue > this.$setZoominLineSetupStart && this.zoomvalue < this.$setZoominLineSetupEnd) {\r\n                    this.$nextTick(() => {\r\n                        EventBus.$emit('drawLineTitleBar', this.element.uuid, this.iselementOpenClose)\r\n                        if(this.iselementOpenClose && this.location == 1) {\r\n                            if(this.element.fieldD.length > 0) {\r\n                                if (this.isFieldDOpenClose) {\r\n                                    EventBus.$emit('changeLine-someipService', 'field', this.element.uuid, this.fieldTab, this.element.fieldD[this.fieldTab].id)\r\n                                } else {\r\n                                    EventBus.$emit('changeLine-someipService', 'field', this.element.uuid, null)\r\n                                }\r\n                            }\r\n                            if(this.element.eventG.length > 0) {\r\n                                if (this.isEventGOpenClose) {\r\n                                    EventBus.$emit('changeLine-someipService', 'event', this.element.uuid, this.eventGTab, this.element.eventG[this.eventGTab].id)\r\n                                } else {\r\n                                    EventBus.$emit('changeLine-someipService', 'event', this.element.uuid, null)\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        this.setToolbarColor(this.$store.state.activeUUID)\r\n    },\r\n    data() {\r\n        return {\r\n            rules: {\r\n                name:  [val => (val || '').length > 0 ],\r\n            },\r\n            dialogPath : false,\r\n            colorToolbar: \"#6A5ACD\",\r\n            zoomvalue: this.$store.state.setting.zoomMain,\r\n            isTooltip: this.minimaptoolbar,\r\n            iselementOpenClose: false,//this.minimaptoolbar, //toolbar만 보여줄것이냐 아니냐 설정 true: 전체 다 보여줌 / false : toolbar만 보여줌\r\n            dialogText: false,\r\n            editARXML: {name:'', service: null, majversion:'', minversion:'', id: '', eventG:[], eventD: [], methodD:[], fieldD:[]},\r\n            editTextEventD: {name:'', event: null, idE:'', maxlength:'', time:'', serializer:null, protocal:null, id: ''},\r\n            editTextMethod: {name:'', method: null, idM:'', maxrequest:'', maxresponse:'', timerequest:'', timeresponse:'', protocal:null, id: ''},\r\n            editTextField: {name: '', field:null,\r\n                              getname: '',getid: '',getmaxreq: '',getmaxres: '',gettimereq: '',gettimeres: '',getproto: null,\r\n                              setname: '',setid: '',setmaxreq: '',setmaxres: '',settimereq: '',settimeres: '',setproto: null,\r\n                              notname: '',notid: '',notmax: '',nottime: '',notserial: null,notproto: null, id: ''},\r\n            editTextEventG: {name: '', idG: '', event: [], id: ''},\r\n            editTextEventRef: {event: null, id: ''},\r\n            selService: this.$store.getters.getServiceInterface,\r\n            isEventGOpenClose: true,\r\n            isEventDOpenClose: true,\r\n            isMethodDOpenClose: true,\r\n            isFieldDOpenClose: true,\r\n\r\n            eventGTab: null,\r\n            isEventOpenClose: true,\r\n            isdeleteEvent: false,\r\n            selectDelectEvent: [],\r\n            headerEvent: [\r\n                { text: 'Event Ref', sortable: false, value: 'event' },\r\n            ],\r\n            editEvent: { event: null, id: ''},\r\n            isEditingEvent: true,\r\n            selEvent: this.$store.getters.getSomeIPEventDeployment,\r\n\r\n            isdeleteEventD: false,\r\n            selVariableData: this.$store.getters.getVariableDataPrototype,\r\n            selectDelectEventD: [],\r\n            headerEventD: [\r\n                { text: 'Name', align: 'start', sortable: false, value: 'name' },\r\n                { text: 'Event Ref', sortable: false, value: 'event' },\r\n                { text: 'Event ID', sortable: false, value: 'idE' },\r\n                { text: 'Maximum Segment Length', sortable: false, width: '180px', value: 'maxlength' },\r\n                { text: 'Separation Time', sortable: false, width: '130px', value: 'time' },\r\n                { text: 'Serializer', sortable: false, value: 'serializer' },\r\n                { text: 'Transport Protocal', sortable: false, width: '140px', value: 'protocal' },\r\n            ],\r\n            editEventD: { name:'', event: null, idE:'', maxlength:'', time:'', serializer:null, protocal:null, id: ''},\r\n            defaultEventD: { name:'', event: null, idE:'', maxlength:'', time:'', serializer:null, protocal:null, id: '' },\r\n            isEditingVariableData: true,\r\n            selectSerializer: ['SOMEIP', 'SIGNAL-BASED'],\r\n            selectProtocal: ['UDP', 'TCP',],\r\n\r\n            isdeleteMethodD: false,\r\n            selClientServer: this.$store.getters.getClientServer,\r\n            selectDelectMethodD: [],\r\n            headerMethodD: [\r\n                { text: 'Name', align: 'start', sortable: false, value: 'name' },\r\n                { text: 'Method Ref', sortable: false, value: 'method' },\r\n                { text: 'Method ID', sortable: false, value: 'idM' },\r\n                { text: 'Maximum Segment Length Request', sortable: false, width: '230px', value: 'maxrequest' },\r\n                { text: 'Maximum Segment Length Response', sortable: false, width: '240px', value: 'maxresponse' },\r\n                { text: 'Separation Time Request', sortable: false, width: '180px', value: 'timerequest' },\r\n                { text: 'Separation Time Response', sortable: false, width: '180px', value: 'timeresponse' },\r\n                { text: 'Transport Protocal', sortable: false, width: '140px', value: 'protocal' },\r\n            ],\r\n            editMethodD: { name:'', method: null, idM:'', maxrequest:'', maxresponse:'', timerequest:'', timeresponse:'', protocal:null, id: '' },\r\n            defaultMethodD: {name:'', method: null, idM:'', maxrequest:'', maxresponse:'', timerequest:'', timeresponse:'', protocal:null, id: '' },\r\n            isEditingClientServer: true,\r\n\r\n            fieldTab: null,\r\n            selField: this.$store.getters.getField,\r\n            isGetOpenClose: true,\r\n            isSetOpenClose: true,\r\n            isNotifierOpenClose: true,\r\n\r\n            beforeField: '',\r\n            beforeGet: '',\r\n            beforeSet: '',\r\n            beforeNoti: '',\r\n            beforeEventG: '',\r\n            beforeName: '',\r\n            beforePath: ''\r\n        }\r\n    },\r\n    mounted () {\r\n        if (this.minimaptoolbar && this.zoomvalue < this.$setZoominElement) {\r\n            this.isTooltip = false\r\n        }\r\n    },\r\n    methods: {\r\n        submitDialog(element) {\r\n            this.beforePath = this.element.path\r\n            this.element.path = element\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,  \r\n                                                        changeName: 'Path', beforename: this.beforePath} )\r\n            this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.element.name, path:this.element.path})\r\n        },\r\n        setToolbarColor(uuid) \r\n        {\r\n            if(this.element.uuid == uuid) {\r\n                this.colorToolbar = \"#FF1493\" \r\n            } else {\r\n                this.colorToolbar = \"#6A5ACD\"\r\n            }\r\n        },\r\n        setToolbarColorDetailView(isdetail) {\r\n            if(this.element.uuid == isdetail) {\r\n                this.colorToolbar = \"#B0E0E6\" \r\n            } else if (this.element.uuid == this.$store.state.activeUUID) {\r\n                this.colorToolbar  = \"#FF1493\"\r\n            } else {\r\n                this.colorToolbar = \"#6A5ACD\"\r\n            }\r\n        },\r\n        showSomeIPService () {\r\n            this.iselementOpenClose = this.iselementOpenClose ? false : true\r\n            this.$nextTick(() => {\r\n                EventBus.$emit('drawLineTitleBar', this.element.uuid, this.iselementOpenClose)\r\n                if(this.iselementOpenClose && this.location == 1) {\r\n                    if(this.element.fieldD.length > 0) {\r\n                        if (this.isFieldDOpenClose) {\r\n                            EventBus.$emit('changeLine-someipService', 'field', this.element.uuid, this.fieldTab, this.element.fieldD[this.fieldTab].id)\r\n                        } else {\r\n                            EventBus.$emit('changeLine-someipService', 'field', this.element.uuid, null)\r\n                        }\r\n                    }\r\n                    if(this.element.eventG.length > 0) {\r\n                        if (this.isEventGOpenClose) {\r\n                            EventBus.$emit('changeLine-someipService', 'event', this.element.uuid, this.eventGTab, this.element.eventG[this.eventGTab].id)\r\n                        } else {\r\n                            EventBus.$emit('changeLine-someipService', 'event', this.element.uuid, null)\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        showEventG() {\r\n            this.isEventGOpenClose = this.isEventGOpenClose ? false : true\r\n            if(this.element.eventG.length > 0 && this.location == 1) {\r\n                this.$nextTick(() => {\r\n                    if(this.isEventGOpenClose) {\r\n                        EventBus.$emit('changeLine-someipService', 'event', this.element.uuid, this.eventGTab, this.element.eventG[this.eventGTab].id)\r\n                    } else {\r\n                        EventBus.$emit('changeLine-someipService', 'event', this.element.uuid, null)\r\n                    }\r\n                    EventBus.$emit('drawLine')\r\n                })\r\n            }\r\n        },\r\n        showEvent() {\r\n            this.isEventOpenClose = this.isEventOpenClose ? false : true\r\n            // 선을 다시 그려줘야 하기 때문에\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        showEventD() {\r\n            this.isEventDOpenClose = this.isEventDOpenClose ? false : true\r\n            // 선을 다시 그려줘야 하기 때문에\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        showMethodD() {\r\n            this.isMethodDOpenClose = this.isMethodDOpenClose ? false : true\r\n            // 선을 다시 그려줘야 하기 때문에\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        showFieldD() {\r\n            this.isFieldDOpenClose = this.isFieldDOpenClose ? false : true\r\n            // 선을 다시 그려줘야 하기 때문에\r\n            if(this.element.fieldD.length > 0 && this.location == 1) {\r\n                this.$nextTick(() => {\r\n                    if(this.isFieldDOpenClose ) {\r\n                        EventBus.$emit('changeLine-someipService', 'field', this.element.uuid, this.fieldTab, this.element.fieldD[this.fieldTab].id)\r\n                    } else {\r\n                        EventBus.$emit('changeLine-someipService', 'field', this.element.uuid, null)\r\n                    }\r\n                    EventBus.$emit('drawLine')\r\n                })\r\n            }\r\n        },\r\n        showGet() {\r\n            this.isGetOpenClose = this.isGetOpenClose ? false : true\r\n        },\r\n        showSet() {\r\n            this.isSetOpenClose = this.isSetOpenClose ? false : true\r\n        },\r\n        showNotifier() {\r\n            this.isNotifierOpenClose = this.isNotifierOpenClose ? false : true\r\n        },\r\n\r\n        clickSomeIPServiceName() {\r\n            this.beforeName = this.element.name\r\n        },\r\n        inputSomeIPServiceName() {\r\n            this.$store.commit('editSomeIPService', {compo:\"Name\", uuid:this.element.uuid, name:this.element.name} )\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name, \r\n                                                        changeName: 'Name', pathLength:this.element.path.split('/').length, beforename: this.beforeName} )\r\n            if (this.element.name != '') {\r\n                this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.element.name, path:this.element.path})\r\n            }\r\n            this.beforeName = this.element.name\r\n        },\r\n        clickEventGName(name) {\r\n            this.beforeEventG = name\r\n        },\r\n        inputEventGName(name) {\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                          changeName: 'EventG', listname: name, beforename: this.beforeEventG} )\r\n            this.beforeEventG = name\r\n        },\r\n\r\n        addEventG() {\r\n            const editItem = {name: '', idG: '', event: [], id: ''}\r\n            const addObj = new Object(editItem)\r\n            let res = true, n = 0\r\n\r\n            while (res) {\r\n                addObj.name = 'Event Group_' + n++;\r\n                res = this.element.eventG.some(ele => ele.name === addObj.name)\r\n            }\r\n            addObj.id = n\r\n            this.element.eventG.push(addObj)\r\n            this.eventGTab = this.element.eventG.length-1\r\n            if(this.location == 1) {\r\n                EventBus.$emit('changeLine-someipService', 'event', this.element.uuid, null)\r\n            }\r\n        },\r\n        clickEventGtab() {\r\n            this.isdeleteEvent = false\r\n            this.selectDelectEvent = []\r\n        },\r\n        changeEventGTab() {\r\n            if(this.element.eventG.length > 0 && this.location == 1 && this.eventGTab != undefined) {\r\n                setTimeout(() => {EventBus.$emit('changeLine-someipService', 'event', this.element.uuid, this.eventGTab, this.element.eventG[this.eventGTab].id)}, 300);\r\n            }\r\n        },\r\n        deleteEventG(idx) {\r\n            this.$store.commit('deleteRefTable', {deleteName:'eventG', deleteTab: true, tabName: this.element.eventG[idx].name, path: this.element.path, name: this.element.name})\r\n            this.element.eventG[idx].event.forEach(item => {\r\n                var endLineCon = this.$store.getters.getChangeEndLine(this.element.uuid+'/eventtab-'+item.id+'-'+this.element.eventG[idx].id)\r\n                if(endLineCon != undefined) {\r\n                    this.deleteLine(this.element.uuid+'/eventtab-'+item.id+'-'+this.element.eventG[idx].id)\r\n                }\r\n            })\r\n\r\n            this.element.eventG.splice(idx, 1)\r\n        },\r\n        isCheckEvent() {\r\n            if (this.isdeleteEvent == true) {\r\n                this.isdeleteEvent = false\r\n                this.selectDelectEvent = []\r\n            } else {\r\n                this.isdeleteEvent = true\r\n            }\r\n        },\r\n        deleteEvent() {\r\n            console.log(this.selectDelectEvent)\r\n            if (this.isdeleteEvent == true) {\r\n                this.selectDelectEvent.forEach(item => {\r\n                    for(let i=0; i<this.element.eventG[this.eventGTab].event.length; i++){\r\n                        if (item.id == this.element.eventG[this.eventGTab].event[i].id) {\r\n                            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/eventtab-'+this.element.eventG[this.eventGTab].event[i].id+'-'+this.element.eventG[this.eventGTab].id)\r\n                            if(endLine != undefined) {\r\n                                this.deleteLine(this.element.uuid+'/eventtab-'+this.element.eventG[this.eventGTab].event[i].id+'-'+this.element.eventG[this.eventGTab].id)\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n\r\n                this.element.eventG[this.eventGTab].event = this.element.eventG[this.eventGTab].event.filter(item => {\r\n                        return this.selectDelectEvent.indexOf(item) < 0 })\r\n\r\n                this.isdeleteEvent = false\r\n                this.selectDelectEvent = []\r\n            } \r\n        },\r\n        openEvent(idx) { \r\n            this.selEvent = this.$store.getters.getSomeIPEventDeployment\r\n\r\n            if (this.element.eventG[this.eventGTab].event[idx].event != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/eventtab-'+this.element.eventG[this.eventGTab].event[idx].id+'-'+this.element.eventG[this.eventGTab].id)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getSomeIPEventDeploymentPath(this.element.eventG[this.eventGTab].event[idx].event)\r\n                }\r\n                this.editEvent.event = { name: this.element.eventG[this.eventGTab].event[idx].event, uuid: endLine}\r\n            }\r\n        },\r\n        editEventItem(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/eventtab-'+this.element.eventG[this.eventGTab].event[idx].id+'-'+this.element.eventG[this.eventGTab].id)\r\n            if (endLine != undefined && this.editEvent.event == null) {\r\n                this.deleteLine(this.element.uuid+'/eventtab-'+this.element.eventG[this.eventGTab].event[idx].id+'-'+this.element.eventG[this.eventGTab].id)\r\n                this.element.eventG[this.eventGTab].event[idx].event = null\r\n            } else if (endLine != undefined && endLine != this.editEvent.event.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/eventtab-'+this.element.eventG[this.eventGTab].event[idx].id+'-'+this.element.eventG[this.eventGTab].id)\r\n                this.newLine(this.element.uuid+'/eventtab-'+this.element.eventG[this.eventGTab].event[idx].id+'-'+this.element.eventG[this.eventGTab].id, this.element.uuid+'/eventtab'+this.element.eventG[this.eventGTab].id, this.editEvent.event.uuid)\r\n                this.element.eventG[this.eventGTab].event[idx].event = this.editEvent.event.name\r\n            } else if (endLine == undefined && this.editEvent.event != null && this.editEvent.event.uuid != null) {\r\n                this.newLine(this.element.uuid+'/eventtab-'+this.element.eventG[this.eventGTab].event[idx].id+'-'+this.element.eventG[this.eventGTab].id, this.element.uuid+'/eventtab'+this.element.eventG[this.eventGTab].id, this.editEvent.event.uuid)\r\n                this.element.eventG[this.eventGTab].event[idx].event = this.editEvent.event.name\r\n            } else if (this.editEvent.event != null && endLine == this.editEvent.event.uuid && this.element.eventG[this.eventGTab].event[idx].event != this.editEvent.event.name) {\r\n                this.element.eventG[this.eventGTab].event[idx].event = this.editEvent.event.name\r\n            }\r\n\r\n            this.cancelEvent()\r\n        },\r\n        cancelEvent() {\r\n            this.editEvent = {event: null}\r\n            this.setactiveUUID()\r\n        },\r\n        addEvent() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.eventG[this.eventGTab].event.some(item => item.id === n)\r\n            }\r\n            this.editEvent.id = n\r\n\r\n            if( this.editEvent.event != null) {\r\n                this.newLine(this.element.uuid+'/eventtab-'+n+'-'+this.element.eventG[this.eventGTab].id, this.element.uuid+'/eventtab'+this.element.eventG[this.eventGTab].id, this.editEvent.event.uuid)\r\n                this.editEvent.event = this.editEvent.event.name\r\n            }\r\n\r\n            const addObj = Object.assign({}, this.editEvent)\r\n            this.element.eventG[this.eventGTab].event.push(addObj);\r\n            this.cancelEvent()\r\n        },\r\n        setEventSelect() {\r\n            if (this.isEditingEvent == true) {\r\n                if (this.editEvent.event != null && this.editEvent.event.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editEvent.event.uuid, element: constant.SomeIPServiceInterfaceDeployment_str} )\r\n                    document.getElementById(this.editEvent.event.uuid+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    EventBus.$emit('active-element', this.editEvent.event.uuid)\r\n                }\r\n                this.setEventList()\r\n                this.isEditingEvent = false\r\n            } else {\r\n                this.isEditingEvent = true\r\n            }\r\n        },\r\n        setEventList() {\r\n            this.selEvent = this.$store.getters.getSomeIPEventDeployment\r\n            this.setactiveUUID()\r\n        },\r\n        clearEvent() {\r\n            this.isEditingEvent = true\r\n            this.editEvent.event = null\r\n        },\r\n\r\n\r\n        clearService() {\r\n            this.element.service = null\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/service')\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/service')\r\n            }\r\n        },\r\n        setServiceSelect() {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/service')\r\n            if (endLine == undefined) {\r\n                endLine = this.$store.getters.getServiceInterfacePath(this.element.service, 0)\r\n            }\r\n            if (endLine != null) {\r\n                this.$store.commit('setDetailView', {uuid: endLine, element: constant.ServiceInterface_str} )\r\n                document.getElementById(endLine+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                EventBus.$emit('active-element', endLine)\r\n            }\r\n        },\r\n        setServiceList() {\r\n            this.selService = this.$store.getters.getServiceInterface\r\n            this.setactiveUUID()\r\n        },\r\n        setService(item) {\r\n            if( this.element.service != item.name) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/service')\r\n                if (endLine != undefined && endLine != item.uuid) {\r\n                    //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                    this.deleteLine(this.element.uuid+'/service')\r\n                }\r\n                //새로 추가해준다\r\n                this.newLine(this.element.uuid+'/service', this.element.uuid+'/service', item.uuid)\r\n                this.element.service = item.name\r\n            }\r\n            this.setactiveUUID()\r\n        },\r\n        newService() {\r\n            const elementX = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n            const elementY = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n\r\n            this.$store.commit('addElementService', {\r\n                name: this.$store.getters.getNameServiceInterface, path: '',\r\n                top: elementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                versionMaj:'', versionMin:'', namespace:'', events:[], fields:[], methods:[], isservice: null,\r\n            })\r\n            EventBus.$emit('add-element', constant.Service_str)\r\n            EventBus.$emit('add-element', constant.ServiceInterface_str)\r\n            this.$store.commit('editSomeIPService', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        isCheckEventD() {\r\n            if (this.isdeleteEventD == true) {\r\n                this.isdeleteEventD = false\r\n                this.selectDelectEventD = []\r\n            } else {\r\n                this.isdeleteEventD = true\r\n            }\r\n        },\r\n        deleteEventD() {\r\n            if (this.isdeleteEventD == true) {\r\n                this.selectDelectEventD.forEach(item => {\r\n                    for(let i=0; i<this.element.eventD.length; i++){\r\n                        if (item.id == this.element.eventD[i].id) {\r\n                            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceEventD-'+this.element.eventD[i].id)\r\n                            if(endLine != undefined) {\r\n                                this.deleteLine(this.element.uuid+'/serviceEventD-'+this.element.eventD[i].id)\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n\r\n                this.$store.commit('deleteRefTable', {deleteName:'eventD', deletItemList: this.selectDelectEventD, path: this.element.path, name: this.element.name})\r\n                this.element.eventD = this.element.eventD.filter(item => {\r\n                        return this.selectDelectEventD.indexOf(item) < 0 })\r\n\r\n                this.isdeleteEventD = false\r\n                this.selectDelectEventD = []\r\n            } \r\n        },\r\n        openEventD(idx) {\r\n            this.selVariableData = this.$store.getters.getVariableDataPrototype\r\n            this.editEventD.name = this.element.eventD[idx].name\r\n            if ( this.element.eventD[idx].event != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceEventD-'+this.element.eventD[idx].id)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getServiceInterfacePath(this.element.eventD[idx].event, 1)\r\n                }\r\n                this.editEventD.event = { name: this.element.eventD[idx].event, uuid: endLine }\r\n            }\r\n            this.editEventD.idE = this.element.eventD[idx].idE\r\n            this.editEventD.maxlength = this.element.eventD[idx].maxlength\r\n            this.editEventD.time = this.element.eventD[idx].time\r\n            this.editEventD.serializer = this.element.eventD[idx].serializer\r\n            this.editEventD.protocal = this.element.eventD[idx].protocal\r\n        },\r\n        editEventDItem(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceEventD-'+this.element.eventD[idx].id)\r\n            if (endLine != undefined && this.editEventD.event == null) {\r\n                this.deleteLine(this.element.uuid+'/serviceEventD-'+this.element.eventD[idx].id)\r\n                this.element.eventD[idx].event = null\r\n            } else if (endLine != undefined && endLine != this.editEventD.event.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/serviceEventD-'+this.element.eventD[idx].id)\r\n                this.newLine(this.element.uuid+'/serviceEventD-'+this.element.eventD[idx].id, this.element.uuid+'/serviceEventD', this.editEventD.event.uuid)\r\n                this.element.eventD[idx].event = this.editEventD.event.name\r\n            } else if (endLine == undefined && this.editEventD.event != null && this.editEventD.event.uuid != null) {\r\n                this.newLine(this.element.uuid+'/serviceEventD-'+this.element.eventD[idx].id, this.element.uuid+'/serviceEventD', this.editEventD.event.uuid)\r\n                this.element.eventD[idx].event = this.editEventD.event.name\r\n            } else if (this.editEventD.event != null && endLine == this.editEventD.event.uuid && this.element.eventD[idx].event != this.editEventD.event.name) {\r\n                this.element.eventD[idx].event = this.editEventD.event.name\r\n            }\r\n\r\n            if (this.element.eventD[idx].name != this.editEventD.name){\r\n                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                          changeName: 'EventD', listname: this.editEventD.name, beforename:this.element.eventD[idx].name} )\r\n            }\r\n\r\n            this.element.eventD[idx].name = this.editEventD.name\r\n            this.element.eventD[idx].idE = this.editEventD.idE\r\n            this.element.eventD[idx].maxlength = this.editEventD.maxlength\r\n            this.element.eventD[idx].time = this.editEventD.time\r\n            this.element.eventD[idx].serializer = this.editEventD.serializer\r\n            this.element.eventD[idx].protocal = this.editEventD.protocal\r\n            \r\n            this.cancelEventD()\r\n        },\r\n        cancelEventD() {\r\n            this.editEventD = Object.assign({}, this.defaultEventD)\r\n            this.setactiveUUID()\r\n        },\r\n        addEventD() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.eventD.some(item => item.id === n)\r\n            }\r\n            this.editEventD.id = n\r\n\r\n            if( this.editEventD.event != null) {\r\n                this.newLine(this.element.uuid+'/serviceEventD-'+n, this.element.uuid+'/serviceEventD', this.editEventD.event.uuid)\r\n                this.editEventD.event = this.editEventD.event.name\r\n            }\r\n\r\n            const addObj = Object.assign({}, this.editEventD)\r\n            this.element.eventD.push(addObj);\r\n            this.cancelEventD()\r\n        },\r\n        setVariableDataSelect() {\r\n            if (this.isEditingVariableData == true) {\r\n                if (this.editEventD.event != null && this.editEventD.event.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editEventD.event.uuid, element: constant.ServiceInterface_str} )\r\n                    document.getElementById(this.editEventD.event.uuid+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    EventBus.$emit('active-element', this.editEventD.event.uuid)\r\n                }\r\n                this.setVariableDataList()\r\n                this.isEditingVariableData = false\r\n            } else {\r\n                this.isEditingVariableData = true\r\n            }\r\n        },\r\n        setVariableDataList() {\r\n            this.selVariableData = this.$store.getters.getVariableDataPrototype\r\n            this.setactiveUUID()\r\n        },\r\n        clearVariableData() {\r\n            this.isEditingVariableData = true\r\n            this.editEventD.event = null\r\n        },\r\n\r\n        isCheckMethodD() {\r\n            if (this.isdeleteMethodD == true) {\r\n                this.isdeleteMethodD = false\r\n                this.selectDelectMethodD = []\r\n            } else {\r\n                this.isdeleteMethodD = true\r\n            }\r\n        },\r\n        deleteMethodD() {\r\n            if (this.isdeleteMethodD == true) {\r\n                this.selectDelectMethodD.forEach(item => {\r\n                    for(let i=0; i<this.element.methodD.length; i++){\r\n                        if (item.id == this.element.methodD[i].id) {\r\n                            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceMethodD-'+this.element.methodD[i].id)\r\n                            if(endLine != undefined) {\r\n                                this.deleteLine(this.element.uuid+'/serviceMethodD-'+this.element.methodD[i].id)\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n\r\n                this.$store.commit('deleteRefTable', {deleteName:'methodD', deletItemList: this.selectDelectMethodD, path: this.element.path, name: this.element.name})\r\n                this.element.methodD = this.element.methodD.filter(item => {\r\n                        return this.selectDelectMethodD.indexOf(item) < 0 })\r\n\r\n                this.isdeleteMethodD = false\r\n                this.selectDelectMethodD = []\r\n            } \r\n        },\r\n        openMethodD(idx) {\r\n            this.selClientServer = this.$store.getters.getClientServer,\r\n\r\n            this.editMethodD.name = this.element.methodD[idx].name\r\n            if ( this.element.methodD[idx].method != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceMethodD-'+this.element.methodD[idx].id)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getServiceInterfacePath(this.element.methodD[idx].method, 3)\r\n                }\r\n                this.editMethodD.method = { name: this.element.methodD[idx].method, uuid: endLine}\r\n            }\r\n            this.editMethodD.idM = this.element.methodD[idx].idM\r\n            this.editMethodD.maxrequest = this.element.methodD[idx].maxrequest\r\n            this.editMethodD.maxresponse = this.element.methodD[idx].maxresponse\r\n            this.editMethodD.timerequest = this.element.methodD[idx].timerequest\r\n            this.editMethodD.timeresponse = this.element.methodD[idx].timeresponse\r\n            this.editMethodD.protocal = this.element.methodD[idx].protocal\r\n        },\r\n        editMethodDItem(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceMethodD-'+this.element.methodD[idx].id)\r\n            if (endLine != undefined && this.editMethodD.method == null) {\r\n                this.deleteLine(this.element.uuid+'/serviceMethodD-'+this.element.methodD[idx].id)\r\n                this.element.methodD[idx].method = null\r\n            } else if (endLine != undefined && endLine != this.editMethodD.method.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/serviceMethodD-'+this.element.methodD[idx].id)\r\n                this.newLine(this.element.uuid+'/serviceMethodD-'+this.element.methodD[idx].id, this.element.uuid+'/serviceMethodD', this.editMethodD.method.uuid)\r\n                this.element.methodD[idx].method = this.editMethodD.method.name\r\n            } else if (endLine == undefined && this.editMethodD.method != null && this.editMethodD.method.uuid != null) {\r\n                this.newLine(this.element.uuid+'/serviceMethodD-'+this.element.methodD[idx].id, this.element.uuid+'/serviceMethodD', this.editMethodD.method.uuid)\r\n                this.element.methodD[idx].method = this.editMethodD.method.name\r\n            } else if (this.editMethodD.method != null && endLine == this.editMethodD.method.uuid && this.element.methodD[idx].method != this.editMethodD.method.name) {\r\n                this.element.methodD[idx].method = this.editMethodD.method.name\r\n            }\r\n\r\n            if (this.element.methodD[idx].name != this.editMethodD.name){\r\n                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                          changeName: 'MethodD', listname: this.editMethodD.name, beforename: this.element.methodD[idx].name} )\r\n            }\r\n\r\n            this.element.methodD[idx].name = this.editMethodD.name\r\n            this.element.methodD[idx].idM = this.editMethodD.idM\r\n            this.element.methodD[idx].maxrequest = this.editMethodD.maxrequest\r\n            this.element.methodD[idx].maxresponse = this.editMethodD.maxresponse\r\n            this.element.methodD[idx].timerequest = this.editMethodD.timerequest\r\n            this.element.methodD[idx].timeresponse = this.editMethodD.timeresponse\r\n            this.element.methodD[idx].protocal = this.editMethodD.protocal\r\n            \r\n            this.cancelMethodD()\r\n        },\r\n        cancelMethodD() {\r\n            this.editMethodD = Object.assign({}, this.defaultMethodD)\r\n            this.setactiveUUID()\r\n        },\r\n        addMethodD() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.methodD.some(item => item.id === n)\r\n            }\r\n            this.editMethodD.id = n\r\n\r\n            if( this.editMethodD.method != null) {\r\n                this.newLine(this.element.uuid+'/serviceMethodD-'+n, this.element.uuid+'/serviceMethodD', this.editMethodD.method.uuid)\r\n                this.editMethodD.method = this.editMethodD.method.name\r\n            }\r\n\r\n            const addObj = Object.assign({}, this.editMethodD)\r\n            this.element.methodD.push(addObj);\r\n            this.cancelMethodD()\r\n        },\r\n        setClientServerSelect() {\r\n            if (this.isEditingClientServer == true) {\r\n                if (this.editMethodD.method != null && this.editMethodD.method.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editMethodD.method.uuid, element: constant.ServiceInterface_str} )\r\n                    document.getElementById(this.editMethodD.method.uuid+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    EventBus.$emit('active-element', this.editMethodD.method.uuid)\r\n                }\r\n                this.setClientServerList()\r\n                this.isEditingClientServer = false\r\n            } else {\r\n                this.isEditingClientServer = true\r\n            }\r\n        },\r\n        setClientServerList() {\r\n            this.selClientServer = this.$store.getters.getClientServer\r\n            this.setactiveUUID()\r\n        },\r\n        clearClientServer() {\r\n            this.isEditingClientServer = true\r\n            this.editMethodD.method = null\r\n        },\r\n\r\n        clickFieldName(name) {\r\n            this.beforeField = name\r\n        },\r\n        clickFieldGetName(name) {\r\n            this.beforeGet = name\r\n        },\r\n        clickFieldSetName(name) {\r\n            this.beforeSet = name\r\n        },\r\n        clickFieldNotName(name) {\r\n            this.beforeNoti = name\r\n        },\r\n        inputFieldName(name) {\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                          changeName: 'fileName', listname: name, beforename: this.beforeField} )\r\n            this.beforeField = name\r\n        },\r\n        inputFieldGetName(name) {\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                          changeName: 'getName', listname: name, beforename: this.beforeGet} )\r\n            this.beforeGet = name\r\n        },\r\n        inputFieldSetName(name) {\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                          changeName: 'setName', listname: name, beforename: this.beforeSet} )\r\n            this.beforeSet = name\r\n        },\r\n        inputFieldNotName(name) {\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                          changeName: 'notName', listname: name, beforename: this.beforeNoti} )\r\n            this.beforeNoti = name\r\n        },\r\n        addField() {\r\n            const editItem = {name: '', field:null,\r\n                              getname: '',getid: '',getmaxreq: '',getmaxres: '',gettimereq: '',gettimeres: '',getproto: null,\r\n                              setname: '',setid: '',setmaxreq: '',setmaxres: '',settimereq: '',settimeres: '',setproto: null,\r\n                              notname: '',notid: '',notmax: '',nottime: '',notserial: null,notproto: null, id: ''}\r\n            const addObj = new Object(editItem)\r\n            let res = true, n = 0\r\n\r\n            while (res) {\r\n                addObj.name = 'Field_Deployment_' + n++;\r\n                res = this.element.fieldD.some(ele => ele.name === addObj.name)\r\n            }\r\n            addObj.id = n\r\n            this.element.fieldD.push(addObj)\r\n            this.fieldTab = this.element.fieldD.length-1\r\n            if(this.location == 1) {\r\n                EventBus.$emit('changeLine-someipService', 'field', this.element.uuid, null)\r\n            }\r\n        },\r\n        clickFieldtab() {\r\n            //console.log(idx)\r\n            this.isGetOpenClose = true\r\n            this.isSetOpenClose = true\r\n            this.isNotifierOpenClose = true\r\n        },\r\n        changeFieldTab() {\r\n            //console.log('change'+' / ')\r\n            //이렇게 해줘야지 tab에 있는것을 다 그린다음에 선을 다시 그려줄수있다.\r\n            if(this.element.fieldD.length > 0 && this.location == 1 && this.fieldTab != undefined){\r\n                setTimeout(() => {EventBus.$emit('changeLine-someipService', 'field', this.element.uuid, this.fieldTab, this.element.fieldD[this.fieldTab].id)}, 300);\r\n            }\r\n        },\r\n        deleteField(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/field-'+this.element.fieldD[idx].id)\r\n            if(endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/field-'+this.element.fieldD[idx].id)\r\n            }\r\n            this.$store.commit('deleteRefTable', {deleteName:'FieldD', deleteTab: true, tabName: this.element.fieldD[idx].name, path: this.element.path, name: this.element.name,\r\n                                                    getname: this.element.fieldD[idx].getname, setname: this.element.fieldD[idx].setname, notname: this.element.fieldD[idx].notname})\r\n\r\n            this.element.fieldD.splice(idx, 1)\r\n        },\r\n        setFieldSelect() {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/field-'+this.element.fieldD[this.fieldTab].id)\r\n            if (endLine == undefined) {\r\n                endLine = this.$store.getters.getServiceInterfacePath(this.element.fieldD[this.fieldTab].field, 2)\r\n            }\r\n            if (endLine != null) {\r\n                this.$store.commit('setDetailView', {uuid: endLine, element: constant.ServiceInterface_str} )\r\n                document.getElementById(endLine+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                EventBus.$emit('active-element', endLine)\r\n            }\r\n        },\r\n        setServiceRef(item) {\r\n            //console.log(item)\r\n            if( this.element.fieldD[this.fieldTab].field != item.name) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/field-'+this.element.fieldD[this.fieldTab].id)\r\n                if (endLine != undefined && endLine != item.uuid) {\r\n                    //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                    this.deleteLine(this.element.uuid+'/field-'+this.element.fieldD[this.fieldTab].id)\r\n                }\r\n                //새로 추가해준다\r\n                if (endLine != item.uuid) {\r\n                    this.newLine(this.element.uuid+'/field-'+this.element.fieldD[this.fieldTab].id, this.element.uuid+'/fieldtab'+this.element.fieldD[this.fieldTab].id, item.uuid)\r\n                }\r\n                this.element.fieldD[this.fieldTab].field = item.name\r\n            }\r\n            this.setactiveUUID()\r\n        },\r\n        setFieldList() {\r\n            this.selField = this.$store.getters.getField\r\n            this.setactiveUUID()\r\n        },\r\n        clearField() {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/field-'+this.element.fieldD[this.fieldTab].id)\r\n            if (endLine != undefined) {\r\n                this.element.fieldD[this.fieldTab].field = null\r\n                this.deleteLine(this.element.uuid+'/field-'+this.element.fieldD[this.fieldTab].id)\r\n            }\r\n        },\r\n\r\n\r\n        setactiveUUID() {\r\n            this.$store.commit('setuuid', {uuid: this.element.uuid} )\r\n            this.$store.commit('editSomeIPService', {compo:\"z\", uuid:this.element.uuid, zindex:10} )\r\n        },\r\n        deleteLine(fineLine) {\r\n            var linenum = this.$store.getters.getconnectLineNum(fineLine)\r\n            if (linenum != -1) {\r\n                EventBus.$emit('delete-line', linenum)\r\n                this.$store.commit('deletConnectionline', {startnum: linenum} )\r\n            }\r\n        },\r\n        newLine(startLine, drawLine, endLine) {\r\n            this.$store.commit('setConnectionline', {start: startLine, end: endLine} )\r\n            EventBus.$emit('new-line', drawLine, endLine)\r\n        },\r\n\r\n        viewARXML() {\r\n            this.editARXML.name = this.element.name\r\n            this.editARXML.majversion = this.element.majversion\r\n            this.editARXML.minversion = this.element.minversion\r\n            this.editARXML.id = this.element.id\r\n            this.editARXML.service = this.element.service\r\n            this.editARXML.eventG = JSON.parse(JSON.stringify(this.element.eventG))\r\n            this.editARXML.eventD = JSON.parse(JSON.stringify(this.element.eventD))\r\n            this.editARXML.methodD = JSON.parse(JSON.stringify(this.element.methodD))\r\n            this.editARXML.fieldD = JSON.parse(JSON.stringify(this.element.fieldD))\r\n            this.dialogText= true\r\n        },\r\n        saveARXML() {\r\n            if (this.element.name != this.editARXML.name) {\r\n                this.$store.commit('editSomeIPService', {compo:\"Name\", uuid:this.element.uuid, name:this.editARXML.name} )\r\n                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.editARXML.name, \r\n                                                        changeName: 'Name', pathLength:this.element.path.split('/').length, beforename: this.element.name} )\r\n                if (this.editARXML.name != '') {\r\n                    this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.editARXML.name, path:this.element.path})\r\n                }\r\n            }\r\n            this.element.name = this.editARXML.name\r\n            this.element.majversion = this.editARXML.majversion\r\n            this.element.minversion = this.editARXML.minversion\r\n            this.element.id = this.editARXML.id\r\n\r\n            this.editTableList()\r\n            var endLine = null, changEndLine = null\r\n\r\n            if (this.editARXML.service != this.element.service) {\r\n                endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/service')\r\n                if (endLine != undefined) {\r\n                    this.deleteLine(this.element.uuid+'/service')\r\n                }\r\n                changEndLine = this.$store.getters.getServiceInterfacePath(this.editARXML.service, 0)\r\n                if (changEndLine != null) {\r\n                    this.newLine(this.element.uuid+'/service', this.element.uuid+'/service', changEndLine)\r\n                }\r\n            }\r\n            this.element.service = this.editARXML.service\r\n\r\n            if (this.editARXML.eventD.length > 0) {\r\n                this.editARXML.eventD.forEach(item => {\r\n                    var isHaveTable = false\r\n                    for(let n=0; n<this.element.eventD.length; n++){\r\n                        if (this.element.eventD[n].id == item.id &&\r\n                            this.element.eventD[n].event == item.event ) {\r\n                            isHaveTable = true\r\n                        }\r\n                    }\r\n                    if (!isHaveTable) {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceEventD-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/serviceEventD-'+item.id)\r\n                        }\r\n                        changEndLine = this.$store.getters.getServiceInterfacePath(item.event, 1)\r\n                        if (changEndLine != null) {\r\n                            this.newLine(this.element.uuid+'/serviceEventD-'+item.id, this.element.uuid+'/serviceEventD', changEndLine)\r\n                        }\r\n                    }\r\n\r\n                    if (item.serializer != null) {\r\n                        item.serializer = item.serializer.toUpperCase()\r\n                        if(!(item.serializer == 'SOMEIP' || item.serializer == 'SIGNAL-BASED')) {\r\n                            item.serializer = null\r\n                        }\r\n                    }\r\n                    if (item.protocal != null) {\r\n                        item.protocal = item.protocal.toUpperCase()\r\n                        if(!(item.protocal == 'UDP' || item.protocal == 'TCP')) {\r\n                            item.protocal = null\r\n                        }\r\n                    }\r\n                })\r\n                this.element.eventD.forEach(item => {\r\n                    var isHaveTable = false\r\n                    this.editARXML.eventD.forEach(edit => {\r\n                        if (edit.id == item.id) {\r\n                            isHaveTable = true\r\n                        }\r\n                    })\r\n                    if (!isHaveTable) {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceEventD-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/serviceEventD-'+item.id)\r\n                        }\r\n                    }\r\n                })\r\n            } else {\r\n                if (this.element.eventD.length > 0) {\r\n                    this.element.eventD.forEach(item => {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/Eventtable-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/serviceEventD-'+item.id)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            this.element.eventD = JSON.parse(JSON.stringify(this.editARXML.eventD))\r\n\r\n            if (this.editARXML.methodD.length > 0) {\r\n                this.editARXML.methodD.forEach(item => {\r\n                    var isHaveTable = false\r\n                    for(let n=0; n<this.element.methodD.length; n++){\r\n                        if (this.element.methodD[n].id == item.id &&\r\n                            this.element.methodD[n].method == item.method ) {\r\n                            isHaveTable = true\r\n                        }\r\n                    }\r\n                    if (!isHaveTable) {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceMethodD-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/serviceMethodD-'+item.id)\r\n                        }\r\n                        changEndLine = this.$store.getters.getServiceInterfacePath(item.method, 3)\r\n                        if (changEndLine != null) {\r\n                            this.newLine(this.element.uuid+'/serviceMethodD-'+item.id, this.element.uuid+'/serviceMethodD', changEndLine)\r\n                        }\r\n                    }\r\n\r\n                    if (item.protocal != null) {\r\n                        item.protocal = item.protocal.toUpperCase()\r\n                        if(!(item.protocal == 'UDP' || item.protocal == 'TCP')) {\r\n                            item.protocal = null\r\n                        }\r\n                    }\r\n                })\r\n                this.element.methodD.forEach(item => {\r\n                    var isHaveTable = false\r\n                    this.editARXML.methodD.forEach(edit => {\r\n                        if (edit.id == item.id) {\r\n                            isHaveTable = true\r\n                        }\r\n                    })\r\n                    if (!isHaveTable) {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceMethodD-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/serviceMethodD-'+item.id)\r\n                        }\r\n                    }\r\n                })\r\n            } else {\r\n                if (this.element.methodD.length > 0) {\r\n                    this.element.methodD.forEach(item => {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/serviceMethodD-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/serviceMethodD-'+item.id)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            this.element.methodD = JSON.parse(JSON.stringify(this.editARXML.methodD))\r\n\r\n            if (this.editARXML.fieldD.length > 0) {\r\n                this.editARXML.fieldD.forEach(item => {\r\n                    var isHaveTable = false\r\n                    for(let n=0; n<this.element.fieldD.length; n++){\r\n                        if (this.element.fieldD[n].id == item.id &&\r\n                            this.element.fieldD[n].field == item.field ) {\r\n                            isHaveTable = true\r\n                        }\r\n                    }\r\n                    if (!isHaveTable) {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/field-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/field-'+item.id)\r\n                        }\r\n                        changEndLine = this.$store.getters.getServiceInterfacePath(item.field, 2)\r\n                        if (changEndLine != null) {\r\n                            this.newLine(this.element.uuid+'/field-'+item.id, this.element.uuid+'/field', changEndLine)\r\n                        }\r\n                    }\r\n\r\n                    if (item.getproto != null) {\r\n                        item.getproto = item.getproto.toUpperCase()\r\n                        if(!(item.getproto == 'UDP' || item.getproto == 'TCP')) {\r\n                            item.getproto = null\r\n                        }\r\n                    }\r\n                    if (item.setproto != null) {\r\n                        item.setproto = item.setproto.toUpperCase()\r\n                        if(!(item.setproto == 'UDP' || item.setproto == 'TCP')) {\r\n                            item.setproto = null\r\n                        }\r\n                    }\r\n                    if (item.notproto != null) {\r\n                        item.notproto = item.notproto.toUpperCase()\r\n                        if(!(item.notproto == 'UDP' || item.notproto == 'TCP')) {\r\n                            item.notproto = null\r\n                        }\r\n                    }\r\n                    if (item.notserial != null) {\r\n                        item.notserial = item.notserial.toUpperCase()\r\n                        if(!(item.notserial == 'SOMEIP' || item.notserial == 'SIGNAL-BASED')) {\r\n                            item.notserial = null\r\n                        }\r\n                    }\r\n                })\r\n                this.element.fieldD.forEach(item => {\r\n                    var isHaveTable = false\r\n                    this.editARXML.fieldD.forEach(edit => {\r\n                        if (edit.id == item.id) {\r\n                            isHaveTable = true\r\n                        }\r\n                    })\r\n                    if (!isHaveTable) {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/field-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/field-'+item.id)\r\n                        }\r\n                    }\r\n                })\r\n            } else {\r\n                if (this.element.fieldD.length > 0) {\r\n                    this.element.fieldD.forEach(item => {\r\n                        endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/field-'+item.id)\r\n                        if (endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/field-'+item.id)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            this.element.fieldD = JSON.parse(JSON.stringify(this.editARXML.fieldD))\r\n\r\n            if (this.editARXML.eventG.length > 0) {\r\n                this.editARXML.eventG.forEach(item => {\r\n                    item.event.forEach(data => {\r\n                        var isHaveTable = false\r\n                        this.element.eventG.forEach(ev => {\r\n                            ev.event.forEach(eve => {\r\n                                if (eve.id == data.id && eve.event == data.event) {\r\n                                    isHaveTable = true\r\n                                }\r\n                            })\r\n                        })\r\n                        if (!isHaveTable) {\r\n                            endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/eventtab-'+data.id+'-'+item.id)\r\n                            if (endLine != undefined) {\r\n                                this.deleteLine(this.element.uuid+'/eventtab-'+data.id+'-'+item.id)\r\n                            }\r\n                            changEndLine = this.$store.getters.getSomeIPEventDeploymentPath(data.event)\r\n                            if (changEndLine != null) {\r\n                                this.newLine(this.element.uuid+'/eventtab-'+data.id+'-'+item.id, this.element.uuid+'/event', changEndLine)\r\n                            }\r\n                        }\r\n                    })\r\n                })\r\n                this.element.eventG.forEach(item => {\r\n                    item.event.forEach(data => {\r\n                        var isHaveTable = false\r\n                        this.editARXML.eventG.forEach(edit => {\r\n                            edit.event.forEach(editE => {\r\n                                if (editE.id == data.id) {\r\n                                    isHaveTable = true\r\n                                }\r\n                            })\r\n                        })\r\n                        if (!isHaveTable) {\r\n                            endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/eventtab-'+data.id+'-'+item.id)\r\n                            if (endLine != undefined) {\r\n                                this.deleteLine(this.element.uuid+'/eventtab-'+data.id+'-'+item.id)\r\n                            }\r\n                        }\r\n                    })\r\n                })\r\n            } else {\r\n                if (this.element.eventG.length > 0) {\r\n                    this.element.eventG.forEach(item => {\r\n                        item.event.forEach(data => {\r\n                            if (data.event != null) {\r\n                                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/eventtab-'+data.id+'-'+item.id)\r\n                                if (endLine != undefined) {\r\n                                    this.deleteLine(this.element.uuid+'/eventtab-'+data.id+'-'+item.id)\r\n                                }\r\n                            }\r\n                        })\r\n                    })\r\n                }\r\n            }\r\n            this.element.eventG = JSON.parse(JSON.stringify(this.editARXML.eventG))\r\n            this.cancelARXML()\r\n        },\r\n        editTableList() {\r\n            var deleteItem = []\r\n            if (this.editARXML.eventD.length > 0) {\r\n                deleteItem = []\r\n                this.element.eventD.forEach(item => {\r\n                    var isExistence = false\r\n                    this.editARXML.eventD.forEach(data => {\r\n                        if (data.id == item.id) {\r\n                            isExistence = true\r\n                            if (data.name != item.name) {\r\n                                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                        changeName: 'EventD', listname: data.name, beforename: item.name} )\r\n                            }\r\n                        }\r\n                    })\r\n                    if (!isExistence) {\r\n                        deleteItem.push(item)\r\n                    }\r\n                })\r\n                if (deleteItem.length > 0)\r\n                {\r\n                    this.$store.commit('deleteRefTable', {deleteName:'eventD', deletItemList: deleteItem, path: this.element.path, name: this.element.name})\r\n                }\r\n            } else {\r\n                if (this.element.eventD.length > 0) {\r\n                    this.$store.commit('deleteRefTable', {deleteName:'eventD', deletItemList: this.element.eventD, path: this.element.path, name: this.element.name})\r\n                }\r\n            }\r\n\r\n            if (this.editARXML.methodD.length > 0) {\r\n                deleteItem = []\r\n                this.element.methodD.forEach(item => {\r\n                    var isExistence = false\r\n                    this.editARXML.methodD.forEach(data => {\r\n                        if (data.id == item.id) {\r\n                            isExistence = true\r\n                            if (data.name != item.name) {\r\n                                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                        changeName: 'MethodD', listname: data.name, beforename: item.name} )\r\n                            }\r\n                        }\r\n                    })\r\n                    if (!isExistence) {\r\n                        deleteItem.push(item)\r\n                    }\r\n                })\r\n                if (deleteItem.length > 0)\r\n                {\r\n                    this.$store.commit('deleteRefTable', {deleteName:'methodD', deletItemList: deleteItem, path: this.element.path, name: this.element.name})\r\n                }\r\n            } else {\r\n                if (this.element.methodD.length > 0) {\r\n                    this.$store.commit('deleteRefTable', {deleteName:'methodD', deletItemList: this.element.methodD, path: this.element.path, name: this.element.name})\r\n                }\r\n            }\r\n\r\n            if (this.editARXML.fieldD.length > 0) {\r\n                this.element.fieldD.forEach(item => {\r\n                    var isHaveTable = false\r\n                    this.editARXML.fieldD.forEach(data => {\r\n                        if (data.id == item.id) {\r\n                            isHaveTable = true\r\n                            if (data.name != item.name) {\r\n                                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                        changeName: 'fileName', listname: data.name, beforename: item.name} )\r\n                            }\r\n                            if (data.getname != item.getname) {\r\n                                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                        changeName: 'getName', listname: data.getname, beforename: item.getname} )\r\n                            }\r\n                            if (data.setname != item.setname) {\r\n                                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                        changeName: 'setName', listname: data.setname, beforename: item.setname} )\r\n                            }\r\n                            if (data.notname != item.notname) {\r\n                                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                        changeName: 'notName', listname: data.notname, beforename: item.notname} )\r\n                            }\r\n                        }\r\n                    })\r\n                    if (!isHaveTable) {\r\n                        this.$store.commit('deleteRefTable', {deleteName:'FieldD', deleteTab: true, tabName: item.name, path: this.element.path, name: this.element.name,\r\n                                        getname: item.getname, setname: item.setname, notname: item.notname})\r\n\r\n                    }\r\n                })\r\n            } else {\r\n                if (this.element.fieldD.length > 0) {\r\n                    this.element.fieldD.forEach(item => {\r\n                        this.$store.commit('deleteRefTable', {deleteName:'FieldD', deleteTab: true, tabName: item.name, path: this.element.path, name: this.element.name,\r\n                                        getname: item.getname, setname: item.setname, notname: item.notname})\r\n\r\n                    })\r\n                }\r\n            }\r\n\r\n            if (this.editARXML.eventG.length > 0) {\r\n                this.element.eventG.forEach(item => {\r\n                    var isHaveTable = false\r\n                    this.editARXML.eventG.forEach(data => {\r\n                        if (data.id == item.id) {\r\n                            isHaveTable = true\r\n                            if (data.name != item.name) {\r\n                                this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                        changeName: 'EventG', listname: data.name, beforename: item.name} )\r\n                            }\r\n                        }\r\n                    })\r\n                    if (!isHaveTable) {\r\n                        this.$store.commit('deleteRefTable', {deleteName:'eventG', deleteTab: true, tabName: item.name, path: this.element.path, name: this.element.name})\r\n                    }\r\n                })\r\n            } else {\r\n                if (this.element.eventG.length > 0) {\r\n                    this.element.eventG.forEach(item => {\r\n                        this.$store.commit('deleteRefTable', {deleteName:'eventG', deleteTab: true, tabName: item.name, path: this.element.path, name: this.element.name})\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        cancelARXML() {\r\n            this.editARXML = {name:'', service: null, majversion:'', minversion:'', id: '', eventG:[], eventD: [], methodD:[], fieldD:[]}\r\n            this.editTextEventD = {name:'', event: null, idE:'', maxlength:'', time:'', serializer:null, protocal:null, id: ''}\r\n            this.editTextMethod = {name:'', method: null, idM:'', maxrequest:'', maxresponse:'', timerequest:'', timeresponse:'', protocal:null, id: ''}\r\n            this.editTextField = {name: '', field:null,\r\n                              getname: '',getid: '',getmaxreq: '',getmaxres: '',gettimereq: '',gettimeres: '',getproto: null,\r\n                              setname: '',setid: '',setmaxreq: '',setmaxres: '',settimereq: '',settimeres: '',setproto: null,\r\n                              notname: '',notid: '',notmax: '',nottime: '',notserial: null,notproto: null, id: ''}\r\n            this.editTextEventG = {name: '', idG: '', event: [], id: ''}\r\n            this.editTextEventRef = { event: null, id: ''}\r\n            this.dialogText = false\r\n        },\r\n        newTextMethod() {\r\n            this.editTextMethod = {name:'', method: null, idM:'', maxrequest:'', maxresponse:'', timerequest:'', timeresponse:'', protocal:null, id: ''}\r\n            let res = true, n = 0\r\n            while (res) {\r\n                 n++;\r\n                res = this.editARXML.methodD.some(item => item.id === n)\r\n            }\r\n            this.editTextMethod.id = n\r\n\r\n            const addObj = Object.assign({}, this.editTextMethod)\r\n            this.editARXML.methodD.push(addObj);\r\n        },\r\n        deletTextMethod(idx) {\r\n            this.editARXML.methodD.splice(idx,1)\r\n        },\r\n        newTextEventD() {\r\n            this.editTextEventD = {name: '', type: null, id: ''}\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++;\r\n                res = this.editARXML.eventD.some(item => item.id === n)\r\n            }\r\n            this.editTextEventD.id = n\r\n\r\n            const addObj = Object.assign({}, this.editTextEventD)\r\n            this.editARXML.eventD.push(addObj);\r\n        },\r\n        deletTextEventD(idx) {\r\n            this.editARXML.eventD.splice(idx,1)\r\n        },\r\n        newTextField() {\r\n            this.editTextField = {name: '', field:null,\r\n                              getname: '',getid: '',getmaxreq: '',getmaxres: '',gettimereq: '',gettimeres: '',getproto: null,\r\n                              setname: '',setid: '',setmaxreq: '',setmaxres: '',settimereq: '',settimeres: '',setproto: null,\r\n                              notname: '',notid: '',notmax: '',nottime: '',notserial: null,notproto: null, id: ''}\r\n            let res = true, n = 0\r\n            while (res) {\r\n                this.editTextField.name = 'Field_Deployment_'+n++;\r\n                res = this.editARXML.fieldD.some(item => item.id === n)\r\n            }\r\n            this.editTextField.id = n\r\n\r\n            const addObj = Object.assign({}, this.editTextField)\r\n            this.editARXML.fieldD.push(addObj);\r\n        },\r\n        deletTextField(idx) {\r\n            this.editARXML.fieldD.splice(idx,1)\r\n        },\r\n        newTextEventG() {\r\n            this.editTextEventG = {name: '', idG: '', event: [], id: ''}\r\n            let res = true, n = 0\r\n            while (res) {\r\n                this.editTextEventG.name = 'Event Group_' + n++\r\n                res = this.editARXML.eventG.some(item => item.id === n)\r\n            }\r\n            this.editTextEventG.id = n\r\n\r\n            const addObj = Object.assign({}, this.editTextEventG)\r\n            this.editARXML.eventG.push(addObj);\r\n        },\r\n        deletTextEventG(idx, ) {\r\n            this.editARXML.eventG.splice(idx,1)\r\n        },\r\n        newTextEventR(idxEventG) {\r\n            this.editTextEventRef = {event: null, id: ''}\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++;\r\n                res = this.editARXML.eventG[idxEventG].event.some(item => item.id === n)\r\n            }\r\n            this.editTextEventRef.id = n\r\n\r\n            const addObj = Object.assign({}, this.editTextEventRef)\r\n            this.editARXML.eventG[idxEventG].event.push(addObj);\r\n        },\r\n        deletTextEventR(idx, idxEventG) {\r\n            this.editARXML.eventG[idxEventG].event.splice(idx,1)\r\n        },\r\n\r\n    },\r\n\r\n}\r\n</script>"]}]}