{"remainingRequest":"D:\\source\\service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\source\\service\\src\\components\\Process.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\source\\service\\src\\components\\Process.vue","mtime":1651541736750},{"path":"D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgY29uc3RhbnQgZnJvbSAiLi4vc3RvcmUvY29uc3RhbnRzLmpzIg0KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICIuLi9tYWluLmpzIg0KaW1wb3J0IGRpYWxvZ1BhdGhTZXR0aW5nIGZyb20gJy4uL2NvbXBvbmVudHMvZGlhbG9nUGF0aFNldHRpbmcudnVlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IFsnZWxlbWVudCcsICdpc0RhdGFpbFZpZXcnLCAnbWluaW1hcHRvb2xiYXInXSwNCiAgICBjb21wb25lbnRzOntkaWFsb2dQYXRoU2V0dGluZ30sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgYWN0aXZlVVVJRCgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVVVUlEDQogICAgICAgIH0sDQogICAgICAgIGRldGFpbFZpZXdVVUlEKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmRldGFpbFZpZXdVVUlEDQogICAgICAgIH0NCiAgICB9LA0KICAgIHdhdGNoOiB7DQogICAgICAgIGFjdGl2ZVVVSUQodmFsKSB7DQogICAgICAgICAgICB0aGlzLnNldFRvb2xiYXJDb2xvcih2YWwpDQogICAgICAgIH0sDQogICAgICAgIGRldGFpbFZpZXdVVUlEKHZhbCkgew0KICAgICAgICAgICAgdGhpcy5zZXRUb29sYmFyQ29sb3JEZXRhaWxWaWV3KHZhbCkNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy5zZXRUb29sYmFyQ29sb3IodGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRCkNCiAgICB9LA0KDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHJ1bGVzOiB7DQogICAgICAgICAgICAgICAgbmFtZTogIFt2YWwgPT4gKHZhbCB8fCAnJykubGVuZ3RoID4gMCBdLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRpYWxvZ1BhdGggOiBmYWxzZSwNCiAgICAgICAgICAgIGNvbG9yVG9vbGJhcjogIiM2QTVBQ0QiLA0KICAgICAgICAgICAgaXNlbGVtZW50T3BlbkNsb3NlOiB0aGlzLm1pbmltYXB0b29sYmFyLCAvL3Rvb2xiYXLrp4wg67O07Jes7KSE6rKD7J2064OQIOyVhOuLiOuDkCDshKTsoJUgdHJ1ZTog7KCE7LK0IOuLpCDrs7Tsl6zspIwgLyBmYWxzZSA6IHRvb2xiYXLrp4wg67O07Jes7KSMDQogICAgICAgICAgICBpc1N0YXRlTWFjaGluZU9wZW5DbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzRGVwZW5kZW50U3RhcnR1cE9wZW5DbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzRnVuY3Rpb25HT3BlbkNsb3NlIDogdHJ1ZSwNCiAgICAgICAgICAgIHNlbFByb2Nlc3NEZXNpZ246IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0UHJvY2Vzc0Rlc2lnbiwNCiAgICAgICAgICAgIHNlbERldGVybWluaXN0aWM6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0RGV0ZXJtaW5pc3RpY0NsaWVudCwNCiAgICAgICAgICAgIHNlbEV4ZWN1dGFibGU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0RXhlY3V0YWJsZSwNCiAgICAgICAgICAgIHNlbE1vZGVEZWNsYXJhdGlvbjogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRNb2RlRGVjbGFyYXRpb25HLA0KICAgICAgICAgICAgc2VsUmVzb3VyY2VHOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFJlc291cmNlR3JvdXAsDQogICAgICAgICAgICBzZWxTdGFydHVwQzogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTdGFydHVwQ29uZmlnLA0KICAgICAgICAgICAgZGVwZW5kZW50U3RhcnR1cFRhYjogMCwNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaXNkZWxldGVGdW5jdGlvbkc6IGZhbHNlLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0RnVuY3Rpb25HSXRlbTogW10sDQogICAgICAgICAgICBoZWFkZXJGdW5jdGlvbkc6IFsNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdDb250ZXh0IE1vZGUgUmVmJywgYWxpZ246ICdzdGFydCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdjb250ZXh0TW9kZScgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdUYXJnZXQgTW9kZSBSZWYnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAndGFyZ2V0TW9kZScgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBpc0VkaXRpbmdDb250ZXh0TW9kZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzRWRpdGluZ1RhcmdldE1vZGU6IHRydWUsDQogICAgICAgICAgICBkZWZhdWx0RnVuY3Rpb25HSXRlbTogeyBjb250ZXh0TW9kZTogbnVsbCwgdGFyZ2V0TW9kZTogbnVsbCB9LA0KICAgICAgICAgICAgZWRpdEZ1bmN0aW9uR0l0ZW06IHsgY29udGV4dE1vZGU6IG51bGwsIHRhcmdldE1vZGU6IG51bGwgfSwNCiAgICAgICAgICAgIHNlbENvbnRleHRNb2RlOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1vZGVEZWNsYXJhdGlvbkdQLA0KICAgICAgICAgICAgc2VsVGFyZ2V0TW9kZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRNb2RlRGVjbGFyYXRpb24sDQogICAgICAgICAgICBjaGFuZ2VMaW5lRnVuYzogW10sDQoNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCAoKSB7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIHN1Ym1pdERpYWxvZyhlbGVtZW50KSB7DQogICAgICAgICAgICB0aGlzLmVsZW1lbnQucGF0aCA9IGVsZW1lbnQNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lfSApDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2lzaW50b0Vycm9yTGlzdCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBuYW1lOnRoaXMuZWxlbWVudC5uYW1lLCBwYXRoOnRoaXMuZWxlbWVudC5wYXRofSkNCiAgICAgICAgfSwNCiAgICAgICAgc2V0VG9vbGJhckNvbG9yKGFjdGl2ZWlkKSANCiAgICAgICAgew0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LnV1aWQgPT0gYWN0aXZlaWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yVG9vbGJhciA9ICIjRkYxNDkzIiANCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xvclRvb2xiYXIgPSAiIzZBNUFDRCINCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0VG9vbGJhckNvbG9yRGV0YWlsVmlldyhpc2RldGFpbCkgew0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LnV1aWQgPT0gaXNkZXRhaWwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yVG9vbGJhciA9ICIjQjBFMEU2IiANCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50LnV1aWQgPT0gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRCkgew0KICAgICAgICAgICAgICAgIHRoaXMuY29sb3JUb29sYmFyICA9ICIjRkYxNDkzIg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yVG9vbGJhciA9ICIjNkE1QUNEIg0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzaG93UHJvY2VzcygpIHsNCiAgICAgICAgICAgIHRoaXMuaXNlbGVtZW50T3BlbkNsb3NlID0gdGhpcy5pc2VsZW1lbnRPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZHJhd0xpbmVUaXRsZUJhcicsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmlzZWxlbWVudE9wZW5DbG9zZSkNCiAgICAgICAgICAgICAgICBpZih0aGlzLmlzZWxlbWVudE9wZW5DbG9zZSkgew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuZGVwZW5kZW50Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGVwZW5kZW50U3RhcnR1cE9wZW5DbG9zZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJycsIHRoaXMuZWxlbWVudC51dWlkLCBudWxsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgc2hvd1N0YXRlTWFjaGluZSgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNTdGF0ZU1hY2hpbmVPcGVuQ2xvc2UgPSB0aGlzLmlzU3RhdGVNYWNoaW5lT3BlbkNsb3NlID8gZmFsc2UgOiB0cnVlDQogICAgICAgICAgICAvLyDshKDsnYQg64uk7IucIOq3uOugpOykmOyVvCDtlZjquLAg65WM66y47JeQDQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZHJhd0xpbmUnKQ0KICAgICAgICB9LA0KICAgICAgICBzaG93RGVwZW5kZW50U3RhcnR1cCgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNEZXBlbmRlbnRTdGFydHVwT3BlbkNsb3NlID0gdGhpcy5pc0RlcGVuZGVudFN0YXJ0dXBPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC5kZXBlbmRlbnQubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5pc0RlcGVuZGVudFN0YXJ0dXBPcGVuQ2xvc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICcnLCB0aGlzLmVsZW1lbnQudXVpZCwgbnVsbCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZHJhd0xpbmUnKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNob3dGdW5jdGlvbkcoKSB7DQogICAgICAgICAgICB0aGlzLmlzRnVuY3Rpb25HT3BlbkNsb3NlID0gdGhpcy5pc0Z1bmN0aW9uR09wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgLy8g7ISg7J2EIOuLpOyLnCDqt7jroKTspJjslbwg7ZWY6riwIOuVjOusuOyXkA0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RyYXdMaW5lJykNCiAgICAgICAgfSwNCiAgICAgICAgaW5wdXRQcm9jZXNzTmFtZSgpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFByb2Nlc3MnLCB7Y29tcG86Ik5hbWUiLCB1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBuYW1lOnRoaXMuZWxlbWVudC5uYW1lfSApDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZX0gKQ0KICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5uYW1lICE9ICcnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpc2ludG9FcnJvckxpc3QnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgbmFtZTp0aGlzLmVsZW1lbnQubmFtZSwgcGF0aDp0aGlzLmVsZW1lbnQucGF0aH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgY2xlYXJQcm9jZXNzRGVzaWduKCkgew0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LnByb2Rlc2lnbiA9IG51bGwNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3Byb2Rlc2lnbicpDQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcHJvZGVzaWduJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0UHJvY2Vzc0Rlc2lnblNlbGVjdCgpIHsNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3Byb2Rlc2lnbicpDQogICAgICAgICAgICBpZiAoZW5kTGluZSA9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRQcm9jZXNzRGVzaWduUGF0aCh0aGlzLmVsZW1lbnQucHJvZGVzaWduKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiBlbmRMaW5lLCBlbGVtZW50OiBjb25zdGFudC5Qcm9jZXNzRGVzaWduX3N0cn0gKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRQcm9jZXNzRGVzaWduTGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsUHJvY2Vzc0Rlc2lnbiA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0UHJvY2Vzc0Rlc2lnbg0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgc2V0UHJvY2Vzc0Rlc2lnbihpdGVtKSB7DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQucHJvZGVzaWduICE9IGl0ZW0ubmFtZSkgew0KICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3Byb2Rlc2lnbicpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gaXRlbS51dWlkKSB7DQogICAgICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3Nwcm9kZXNpZ24nKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL+yDiOuhnCDstpTqsIDtlbTspIDri6QNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcHJvZGVzaWduJywgdGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcHJvZGVzaWduJywgaXRlbS51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wcm9kZXNpZ24gPSBpdGVtLm5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIG5ld1Byb2Nlc3NEZXNpZ24oKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRQcm9jZXNzRGVzaWduJywgeyAvL2V4ZWN1dGFibGVyZWYg64qUIG51bGztlbTspJjslbztlZzri6QuIGNsZWFyYWJsZe2VmOuptCDqsJLsnbQgbnVsbOuzgO2VmOq4sCDrlYzrrLjsl5AgDQogICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lUHJvY2Vzc0Rlc2lnbiwgaW5wdXQ6IGZhbHNlLCBwYXRoOiAnJywNCiAgICAgICAgICAgICAgICB0b3A6IHRoaXMuZWxlbWVudC50b3ArMTAwLCBsZWZ0OiB0aGlzLmVsZW1lbnQubGVmdCsgMzAwICwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgZXhlY3V0YWJsZXJlZjogbnVsbCwgZGV0ZXJtaW46IFtdLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlByb2Nlc3NEZXNpZ25fc3RyKQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIpDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2VkaXRQcm9jZXNzJywge2NvbXBvOiJ6IiwgdXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgemluZGV4OjJ9ICkNCiAgICAgICAgfSwNCg0KICAgICAgICBjbGVhckRldGVybWluKCkgew0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRldGVybWluID0gbnVsbA0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzZGV0ZXJtaW4nKQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc2RldGVybWluJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0RGV0ZXJtaW5TZWxlY3QoKSB7DQogICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NkZXRlcm1pbicpDQogICAgICAgICAgICBpZiAoZW5kTGluZSA9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXREZXRlcm1pbmlzdGljQ2xpZW50UGF0aCh0aGlzLmVsZW1lbnQuZGV0ZXJtaW4pDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXREZXRhaWxWaWV3Jywge3V1aWQ6IGVuZExpbmUsIGVsZW1lbnQ6IGNvbnN0YW50LkRldGVybWluaXN0aWNDbGllbnRfc3RyfSApDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldERldGVybWluTGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsRGV0ZXJtaW5pc3RpYyA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0RGV0ZXJtaW5pc3RpY0NsaWVudA0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgc2V0RGV0ZXJtaW5pc3RpY0NsaWVudChpdGVtKSB7DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuZGV0ZXJtaW4gIT0gaXRlbS5uYW1lKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzZGV0ZXJtaW4nKQ0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCAmJiBlbmRMaW5lICE9IGl0ZW0udXVpZCkgew0KICAgICAgICAgICAgICAgICAgICAvL+q4sOyhtOq6vCDsgq3soJztlbTslbztlZzri6QgdnVleOyXkOyEnOuPhCDsgq3soJztlZjqs6AgbWFpbnZpZXfsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzZGV0ZXJtaW4nKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL+yDiOuhnCDstpTqsIDtlbTspIDri6QNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzZGV0ZXJtaW4nLCB0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NkZXRlcm1pbicsIGl0ZW0udXVpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGV0ZXJtaW4gPSBpdGVtLm5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIG5ld0RldGVybWluaXN0aWNDbGllbnQoKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnREZXRlcm1pbmlzdGljQ2xpZW4nLCB7DQogICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lRGV0ZXJtaW5pc3RpY0NsaWVudCwgaW5wdXQ6IGZhbHNlLCBwYXRoOiAnJywNCiAgICAgICAgICAgICAgICB0b3A6IHRoaXMuZWxlbWVudC50b3ArMTAwLCBsZWZ0OiB0aGlzLmVsZW1lbnQubGVmdCsgMzAwICwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgY3ljbGV0aWVtOiAnJywgbnVtb2Z3b3JrZXJzOiAnJywNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X3N0cikNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25fc3RyKQ0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdlZGl0UHJvY2VzcycsIHtjb21wbzoieiIsIHV1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHppbmRleDoyfSApDQogICAgICAgIH0sDQoNCiAgICAgICAgY2xlYXJFeGVjdXRhYmxlKCkgew0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV4ZWN1dCA9IG51bGwNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc2V4ZWN1dCcpDQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzZXhlY3V0JykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0RXhlY3V0YWJsZVNlbGVjdCgpIHsNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc2V4ZWN1dCcpDQogICAgICAgICAgICBpZiAoZW5kTGluZSA9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRFeGVjdXRhYmxlUGF0aCh0aGlzLmVsZW1lbnQuZXhlY3V0KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiBlbmRMaW5lLCBlbGVtZW50OiBjb25zdGFudC5FeGVjdXRhYmxlX3N0cn0gKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRFeGVjdXRhYmxlTGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsRXhlY3V0YWJsZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0RXhlY3V0YWJsZQ0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgc2V0RXhlY3V0YWJsZShpdGVtKSB7DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuZXhlY3V0ICE9IGl0ZW0ubmFtZSkgew0KICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc2V4ZWN1dCcpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gaXRlbS51dWlkKSB7DQogICAgICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NleGVjdXQnKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL+yDiOuhnCDstpTqsIDtlbTspIDri6QNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzZXhlY3V0JywgdGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzZXhlY3V0JywgaXRlbS51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5leGVjdXQgPSBpdGVtLm5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIG5ld0V4ZWN1dGFibGUoKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRFeGVjdXRhYmxlJywgeyAvL2FwcGxpY2F0aW9udHlwZXJlZiDripQgbnVsbO2VtOykmOyVvO2VnOuLpC4gY2xlYXJhYmxl7ZWY66m0IOqwkuydtCBudWxs67OA7ZWY6riwIOuVjOusuOyXkCANCiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVFeGVjdXRhYmxlLCBpbnB1dDogZmFsc2UsIHBhdGg6ICcnLA0KICAgICAgICAgICAgICAgIHRvcDogdGhpcy5lbGVtZW50LnRvcCsxMDAsIGxlZnQ6IHRoaXMuZWxlbWVudC5sZWZ0KyAzMDAgLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnJywgY2F0ZWdvcnk6JycsIGJ1aWxkVHlwZTpudWxsLCBsb2dnaW5nQmVoYWJpb3I6bnVsbCwgcmVwb3J0aW5nQmVoYWJpb3I6bnVsbCwgc3duYW1lOicnLCBhcHBsaWNhdGlvbnR5cGVyZWY6IG51bGwsDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuRXhlY3V0YWJsZV9zdHIpDQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX3N0cikNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFByb2Nlc3MnLCB7Y29tcG86InoiLCB1dWlkOnRoaXMuZWxlbWVudC51dWlkLCB6aW5kZXg6Mn0gKQ0KICAgICAgICB9LA0KDQogICAgICAgIGNsZWFyTW9kZURlY2xhcmF0aW9uKCkgew0KICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1hY2hpbmV0eXBlID0gbnVsbA0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzbW9kZWRlY2xhcicpDQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzbW9kZWRlY2xhcicpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldE1vZGVEZWNsYXJhdGlvblNlbGVjdCgpIHsNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc21vZGVkZWNsYXInKQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TW9kZURlY2xhcmF0aW9uUGF0aCh0aGlzLmVsZW1lbnQubWFjaGluZXR5cGUsIDApDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXREZXRhaWxWaWV3Jywge3V1aWQ6IGVuZExpbmUsIGVsZW1lbnQ6IGNvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX3N0cn0gKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRNb2RlRGVjbGFyYXRpb25MaXN0KCkgew0KICAgICAgICAgICAgdGhpcy5zZWxNb2RlRGVjbGFyYXRpb24gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1vZGVEZWNsYXJhdGlvbkcNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIHNldE1vZGVEZWNsYXJhdGlvbihpdGVtKSB7DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQubWFjaGluZXR5cGUgIT0gaXRlbS5uYW1lKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzbW9kZWRlY2xhcicpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gaXRlbS51dWlkKSB7DQogICAgICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3Ntb2RlZGVjbGFyJykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy/sg4jroZwg7LaU6rCA7ZW07KSA64ukDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc21vZGVkZWNsYXInLCB0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3Ntb2RlZGVjbGFyJywgaXRlbS51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tYWNoaW5ldHlwZSA9IGl0ZW0ubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgbmV3TW9kZURlY2xhcmF0aW9uR3JvdXAoKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNb2RlRGVjbGFyYXRpb25Hcm91cCcsIHsNCiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVNb2RlRGVjbGFyYXRpb25Hcm91cCwgaW5wdXQ6IGZhbHNlLCBwYXRoOiAnJywNCiAgICAgICAgICAgICAgICB0b3A6IHRoaXMuZWxlbWVudC50b3ArMTAwLCBsZWZ0OiB0aGlzLmVsZW1lbnQubGVmdCsgMzAwICwgemluZGV4OiAxMCwgDQogICAgICAgICAgICAgICAgbW9kZWRlY2xhcmF0aW9uOltdLCBpbml0bW9kZTpudWxsLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX3N0cikNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50Lk1hY2hpbmVzX3N0cikNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFByb2Nlc3MnLCB7Y29tcG86InoiLCB1dWlkOnRoaXMuZWxlbWVudC51dWlkLCB6aW5kZXg6Mn0gKQ0KICAgICAgICB9LA0KDQogICAgICAgIGFkZERlcGVuZGVudFN0YXJ0dXAoKSB7DQogICAgICAgICAgICBjb25zdCBlZGl0SXRlbSA9IHsgZnVuY3Rpb25JdGVtOiBbXSwgcmVzb3VyY2VSZWY6IG51bGwsIHN0YXJ0dXBDb25maWdSZWY6IG51bGx9DQogICAgICAgICAgICBjb25zdCBhZGRPYmogPSBuZXcgT2JqZWN0KGVkaXRJdGVtKQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRlcGVuZGVudC5wdXNoKGFkZE9iaikNCiAgICAgICAgICAgIHRoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiA9IHRoaXMuZWxlbWVudC5kZXBlbmRlbnQubGVuZ3RoLTENCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnJywgdGhpcy5lbGVtZW50LnV1aWQsIG51bGwpDQogICAgICAgIH0sDQogICAgICAgIGNsaWNrRGVwZW5kZW50U3RhcnR1cHRhYigpIHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2NsaWNrRGVwZW5kZW50U3RhcnR1cHRhYicpDQogICAgICAgICAgICB0aGlzLmlzZGVsZXRlRnVuY3Rpb25HID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RnVuY3Rpb25HSXRlbSA9IFtdDQogICAgICAgIH0sDQogICAgICAgIGNoYW5nZURlcGVuZGVudFN0YXJ0dXBUYWIoKSB7DQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdjaGFuZ2VEZXBlbmRlbnRTdGFydHVwVGFiJyArdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiKQ0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmRlcGVuZGVudC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7RXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICcnLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiLCB0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpfSwgMzAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlRGVwZW5kZW50U3RhcnR1cChpZHgpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWxldGVEZXBlbmRlbnRTdGFydHVwJyArIGlkeCkNCiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMuZWxlbWVudC5kZXBlbmRlbnRbaWR4XS5mdW5jdGlvbkl0ZW0ubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lQ29uID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmdjb250ZXh0LScraSsnLScraWR4KQ0KICAgICAgICAgICAgICAgIGlmKGVuZExpbmVDb24gIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZnY29udGV4dC0nK2krJy0nK2lkeCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmV0YXJnID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmd0YXJnZXQtJytpKyctJytpZHgpDQogICAgICAgICAgICAgICAgaWYoZW5kTGluZXRhcmcgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZndGFyZ2V0LScraSsnLScraWR4KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBlbmRMaW5lLCBlbmRSLCBlbmRTDQogICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3Jlc29yY2UtJytpZHgpDQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcmVzb3JjZS0nK2lkeCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzc3RhcnR1cC0nK2lkeCkNCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NzdGFydHVwLScraWR4KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yKGxldCBpPWlkeCsxOyBpPHRoaXMuZWxlbWVudC5kZXBlbmRlbnQubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgIGVuZFIgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcmVzb3JjZS0nK2kpDQogICAgICAgICAgICAgICAgZW5kUyA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NzdGFydHVwLScraSkNCiAgICAgICAgICAgICAgICBmb3IobGV0IG49MDsgbjx0aGlzLmVsZW1lbnQuZGVwZW5kZW50W2ldLmZ1bmN0aW9uSXRlbS5sZW5ndGg7IG4rKyl7DQogICAgICAgICAgICAgICAgICAgIHZhciBlbmRDID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmdjb250ZXh0LScrbisnLScraSkNCiAgICAgICAgICAgICAgICAgICAgaWYoZW5kQyAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZnY29udGV4dC0nK24rJy0nK2kpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ2NvbnRleHQtJytuKyctJysoaS0xKSwgdGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzU3RhcnVwQycsIGVuZEMpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ3RhcmdldC0nK24rJy0nK2kpDQogICAgICAgICAgICAgICAgICAgIGlmKGVuZFQgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ3RhcmdldC0nK24rJy0nK2kpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ3RhcmdldC0nK24rJy0nKyhpLTEpLCB0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NTdGFydXBDJywgZW5kVCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZW5kUiAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3Jlc29yY2UtJytpKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcmVzb3JjZS0nKyhpLTEpLCB0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NTdGFydXBDJywgZW5kUikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGVuZFMgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NzdGFydHVwLScraSkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3N0YXJ0dXAtJysoaS0xKSwgdGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzU3RhcnVwQycsIGVuZFMpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGVwZW5kZW50LnNwbGljZShpZHgsIDEpDQogICAgICAgICAgICB0aGlzLmNoYW5nZURlcGVuZGVudFN0YXJ0dXBUYWIoKQ0KICAgICAgICB9LA0KICAgICAgICBpc0NoZWNrRnVuY3Rpb25HKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVGdW5jdGlvbkcgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVGdW5jdGlvbkcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RnVuY3Rpb25HSXRlbSA9IFtdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVGdW5jdGlvbkcgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUZ1bmN0aW9uRygpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzZGVsZXRlRnVuY3Rpb25HID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLmVsZW1lbnQuZGVwZW5kZW50W3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYl0uZnVuY3Rpb25JdGVtLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZExpbmVDb24gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ2NvbnRleHQtJytpKyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICAgICAgICAgIGlmKGVuZExpbmVDb24gIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ2NvbnRleHQtJytpKyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZExpbmV0YXJnID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmd0YXJnZXQtJytpKyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICAgICAgICAgIGlmKGVuZExpbmV0YXJnICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmd0YXJnZXQtJytpKyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoZW5kTGluZUNvbiAhPSB1bmRlZmluZWQgfHwgZW5kTGluZXRhcmcgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUxpbmVGdW5jLnB1c2goe2NvbnRleHRNb2RlOnRoaXMuZWxlbWVudC5kZXBlbmRlbnRbdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiXS5mdW5jdGlvbkl0ZW1baV0uY29udGV4dE1vZGUsIHRhcmdldE1vZGU6dGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbVtpXS50YXJnZXRNb2RlLCBlbmRMaW5lQ29uOmVuZExpbmVDb24sIGVuZExpbmVUYXJnOmVuZExpbmV0YXJnfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kZXBlbmRlbnRbdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiXS5mdW5jdGlvbkl0ZW0gPSB0aGlzLmVsZW1lbnQuZGVwZW5kZW50W3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYl0uZnVuY3Rpb25JdGVtLmZpbHRlcihpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REZWxlY3RGdW5jdGlvbkdJdGVtLmluZGV4T2YoaXRlbSkgPCAwIH0pDQoNCiAgICAgICAgICAgICAgICBsZXQgaWR4ID0gMCANCiAgICAgICAgICAgICAgICBmb3IobGV0IG49MDsgbjx0aGlzLmVsZW1lbnQuZGVwZW5kZW50W3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYl0uZnVuY3Rpb25JdGVtLmxlbmd0aDsgbisrKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCByaWd0aD0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmlndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuZGVwZW5kZW50W3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYl0uZnVuY3Rpb25JdGVtW25dLmNvbnRleHRNb2RlID09IHRoaXMuY2hhbmdlTGluZUZ1bmNbaWR4XS5jb250ZXh0TW9kZSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kZXBlbmRlbnRbdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiXS5mdW5jdGlvbkl0ZW1bbl0udGFyZ2V0TW9kZSA9PSB0aGlzLmNoYW5nZUxpbmVGdW5jW2lkeF0udGFyZ2V0TW9kZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWd0aCA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeC0tDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZHgrKw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlc2NhcGUnKQ0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbVtuXS5jb250ZXh0TW9kZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ2NvbnRleHQtJytuKyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIsIHRoaXMuZWxlbWVudC51dWlkKycvZmd0YWJsZScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiLCB0aGlzLmNoYW5nZUxpbmVGdW5jW2lkeF0uZW5kTGluZUNvbikNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbVtuXS50YXJnZXRNb2RlICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZndGFyZ2V0LScrbisnLScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiLCB0aGlzLmVsZW1lbnQudXVpZCsnL2ZndGFibGUnK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgdGhpcy5jaGFuZ2VMaW5lRnVuY1tpZHhdLmVuZExpbmVUYXJnKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUZ1bmN0aW9uRyA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RGdW5jdGlvbkdJdGVtID0gW10NCiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUxpbmVGdW5jID0gW10NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgb3BlbkZ1bmN0aW9uRyhpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsQ29udGV4dE1vZGUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1vZGVEZWNsYXJhdGlvbkdQDQogICAgICAgICAgICB0aGlzLnNlbFRhcmdldE1vZGUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1vZGVEZWNsYXJhdGlvbg0KDQogICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbVtpZHhdLmNvbnRleHRNb2RlICE9IG51bGwgKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmVDID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmdjb250ZXh0LScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiKycvJytpZHgpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmVDID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICBlbmRMaW5lQyA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TWFjaGluZVBhdGgodGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbVtpZHhdLmNvbnRleHRNb2RlLCAyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLmNvbnRleHRNb2RlID0geyBuYW1lIDp0aGlzLmVsZW1lbnQuZGVwZW5kZW50W3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYl0uZnVuY3Rpb25JdGVtW2lkeF0uY29udGV4dE1vZGUsIHV1aWQ6IGVuZExpbmVDIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuZGVwZW5kZW50W3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYl0uZnVuY3Rpb25JdGVtW2lkeF0udGFyZ2V0TW9kZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmVUID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmd0YXJnZXQtJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIrJy8nK2lkeCkNCiAgICAgICAgICAgICAgICBpZiAoZW5kTGluZVQgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgIGVuZExpbmVUID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRNb2RlRGVjbGFyYXRpb25QYXRoKHRoaXMuZWxlbWVudC5kZXBlbmRlbnRbdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiXS5mdW5jdGlvbkl0ZW1baWR4XS50YXJnZXRNb2RlLCAxKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUgPSB7IG5hbWUgOnRoaXMuZWxlbWVudC5kZXBlbmRlbnRbdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiXS5mdW5jdGlvbkl0ZW1baWR4XS50YXJnZXRNb2RlLCB1dWlkOiBlbmRMaW5lVCB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGVkaXRGdW5jdGlvbkcoaWR4KSB7DQogICAgICAgICAgICB2YXIgZW5kY29udGV4dE1MaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmdjb250ZXh0LScraWR4KyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICBpZiAoZW5kY29udGV4dE1MaW5lICE9IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLmNvbnRleHRNb2RlID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ2NvbnRleHQtJytpZHgrJy0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYikNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGVwZW5kZW50W3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYl0uZnVuY3Rpb25JdGVtW2lkeF0uY29udGV4dE1vZGUgPSBudWxsDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZGNvbnRleHRNTGluZSAhPSB1bmRlZmluZWQgJiYgZW5kY29udGV4dE1MaW5lICE9IHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0uY29udGV4dE1vZGUudXVpZCkgew0KICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmdjb250ZXh0LScraWR4KyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmdjb250ZXh0LScraWR4KyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIsIHRoaXMuZWxlbWVudC51dWlkKycvZmd0YWJsZScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiLCB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLmNvbnRleHRNb2RlLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbVtpZHhdLmNvbnRleHRNb2RlID0gdGhpcy5lZGl0RnVuY3Rpb25HSXRlbS5jb250ZXh0TW9kZS5uYW1lDQogICAgICAgICAgICB9IGVsc2UgaWYoZW5kY29udGV4dE1MaW5lID09IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLmNvbnRleHRNb2RlICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ2NvbnRleHQtJytpZHgrJy0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgdGhpcy5lbGVtZW50LnV1aWQrJy9mZ3RhYmxlJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIsIHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0uY29udGV4dE1vZGUudXVpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGVwZW5kZW50W3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYl0uZnVuY3Rpb25JdGVtW2lkeF0uY29udGV4dE1vZGUgPSB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLmNvbnRleHRNb2RlLm5hbWUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIGVuZHRhcmdldE1MaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmd0YXJnZXQtJytpZHgrJy0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYikNCiAgICAgICAgICAgIGlmIChlbmR0YXJnZXRNTGluZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5lZGl0RnVuY3Rpb25HSXRlbS50YXJnZXRNb2RlID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ3RhcmdldC0nK2lkeCsnLScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kZXBlbmRlbnRbdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiXS5mdW5jdGlvbkl0ZW1baWR4XS50YXJnZXRNb2RlID0gbnVsbA0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmR0YXJnZXRNTGluZSAhPSB1bmRlZmluZWQgJiYgZW5kdGFyZ2V0TUxpbmUgIT0gdGhpcy5lZGl0RnVuY3Rpb25HSXRlbS50YXJnZXRNb2RlLnV1aWQpIHsNCiAgICAgICAgICAgICAgICAvL+q4sOyhtOq6vCDsgq3soJztlbTslbztlZzri6QgdnVleOyXkOyEnOuPhCDsgq3soJztlZjqs6AgbWFpbnZpZXfsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIA0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZndGFyZ2V0LScraWR4KyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvZmd0YXJnZXQtJytpZHgrJy0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgdGhpcy5lbGVtZW50LnV1aWQrJy9mZ3RhYmxlJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIsIHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0udGFyZ2V0TW9kZS51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kZXBlbmRlbnRbdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiXS5mdW5jdGlvbkl0ZW1baWR4XS50YXJnZXRNb2RlID0gdGhpcy5lZGl0RnVuY3Rpb25HSXRlbS50YXJnZXRNb2RlLm5hbWUNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kdGFyZ2V0TUxpbmUgPT0gdW5kZWZpbmVkICYmIHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0udGFyZ2V0TW9kZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9mZ3RhcmdldC0nK2lkeCsnLScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiLCB0aGlzLmVsZW1lbnQudXVpZCsnL2ZndGFibGUnK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgdGhpcy5lZGl0RnVuY3Rpb25HSXRlbS50YXJnZXRNb2RlLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbVtpZHhdLnRhcmdldE1vZGUgPSB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLmNhbmNlbEZ1bmN0aW9uRygpDQogICAgICAgIH0sDQogICAgICAgIGNhbmNlbEZ1bmN0aW9uRygpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRGdW5jdGlvbkdJdGVtKQ0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkRnVuY3Rpb25HKCkgew0KICAgICAgICAgICAgdmFyIGRhdGFjb3VudA0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbSA9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICBkYXRhY291bnQgPSAwDQogICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgZGF0YWNvdW50ID0gdGhpcy5lbGVtZW50LmRlcGVuZGVudFt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWJdLmZ1bmN0aW9uSXRlbS5sZW5ndGgNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYoIHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0uY29udGV4dE1vZGUgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZnY29udGV4dC0nK2RhdGFjb3VudCsnLScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiLCB0aGlzLmVsZW1lbnQudXVpZCsnL2ZndGFibGUnK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgdGhpcy5lZGl0RnVuY3Rpb25HSXRlbS5jb250ZXh0TW9kZS51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0uY29udGV4dE1vZGUgPSB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLmNvbnRleHRNb2RlLm5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKCB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2ZndGFyZ2V0LScrZGF0YWNvdW50KyctJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIsIHRoaXMuZWxlbWVudC51dWlkKycvZmd0YWJsZScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiLCB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUudXVpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUgPSB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0RnVuY3Rpb25HSXRlbSkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kZXBlbmRlbnRbdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiXS5mdW5jdGlvbkl0ZW0ucHVzaChhZGRPYmopDQogICAgICAgICAgICB0aGlzLmNhbmNlbEZ1bmN0aW9uRygpDQogICAgICAgIH0sDQogICAgICAgIHNldENvbnRleHRNb2RlU2VsZWN0KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNFZGl0aW5nQ29udGV4dE1vZGUgPT0gdHJ1ZSkgeyANCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0RnVuY3Rpb25HSXRlbS5jb250ZXh0TW9kZSAhPSBudWxsICYmIHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0uY29udGV4dE1vZGUudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLmNvbnRleHRNb2RlLnV1aWQsIGVsZW1lbnQ6IGNvbnN0YW50Lk1hY2hpbmVfc3RyfSApDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dE1MaXN0KCkNCiAgICAgICAgICAgICAgICB0aGlzLmlzRWRpdGluZ0NvbnRleHRNb2RlID0gZmFsc2UNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0VkaXRpbmdDb250ZXh0TW9kZSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0Q29udGV4dE1MaXN0KCkgew0KICAgICAgICAgICAgdGhpcy5zZWxDb250ZXh0TW9kZSA9ICB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1vZGVEZWNsYXJhdGlvbkdQDQogICAgICAgICAgICBjb25zb2xlLmxvZygnc2V0VGFyZ2V0TUxpc3QnK3RoaXMuc2VsQ29udGV4dE1vZGUubGVuZ3RoKQ0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgY2xlYXJDb250ZXh0TW9kZVJlZigpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nQ29udGV4dE1vZGUgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLmNvbnRleHRNb2RlID0gbnVsbA0KICAgICAgICB9LA0KICAgICAgICBzZXRUYXJnZXRNb2RlU2VsZWN0KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNFZGl0aW5nVGFyZ2V0TW9kZSA9PSB0cnVlKSB7IA0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUgIT0gbnVsbCAmJiB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiB0aGlzLmVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUudXVpZCwgZWxlbWVudDogY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyfSApDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuc2V0VGFyZ2V0TUxpc3QoKQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nVGFyZ2V0TW9kZSA9IGZhbHNlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nVGFyZ2V0TW9kZSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0VGFyZ2V0TUxpc3QoKSB7DQogICAgICAgICAgICB0aGlzLnNlbFRhcmdldE1vZGUgPSAgdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRNb2RlRGVjbGFyYXRpb24NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRUYXJnZXRNTGlzdCcrdGhpcy5zZWxUYXJnZXRNb2RlLmxlbmd0aCkNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIGNsZWFyVGFyZ2V0TW9kZVJlZigpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nVGFyZ2V0TW9kZSA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuZWRpdEZ1bmN0aW9uR0l0ZW0udGFyZ2V0TW9kZSA9IG51bGwNCiAgICAgICAgfSwNCg0KDQogICAgICAgIGNsZWFyUmVzb3VyY2VHKGl0ZW0pIHsNCiAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2VSZWYgPSBudWxsDQogICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NyZXNvcmNlLScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiKQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3Jlc29yY2UtJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldFJlc291cmNlR1NlbGVjdChpdGVtKSB7DQogICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NyZXNvcmNlLScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiKQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TWFjaGluZVBhdGgoaXRlbS5yZXNvdXJjZVJlZiwgMSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldERldGFpbFZpZXcnLCB7dXVpZDogZW5kTGluZSwgZWxlbWVudDogY29uc3RhbnQuTWFjaGluZV9zdHJ9ICkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0UmVzb3VyY2VHTGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsUmVzb3VyY2VHID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRSZXNvdXJjZUdyb3VwDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRSZXNvdXJjZUcoaXRlbSwgdGFiKSB7DQogICAgICAgICAgICBpZih0YWIucmVzb3VyY2VSZWYgIT0gaXRlbS5uYW1lKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcmVzb3JjZS0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYikNCiAgICAgICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQgJiYgZW5kTGluZSAhPSBpdGVtLnV1aWQpIHsNCiAgICAgICAgICAgICAgICAgICAgLy/quLDsobTqurwg7IKt7KCc7ZW07JW87ZWc64ukIHZ1ZXjsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIG1haW52aWV37JeQ7ISc64+EIOyCreygnO2VmOqzoCANCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3Jlc29yY2UtJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8v7IOI66GcIOy2lOqwgO2VtOykgOuLpA0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IGl0ZW0udXVpZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcmVzb3JjZS0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgdGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzcmVzb3JjZScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiLCBpdGVtLnV1aWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRhYi5yZXNvdXJjZVJlZiA9IGl0ZW0ubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCg0KICAgICAgICBjbGVhclN0YXJ0dXBDKGl0ZW0pIHsNCiAgICAgICAgICAgIGl0ZW0uc3RhcnR1cENvbmZpZ1JlZiA9IG51bGwNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3N0YXJ0dXAtJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIpDQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzc3RhcnR1cC0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0U3RhcnR1cENTZWxlY3QoaXRlbSkgew0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzc3RhcnR1cC0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYikNCiAgICAgICAgICAgIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFN0YXJ0dXBDb25maWdQYXRoKGl0ZW0uc3RhcnR1cENvbmZpZ1JlZikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldERldGFpbFZpZXcnLCB7dXVpZDogZW5kTGluZSwgZWxlbWVudDogY29uc3RhbnQuU3RhcnR1cENvbmZpZ19zdHJ9ICkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0U3RhcnR1cENMaXN0KCkgew0KICAgICAgICAgICAgdGhpcy5zZWxTdGFydHVwQyA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0U3RhcnR1cENvbmZpZw0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgc2V0U3RhcnR1cEMoaXRlbSwgdGFiKSB7DQogICAgICAgICAgICBpZih0YWIuc3RhcnR1cENvbmZpZ1JlZiAhPSBpdGVtLm5hbWUpIHsNCiAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL3Byb2Nlc3NzdGFydHVwLScrdGhpcy5kZXBlbmRlbnRTdGFydHVwVGFiKQ0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCAmJiBlbmRMaW5lICE9IGl0ZW0udXVpZCkgew0KICAgICAgICAgICAgICAgICAgICAvL+q4sOyhtOq6vCDsgq3soJztlbTslbztlZzri6QgdnVleOyXkOyEnOuPhCDsgq3soJztlZjqs6AgbWFpbnZpZXfsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9wcm9jZXNzc3RhcnR1cC0nK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy/sg4jroZwg7LaU6rCA7ZW07KSA64ukDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3N0YXJ0dXAtJyt0aGlzLmRlcGVuZGVudFN0YXJ0dXBUYWIsIHRoaXMuZWxlbWVudC51dWlkKycvcHJvY2Vzc3N0YXJ0dXAnK3RoaXMuZGVwZW5kZW50U3RhcnR1cFRhYiwgaXRlbS51dWlkKQ0KICAgICAgICAgICAgICAgIHRhYi5zdGFydHVwQ29uZmlnUmVmID0gaXRlbS5uYW1lDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBuZXdTdGFydHVwQygpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFN0YXJ0dXBDb25maWcnLCB7DQogICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lU3RhcnR1cENvbmZpZywgaW5wdXQ6IGZhbHNlLCBwYXRoOiAnJywNCiAgICAgICAgICAgICAgICB0b3A6IHRoaXMuZWxlbWVudC50b3ArMTAwLCBsZWZ0OiB0aGlzLmVsZW1lbnQubGVmdCsgMzAwICwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgY29uZmlnbmFtZTogJycsIHBvbGljeTpudWxsLCBwcmlvcml0eTonJywgZW50ZXJ0aW1lb3V0OicnLCBleGl0dGltZW91dDonJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlN0YXJ0dXBDb25maWdfc3RyKQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIpDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2VkaXRQcm9jZXNzJywge2NvbXBvOiJ6IiwgdXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgemluZGV4OjJ9ICkNCiAgICAgICAgfSwNCg0KICAgICAgICBzZXRhY3RpdmVVVUlEKCkgew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXR1dWlkJywge3V1aWQ6IHRoaXMuZWxlbWVudC51dWlkfSApDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2VkaXRQcm9jZXNzJywge2NvbXBvOiJ6IiwgdXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgemluZGV4OjEwfSApDQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUxpbmUoZmluZUxpbmUpIHsNCiAgICAgICAgICAgIHZhciBsaW5lbnVtID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShmaW5lTGluZSkNCiAgICAgICAgICAgIGlmIChsaW5lbnVtICE9IC0xKSB7DQogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgbGluZW51bSkNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7c3RhcnRudW06IGxpbmVudW19ICkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbmV3TGluZShzdGFydExpbmUsIGRyYXdMaW5lLCBlbmRMaW5lKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywge3N0YXJ0OiBzdGFydExpbmUsIGVuZDogZW5kTGluZX0gKQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZHJhd0xpbmUsIGVuZExpbmUpDQogICAgICAgIH0sDQoNCiAgICB9LA0KfQ0K"},{"version":3,"sources":["Process.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgRA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Process.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div :id=\"element.uuid\">\r\n        <v-container>\r\n            <v-card outlined :color=\"minimaptoolbar ? null : colorToolbar\">\r\n                <v-toolbar v-if=\"!isDatailView\" :color=colorToolbar dark hide-on-scroll height=\"30px\" class=\"drag-handle\">\r\n                    <v-hover v-if=\"minimaptoolbar\" v-slot=\"{ hover }\">\r\n                        <v-btn icon @click=\"showProcess\">\r\n                            <v-icon>{{ iselementOpenClose ? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                        </v-btn>\r\n                    </v-hover>\r\n                    <v-btn v-if=\"minimaptoolbar\" icon @click.stop=\"dialogPath=true\">\r\n                        <v-icon> mdi-routes</v-icon>\r\n                    </v-btn>\r\n                    <dialogPathSetting v-model=\"dialogPath\" :path=\"element.path\" @submit=\"submitDialog\"/>\r\n                    <v-toolbar-title>Process</v-toolbar-title>\r\n                    <v-spacer></v-spacer>\r\n                </v-toolbar>\r\n                <v-toolbar v-else hide-on-scroll dense flat>\r\n                    <v-toolbar-title>Process</v-toolbar-title>\r\n                </v-toolbar>\r\n                <v-card-text v-show=\"iselementOpenClose\">\r\n                    <v-text-field v-model=\"element.name\" :label=\"'name  <'+element.path +'>'\" :rules=\"rules.name\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\"\r\n                                @input='inputProcessName' outlined dense  @click=\"setactiveUUID\"></v-text-field>\r\n                    <v-row style=\"height: 45px\">\r\n                        <v-col cols=\"10\">\r\n                            <v-text-field v-model=\"element.prodesign\" readonly @click=\"setProcessDesignSelect()\" clearable @click:clear='clearProcessDesign()' label=\"Design Reference\" style=\"height:25px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"2\">\r\n                            <v-menu>\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                    <v-btn color=\"deep-purple accent-4\" :id=\"element.uuid+'/processprodesign'\" dark icon v-bind=\"attrs\" v-on=\"on\" @click=\"setProcessDesignList()\">\r\n                                        <v-icon>mdi-menu-down-outline</v-icon>\r\n                                    </v-btn>\r\n                                </template>\r\n                                <v-list>\r\n                                    <v-list-item v-for=\"(item, i) in selProcessDesign\" :key=\"i\" link @click=\"setProcessDesign(item)\">\r\n                                        <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                                    </v-list-item>\r\n                                    <v-btn outlined color=\"indigo\" dense text small block @click=\"newProcessDesign\" >\r\n                                        <v-icon >mdi-plus</v-icon>New Item\r\n                                    </v-btn>\r\n                                </v-list>\r\n                            </v-menu>\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row style=\"height: 45px\">\r\n                        <v-col cols=\"10\">\r\n                            <v-text-field v-model=\"element.determin\" readonly @click=\"setDeterminSelect()\" clearable @click:clear='clearDetermin()' label=\"Deterministic Client Reference\" style=\"height:25px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"2\">\r\n                            <v-menu>\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                    <v-btn color=\"deep-purple accent-4\" :id=\"element.uuid+'/processdetermin'\" dark icon v-bind=\"attrs\" v-on=\"on\" @click=\"setDeterminList()\">\r\n                                        <v-icon>mdi-menu-down-outline</v-icon>\r\n                                    </v-btn>\r\n                                </template>\r\n                                <v-list>\r\n                                    <v-list-item v-for=\"(item, i) in selDeterministic\" :key=\"i\" link @click=\"setDeterministicClient(item)\">\r\n                                        <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                                    </v-list-item>\r\n                                    <v-btn outlined color=\"indigo\" dense text small block @click=\"newDeterministicClient\" >\r\n                                        <v-icon >mdi-plus</v-icon>New Item\r\n                                    </v-btn>\r\n                                </v-list>\r\n                            </v-menu>\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-row style=\"height: 70px\">\r\n                        <v-col cols=\"10\">\r\n                            <v-text-field v-model=\"element.execut\" readonly @click=\"setExecutableSelect()\" clearable @click:clear='clearExecutable()' label=\"Executable Reference\" style=\"height:25px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"2\">\r\n                            <v-menu>\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                    <v-btn color=\"deep-purple accent-4\" :id=\"element.uuid+'/processexecut'\" dark icon v-bind=\"attrs\" v-on=\"on\" @click=\"setExecutableList()\">\r\n                                        <v-icon>mdi-menu-down-outline</v-icon>\r\n                                    </v-btn>\r\n                                </template>\r\n                                <v-list>\r\n                                    <v-list-item v-for=\"(item, i) in selExecutable\" :key=\"i\" link @click=\"setExecutable(item)\">\r\n                                        <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                                    </v-list-item>\r\n                                    <v-btn outlined color=\"indigo\" dense text small block @click=\"newExecutable\" >\r\n                                        <v-icon >mdi-plus</v-icon>New Item\r\n                                    </v-btn>\r\n                                </v-list>\r\n                            </v-menu>\r\n                        </v-col>\r\n                    </v-row>\r\n                    <v-card outlined class=\"mx-auto\">\r\n                        <div class=\"subtitle-2\" :id=\"element.uuid+'/processmodedeclar'\" style=\"height:20px\">\r\n                            <v-hover v-slot=\"{ hover }\">\r\n                                <v-btn text @click=\"showStateMachine\" x-small color=\"indigo\">\r\n                                    <v-icon>{{ isStateMachineOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                </v-btn>\r\n                            </v-hover>\r\n                            Process State Machine\r\n                        </div>\r\n                        <v-card-text v-show=\"isStateMachineOpenClose\">\r\n                            <v-text-field v-model=\"element.machinname\" label=\"name\" :rules=\"rules.name\" @click=\"setactiveUUID\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\" outlined dense></v-text-field>\r\n                            <v-row style=\"height: 70px\">\r\n                                <v-col cols=\"10\">\r\n                                    <v-text-field v-model=\"element.machinetype\" readonly @click=\"setModeDeclarationSelect()\" clearable @click:clear='clearModeDeclaration()' label=\"Type TReference\" style=\"height:25px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"2\">\r\n                                    <v-menu>\r\n                                        <template v-slot:activator=\"{ on, attrs }\">\r\n                                            <v-btn color=\"deep-purple accent-4\" dark icon v-bind=\"attrs\" v-on=\"on\" @click=\"setModeDeclarationList()\">\r\n                                                <v-icon>mdi-menu-down-outline</v-icon>\r\n                                            </v-btn>\r\n                                        </template>\r\n                                        <v-list>\r\n                                            <v-list-item v-for=\"(item, i) in selModeDeclaration\" :key=\"i\" link @click=\"setModeDeclaration(item)\">\r\n                                                <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                                            </v-list-item>\r\n                                            <v-btn outlined color=\"indigo\" dense text small block @click=\"newModeDeclarationGroup\" >\r\n                                                <v-icon >mdi-plus</v-icon>New Item\r\n                                            </v-btn>\r\n                                        </v-list>\r\n                                    </v-menu>\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-card-text>\r\n                    </v-card>\r\n                    <v-card outlined class=\"mx-auto\">\r\n                        <div class=\"subtitle-2\" style=\"height:20px\" :id=\"element.uuid+'/processStarupC'\">\r\n                            <v-hover v-slot=\"{ hover }\">\r\n                                <v-btn text @click=\"showDependentStartup\" x-small color=\"indigo\">\r\n                                    <v-icon>{{ isDependentStartupOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                </v-btn>\r\n                            </v-hover>\r\n                            State Dependent Startup Config\r\n                            <v-btn v-if=\"isDependentStartupOpenClose\" @click=\"addDependentStartup\" text x-small color=\"indigo\">\r\n                                <v-icon>mdi-plus</v-icon>\r\n                            </v-btn>\r\n                        </div>\r\n                        <v-tabs v-model='dependentStartupTab' v-show=\"isDependentStartupOpenClose\" show-arrows @change=\"changeDependentStartupTab()\">\r\n                            <v-tab v-for=\"(tab, idx) in element.dependent\" :key=\"idx\" @click=\"clickDependentStartuptab()\"> \r\n                                {{idx}}\r\n                                <v-btn text x-small @click=\"deleteDependentStartup(idx)\"><v-icon x-small>mdi-close</v-icon></v-btn></v-tab>\r\n                        </v-tabs>\r\n                        <v-tabs-items v-model=\"dependentStartupTab\" v-show=\"isDependentStartupOpenClose\">\r\n                            <v-tab-item v-for=\"(tab, idx) in element.dependent\" :key=\"idx\">\r\n                                <v-card flat>\r\n                                    <v-card-text>\r\n                                        <v-card outlined class=\"mx-auto\">\r\n                                            <div class=\"subtitle-2\" style=\"height:20px\" :id=\"element.uuid+'/fgtable'+idx\">\r\n                                                <v-hover v-slot=\"{ hover }\">\r\n                                                    <v-btn text @click=\"showFunctionG\" x-small color=\"indigo\">\r\n                                                        <v-icon>{{ isFunctionGOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                    </v-btn>\r\n                                                </v-hover>\r\n                                                Function Group State\r\n                                                <v-btn  v-if=\"isFunctionGOpenClose\" @click=\"isCheckFunctionG\" text x-small color=\"indigo\">\r\n                                                    <v-icon>mdi-check</v-icon>\r\n                                                </v-btn>\r\n                                                <v-btn  v-if=\"isdeleteFunctionG && isFunctionGOpenClose\" @click=\"deleteFunctionG\" text x-small color=\"indigo\">\r\n                                                    <v-icon>mdi-minus</v-icon>\r\n                                                </v-btn>\r\n                                            </div>\r\n                                            <v-card-text v-show=\"isFunctionGOpenClose\">\r\n                                                <v-data-table v-model=\"selectDelectFunctionGItem\" :headers=\"headerFunctionG\" :items=\"tab.functionItem\"\r\n                                                        :show-select=\"isdeleteFunctionG\" item-key=\"contextMode\" height=\"100px\" dense hide-default-footer >\r\n                                                    <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                                        <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                                    </template>\r\n                                                    <template v-if=\"!isdeleteFunctionG\" v-slot:body=\"{ items, headers }\">\r\n                                                        <tbody>\r\n                                                            <tr v-for=\"(item,idx) in items\" :key=\"idx\" >\r\n                                                                <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                                    <!-- <v-icon v-if=\"header.value == 'sort'\" small class=\"sortHandle\" >mdi-arrow-all</v-icon> -->\r\n                                                                    <v-edit-dialog persistent cancel-text='Ok' save-text=\"Cancel\" @open=\"openFunctionG(idx)\" @cancel=\"editFunctionG(idx)\" @save=\"cancelFunctionG\" large >\r\n                                                                        {{item[header.value]}}\r\n                                                                        <template v-slot:input>\r\n                                                                            <br> <!--v-autocomplete 여기에서 item의 uuid가 같을경우 item-text='name' item-value=\"uuid\"로 해주면 uuid값이 같기 때문에 item의 list가 다 나오지 않는다 name으로 바꿔야지만 list가 잘나옴 -->\r\n                                                                            <v-autocomplete v-model='editFunctionGItem.contextMode' label='Context Mode Declaration Group Prototype Ref' :items='selContextMode' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                                    return-object :readonly=\"!isEditingContextMode\" @click=\"setContextModeSelect()\" @blur=\"isEditingContextMode=true\" \r\n                                                                                    clearable @click:clear='clearContextModeRef'>\r\n                                                                            </v-autocomplete>\r\n                                                                            <v-autocomplete v-model='editFunctionGItem.targetMode' label='Target Mode Declaration Ref' :items='selTargetMode' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                                    return-object :readonly=\"!isEditingTargetMode\"  @click=\"setTargetModeSelect()\" @blur=\"isEditingTargetMode=true\" \r\n                                                                                    clearable @click:clear='clearTargetModeRef'>\r\n                                                                            </v-autocomplete>\r\n                                                                        </template>\r\n                                                                    </v-edit-dialog>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                            <tr>\r\n                                                                <th colspan=\"3\">\r\n                                                                    <v-edit-dialog  large persistent cancel-text='Ok' save-text=\"Cancel\" @cancel=\"addFunctionG()\" @save=\"cancelFunctionG\"> \r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                        <template v-slot:input>\r\n                                                                            <br>\r\n                                                                            <v-autocomplete v-model='editFunctionGItem.contextMode' label='Context Mode Declaration Group Prototype Ref' :items='selContextMode' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                                    return-object :readonly=\"!isEditingContextMode\" @click=\"setContextModeSelect()\" @blur=\"isEditingContextMode=true\" \r\n                                                                                    clearable @click:clear='clearContextModeRef'>\r\n                                                                            </v-autocomplete>\r\n                                                                            <v-autocomplete v-model='editFunctionGItem.targetMode' label='Target Mode Declaration Ref' :items='selTargetMode' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                                    return-object :readonly=\"!isEditingTargetMode\"  @click=\"setTargetModeSelect()\" @blur=\"isEditingTargetMode=true\" \r\n                                                                                    clearable @click:clear='clearTargetModeRef'>\r\n                                                                            </v-autocomplete>\r\n                                                                        </template>\r\n                                                                    </v-edit-dialog>\r\n                                                                </th>\r\n                                                            </tr>\r\n                                                        </tbody>\r\n                                                    </template>\r\n                                                </v-data-table>\r\n                                            </v-card-text>\r\n                                        </v-card>\r\n                                        <v-row style=\"height: 45px\">\r\n                                            <v-col cols=\"10\">\r\n                                                <v-text-field v-model=\"tab.resourceRef\" readonly @click=\"setResourceGSelect(tab)\" clearable @click:clear='clearResourceG(tab)' label=\"Resource Group Reference\" style=\"height:25px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"2\">\r\n                                                <v-menu>\r\n                                                    <template v-slot:activator=\"{ on, attrs }\">\r\n                                                        <v-btn color=\"deep-purple accent-4\" :id=\"element.uuid+'/processresorce'+idx\" icon v-bind=\"attrs\" v-on=\"on\" @click=\"setResourceGList()\">\r\n                                                            <v-icon>mdi-menu-down-outline</v-icon>\r\n                                                        </v-btn>\r\n                                                    </template>\r\n                                                    <v-list >\r\n                                                        <v-list-item v-for=\"(item, i) in selResourceG\" :key=\"i\" link @click=\"setResourceG(item, tab)\">\r\n                                                            <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                                                        </v-list-item>\r\n                                                        <v-list-item v-if=\"selResourceG.length == 0\">\r\n                                                            <v-list-item-title>No Data Available</v-list-item-title>\r\n                                                        </v-list-item>\r\n                                                    </v-list>\r\n                                                </v-menu>\r\n                                            </v-col>\r\n                                        </v-row>\r\n                                        <v-row style=\"height: 70px\">\r\n                                            <v-col cols=\"10\">\r\n                                                <v-text-field v-model=\"tab.startupConfigRef\" readonly @click=\"setStartupCSelect(tab)\" clearable @click:clear='clearStartupC(tab)' label=\"Startup Config Reference\" style=\"height:25px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                            </v-col>\r\n                                            <v-col cols=\"2\">\r\n                                                <v-menu>\r\n                                                    <template v-slot:activator=\"{ on, attrs }\">\r\n                                                        <v-btn color=\"deep-purple accent-4\" :id=\"element.uuid+'/processstartup'+idx\" dark icon v-bind=\"attrs\" v-on=\"on\" @click=\"setStartupCList()\">\r\n                                                            <v-icon>mdi-menu-down-outline</v-icon>\r\n                                                        </v-btn>\r\n                                                    </template>\r\n                                                    <v-list>\r\n                                                        <v-list-item v-for=\"(item, i) in selStartupC\" :key=\"i\" link @click=\"setStartupC(item, tab)\">\r\n                                                            <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                                                        </v-list-item>\r\n                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newStartupC\" >\r\n                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                        </v-btn>\r\n                                                    </v-list>\r\n                                                </v-menu>\r\n                                            </v-col>\r\n                                        </v-row>\r\n                                    </v-card-text>\r\n                                </v-card>\r\n                            </v-tab-item>\r\n                        </v-tabs-items>\r\n                    </v-card>\r\n                </v-card-text>\r\n                <v-card-text v-show=\"!iselementOpenClose\">\r\n                    <v-text-field v-model=\"element.name\" :label=\"'name  <'+element.path +'>'\" :rules=\"rules.name\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\"\r\n                                readonly outlined dense></v-text-field>\r\n                </v-card-text>\r\n            </v-card>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport constant from \"../store/constants.js\"\r\nimport { EventBus } from \"../main.js\"\r\nimport dialogPathSetting from '../components/dialogPathSetting.vue'\r\n\r\nexport default {\r\n    props: ['element', 'isDatailView', 'minimaptoolbar'],\r\n    components:{dialogPathSetting},\r\n    computed: {\r\n        activeUUID() {\r\n            return this.$store.state.activeUUID\r\n        },\r\n        detailViewUUID() {\r\n            return this.$store.state.detailViewUUID\r\n        }\r\n    },\r\n    watch: {\r\n        activeUUID(val) {\r\n            this.setToolbarColor(val)\r\n        },\r\n        detailViewUUID(val) {\r\n            this.setToolbarColorDetailView(val)\r\n        }\r\n    },\r\n    created() {\r\n        this.setToolbarColor(this.$store.state.activeUUID)\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            rules: {\r\n                name:  [val => (val || '').length > 0 ],\r\n            },\r\n            dialogPath : false,\r\n            colorToolbar: \"#6A5ACD\",\r\n            iselementOpenClose: this.minimaptoolbar, //toolbar만 보여줄것이냐 아니냐 설정 true: 전체 다 보여줌 / false : toolbar만 보여줌\r\n            isStateMachineOpenClose: true,\r\n            isDependentStartupOpenClose: true,\r\n            isFunctionGOpenClose : true,\r\n            selProcessDesign: this.$store.getters.getProcessDesign,\r\n            selDeterministic: this.$store.getters.getDeterministicClient,\r\n            selExecutable: this.$store.getters.getExecutable,\r\n            selModeDeclaration: this.$store.getters.getModeDeclarationG,\r\n            selResourceG: this.$store.getters.getResourceGroup,\r\n            selStartupC: this.$store.getters.getStartupConfig,\r\n            dependentStartupTab: 0,\r\n            \r\n            isdeleteFunctionG: false,\r\n            selectDelectFunctionGItem: [],\r\n            headerFunctionG: [\r\n                { text: 'Context Mode Ref', align: 'start', sortable: false, value: 'contextMode' },\r\n                { text: 'Target Mode Ref', sortable: false, value: 'targetMode' },\r\n            ],\r\n            isEditingContextMode: true,\r\n            isEditingTargetMode: true,\r\n            defaultFunctionGItem: { contextMode: null, targetMode: null },\r\n            editFunctionGItem: { contextMode: null, targetMode: null },\r\n            selContextMode: this.$store.getters.getModeDeclarationGP,\r\n            selTargetMode: this.$store.getters.getModeDeclaration,\r\n            changeLineFunc: [],\r\n\r\n        }\r\n    },\r\n    mounted () {\r\n    },\r\n    methods: {\r\n        submitDialog(element) {\r\n            this.element.path = element\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name} )\r\n            this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.element.name, path:this.element.path})\r\n        },\r\n        setToolbarColor(activeid) \r\n        {\r\n            if(this.element.uuid == activeid) {\r\n                this.colorToolbar = \"#FF1493\" \r\n            } else {\r\n                this.colorToolbar = \"#6A5ACD\"\r\n            }\r\n        },\r\n        setToolbarColorDetailView(isdetail) {\r\n            if(this.element.uuid == isdetail) {\r\n                this.colorToolbar = \"#B0E0E6\" \r\n            } else if (this.element.uuid == this.$store.state.activeUUID) {\r\n                this.colorToolbar  = \"#FF1493\"\r\n            } else {\r\n                this.colorToolbar = \"#6A5ACD\"\r\n            }\r\n        },\r\n        showProcess() {\r\n            this.iselementOpenClose = this.iselementOpenClose ? false : true\r\n            this.$nextTick(() => {\r\n                EventBus.$emit('drawLineTitleBar', this.element.uuid, this.iselementOpenClose)\r\n                if(this.iselementOpenClose) {\r\n                    if(this.element.dependent.length > 0) {\r\n                        if (this.isDependentStartupOpenClose) {\r\n                            EventBus.$emit('changeLine-someipService', '', this.element.uuid, this.dependentStartupTab, this.dependentStartupTab)\r\n                        } else {\r\n                            EventBus.$emit('changeLine-someipService', '', this.element.uuid, null)\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        showStateMachine() {\r\n            this.isStateMachineOpenClose = this.isStateMachineOpenClose ? false : true\r\n            // 선을 다시 그려줘야 하기 때문에\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        showDependentStartup() {\r\n            this.isDependentStartupOpenClose = this.isDependentStartupOpenClose ? false : true\r\n            if(this.element.dependent.length > 0) {\r\n                this.$nextTick(() => {\r\n                    if(this.isDependentStartupOpenClose) {\r\n                        EventBus.$emit('changeLine-someipService', '', this.element.uuid, this.dependentStartupTab, this.dependentStartupTab)\r\n                    } else {\r\n                        EventBus.$emit('changeLine-someipService', '', this.element.uuid, null)\r\n                    }\r\n                    EventBus.$emit('drawLine')\r\n                })\r\n            }\r\n        },\r\n        showFunctionG() {\r\n            this.isFunctionGOpenClose = this.isFunctionGOpenClose ? false : true\r\n            // 선을 다시 그려줘야 하기 때문에\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        inputProcessName() {\r\n            this.$store.commit('editProcess', {compo:\"Name\", uuid:this.element.uuid, name:this.element.name} )\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name} )\r\n            if (this.element.name != '') {\r\n                this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.element.name, path:this.element.path})\r\n            }\r\n        },\r\n\r\n        clearProcessDesign() {\r\n            this.element.prodesign = null\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processprodesign')\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/processprodesign')\r\n            }\r\n        },\r\n        setProcessDesignSelect() {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processprodesign')\r\n            if (endLine == undefined) {\r\n                endLine = this.$store.getters.getProcessDesignPath(this.element.prodesign)\r\n            }\r\n            if (endLine != null) {\r\n                this.$store.commit('setDetailView', {uuid: endLine, element: constant.ProcessDesign_str} )\r\n            }\r\n        },\r\n        setProcessDesignList() {\r\n            this.selProcessDesign = this.$store.getters.getProcessDesign\r\n            this.setactiveUUID()\r\n        },\r\n        setProcessDesign(item) {\r\n            if(this.element.prodesign != item.name) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processprodesign')\r\n                if (endLine != undefined && endLine != item.uuid) {\r\n                    //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                    this.deleteLine(this.element.uuid+'/processprodesign')\r\n                }\r\n                //새로 추가해준다\r\n                this.newLine(this.element.uuid+'/processprodesign', this.element.uuid+'/processprodesign', item.uuid)\r\n                this.element.prodesign = item.name\r\n            }\r\n            this.setactiveUUID()\r\n        },\r\n        newProcessDesign() {\r\n            this.$store.commit('addElementProcessDesign', { //executableref 는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                name: this.$store.getters.getNameProcessDesign, input: false, path: '',\r\n                top: this.element.top+100, left: this.element.left+ 300 , zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                executableref: null, determin: [],\r\n            })\r\n            EventBus.$emit('add-element', constant.ProcessDesign_str)\r\n            EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n            this.$store.commit('editProcess', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        clearDetermin() {\r\n            this.element.determin = null\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processdetermin')\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/processdetermin')\r\n            }\r\n        },\r\n        setDeterminSelect() {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processdetermin')\r\n            if (endLine == undefined) {\r\n                endLine = this.$store.getters.getDeterministicClientPath(this.element.determin)\r\n            }\r\n            if (endLine != null) {\r\n                this.$store.commit('setDetailView', {uuid: endLine, element: constant.DeterministicClient_str} )\r\n            }\r\n        },\r\n        setDeterminList() {\r\n            this.selDeterministic = this.$store.getters.getDeterministicClient\r\n            this.setactiveUUID()\r\n        },\r\n        setDeterministicClient(item) {\r\n            if(this.element.determin != item.name) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processdetermin')\r\n                if (endLine != undefined && endLine != item.uuid) {\r\n                    //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                    this.deleteLine(this.element.uuid+'/processdetermin')\r\n                }\r\n                //새로 추가해준다\r\n                this.newLine(this.element.uuid+'/processdetermin', this.element.uuid+'/processdetermin', item.uuid)\r\n                this.element.determin = item.name\r\n            }\r\n            this.setactiveUUID()\r\n        },\r\n        newDeterministicClient() {\r\n            this.$store.commit('addElementDeterministicClien', {\r\n                name: this.$store.getters.getNameDeterministicClient, input: false, path: '',\r\n                top: this.element.top+100, left: this.element.left+ 300 , zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                cycletiem: '', numofworkers: '',\r\n            })\r\n            EventBus.$emit('add-element', constant.DeterministicClient_str)\r\n            EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n            this.$store.commit('editProcess', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        clearExecutable() {\r\n            this.element.execut = null\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processexecut')\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/processexecut')\r\n            }\r\n        },\r\n        setExecutableSelect() {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processexecut')\r\n            if (endLine == undefined) {\r\n                endLine = this.$store.getters.getExecutablePath(this.element.execut)\r\n            }\r\n            if (endLine != null) {\r\n                this.$store.commit('setDetailView', {uuid: endLine, element: constant.Executable_str} )\r\n            }\r\n        },\r\n        setExecutableList() {\r\n            this.selExecutable = this.$store.getters.getExecutable\r\n            this.setactiveUUID()\r\n        },\r\n        setExecutable(item) {\r\n            if(this.element.execut != item.name) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processexecut')\r\n                if (endLine != undefined && endLine != item.uuid) {\r\n                    //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                    this.deleteLine(this.element.uuid+'/processexecut')\r\n                }\r\n                //새로 추가해준다\r\n                this.newLine(this.element.uuid+'/processexecut', this.element.uuid+'/processexecut', item.uuid)\r\n                this.element.execut = item.name\r\n            }\r\n            this.setactiveUUID()\r\n        },\r\n        newExecutable() {\r\n            this.$store.commit('addElementExecutable', { //applicationtyperef 는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                name: this.$store.getters.getNameExecutable, input: false, path: '',\r\n                top: this.element.top+100, left: this.element.left+ 300 , zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                version: '', category:'', buildType:null, loggingBehabior:null, reportingBehabior:null, swname:'', applicationtyperef: null,\r\n            })\r\n            EventBus.$emit('add-element', constant.Executable_str)\r\n            EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n            this.$store.commit('editProcess', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        clearModeDeclaration() {\r\n            this.element.machinetype = null\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processmodedeclar')\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/processmodedeclar')\r\n            }\r\n        },\r\n        setModeDeclarationSelect() {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processmodedeclar')\r\n            if (endLine == undefined) {\r\n                endLine = this.$store.getters.getModeDeclarationPath(this.element.machinetype, 0)\r\n            }\r\n            if (endLine != null) {\r\n                this.$store.commit('setDetailView', {uuid: endLine, element: constant.ModeDeclarationGroup_str} )\r\n            }\r\n        },\r\n        setModeDeclarationList() {\r\n            this.selModeDeclaration = this.$store.getters.getModeDeclarationG\r\n            this.setactiveUUID()\r\n        },\r\n        setModeDeclaration(item) {\r\n            if(this.element.machinetype != item.name) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processmodedeclar')\r\n                if (endLine != undefined && endLine != item.uuid) {\r\n                    //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                    this.deleteLine(this.element.uuid+'/processmodedeclar')\r\n                }\r\n                //새로 추가해준다\r\n                this.newLine(this.element.uuid+'/processmodedeclar', this.element.uuid+'/processmodedeclar', item.uuid)\r\n                this.element.machinetype = item.name\r\n            }\r\n            this.setactiveUUID()\r\n        },\r\n        newModeDeclarationGroup() {\r\n            this.$store.commit('addElementModeDeclarationGroup', {\r\n                name: this.$store.getters.getNameModeDeclarationGroup, input: false, path: '',\r\n                top: this.element.top+100, left: this.element.left+ 300 , zindex: 10, \r\n                modedeclaration:[], initmode:null, icon:\"mdi-clipboard-outline\", validation: false\r\n            })\r\n            EventBus.$emit('add-element', constant.ModeDeclarationGroup_str)\r\n            EventBus.$emit('add-element', constant.Machines_str)\r\n            this.$store.commit('editProcess', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        addDependentStartup() {\r\n            const editItem = { functionItem: [], resourceRef: null, startupConfigRef: null}\r\n            const addObj = new Object(editItem)\r\n            this.element.dependent.push(addObj)\r\n            this.dependentStartupTab = this.element.dependent.length-1\r\n            EventBus.$emit('changeLine-someipService', '', this.element.uuid, null)\r\n        },\r\n        clickDependentStartuptab() {\r\n            //console.log('clickDependentStartuptab')\r\n            this.isdeleteFunctionG = false\r\n            this.selectDelectFunctionGItem = []\r\n        },\r\n        changeDependentStartupTab() {\r\n            //console.log('changeDependentStartupTab' +this.dependentStartupTab)\r\n            if(this.element.dependent.length > 0) {\r\n                setTimeout(() => {EventBus.$emit('changeLine-someipService', '', this.element.uuid, this.dependentStartupTab, this.dependentStartupTab)}, 300);\r\n            }\r\n        },\r\n        deleteDependentStartup(idx) {\r\n            console.log('deleteDependentStartup' + idx)\r\n            for(let i=0; i<this.element.dependent[idx].functionItem.length; i++){\r\n                var endLineCon = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgcontext-'+i+'-'+idx)\r\n                if(endLineCon != undefined) {\r\n                    this.deleteLine(this.element.uuid+'/fgcontext-'+i+'-'+idx)\r\n                }\r\n                var endLinetarg = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgtarget-'+i+'-'+idx)\r\n                if(endLinetarg != undefined) {\r\n                    this.deleteLine(this.element.uuid+'/fgtarget-'+i+'-'+idx)\r\n                }\r\n            }\r\n            var endLine, endR, endS\r\n            endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processresorce-'+idx)\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/processresorce-'+idx)\r\n            }\r\n            endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processstartup-'+idx)\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/processstartup-'+idx)\r\n            }\r\n            for(let i=idx+1; i<this.element.dependent.length; i++){\r\n                endR = this.$store.getters.getChangeEndLine(this.element.uuid+'/processresorce-'+i)\r\n                endS = this.$store.getters.getChangeEndLine(this.element.uuid+'/processstartup-'+i)\r\n                for(let n=0; n<this.element.dependent[i].functionItem.length; n++){\r\n                    var endC = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgcontext-'+n+'-'+i)\r\n                    if(endC != undefined) {\r\n                        this.deleteLine(this.element.uuid+'/fgcontext-'+n+'-'+i)\r\n                        this.newLine(this.element.uuid+'/fgcontext-'+n+'-'+(i-1), this.element.uuid+'/processStarupC', endC)\r\n                    }\r\n                    var endT = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgtarget-'+n+'-'+i)\r\n                    if(endT != undefined) {\r\n                        this.deleteLine(this.element.uuid+'/fgtarget-'+n+'-'+i)\r\n                        this.newLine(this.element.uuid+'/fgtarget-'+n+'-'+(i-1), this.element.uuid+'/processStarupC', endT)\r\n                    }\r\n                }\r\n                if (endR != undefined) {\r\n                    this.deleteLine(this.element.uuid+'/processresorce-'+i)\r\n                    this.newLine(this.element.uuid+'/processresorce-'+(i-1), this.element.uuid+'/processStarupC', endR)\r\n                }\r\n                if (endS != undefined) {\r\n                    this.deleteLine(this.element.uuid+'/processstartup-'+i)\r\n                    this.newLine(this.element.uuid+'/processstartup-'+(i-1), this.element.uuid+'/processStarupC', endS)\r\n                }\r\n            }\r\n\r\n            this.element.dependent.splice(idx, 1)\r\n            this.changeDependentStartupTab()\r\n        },\r\n        isCheckFunctionG() {\r\n            if (this.isdeleteFunctionG == true) {\r\n                this.isdeleteFunctionG = false\r\n                this.selectDelectFunctionGItem = []\r\n            } else {\r\n                this.isdeleteFunctionG = true\r\n            }\r\n        },\r\n        deleteFunctionG() {\r\n            if (this.isdeleteFunctionG == true) {\r\n                for(let i=0; i<this.element.dependent[this.dependentStartupTab].functionItem.length; i++){\r\n                    var endLineCon = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgcontext-'+i+'-'+this.dependentStartupTab)\r\n                    if(endLineCon != undefined) {\r\n                        this.deleteLine(this.element.uuid+'/fgcontext-'+i+'-'+this.dependentStartupTab)\r\n                    }\r\n                    var endLinetarg = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgtarget-'+i+'-'+this.dependentStartupTab)\r\n                    if(endLinetarg != undefined) {\r\n                        this.deleteLine(this.element.uuid+'/fgtarget-'+i+'-'+this.dependentStartupTab)\r\n                    }\r\n                    if(endLineCon != undefined || endLinetarg != undefined) {\r\n                        this.changeLineFunc.push({contextMode:this.element.dependent[this.dependentStartupTab].functionItem[i].contextMode, targetMode:this.element.dependent[this.dependentStartupTab].functionItem[i].targetMode, endLineCon:endLineCon, endLineTarg:endLinetarg})\r\n                    }\r\n                }\r\n\r\n                this.element.dependent[this.dependentStartupTab].functionItem = this.element.dependent[this.dependentStartupTab].functionItem.filter(item => {\r\n                         return this.selectDelectFunctionGItem.indexOf(item) < 0 })\r\n\r\n                let idx = 0 \r\n                for(let n=0; n<this.element.dependent[this.dependentStartupTab].functionItem.length; n++) {\r\n                    let rigth= true\r\n                    while (rigth) {\r\n                        if (this.element.dependent[this.dependentStartupTab].functionItem[n].contextMode == this.changeLineFunc[idx].contextMode &&\r\n                            this.element.dependent[this.dependentStartupTab].functionItem[n].targetMode == this.changeLineFunc[idx].targetMode) {\r\n                                rigth = false\r\n                                idx--\r\n                        }\r\n                        idx++\r\n                    }\r\n                    console.log('escape')\r\n                    if (this.element.dependent[this.dependentStartupTab].functionItem[n].contextMode != null) {\r\n                        this.newLine(this.element.uuid+'/fgcontext-'+n+'-'+this.dependentStartupTab, this.element.uuid+'/fgtable'+this.dependentStartupTab, this.changeLineFunc[idx].endLineCon)\r\n                    }\r\n                    if (this.element.dependent[this.dependentStartupTab].functionItem[n].targetMode != null) {\r\n                        this.newLine(this.element.uuid+'/fgtarget-'+n+'-'+this.dependentStartupTab, this.element.uuid+'/fgtable'+this.dependentStartupTab, this.changeLineFunc[idx].endLineTarg)\r\n                    }\r\n                }\r\n\r\n                this.isdeleteFunctionG = false\r\n                this.selectDelectFunctionGItem = []\r\n                this.changeLineFunc = []\r\n            }\r\n        },\r\n        openFunctionG(idx) {\r\n            this.selContextMode = this.$store.getters.getModeDeclarationGP\r\n            this.selTargetMode = this.$store.getters.getModeDeclaration\r\n\r\n            if (this.element.dependent[this.dependentStartupTab].functionItem[idx].contextMode != null ) {\r\n                var endLineC = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgcontext-'+this.dependentStartupTab+'/'+idx)\r\n                if (endLineC == undefined) {\r\n                    endLineC = this.$store.getters.getMachinePath(this.element.dependent[this.dependentStartupTab].functionItem[idx].contextMode, 2)\r\n                }\r\n                this.editFunctionGItem.contextMode = { name :this.element.dependent[this.dependentStartupTab].functionItem[idx].contextMode, uuid: endLineC }\r\n            }\r\n            if (this.element.dependent[this.dependentStartupTab].functionItem[idx].targetMode != null) {\r\n                var endLineT = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgtarget-'+this.dependentStartupTab+'/'+idx)\r\n                if (endLineT == undefined) {\r\n                    endLineT = this.$store.getters.getModeDeclarationPath(this.element.dependent[this.dependentStartupTab].functionItem[idx].targetMode, 1)\r\n                }\r\n                this.editFunctionGItem.targetMode = { name :this.element.dependent[this.dependentStartupTab].functionItem[idx].targetMode, uuid: endLineT }\r\n            }\r\n        },\r\n        editFunctionG(idx) {\r\n            var endcontextMLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgcontext-'+idx+'-'+this.dependentStartupTab)\r\n            if (endcontextMLine != undefined && this.editFunctionGItem.contextMode == null) {\r\n                this.deleteLine(this.element.uuid+'/fgcontext-'+idx+'-'+this.dependentStartupTab)\r\n                this.element.dependent[this.dependentStartupTab].functionItem[idx].contextMode = null\r\n            } else if (endcontextMLine != undefined && endcontextMLine != this.editFunctionGItem.contextMode.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/fgcontext-'+idx+'-'+this.dependentStartupTab)\r\n                this.newLine(this.element.uuid+'/fgcontext-'+idx+'-'+this.dependentStartupTab, this.element.uuid+'/fgtable'+this.dependentStartupTab, this.editFunctionGItem.contextMode.uuid)\r\n                this.element.dependent[this.dependentStartupTab].functionItem[idx].contextMode = this.editFunctionGItem.contextMode.name\r\n            } else if(endcontextMLine == undefined && this.editFunctionGItem.contextMode != null) {\r\n                this.newLine(this.element.uuid+'/fgcontext-'+idx+'-'+this.dependentStartupTab, this.element.uuid+'/fgtable'+this.dependentStartupTab, this.editFunctionGItem.contextMode.uuid)\r\n                this.element.dependent[this.dependentStartupTab].functionItem[idx].contextMode = this.editFunctionGItem.contextMode.name\r\n            }\r\n\r\n            var endtargetMLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/fgtarget-'+idx+'-'+this.dependentStartupTab)\r\n            if (endtargetMLine != undefined && this.editFunctionGItem.targetMode == null) {\r\n                this.deleteLine(this.element.uuid+'/fgtarget-'+idx+'-'+this.dependentStartupTab)\r\n                this.element.dependent[this.dependentStartupTab].functionItem[idx].targetMode = null\r\n            } else if (endtargetMLine != undefined && endtargetMLine != this.editFunctionGItem.targetMode.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/fgtarget-'+idx+'-'+this.dependentStartupTab)\r\n                this.newLine(this.element.uuid+'/fgtarget-'+idx+'-'+this.dependentStartupTab, this.element.uuid+'/fgtable'+this.dependentStartupTab, this.editFunctionGItem.targetMode.uuid)\r\n                this.element.dependent[this.dependentStartupTab].functionItem[idx].targetMode = this.editFunctionGItem.targetMode.name\r\n            } else if (endtargetMLine == undefined && this.editFunctionGItem.targetMode != undefined) {\r\n                this.newLine(this.element.uuid+'/fgtarget-'+idx+'-'+this.dependentStartupTab, this.element.uuid+'/fgtable'+this.dependentStartupTab, this.editFunctionGItem.targetMode.uuid)\r\n                this.element.dependent[this.dependentStartupTab].functionItem[idx].targetMode = this.editFunctionGItem.targetMode.name\r\n            }\r\n            \r\n            this.cancelFunctionG()\r\n        },\r\n        cancelFunctionG() {\r\n            this.editFunctionGItem = Object.assign({}, this.defaultFunctionGItem)\r\n            this.setactiveUUID()\r\n        },\r\n        addFunctionG() {\r\n            var datacount\r\n            if(this.element.dependent[this.dependentStartupTab].functionItem == undefined) {\r\n                datacount = 0\r\n            }else {\r\n                datacount = this.element.dependent[this.dependentStartupTab].functionItem.length\r\n            }\r\n\r\n            if( this.editFunctionGItem.contextMode != null) {\r\n                this.newLine(this.element.uuid+'/fgcontext-'+datacount+'-'+this.dependentStartupTab, this.element.uuid+'/fgtable'+this.dependentStartupTab, this.editFunctionGItem.contextMode.uuid)\r\n                this.editFunctionGItem.contextMode = this.editFunctionGItem.contextMode.name\r\n            }\r\n            if( this.editFunctionGItem.targetMode != null) {\r\n                this.newLine(this.element.uuid+'/fgtarget-'+datacount+'-'+this.dependentStartupTab, this.element.uuid+'/fgtable'+this.dependentStartupTab, this.editFunctionGItem.targetMode.uuid)\r\n                this.editFunctionGItem.targetMode = this.editFunctionGItem.targetMode.name\r\n            }\r\n            const addObj = Object.assign({}, this.editFunctionGItem)\r\n            this.element.dependent[this.dependentStartupTab].functionItem.push(addObj)\r\n            this.cancelFunctionG()\r\n        },\r\n        setContextModeSelect() {\r\n            if (this.isEditingContextMode == true) { \r\n                if (this.editFunctionGItem.contextMode != null && this.editFunctionGItem.contextMode.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editFunctionGItem.contextMode.uuid, element: constant.Machine_str} )\r\n                }\r\n                this.setContextMList()\r\n                this.isEditingContextMode = false\r\n            } else {\r\n                this.isEditingContextMode = true\r\n            }\r\n        },\r\n        setContextMList() {\r\n            this.selContextMode =  this.$store.getters.getModeDeclarationGP\r\n            console.log('setTargetMList'+this.selContextMode.length)\r\n            this.setactiveUUID()\r\n        },\r\n        clearContextModeRef() {\r\n            this.isEditingContextMode = true\r\n            this.editFunctionGItem.contextMode = null\r\n        },\r\n        setTargetModeSelect() {\r\n            if (this.isEditingTargetMode == true) { \r\n                if (this.editFunctionGItem.targetMode != null && this.editFunctionGItem.targetMode.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editFunctionGItem.targetMode.uuid, element: constant.ModeDeclarationGroup_str} )\r\n                }\r\n                this.setTargetMList()\r\n                this.isEditingTargetMode = false\r\n            } else {\r\n                this.isEditingTargetMode = true\r\n            }\r\n        },\r\n        setTargetMList() {\r\n            this.selTargetMode =  this.$store.getters.getModeDeclaration\r\n            console.log('setTargetMList'+this.selTargetMode.length)\r\n            this.setactiveUUID()\r\n        },\r\n        clearTargetModeRef() {\r\n            this.isEditingTargetMode = true\r\n            this.editFunctionGItem.targetMode = null\r\n        },\r\n\r\n\r\n        clearResourceG(item) {\r\n            item.resourceRef = null\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processresorce-'+this.dependentStartupTab)\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/processresorce-'+this.dependentStartupTab)\r\n            }\r\n        },\r\n        setResourceGSelect(item) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processresorce-'+this.dependentStartupTab)\r\n            if (endLine == undefined) {\r\n                endLine = this.$store.getters.getMachinePath(item.resourceRef, 1)\r\n            }\r\n            if (endLine != null) {\r\n                this.$store.commit('setDetailView', {uuid: endLine, element: constant.Machine_str} )\r\n            }\r\n        },\r\n        setResourceGList() {\r\n            this.selResourceG = this.$store.getters.getResourceGroup\r\n            this.setactiveUUID()\r\n        },\r\n        setResourceG(item, tab) {\r\n            if(tab.resourceRef != item.name) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processresorce-'+this.dependentStartupTab)\r\n                if (endLine != undefined && endLine != item.uuid) {\r\n                    //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                    this.deleteLine(this.element.uuid+'/processresorce-'+this.dependentStartupTab)\r\n                }\r\n                //새로 추가해준다\r\n                if (endLine != item.uuid) {\r\n                    this.newLine(this.element.uuid+'/processresorce-'+this.dependentStartupTab, this.element.uuid+'/processresorce'+this.dependentStartupTab, item.uuid)\r\n                }\r\n                tab.resourceRef = item.name\r\n            }\r\n            this.setactiveUUID()\r\n        },\r\n\r\n        clearStartupC(item) {\r\n            item.startupConfigRef = null\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processstartup-'+this.dependentStartupTab)\r\n            if (endLine != undefined) {\r\n                this.deleteLine(this.element.uuid+'/processstartup-'+this.dependentStartupTab)\r\n            }\r\n        },\r\n        setStartupCSelect(item) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processstartup-'+this.dependentStartupTab)\r\n            if (endLine == undefined) {\r\n                endLine = this.$store.getters.getStartupConfigPath(item.startupConfigRef)\r\n            }\r\n            if (endLine != null) {\r\n                this.$store.commit('setDetailView', {uuid: endLine, element: constant.StartupConfig_str} )\r\n            }\r\n        },\r\n        setStartupCList() {\r\n            this.selStartupC = this.$store.getters.getStartupConfig\r\n            this.setactiveUUID()\r\n        },\r\n        setStartupC(item, tab) {\r\n            if(tab.startupConfigRef != item.name) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/processstartup-'+this.dependentStartupTab)\r\n                if (endLine != undefined && endLine != item.uuid) {\r\n                    //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                    this.deleteLine(this.element.uuid+'/processstartup-'+this.dependentStartupTab)\r\n                }\r\n                //새로 추가해준다\r\n                this.newLine(this.element.uuid+'/processstartup-'+this.dependentStartupTab, this.element.uuid+'/processstartup'+this.dependentStartupTab, item.uuid)\r\n                tab.startupConfigRef = item.name\r\n            }\r\n            this.setactiveUUID()\r\n        },\r\n        newStartupC() {\r\n            this.$store.commit('addElementStartupConfig', {\r\n                name: this.$store.getters.getNameStartupConfig, input: false, path: '',\r\n                top: this.element.top+100, left: this.element.left+ 300 , zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                configname: '', policy:null, priority:'', entertimeout:'', exittimeout:''\r\n            })\r\n            EventBus.$emit('add-element', constant.StartupConfig_str)\r\n            EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n            this.$store.commit('editProcess', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        setactiveUUID() {\r\n            this.$store.commit('setuuid', {uuid: this.element.uuid} )\r\n            this.$store.commit('editProcess', {compo:\"z\", uuid:this.element.uuid, zindex:10} )\r\n        },\r\n        deleteLine(fineLine) {\r\n            var linenum = this.$store.getters.getconnectLineNum(fineLine)\r\n            if (linenum != -1) {\r\n                EventBus.$emit('delete-line', linenum)\r\n                this.$store.commit('deletConnectionline', {startnum: linenum} )\r\n            }\r\n        },\r\n        newLine(startLine, drawLine, endLine) {\r\n            this.$store.commit('setConnectionline', {start: startLine, end: endLine} )\r\n            EventBus.$emit('new-line', drawLine, endLine)\r\n        },\r\n\r\n    },\r\n}\r\n</script>\r\n"]}]}