{"remainingRequest":"D:\\source\\D-noMoveLine\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\source\\D-noMoveLine\\src\\components\\mainview.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\source\\D-noMoveLine\\src\\components\\mainview.vue","mtime":1627881150749},{"path":"D:\\source\\D-noMoveLine\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\D-noMoveLine\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\source\\D-noMoveLine\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\D-noMoveLine\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSFdFbGVtZW50IGZyb20gJ0AvY29tcG9uZW50cy9IV0VsZW1lbnQudnVlJw0KaW1wb3J0IE1hY2hpbmUgZnJvbSAnQC9jb21wb25lbnRzL01hY2hpbmUudnVlJw0KaW1wb3J0IE1hY2hpbmVEZXNpZ24gZnJvbSAnQC9jb21wb25lbnRzL01hY2hpbmVEZXNpZ24udnVlJw0KaW1wb3J0IE1vZGVEZWNsYXJhdGlvbkdyb3VwIGZyb20gJ0AvY29tcG9uZW50cy9Nb2RlRGVjbGFyYXRpb25Hcm91cC52dWUnDQppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJy4uL21haW4nDQppbXBvcnQgTGVhZGVyTGluZSBmcm9tICdsZWFkZXItbGluZS12dWUnDQoNCg0KZXhwb3J0IGRlZmF1bHR7DQogICAgY29tcG9uZW50czp7IEhXRWxlbWVudCwgTWFjaGluZSwgTWFjaGluZURlc2lnbiwgTW9kZURlY2xhcmF0aW9uR3JvdXB9LA0KICAgIGRhdGEgKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZHJhZ2dpbmdJZDogbnVsbCwNCiAgICAgICAgICAgIHByZXZPZmZzZXRYOiAwLA0KICAgICAgICAgICAgcHJldk9mZnNldFk6IDAsDQogICAgICAgICAgICBjZW50ZXJaOiA1LA0KICAgICAgICAgICAgZWxlbWVudHM6IFsNCiAgICAgICAgICAgICAgICB7aWQ6IDEsIHg6IDUwMCwgIHk6IDIwLCAgIHo6IDMsICBhY3RpdmU6IGZhbHNlLCBjb21wb25lbnQ6ICdNYWNoaW5lJ30sIC8vIG1hY2hpbmUNCiAgICAgICAgICAgICAgICB7aWQ6IDIsIHg6IDEwLCAgIHk6IDE1MCwgIHo6IDEsICBhY3RpdmU6IGZhbHNlLCBjb21wb25lbnQ6ICdNYWNoaW5lRGVzaWduJ30sIC8vbWFjaGluZSBkZXNpZ24NCiAgICAgICAgICAgICAgICB7aWQ6IDMsIHg6IDEwNTAsIHk6IDI1MCwgIHo6IDEsICBhY3RpdmU6IGZhbHNlLCBjb21wb25lbnQ6ICdIV0VsZW1lbnQnfSwgLy9IV2VsZW1lbnQNCiAgICAgICAgICAgICAgICB7aWQ6IDQsIHg6IDk1MCwgIHk6IDUwMCwgIHo6IDEsICBhY3RpdmU6IGZhbHNlLCBjb21wb25lbnQ6ICdNb2RlRGVjbGFyYXRpb25Hcm91cCd9LCAvL01vZGUgZGVjbGFyYXRpb24gR3JvdXANCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICB6b29tVmlldzogMSwNCiAgICAgICAgICAgIHpvb206IHsNCiAgICAgICAgICAgICAgICBtaW46IDAuNSwNCiAgICAgICAgICAgICAgICBtYXg6IDMsDQogICAgICAgICAgICAgICAgdmFsdWU6IDEsDQogICAgICAgICAgICAgICAgc3RlcDogMC4xLA0KICAgICAgICAgICAgICAgIG9yaWdpblg6IDAsDQogICAgICAgICAgICAgICAgb3JpZ2luWTogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGlzTW91c2VEb3duOiBmYWxzZSwNCiAgICAgICAgICAgIGVsOiBudWxsLA0KICAgICAgICAgICAgY3Vyc29yUG9zOiBbMCwgMF0sDQogICAgICAgICAgICBpc01vdXNlRGlhZ3JhbTogZmFsc2UsIC8vIG1vdXNl6rCAIGRpYWdyYW3snITsl5Ag7J6I7Jy866m0IO2ZlOuptOydtCDsm4Dsp4HsnbTrqbQg7JWI65CY64uIIOyEpOyglQ0KICAgICAgICAgICAgcmVmSWQ6IG51bGwsDQogICAgICAgICAgICBudW1PdXRzaWRlSUQ6IG51bGwsLy8g7ZmU66m07JWI7JeQIOyeiOuKlOyngCDrsJbsl5Ag7J6I64qU7KeAIOq1rOuzhO2VtCDso7zroKTqs6AsIO2ZlOuptCDrsJbsl5Ag7J6I64qUIGlk6rCS7J20IOuTpOyWtOyYqOuLpA0KICAgICAgICAgICAgaXNWaXJ0dWFsQWN0aXZlOiBmYWxzZSwgLy9y6rCA7IOBZGlhZ3JhbeydtCDrlqDsnojripTsp4Ag7JWE64uM7KeAIOq1rOuzhO2VtOyjvOugpOqzoCANCiAgICAgICAgICAgIGNvbm5lY3Rpb25zOiBbXSwNCiAgICAgICAgICAgIGN1clRyYW5zbGF0ZToge3g6IDAsIHk6IDB9LA0KICAgICAgICAgICAgc2l6ZWxpbmU6IDMsDQogICAgICAgICAgICBpc1NlbGVjdEl0ZW06IGZhbHNlLCAvL+uLpOuluCBlbGVtZW507JeQ7IScIHNlbGVjdCBpdGVt7J2EIOyEoO2Dne2WiOydhOuVjCBkZWFjdGl2ZeuQmOuKlOqygyDrp4nquLDsnITtlbQg64Sj7Ja07KSMDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQgKCkgew0KICAgICAgICB0aGlzLiRuZXh0VGljayggKCk9PnsgLy9WdWUuanPsl5DshJwg642w7J207YSw6rCx7IugIO2bhCBVSeq5jOyngCDsmYTro4ztlZwg65Kk7JeQIG5leHRUaWNr7JeQIOyeiOuKlCDtlajsiJjrpbwg7LWc7KKF7KCB7Jy866GcIOyImO2WiQ0KICAgICAgICAgICAgdGhpcy5zZXRMaW5lKCkNCiAgICAgICAgICAgIHRoaXMubW92ZWxpbmUoKQ0KICAgICAgICB9KQ0KICAgICAgICBFdmVudEJ1cy4kb24oImNhbGwtY29tcG9uZW50IiwgKGlkLCBzZWxlY3RWaWV3KSA9PiB7DQogICAgICAgICAgICAvL2FsZXJ0KCJjYWxsLWNvbXBvbmVudCIpDQogICAgICAgICAgICBpZiAoc2VsZWN0VmlldyA9PSAyKSB7DQogICAgICAgICAgICAgICAgLy90aGlzLnBvc2l0aW9uY2hhbmdlKGlkKQ0KICAgICAgICAgICAgICAgIHRoaXMub25EZWFjdGl2YXRlZCgxKSAvL21hY2hpbmXsl5DshJzrp4wg64uk66W46rG4IOu2gOultOq4sOuVjOusuOyXkCBtYWNoaW5lIGlkIDHsnYQg64Sj7Ja07KSMDQogICAgICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlZChpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2lkLTFdLnogPSB0aGlzLmNlbnRlcloNCiAgICAgICAgICAgICAgICAvL+qxsOq4sCDsnITsuZjroZwg7J2064+Z7ZWY6rKMIOuEo+yWtOykmOyVvO2VnOuLpC4gIOyngOq4iOy9lOuTnOuKlCDrqYDrpqzsnojsnLzrqbQg6rCA7IOB7Jy866GcIOuztOydtOqyjCDtlbTrhbzqsbDsnoQgbWFjaGluZeyqvSBjYWxsZWxlbWVudOyImOygle2VtOyVvO2VqA0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZWwuc2Nyb2xsVG8oe2xlZnQ6IHRoaXMuZWxlbWVudHNbaWQtMV0ueCwgdG9wOiB0aGlzLmVsZW1lbnRzW2lkLTFdLnksIGJlaGF2aW9yOiAnc21vb3RoJyB9KQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RWaWV3ID09IDEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlZklkID0gaWQgLy9yZWbrkJwg6rCS7J20IOyeiOycvOuptCBpZCDqsJLsnYQg64Sj7Ja07KSA64ukDQogICAgICAgICAgICAgICAgaWYgKGlkID09IDIpIHsgIC8vIOyTsOuKlOqzs+ydtCDrp47snLzri4gg7ZWo7IiYIO2VmOuCmOuhnCDtlansuZjrqbQg6rW/DQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1NYWNoaW5EZXNpZ24iICwgc2VsZWN0VmlldykgLy8gMDogZmFsc2UgMTogdmlldyBwb3NpdGlvbiAyOmFjdGl2YXRlZA0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gMykgeyAvL00uRCANCiAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoIm9uQWN0aXZhdGVkLUhXRWxlbSIgLCBzZWxlY3RWaWV3KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gNCkgeyAvLyBIVyBFbGVtZW50DQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1Nb2RlRGVjbGEiLCBzZWxlY3RWaWV3KQ0KICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIEV2ZW50QnVzLiRvbigndmlydHVhbC1kaWFncmFtJywgKGlkKSA9PiB7IC8vIO2ZlOuptCDrsJbsl5Ag7J6I64qUIOyalOyGjOudvCDqsIDsg4HsnLzroZwg7ZWY64KY642UIOuztOydtOqyjCDtlbTso7zripTqsbDsnoQNCiAgICAgICAgICAgIHRoaXMubnVtT3V0c2lkZUlEID0gaWQgIC8v65yo6riw64qUIO2VmOyngOunjCDshKDtg53tlbTslbzsp4Drp4wgdG9vbGJhcuuzgO2VmOqyjD8/DQogICAgICAgIH0pDQogICAgICAgIC8vIEV2ZW50QnVzLiRvbigib3Blbi1tb2RlRGVjbGFyYXRpb24iLCAoaXRlbSwgaWQpID0+IHsgLy9tb2RlIGRlY2xhcmF0aW9uIOu2gOulvOuVjCDtmZzshLHtmZTssL3tlbTso7zroKTqs6Ag7J2067Kk7Yq4IOuwm+yVmOydjA0KICAgICAgICAvLyAgICAgLy90aGlzLmVsZW1lbnRzW2lkXS5hY3RpdmUgPSB0cnVlDQogICAgICAgIC8vICAgICAvL3RoaXMuZWxlbWVudHNbMF0uYWN0aXZlID0gZmFsc2UNCiAgICAgICAgLy8gICAgIHRoaXMub25EZWFjdGl2YXRlZCgxKSAvL21hY2hpbmXsl5DshJzrp4wg64uk66W46rG4IOu2gOultOq4sOuVjOusuOyXkCBtYWNoaW5lIGlkIDHsnYQg64Sj7Ja07KSMDQogICAgICAgIC8vICAgICB0aGlzLm9uQWN0aXZhdGVkKGlkKQ0KICAgICAgICAvLyB9KQ0KICAgICAgICBFdmVudEJ1cy4kb24oInNlbGVjdC1mdW5jdGlvbkdyb3VwdHlwZSIsIChpdGVtLCBpZCkgPT4geyAvLyBtb2RlIGRlY2xhcmF0aW9uZeyXkOyEnCBzZWxlY2V07ZaI7J2EIOuVjCBtYWNoaW5lIO2ZnOyEse2ZlCDtlbTso7zroKTqs6Ag7ZWoDQogICAgICAgICAgICAvL3RoaXMuZWxlbWVudHNbMF0uYWN0aXZlID0gdHJ1ZQ0KICAgICAgICAgICAgLy90aGlzLmVsZW1lbnRzW2lkXS5hY3RpdmUgPSBmYWxzZQ0KICAgICAgICAgICAgLy90aGlzLm9uRGVhY3RpdmF0ZWQoaWQpIC8vIHrqsJIg67OA6rK97ZWY66Ck6rOgIA0KICAgICAgICAgICAgdGhpcy5vbkRlYWN0aXZhdGVkKGlkKSAvLyAgbW9kZSBkZWNsYXJhdGlvbuydgCBkZWFjdGl2ZQ0KICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlZCgxKSAvL21hY2hpbmUg7J20IO2ZnOyEse2ZlCDrkJjripTqsbDrnbzshJwNCiAgICAgICAgfSkNCiAgICAgICAgRXZlbnRCdXMuJG9uKCdhY3RpdmUtZWxlbWVudCcsIChpZCkgPT4gew0KICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlZChpZCkNCiAgICAgICAgfSkNCiAgICAgICAgRXZlbnRCdXMuJG9uKCdhY3RpdmUtZWxlbWVudC1zZWxlY3QnLCAoaWQpID0+IHsgLy8gZGVhY3RpdmXsnbzqsr3smrAgIHYtc2VsZWN0IOyEoO2Dne2VoOuVjCBlbGVtZW506rCAIO2ZnOyEse2ZlOqwgCDslYjrkJjshJwg7Zmc7ISx7ZmUIOuQmOqyjCDsvZTrk5wg64Sj7Ja07KO864qU6rGw7J6EIOuqqOuToCBjb21wb25lbnTsl5Dri6Qg64Sj7Ja07KSY7JW87ZWc64ukLg0KICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlZChpZCkNCiAgICAgICAgICAgIHRoaXMuaXNTZWxlY3RJdGVtID0gdHJ1ZQ0KICAgICAgICB9KQ0KICAgICAgICBFdmVudEJ1cy4kb24oJ2FjdGl2ZS1lbGVtZW50LXNlbGVjdC1ibHVyJywgKCkgPT4geyAvLyBzZWxlY3TtlZjqs6DrgpjrqbQgZGVhY3RpdmXrkJjshJwgIHNlbGVjdCBmb2N1c+u5oOyngOuptCDruaDsoYzri6Tqs6Ag7JWM66Ck7KO864qU6rKDIA0KICAgICAgICAgICAgdGhpcy5pc1NlbGVjdEl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgLy90aGlzLm9uRGVhY3RpdmF0ZWQoMikNCiAgICAgICAgfSkNCiAgICAgICAgRXZlbnRCdXMuJG9uKCdhY3RpdmUtcGFuZWwtaGVhZGVyJywgKCkgPT4gew0KICAgICAgICAgICAgYWxlcnQoImFjdGl2ZS1wYW5lbC1oZWFkZXIiKQ0KICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayh0aGlzLm1vdmVsaW5lKCkpDQogICAgICAgIH0pDQogICAgICAgIEV2ZW50QnVzLiRvbignYWN0aXZlLWVsZW1lbnRTaXplJywgKCkgPT4gew0KICAgICAgICAgICAgLy9hbGVydCgiYWN0aXZlLWVsZW1lbnRTaXplIikNCiAgICAgICAgICAgIHRoaXMubW92ZWxpbmUoKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBvbk1vdXNlRG93biAoZXYpIHsNCiAgICAgICAgICAgIC8vYWxlcnQoJ29uTW91c2VEb3duJykNCiAgICAgICAgICAgIC8vbGV0IGVsZW1CZWxvdyA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZXYuY2xpZW50WCwgZXYuY2xpZW50WSk7DQoNCiAgICAgICAgICAgIC8vaWYoZXYudGFyZ2V0LmdldEF0dHJpYnV0ZSgnbWFjaGluZWRlc2lnbicpID09ICkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKHRoaXMucmVmSWQgJiYgdGhpcy5lbGVtZW50c1t0aGlzLnJlZklkLTFdLmFjdGl2ZSA9PSBmYWxzZSkgeyAvL3JlZuuQnCDqsJLsnbQg7J6I7JeI7Jy866m0IOuLpOuluOqzs+ydhCDriIzroIDsnYQg65WMIHRvb2xiYXLsg4nsnYQg67OA6rK9IO2VtCDspJjslbwg7ZWY6riwIOuVjOusuOyXkCDrhKPslrTspIwNCiAgICAgICAgICAgICAgICAvL2FsZXJ0KCdvbk1vdXNlRG93biAvLy8nICt0aGlzLnJlZklkKQ0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlZklkID09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoIm9uQWN0aXZhdGVkLU1hY2hpbkRlc2lnbiIgLCAwKSAvLyAwOiBmYWxzZSAxOiB2aWV3IHBvc2l0aW9uIDI6YWN0aXZhdGVkDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlZklkID09IDMpIHsgLy9NLkQgDQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1IV0VsZW0iICwgMCkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVmSWQgPT0gNCkgeyAvLyBIVyBFbGVtZW50DQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1Nb2RlRGVjbGEiLCAwKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnJlZklkID0gbnVsbA0KICAgICAgICAgICAgfSAgICAgICANCiAgICAgICAgICAgIGlmICh0aGlzLm51bU91dHNpZGVJRCAmJiAodGhpcy5pc1ZpcnR1YWxBY3RpdmUgPT0gZmFsc2UpKSB7IC8v6rCA7IOBZGlhZ3JhbeydtCDrlrTsnLzrqbQg7JeG7JWg7KSY7JW87ZWY64uI6rmMLg0KICAgICAgICAgICAgICAgIC8vYWxlcnQoJ29uTW91c2VEb3duJyArIHRoaXMuZWxlbWVudHNbdGhpcy5udW1PdXRzaWRlSUQtMV0uYWN0aXZlKQ0KICAgICAgICAgICAgICAgIHRoaXMubnVtT3V0c2lkZUlEID0gbnVsbA0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1IV0VsZW0iICwgMCkNCiAgICAgICAgICAgICAgICAvL2FsZXJ0KCdvbk1vdXNlRG93bicgKyAnKycgK3RoaXMubnVtT3V0c2lkZUlEKQ0KICAgICAgICAgICAgfSAgICAgDQoNCiAgICAgICAgICAgIGlmICh0aGlzLmlzTW91c2VEaWFncmFtKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zID0gW2V2LnBhZ2VYLCBldi5wYWdlWV07DQogICAgICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgb25Nb3VzZVVwICgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgb25Nb3VzZU1vdmUgKGV2KSB7DQogICAgICAgICAgICBpZighdGhpcy5pc01vdXNlRG93bikgcmV0dXJuDQoNCiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7DQoNCiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBbDQogICAgICAgICAgICAgICAgZXYucGFnZVggLSB0aGlzLmN1cnNvclBvc1swXSwNCiAgICAgICAgICAgICAgICBldi5wYWdlWSAtIHRoaXMuY3Vyc29yUG9zWzFdLA0KICAgICAgICAgICAgICAgIF07DQoNCiAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zID0gW2V2LnBhZ2VYLCBldi5wYWdlWV07DQogICAgICAgICAgICB0aGlzLm1vdmVsaW5lKCkNCiAgICAgICAgICAgIGlmICghdGhpcy4kcmVmcy5lbCkgcmV0dXJuOw0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZWwuc2Nyb2xsQnkoew0KICAgICAgICAgICAgICAgICAgICBsZWZ0OiAtZGVsdGFbMF0sDQogICAgICAgICAgICAgICAgICAgIHRvcDogLWRlbHRhWzFdLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgfSwNCiAgICAgICAgZHJhZ2dpbmcoaWQsIGxlZnQsIHRvcCkgew0KICAgICAgICAgICAgdGhpcy5kcmFnZ2luZ0lkID0gaWQ7DQogICAgICAgICAgICB0aGlzLm1vdmVsaW5lKCkNCg0KICAgICAgICAgICAgaWYgKCEgdGhpcy5zeW5jKSByZXR1cm47DQoNCiAgICAgICAgICAgIGNvbnN0IG9mZnNldFggPSBsZWZ0IC0gdGhpcy5kcmFnZ2luZ0VsZW1lbnQueDsNCiAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSB0b3AgLSB0aGlzLmRyYWdnaW5nRWxlbWVudC55Ow0KDQogICAgICAgICAgICBjb25zdCBkZWx0YVggPSB0aGlzLmRlbHRhWChvZmZzZXRYKTsNCiAgICAgICAgICAgIGNvbnN0IGRlbHRhWSA9IHRoaXMuZGVsdGFZKG9mZnNldFkpOw0KICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5tYXAoZWwgPT4geyAvL+uwsOyXtCDrgrTsnZgg66qo65OgIOyalOyGjCDqsIHqsIHsl5Ag64yA7ZWY7JesIOyjvOyWtOynhCDtlajsiJjrpbwg7Zi47Lac7ZWcIOqysOqzvOulvCDrqqjslYQg7IOI66Gc7Jq0IOuwsOyXtOydhCDrsJjtmZgNCiAgICAgICAgICAgICAgICBpZiAoZWwuaWQgIT09IGlkKSB7DQogICAgICAgICAgICAgICAgICAgIGVsLnggKz0gZGVsdGFYOw0KICAgICAgICAgICAgICAgICAgICBlbC55ICs9IGRlbHRhWTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGVsOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgfSwNCiAgICAgICAgZHJhZ3N0b3AoaWQsIGxlZnQsIHRvcCkgew0KICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5tYXAoZWwgPT4gew0KICAgICAgICAgICAgICAgIGlmIChlbC5pZCA9PT0gaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgZWwueCA9IGxlZnQ7DQogICAgICAgICAgICAgICAgICAgIGVsLnkgPSB0b3A7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBlbDsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLmRyYWdnaW5nSWQgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5wcmV2T2Zmc2V0WCA9IDA7DQogICAgICAgICAgICB0aGlzLnByZXZPZmZzZXRZID0gMDsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsdGFYKG9mZnNldFgpIHsNCiAgICAgICAgICAgIGNvbnN0IHJldCA9IG9mZnNldFggLSB0aGlzLnByZXZPZmZzZXRYOw0KDQogICAgICAgICAgICB0aGlzLnByZXZPZmZzZXRYID0gb2Zmc2V0WDsNCg0KICAgICAgICAgICAgcmV0dXJuIHJldDsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsdGFZKG9mZnNldFkpIHsNCiAgICAgICAgICAgIGNvbnN0IHJldCA9IG9mZnNldFkgLSB0aGlzLnByZXZPZmZzZXRZOw0KDQogICAgICAgICAgICB0aGlzLnByZXZPZmZzZXRZID0gb2Zmc2V0WTsNCg0KICAgICAgICAgICAgcmV0dXJuIHJldDsNCiAgICAgICAgfSwNCiAgICAgICAgb25BY3RpdmF0ZWQgKGlkKSB7DQogICAgICAgICAgICAvL2FsZXJ0KCdvbkFjdGl2YXRlZCcgKyBpZCkNCiAgICAgICAgICAgIGlmIChpZCAhPSAxKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpZC0xXS56ID0gdGhpcy5jZW50ZXJaIC8vIG1haW7snbQg7LSI6riw6rCSIDgg7KO867OA7JqU7IaM65Ok7J20IDEgbWFpbuuztOuLpCDshKDtg53rkJzqsoPsnbQg64aS7JWE7JW8IO2VmOuvgOuhnCAxMOycvOuhnCDshKTsoJXtlagNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuaXNNb3VzZURpYWdyYW0gPSB0cnVlDQogICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2lkLTFdLmFjdGl2ZSA9IHRydWUNCg0KICAgICAgICAgICAgaWYgKGlkID09IDEpIHsNCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgib25BY3RpdmF0ZWQtTWFjaGluIiAsIDIpIC8vIDA6IGZhbHNlIDE6IHZpZXcgcG9zaXRpb24gMjphY3RpdmF0ZWQNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gMikgeyAvL00uRCANCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgib25BY3RpdmF0ZWQtTWFjaGluRGVzaWduIiAsIDIpDQogICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09IDMpIHsgLy8gSFcgRWxlbWVudA0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1IV0VsZW0iLCAyKQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PSA0KSB7IC8vIE1vZGUgRGVjbGFyYXRpb24NCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgib25BY3RpdmF0ZWQtTW9kZURlY2xhIiwgMikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgb25EZWFjdGl2YXRlZCAoaWQpIHsNCiAgICAgICAgICAgIC8vYWxlcnQoJ29uRGVhY3RpdmF0ZWQnICsgaWQpDQoNCiAgICAgICAgICAgIHZhciBlbGVtZW50SUQgPSBpZC0xDQogICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50c1tlbGVtZW50SURdLnogIT0gMSAmJiAgaWQgIT0gMSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbZWxlbWVudElEXS56ID0gMQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgIHRoaXMuaXNNb3VzZURpYWdyYW0gPSBmYWxzZQ0KICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbZWxlbWVudElEXS5hY3RpdmUgPSBmYWxzZQ0KDQogICAgICAgICAgICBpZiAodGhpcy5pc1NlbGVjdEl0ZW0gPT0gdHJ1ZSkgIHsNCiAgICAgICAgICAgICAgICB0aGlzLm9uQWN0aXZhdGVkKDIpDQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgaWYgKGlkID09IDEpIHsNCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgib25BY3RpdmF0ZWQtTWFjaGluIiAsIDApDQogICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09IDIpIHsgLy9NLkQgIA0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1NYWNoaW5EZXNpZ24iICwgMCkNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gMykgeyAvLyBIVyBFbGVtZW50DQogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoIm9uQWN0aXZhdGVkLUhXRWxlbSIsIDApDQogICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09IDQpIHsgLy8gTW9kZSBEZWNsYXJhdGlvbg0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1Nb2RlRGVjbGEiLCAwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvblZpcnR1YWxBY3RpdmF0ZWQgKGlkKSB7DQogICAgICAgICAgICAvL2FsZXJ0KCdvblZpcnR1YWxBY3RpdmF0ZWQnKQ0KICAgICAgICAgICAgdGhpcy5pc01vdXNlRGlhZ3JhbSA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuaXNWaXJ0dWFsQWN0aXZlID0gdHJ1ZQ0KICAgICAgICAgICAgaWYgKGlkID09IDMpIHsgLy8gSFcgRWxlbWVudA0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCJvbkFjdGl2YXRlZC1IV0VsZW0iLCAyKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvblZpcnR1YWxEZWFjdGl2YXRlZCAoaWQpIHsNCiAgICAgICAgICAgIC8vYWxlcnQoJ29uVmlydHVhbERlYWN0aXZhdGVkJykNCiAgICAgICAgICAgIHRoaXMuaXNNb3VzZURpYWdyYW0gPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5pc1ZpcnR1YWxBY3RpdmUgPSBmYWxzZQ0KDQogICAgICAgICAgICBpZiAoaWQgPT0gMykgeyAvLyBIVyBFbGVtZW50DQogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoIm9uQWN0aXZhdGVkLUhXRWxlbSIsIDApDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHBvc2l0aW9uY2hhbmdlIChpdGVtKSB7DQogICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2l0ZW1dLnogPSB0aGlzLmNlbnRlcloNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaXRlbV0uYWN0aXZlID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50c1swXS5hY3RpdmUgPSBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICBtb3ZlbGluZSAoKSB7DQogICAgICAgICAgICAgLy90aGlzLmxpbmUucG9zaXRpb24oKQ0KDQogICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLmZvckVhY2goKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24ucG9zaXRpb24oKSk7DQogICAgICAgICB9LA0KICAgICAgICBzZXRMaW5lICgpIHsNCiAgICAgICAgICAgIC8vIHRoaXMubGluZSA9IExlYWRlckxpbmUuc2V0TGluZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFjaGluZScpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHdlbGVtZW50JyksIHsNCiAgICAgICAgICAgIC8vICAgICBzdGFydFBsdWc6ICdkaXNjJywNCiAgICAgICAgICAgIC8vICAgICBlbmRQbHVnOiAnYXJyb3cyJywNCiAgICAgICAgICAgIC8vICAgICBzdGFydFNvY2tldDogJ3JpZ2h0JywNCiAgICAgICAgICAgIC8vICAgICBlbmRTb2NrZXQ6ICdsZWZ0Jw0KICAgICAgICAgICAgLy8gICAgIH0pDQogICAgICAgICAgICAvLyB2YXIgZWxtV3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwcGVyJykNCiAgICAgICAgICAgIC8vIHZhciByZWN0V3JhcHBlciA9IGVsbVdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkNCg0KICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoICgNCiAgICAgICAgICAgICAgICBMZWFkZXJMaW5lLnNldExpbmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ01IRScpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVsZW1lbnQtMCcpLCB7DQogICAgICAgICAgICAgICAgc3RhcnRQbHVnOiAnZGlzYycsDQogICAgICAgICAgICAgICAgZW5kUGx1ZzogJ2Fycm93MicsDQogICAgICAgICAgICAgICAgc3RhcnRTb2NrZXQ6ICdyaWdodCcsDQogICAgICAgICAgICAgICAgZW5kU29ja2V0OiAnbGVmdCcsDQogICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplbGluZSwNCiAgICAgICAgICAgIH0pKQ0KICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoICgNCiAgICAgICAgICAgICAgICBMZWFkZXJMaW5lLnNldExpbmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ01IRScpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVsZW1lbnQtMScpLCB7DQogICAgICAgICAgICAgICAgc3RhcnRQbHVnOiAnZGlzYycsDQogICAgICAgICAgICAgICAgZW5kUGx1ZzogJ2Fycm93MicsDQogICAgICAgICAgICAgICAgc3RhcnRTb2NrZXQ6ICdyaWdodCcsDQogICAgICAgICAgICAgICAgZW5kU29ja2V0OiAnbGVmdCcsDQogICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplbGluZSwNCiAgICAgICAgICAgIH0pKQ0KICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoICgNCiAgICAgICAgICAgICAgICBMZWFkZXJMaW5lLnNldExpbmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ01EJyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWNoaW5lZGVzaWduJyksIHsNCiAgICAgICAgICAgICAgICBzdGFydFBsdWc6ICdkaXNjJywNCiAgICAgICAgICAgICAgICBlbmRQbHVnOiAnYXJyb3cyJywNCiAgICAgICAgICAgICAgICBzdGFydFNvY2tldDogJ2xlZnQnLA0KICAgICAgICAgICAgICAgIGVuZFNvY2tldDogJ3JpZ2h0JywNCiAgICAgICAgICAgICAgICBzaXplOiB0aGlzLnNpemVsaW5lLA0KICAgICAgICAgICAgfSkpDQogICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2ggKA0KICAgICAgICAgICAgICAgIExlYWRlckxpbmUuc2V0TGluZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTUZHJyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RlZGVjbGFyYXRpb25ncm91cCcpLCB7DQogICAgICAgICAgICAgICAgc3RhcnRQbHVnOiAnZGlzYycsDQogICAgICAgICAgICAgICAgZW5kUGx1ZzogJ2Fycm93MicsDQogICAgICAgICAgICAgICAgc3RhcnRTb2NrZXQ6ICdyaWdodCcsDQogICAgICAgICAgICAgICAgZW5kU29ja2V0OiAnbGVmdCcsDQogICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplbGluZSwNCiAgICAgICAgICAgICAgICBkYXNoOiB7YW5pbWF0aW9uOiB0cnVlfQ0KICAgICAgICAgICAgfSkpDQogICAgICAgIH0sDQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICBkcmFnZ2luZ0VsZW1lbnQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICghIHRoaXMuZHJhZ2dpbmdJZCkgcmV0dXJuOw0KDQogICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5maW5kKGVsID0+IGVsLmlkID09PSB0aGlzLmRyYWdnaW5nSWQpOw0KICAgICAgICB9DQogICAgfSwNCn0NCg=="},{"version":3,"sources":["mainview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"mainview.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"main-view\" ref='el' @mousedown=\"onMouseDown\" @mouseup=\"onMouseUp\" @mousemove=\"onMouseMove\" @mousewheel.prevent=\"onmouseWheel\" \r\n        :style=\"{cursor: isMouseDown ? 'grabbing' : 'grab',  }\" @scroll=\"moveline\">\r\n        <v-app > <!-- 여기 안에서만 움직여야 하기 때문에 v-app는 넣어줘야한다.-->\r\n            <vue-draggable-resizable\r\n                class=\"dragelement\"\r\n                class-name-active=\"my-active-class\"\r\n                class-name=\"basic-form\"\r\n                v-for=\"element in elements\"\r\n                :key=\"element.id\"\r\n                :id=\"element.id\"\r\n                :x=\"element.x\"\r\n                :y=\"element.y\"\r\n                :w=400\r\n                :h=70\r\n                :resizable=\"false\"\r\n                :z=\"element.z\"\r\n                :active.sync=\"element.active\"\r\n                @activated=\"onActivated(element.id)\" @deactivated=\"onDeactivated(element.id)\"\r\n                @dragging=\"(left, top) => dragging(element.id, left, top)\"\r\n                @dragstop=\"(left, top) => dragstop(element.id, left, top)\" >\r\n                <component :is=\"element.component\">                 \r\n                </component>\r\n            </vue-draggable-resizable>\r\n\r\n            <vue-draggable-resizable v-if=\"numOutsideID == 3\" class-name='virtual-diagram'\r\n                x=700 y=100 w=400 h=70 :resizable=\"false\" z=5 :draggable=\"false\"\r\n                @activated=\"onVirtualActivated(numOutsideID)\" @deactivated=\"onVirtualDeactivated(numOutsideID)\">\r\n                <HWElement/>\r\n            </vue-draggable-resizable>\r\n        </v-app>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport HWElement from '@/components/HWElement.vue'\r\nimport Machine from '@/components/Machine.vue'\r\nimport MachineDesign from '@/components/MachineDesign.vue'\r\nimport ModeDeclarationGroup from '@/components/ModeDeclarationGroup.vue'\r\nimport { EventBus } from '../main'\r\nimport LeaderLine from 'leader-line-vue'\r\n\r\n\r\nexport default{\r\n    components:{ HWElement, Machine, MachineDesign, ModeDeclarationGroup},\r\n    data () {\r\n        return {\r\n            draggingId: null,\r\n            prevOffsetX: 0,\r\n            prevOffsetY: 0,\r\n            centerZ: 5,\r\n            elements: [\r\n                {id: 1, x: 500,  y: 20,   z: 3,  active: false, component: 'Machine'}, // machine\r\n                {id: 2, x: 10,   y: 150,  z: 1,  active: false, component: 'MachineDesign'}, //machine design\r\n                {id: 3, x: 1050, y: 250,  z: 1,  active: false, component: 'HWElement'}, //HWelement\r\n                {id: 4, x: 950,  y: 500,  z: 1,  active: false, component: 'ModeDeclarationGroup'}, //Mode declaration Group\r\n            ],\r\n            zoomView: 1,\r\n            zoom: {\r\n                min: 0.5,\r\n                max: 3,\r\n                value: 1,\r\n                step: 0.1,\r\n                originX: 0,\r\n                originY: 0\r\n            },\r\n            isMouseDown: false,\r\n            el: null,\r\n            cursorPos: [0, 0],\r\n            isMouseDiagram: false, // mouse가 diagram위에 있으면 화면이 움직이면 안되니 설정\r\n            refId: null,\r\n            numOutsideID: null,// 화면안에 있는지 밖에 있는지 구별해 주려고, 화면 밖에 있는 id값이 들어온다\r\n            isVirtualActive: false, //r가상diagram이 떠있는지 아닌지 구별해주려고 \r\n            connections: [],\r\n            curTranslate: {x: 0, y: 0},\r\n            sizeline: 3,\r\n            isSelectItem: false, //다른 element에서 select item을 선택했을때 deactive되는것 막기위해 넣어줌\r\n        }\r\n    },\r\n    mounted () {\r\n        this.$nextTick( ()=>{ //Vue.js에서 데이터갱신 후 UI까지 완료한 뒤에 nextTick에 있는 함수를 최종적으로 수행\r\n            this.setLine()\r\n            this.moveline()\r\n        })\r\n        EventBus.$on(\"call-component\", (id, selectView) => {\r\n            //alert(\"call-component\")\r\n            if (selectView == 2) {\r\n                //this.positionchange(id)\r\n                this.onDeactivated(1) //machine에서만 다른걸 부르기때문에 machine id 1을 넣어줌\r\n                this.onActivated(id)\r\n                this.elements[id-1].z = this.centerZ\r\n                //거기 위치로 이동하게 넣어줘야한다.  지금코드는 멀리있으면 가상으로 보이게 해논거임 machine쪽 callelement수정해야함\r\n                this.$refs.el.scrollTo({left: this.elements[id-1].x, top: this.elements[id-1].y, behavior: 'smooth' })\r\n            } else if (selectView == 1) {\r\n                this.refId = id //ref된 값이 있으면 id 값을 넣어준다\r\n                if (id == 2) {  // 쓰는곳이 많으니 함수 하나로 합치면 굿\r\n                    EventBus.$emit(\"onActivated-MachinDesign\" , selectView) // 0: false 1: view position 2:activated\r\n                } else if (id == 3) { //M.D \r\n                    EventBus.$emit(\"onActivated-HWElem\" , selectView)\r\n                } else if (id == 4) { // HW Element\r\n                    EventBus.$emit(\"onActivated-ModeDecla\", selectView)\r\n                } \r\n            }\r\n        })\r\n        EventBus.$on('virtual-diagram', (id) => { // 화면 밖에 있는 요소라 가상으로 하나더 보이게 해주는거임\r\n            this.numOutsideID = id  //뜨기는 하지만 선택해야지만 toolbar변하게??\r\n        })\r\n        // EventBus.$on(\"open-modeDeclaration\", (item, id) => { //mode declaration 부를때 활성화창해주려고 이벤트 받았음\r\n        //     //this.elements[id].active = true\r\n        //     //this.elements[0].active = false\r\n        //     this.onDeactivated(1) //machine에서만 다른걸 부르기때문에 machine id 1을 넣어줌\r\n        //     this.onActivated(id)\r\n        // })\r\n        EventBus.$on(\"select-functionGrouptype\", (item, id) => { // mode declaratione에서 selecet했을 때 machine 활성화 해주려고 함\r\n            //this.elements[0].active = true\r\n            //this.elements[id].active = false\r\n            //this.onDeactivated(id) // z값 변경하려고 \r\n            this.onDeactivated(id) //  mode declaration은 deactive\r\n            this.onActivated(1) //machine 이 활성화 되는거라서\r\n        })\r\n        EventBus.$on('active-element', (id) => {\r\n            this.onActivated(id)\r\n        })\r\n        EventBus.$on('active-element-select', (id) => { // deactive일경우  v-select 선택할때 element가 활성화가 안되서 활성화 되게 코드 넣어주는거임 모든 component에다 넣어줘야한다.\r\n            this.onActivated(id)\r\n            this.isSelectItem = true\r\n        })\r\n        EventBus.$on('active-element-select-blur', () => { // select하고나면 deactive되서  select focus빠지면 빠졌다고 알려주는것 \r\n            this.isSelectItem = false\r\n            //this.onDeactivated(2)\r\n        })\r\n        EventBus.$on('active-panel-header', () => {\r\n            alert(\"active-panel-header\")\r\n            process.nextTick(this.moveline())\r\n        })\r\n        EventBus.$on('active-elementSize', () => {\r\n            //alert(\"active-elementSize\")\r\n            this.moveline()\r\n        })\r\n    },\r\n    methods: {\r\n        onMouseDown (ev) {\r\n            //alert('onMouseDown')\r\n            //let elemBelow = document.elementFromPoint(ev.clientX, ev.clientY);\r\n\r\n            //if(ev.target.getAttribute('machinedesign') == )\r\n            \r\n            if (this.refId && this.elements[this.refId-1].active == false) { //ref된 값이 있었으면 다른곳을 눌렀을 때 toolbar색을 변경 해 줘야 하기 때문에 넣어줌\r\n                //alert('onMouseDown ///' +this.refId)\r\n                if (this.refId == 2) {\r\n                    EventBus.$emit(\"onActivated-MachinDesign\" , 0) // 0: false 1: view position 2:activated\r\n                } else if (this.refId == 3) { //M.D \r\n                    EventBus.$emit(\"onActivated-HWElem\" , 0)\r\n                } else if (this.refId == 4) { // HW Element\r\n                    EventBus.$emit(\"onActivated-ModeDecla\", 0)\r\n                }\r\n                this.refId = null\r\n            }       \r\n            if (this.numOutsideID && (this.isVirtualActive == false)) { //가상diagram이 떴으면 없애줘야하니까.\r\n                //alert('onMouseDown' + this.elements[this.numOutsideID-1].active)\r\n                this.numOutsideID = null\r\n                EventBus.$emit(\"onActivated-HWElem\" , 0)\r\n                //alert('onMouseDown' + '+' +this.numOutsideID)\r\n            }     \r\n\r\n            if (this.isMouseDiagram) {\r\n                return\r\n            }\r\n            \r\n            this.cursorPos = [ev.pageX, ev.pageY];\r\n            this.isMouseDown = true;\r\n        },\r\n        onMouseUp () {\r\n            this.isMouseDown = false;\r\n        },\r\n        onMouseMove (ev) {\r\n            if(!this.isMouseDown) return\r\n\r\n            ev.preventDefault();\r\n\r\n            requestAnimationFrame(() => {\r\n                const delta = [\r\n                ev.pageX - this.cursorPos[0],\r\n                ev.pageY - this.cursorPos[1],\r\n                ];\r\n\r\n            this.cursorPos = [ev.pageX, ev.pageY];\r\n            this.moveline()\r\n            if (!this.$refs.el) return;\r\n                this.$refs.el.scrollBy({\r\n                    left: -delta[0],\r\n                    top: -delta[1],\r\n                });\r\n            });\r\n       },\r\n        dragging(id, left, top) {\r\n            this.draggingId = id;\r\n            this.moveline()\r\n\r\n            if (! this.sync) return;\r\n\r\n            const offsetX = left - this.draggingElement.x;\r\n            const offsetY = top - this.draggingElement.y;\r\n\r\n            const deltaX = this.deltaX(offsetX);\r\n            const deltaY = this.deltaY(offsetY);\r\n            this.elements.map(el => { //배열 내의 모든 요소 각각에 대하여 주어진 함수를 호출한 결과를 모아 새로운 배열을 반환\r\n                if (el.id !== id) {\r\n                    el.x += deltaX;\r\n                    el.y += deltaY;\r\n                }\r\n                return el;\r\n            });\r\n            \r\n        },\r\n        dragstop(id, left, top) {\r\n            this.elements.map(el => {\r\n                if (el.id === id) {\r\n                    el.x = left;\r\n                    el.y = top;\r\n                }\r\n                return el;\r\n            });\r\n            \r\n            this.draggingId = null;\r\n            this.prevOffsetX = 0;\r\n            this.prevOffsetY = 0;\r\n        },\r\n        deltaX(offsetX) {\r\n            const ret = offsetX - this.prevOffsetX;\r\n\r\n            this.prevOffsetX = offsetX;\r\n\r\n            return ret;\r\n        },\r\n        deltaY(offsetY) {\r\n            const ret = offsetY - this.prevOffsetY;\r\n\r\n            this.prevOffsetY = offsetY;\r\n\r\n            return ret;\r\n        },\r\n        onActivated (id) {\r\n            //alert('onActivated' + id)\r\n            if (id != 1) {\r\n                this.elements[id-1].z = this.centerZ // main이 초기값 8 주변요소들이 1 main보다 선택된것이 높아야 하므로 10으로 설정함\r\n            }\r\n            this.isMouseDiagram = true\r\n            this.elements[id-1].active = true\r\n\r\n            if (id == 1) {\r\n                EventBus.$emit(\"onActivated-Machin\" , 2) // 0: false 1: view position 2:activated\r\n            } else if (id == 2) { //M.D \r\n                EventBus.$emit(\"onActivated-MachinDesign\" , 2)\r\n            } else if (id == 3) { // HW Element\r\n                EventBus.$emit(\"onActivated-HWElem\", 2)\r\n            } else if (id == 4) { // Mode Declaration\r\n                EventBus.$emit(\"onActivated-ModeDecla\", 2)\r\n            }\r\n        },\r\n        onDeactivated (id) {\r\n            //alert('onDeactivated' + id)\r\n\r\n            var elementID = id-1\r\n            if (this.elements[elementID].z != 1 &&  id != 1) {\r\n                this.elements[elementID].z = 1\r\n            }\r\n             this.isMouseDiagram = false\r\n             this.elements[elementID].active = false\r\n\r\n            if (this.isSelectItem == true)  {\r\n                this.onActivated(2)\r\n                return\r\n            }\r\n\r\n           if (id == 1) {\r\n                EventBus.$emit(\"onActivated-Machin\" , 0)\r\n            } else if (id == 2) { //M.D  \r\n                EventBus.$emit(\"onActivated-MachinDesign\" , 0)\r\n            } else if (id == 3) { // HW Element\r\n                EventBus.$emit(\"onActivated-HWElem\", 0)\r\n            } else if (id == 4) { // Mode Declaration\r\n                EventBus.$emit(\"onActivated-ModeDecla\", 0)\r\n            }\r\n        },\r\n        onVirtualActivated (id) {\r\n            //alert('onVirtualActivated')\r\n            this.isMouseDiagram = true\r\n            this.isVirtualActive = true\r\n            if (id == 3) { // HW Element\r\n                EventBus.$emit(\"onActivated-HWElem\", 2)\r\n            }\r\n        },\r\n        onVirtualDeactivated (id) {\r\n            //alert('onVirtualDeactivated')\r\n            this.isMouseDiagram = false\r\n            this.isVirtualActive = false\r\n\r\n            if (id == 3) { // HW Element\r\n                EventBus.$emit(\"onActivated-HWElem\", 0)\r\n            }\r\n        },\r\n        positionchange (item) {\r\n            this.elements[item].z = this.centerZ\r\n            this.elements[item].active = true\r\n            this.elements[0].active = false\r\n        },\r\n        moveline () {\r\n             //this.line.position()\r\n\r\n            this.connections.forEach((connection) => connection.position());\r\n         },\r\n        setLine () {\r\n            // this.line = LeaderLine.setLine(document.getElementById('machine'), document.getElementById('hwelement'), {\r\n            //     startPlug: 'disc',\r\n            //     endPlug: 'arrow2',\r\n            //     startSocket: 'right',\r\n            //     endSocket: 'left'\r\n            //     })\r\n            // var elmWrapper = document.getElementById('wrapper')\r\n            // var rectWrapper = elmWrapper.getBoundingClientRect()\r\n\r\n            this.connections.push (\r\n                LeaderLine.setLine(document.getElementById('MHE'), document.getElementById('melement-0'), {\r\n                startPlug: 'disc',\r\n                endPlug: 'arrow2',\r\n                startSocket: 'right',\r\n                endSocket: 'left',\r\n                size: this.sizeline,\r\n            }))\r\n            this.connections.push (\r\n                LeaderLine.setLine(document.getElementById('MHE'), document.getElementById('melement-1'), {\r\n                startPlug: 'disc',\r\n                endPlug: 'arrow2',\r\n                startSocket: 'right',\r\n                endSocket: 'left',\r\n                size: this.sizeline,\r\n            }))\r\n            this.connections.push (\r\n                LeaderLine.setLine(document.getElementById('MD'), document.getElementById('machinedesign'), {\r\n                startPlug: 'disc',\r\n                endPlug: 'arrow2',\r\n                startSocket: 'left',\r\n                endSocket: 'right',\r\n                size: this.sizeline,\r\n            }))\r\n            this.connections.push (\r\n                LeaderLine.setLine(document.getElementById('MFG'), document.getElementById('modedeclarationgroup'), {\r\n                startPlug: 'disc',\r\n                endPlug: 'arrow2',\r\n                startSocket: 'right',\r\n                endSocket: 'left',\r\n                size: this.sizeline,\r\n                dash: {animation: true}\r\n            }))\r\n        },\r\n    },\r\n    computed: {\r\n        draggingElement: function () {\r\n            if (! this.draggingId) return;\r\n\r\n            return this.elements.find(el => el.id === this.draggingId);\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n#main-view {\r\n    white-space: nowrap;\r\n    height: 830px; /* 이게 커지면 가장 오른쪽 scroll이 생긴다. */\r\n    overflow: scroll;\r\n}\r\n\r\n.basic-form {\r\n    cursor: pointer;\r\n    position: absolute; /* 이게 없으면 component들이  x 좌표에 같이 있질 못함  h만큼 떨어져서 배치됨*/\r\n}\r\n.virtual-diagram{\r\n    opacity: 0.7;\r\n}\r\n\r\n#main-view::-webkit-scrollbar {\r\n  width: 6px;\r\n  height: 6px;\r\n}\r\n#main-view::-webkit-scrollbar-track {\r\n  background-color: transparent;\r\n}\r\n#main-view::-webkit-scrollbar-thumb {\r\n  border-radius: 3px;\r\n  background-color: gray;\r\n}\r\n#main-view::-webkit-scrollbar-button {\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\ndiv /* 텍스트를 마우스로 드래그하는 것을 방지하는 CSS */\r\n{\r\n  -ms-user-select: none;  /*익스플로러 */\r\n  -moz-user-select: none; /*파이어폭스 */\r\n  -khtml-user-select: none; /**/\r\n  -webkit-user-select: none; /*크롬, 사파리 */\r\n  user-select: none;\r\n}\r\n\r\n.leader-line {\r\n  z-index: 1;\r\n}\r\n\r\n</style>"]}]}