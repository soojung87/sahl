{"remainingRequest":"D:\\source\\service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\source\\service\\src\\components\\EthernetCluster.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\source\\service\\src\\components\\EthernetCluster.vue","mtime":1657688041344},{"path":"D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgY29uc3RhbnQgZnJvbSAiLi4vc3RvcmUvY29uc3RhbnRzLmpzIg0KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICIuLi9tYWluLmpzIg0KaW1wb3J0IGRpYWxvZ1BhdGhTZXR0aW5nIGZyb20gJy4uL2NvbXBvbmVudHMvZGlhbG9nUGF0aFNldHRpbmcudnVlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgcHJvcHM6IFsnZWxlbWVudCcsICdpc0RhdGFpbFZpZXcnLCAndmlld0luZm8nLCAnbWluaW1hcHRvb2xiYXInLCAnbG9jYXRpb24nXSwNCiAgICBjb21wb25lbnRzOntkaWFsb2dQYXRoU2V0dGluZ30sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgYWN0aXZlVVVJRCgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVVVUlEDQogICAgICAgIH0sDQogICAgICAgIGRldGFpbFZpZXdVVUlEKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmRldGFpbFZpZXdVVUlEDQogICAgICAgIH0sDQogICAgICAgIHNldHRpbmcoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZw0KICAgICAgICB9LA0KICAgIH0sDQogICAgd2F0Y2g6IHsNCiAgICAgICAgYWN0aXZlVVVJRCh2YWwpIHsNCiAgICAgICAgICAgIHRoaXMuc2V0VG9vbGJhckNvbG9yKHZhbCkNCiAgICAgICAgfSwNCiAgICAgICAgZGV0YWlsVmlld1VVSUQodmFsKSB7DQogICAgICAgICAgICB0aGlzLnNldFRvb2xiYXJDb2xvckRldGFpbFZpZXcodmFsKQ0KICAgICAgICB9LA0KICAgICAgICBzZXR0aW5nKHZhbHVlKSB7DQogICAgICAgICAgICB0aGlzLnpvb212YWx1ZSA9IHZhbHVlLnpvb21NYWluDQogICAgICAgICAgICBpZiAodGhpcy56b29tdmFsdWUgPCB0aGlzLiRzZXRab29taW5Ub29sdGlwKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc1Rvb2x0aXAgPSBmYWxzZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzVG9vbHRpcCA9IHRoaXMubWluaW1hcHRvb2xiYXINCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMuc2V0VG9vbGJhckNvbG9yKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVVVSUQpDQogICAgICAgIC8qZW5kcG9pbnRUYWLsnbQgMuywqOybkCDrsLDsl7TsnbTquLAg65WM66y47JeQIOuzteyCrO2VmOqxsOuCmCBmaWxlSW5wdXQg7IucIOuvuOumrCDsoJXsnZjtlbQg7KSY7JW87KeAIOyViOq3uOufrOuptCBlcnJvciAqLw0KICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbC5mb3JFYWNoKCAoY29uZGksaSkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbFRhYltpXSA9IDANCiAgICAgICAgICAgICAgICBpZiAoY29uZGkuY2hhbm5lbC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbmRpLmNoYW5uZWwuZm9yRWFjaCggKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRwb2ludFRhYi5wdXNoKFtpLCAwXSkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgcnVsZXM6IHsNCiAgICAgICAgICAgICAgICBuYW1lOiAgW3ZhbCA9PiAodmFsIHx8ICcnKS5sZW5ndGggPiAwIF0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29sb3JUb29sYmFyOiAiIzZBNUFDRCIsDQogICAgICAgICAgICB6b29tdmFsdWU6IHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmcuem9vbU1haW4sDQogICAgICAgICAgICBpc1Rvb2x0aXA6IHRoaXMubWluaW1hcHRvb2xiYXIsDQogICAgICAgICAgICBkaWFsb2dQYXRoIDogZmFsc2UsDQogICAgICAgICAgICBpc2VsZW1lbnRPcGVuQ2xvc2U6IHRoaXMubWluaW1hcHRvb2xiYXIsIC8vdG9vbGJhcuunjCDrs7Tsl6zspITqsoPsnbTrg5Ag7JWE64uI64OQIOyEpOyglSB0cnVlOiDsoITssrQg64ukIOuztOyXrOykjCAvIGZhbHNlIDogdG9vbGJhcuunjCDrs7Tsl6zspIwNCg0KICAgICAgICAgICAgaXNFdGhlcm5ldENsdXN0ZXJPcGVuQ2xvc2U6IHRydWUsDQogICAgICAgICAgICBpc1BoeXNpY2FsQ2hhbm5lbE9wZW5DbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzQ29tbUNvbm5lY3RPcGVuQ2xvc2U6IHRydWUsDQogICAgICAgICAgICBpc05ldHdvcmtFbmRwb2ludE9wZW5DbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzSVA0T3BlbkNsb3NlOiB0cnVlLA0KICAgICAgICAgICAgaXNJUDZPcGVuQ2xvc2U6IHRydWUsDQogICAgICAgICAgICBpc2RlbGV0ZUNvbW1Db25uZWN0OiBmYWxzZSwNCiAgICAgICAgICAgIGlzZGVsZXRlSVA0SXRlbTogZmFsc2UsDQogICAgICAgICAgICBpc2RlbGV0ZUlQNkl0ZW06IGZhbHNlLA0KICAgICAgICAgICAgc2VsZWN0Vmlld2VkaXQ6IHRydWUsIC8vdHJ1ZTogZWRpdCAgZmFsc2U6IHZpZXcNCiAgICAgICAgICAgIHNlbGVjdERlbGVjdENvbW1Db25uZWN0SXRlbTogW10sDQogICAgICAgICAgICBzZWxlY3REZWxlY3RJUDR0ZW06IFtdLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0SVA2dGVtOiBbXSwNCiAgICAgICAgICAgIGNvbmRpdGlvbmFsVGFiOiAwLA0KICAgICAgICAgICAgY2hhbm5lbFRhYjogW10sDQogICAgICAgICAgICBlbmRwb2ludFRhYjogW10sDQogICAgICAgICAgICBoZWFkZXJDb21tQ29ubmVjdG9yOiBbDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnQ29tbXVuaWNhdGlvbiBDb25uZWN0b3IgUmVmJywgYWxpZ246ICdzdGFydCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdjb25uZWN0b3InIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgZWRpdENDSXRlbTogeyBjb25uZWN0b3IgOiBudWxsLCBpZDogJyd9LA0KICAgICAgICAgICAgc2VsQ29tbXVuaWNhdGlvbkNvbm5lY3Q6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q29tbXVuaWNhdGlvbkNvbm5lY3QsDQogICAgICAgICAgICBpc0VkaXRpbmdDQzogdHJ1ZSwNCiAgICAgICAgICAgIGRlbGV0ZUNDTGluZTogW10sDQoNCiAgICAgICAgICAgIGhlYWRlcklQNDogWw0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ0RFRkFVTFQtR0FURVdBWScsIHdpZHRoOicxNDBweCcsIGFsaWduOiAnc3RhcnQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnZ2F0ZXdheScgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdJUC1BRERSRVNTLUtFRVAtQkVIQVZJT1InLCB3aWR0aDonMjAwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnYmVoYXZpb3InfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdJUFYtNC1BRERSRVNTJywgd2lkdGg6JzEzMHB4Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ2FkZHJlc3MnfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdJUFYtNC1BRERSRVNTLVNPVVJDRScsIHdpZHRoOicxODBweCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdhZGRyZXNzc29yY2UnfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdORVRXT1JLLU1BU0snLCB3aWR0aDonMTMwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnbWFzayd9LA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGhlYWRlcklQNjogWw0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ0FTU0lHTk1FTlQtUFJJT1JJVFknLCB3aWR0aDonMTgwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAncHJpb3JpdHknfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdJUC1BRERSRVNTLUtFRVAtQkVIQVZJT1InLCB3aWR0aDonMjAwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnYmVoYXZpb3InfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdJUC1BRERSRVNTLVBSRUZJWC1MRU5HVEgnLCB3aWR0aDonMjAwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAncHJlbGVuZ3RoJ30sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnSVBWLTYtQUREUkVTUycsIHdpZHRoOicxMzBweCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdhZGRyZXNzJ30sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnSVBWLTYtQUREUkVTUy1TT1VSQ0UnLCB3aWR0aDonMTgwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnYWRkcmVzc3NvdXJjZSd9LA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGVkaXRJUDRJdGVtOiB7IGdhdGV3YXk6JycsIGJlaGF2aW9yOiBudWxsLCBhZGRyZXNzOicnLCBhZGRyZXNzc29yY2U6bnVsbCwgbWFzazonJywgaWQ6ICcnfSwNCiAgICAgICAgICAgIGVkaXRJUDZJdGVtOiB7IHByaW9yaXR5OicnLCBiZWhhdmlvcjpudWxsLCBwcmVsZW5ndGg6JycsIGFkZHJlc3M6JycsIGFkZHJlc3Nzb3VyY2U6bnVsbCwgaWQ6ICcnfSwNCiAgICAgICAgICAgIGRlZmF1bHRJUDRJdGVtOiB7IGdhdGV3YXk6JycsIGJlaGF2aW9yOm51bGwsIGFkZHJlc3M6JycsIGFkZHJlc3Nzb3JjZTpudWxsLCBtYXNrOicnLCBpZDogJyd9LA0KICAgICAgICAgICAgZGVmYXVsdElQNkl0ZW06IHsgcHJpb3JpdHk6JycsIGJlaGF2aW9yOm51bGwsIHByZWxlbmd0aDonJywgYWRkcmVzczonJywgYWRkcmVzc3NvdXJjZTpudWxsLCBpZDogJyd9LA0KICAgICAgICAgICAgYWRkcmVzc1NvdXJjZUlQNDogWyAnRklYRUQnLCAnREhDUFYtNCcsICdBVVRPLUlQJywgJ0FVVE8tSVAtLURPSVAnXSwNCiAgICAgICAgICAgIGFkZHJlc3NTb3VyY2VJUDY6IFsgJ0ZJWEVEJywgJ0RIQ1BWLTYnLCAnTElOSy1MT0NBTCcsICdST1VURVItQURWRVJUSVNFTUVOVCcsICdMSU5LLUxPQ0FMLS1ET0lQJ10sDQogICAgICAgICAgICBhZGRyZXNzQmVoYXZpb3I6IFsgJ0ZPUkdFVCcsICdTVE9SRS1QRVJTSVNURU5UTFknXSwNCg0KICAgICAgICAgICAgdmlld0xpc3Q6IFtdLA0KICAgICAgICAgICAgdmlld0hlYWRlcjogWw0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ0NvbmRpdGlvbmFsIG5hbWUnLCB3aWR0aDonMTMwcHgnLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ2NvbmRpbmFtZScgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdDaGFubmVsIG5hbWUnLCB3aWR0aDonMTIwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnY2hhbm5hbWUnIH0sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnQ29ubmVjdG9yJywgd2lkdGg6JzcwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnY29ubmVjdG9yJyB9LA0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ0VuZHBvaW50IG5hbWUnLCB3aWR0aDonMTIwcHgnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnZW5kbmFtZScgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdJUFYtNCBBZGRyZXNzJywgd2lkdGg6JzEyMHB4Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ2lwdjQnIH0sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnSVBWLTYgQWRkcmVzcycsIHdpZHRoOicxMjBweCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdpcHY2JyB9LA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHNlbGVjdGVkVmlld0lkOiAtMSwNCg0KICAgICAgICAgICAgZWRpdFZpZXdNb2RlOiB7IG5hbWU6JycsIHZlcnNpb246JycsIGNoYW5uZWw6IHtuYW1lOiAnJywgY29tY29ubmVjdDpbXSwgZW5kcG9pbnQ6e25hbWU6ICcnLCBkb21haW5uYW1lOicnLCBpcDRhZGRyZXNzOiBbXSwgaXA2YWRkcmVzczogW119fX0sDQogICAgICAgICAgICBpc2RlbGV0ZUluZm9DQzogZmFsc2UsDQogICAgICAgICAgICBpc2RlbGV0ZUluZm9JUFY0OiBmYWxzZSwNCiAgICAgICAgICAgIGlzZGVsZXRlSW5mb0lQVjY6IGZhbHNlLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0SW5mb0NDOiBbXSwNCiAgICAgICAgICAgIHNlbGVjdERlbGVjdEluZm9JUDQ6IFtdLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0SW5mb0lQNjogW10sDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQgKCkgew0KICAgICAgICBpZiAodGhpcy5taW5pbWFwdG9vbGJhciAmJiB0aGlzLnpvb212YWx1ZSA8IHRoaXMuJHNldFpvb21pbkVsZW1lbnQpIHsNCiAgICAgICAgICAgIHRoaXMuaXNUb29sdGlwID0gZmFsc2UNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBzdWJtaXREaWFsb2coZWxlbWVudCkgew0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhdGggPSBlbGVtZW50DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0gIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWwubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5uYW1lICE9ICcnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VQYXRoRWxlbWVudCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBwYXRoOiB0aGlzLmVsZW1lbnQucGF0aCwgbmFtZTogdGhpcy5lbGVtZW50Lm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0ubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5sOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0ubmFtZX0gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpc2ludG9FcnJvckxpc3QnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgbmFtZTp0aGlzLmVsZW1lbnQubmFtZSwgcGF0aDp0aGlzLmVsZW1lbnQucGF0aH0pDQogICAgICAgIH0sDQogICAgICAgIHNldFRvb2xiYXJDb2xvcihhY3RpdmVpZCkgDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC51dWlkID09IGFjdGl2ZWlkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xvclRvb2xiYXIgPSAiI0ZGMTQ5MyIgDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuY29sb3JUb29sYmFyID0gIiM2QTVBQ0QiDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldFRvb2xiYXJDb2xvckRldGFpbFZpZXcoaXNkZXRhaWwpIHsNCiAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC51dWlkID09IGlzZGV0YWlsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xvclRvb2xiYXIgPSAiI0IwRTBFNiIgDQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWxlbWVudC51dWlkID09IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVVVSUQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yVG9vbGJhciAgPSAiI0ZGMTQ5MyINCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xvclRvb2xiYXIgPSAiIzZBNUFDRCINCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0V0aGVybmV0Q2x1c3RlcigpIHsNCiAgICAgICAgICAgIHRoaXMuaXNlbGVtZW50T3BlbkNsb3NlID0gdGhpcy5pc2VsZW1lbnRPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZHJhd0xpbmVUaXRsZUJhcicsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmlzZWxlbWVudE9wZW5DbG9zZSkNCiAgICAgICAgICAgICAgICBpZih0aGlzLmlzZWxlbWVudE9wZW5DbG9zZSAmJiB0aGlzLmxvY2F0aW9uID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5pc0V0aGVybmV0Q2x1c3Rlck9wZW5DbG9zZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWwubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNQaHlzaWNhbENoYW5uZWxPcGVuQ2xvc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7RXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdjb25uZWN0b3InLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdLCB0aGlzLmNvbmRpdGlvbmFsVGFiLCB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmlkLCB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uaWQpfSwgMzAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2NoYW5uZWwnLCB0aGlzLmVsZW1lbnQudXVpZCwgdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdLCB0aGlzLmNvbmRpdGlvbmFsVGFiLCB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uaWQpfSwgMzAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnY29uZGl0aW9uYWwnLCB0aGlzLmVsZW1lbnQudXVpZCwgbnVsbCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnY29uZGl0aW9uYWwnLCB0aGlzLmVsZW1lbnQudXVpZCwgbnVsbCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBzaG93RXRoZXJuZXRDbHVzdGVySXRlbSgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFdGhlcm5ldENsdXN0ZXJPcGVuQ2xvc2UgPSB0aGlzLmlzRXRoZXJuZXRDbHVzdGVyT3BlbkNsb3NlID8gZmFsc2UgOiB0cnVlDQogICAgICAgICAgICB2YXIgYWN0aXZlTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0YWN0aXZlTGluZSh0aGlzLmVsZW1lbnQudXVpZCkNCiAgICAgICAgICAgIGlmICh0aGlzLmxvY2F0aW9uID09IDEgJiYgYWN0aXZlTGluZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmlzRXRoZXJuZXRDbHVzdGVyT3BlbkNsb3NlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5pc1BoeXNpY2FsQ2hhbm5lbE9wZW5DbG9zZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2Nvbm5lY3RvcicsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl0sIHRoaXMuY29uZGl0aW9uYWxUYWIsIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uaWQsIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5pZCl9LCAzMDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge0V2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnY2hhbm5lbCcsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl0sIHRoaXMuY29uZGl0aW9uYWxUYWIsIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5pZCl9LCAzMDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdjb25kaXRpb25hbCcsIHRoaXMuZWxlbWVudC51dWlkLCBudWxsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdjb25kaXRpb25hbCcsIHRoaXMuZWxlbWVudC51dWlkLCBudWxsKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkcmF3TGluZScpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2hvd1BoeXNpY2FsQ2hhbm5lbEl0ZW0oKSB7DQogICAgICAgICAgICB0aGlzLmlzUGh5c2ljYWxDaGFubmVsT3BlbkNsb3NlID0gdGhpcy5pc1BoeXNpY2FsQ2hhbm5lbE9wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWwubGVuZ3RoID4gMCAmJiB0aGlzLmxvY2F0aW9uID09IDEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNQaHlzaWNhbENoYW5uZWxPcGVuQ2xvc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnY29ubmVjdG9yJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSwgdGhpcy5jb25kaXRpb25hbFRhYiwgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5pZCwgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdjaGFubmVsJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSwgdGhpcy5jb25kaXRpb25hbFRhYiwgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmlkKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkcmF3TGluZScpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0NvbW1Db25uZWN0SXRlbSgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNDb21tQ29ubmVjdE9wZW5DbG9zZSA9IHRoaXMuaXNDb21tQ29ubmVjdE9wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBzaG93TmV0d29ya0VuZHBvaW50SXRlbSgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNOZXR3b3JrRW5kcG9pbnRPcGVuQ2xvc2UgPSB0aGlzLmlzTmV0d29ya0VuZHBvaW50T3BlbkNsb3NlID8gZmFsc2UgOiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHNob3dJUDRJdGVtKCkgew0KICAgICAgICAgICAgdGhpcy5pc0lQNE9wZW5DbG9zZSA9IHRoaXMuaXNJUDRPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0lQNkl0ZW0oKSB7DQogICAgICAgICAgICB0aGlzLmlzSVA2T3BlbkNsb3NlID0gdGhpcy5pc0lQNk9wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBzZXRWaWV3RWRpdCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdFZpZXdlZGl0ID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFZpZXdlZGl0ID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdWaWV3TGlzdCgpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Vmlld2VkaXQgPSB0cnVlDQogICAgICAgICAgICAgICAgdGhpcy52aWV3TGlzdCA9IFtdDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdJZCA9IC0xDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgaW5wdXRFdGhlcm5ldENsdXN0ZXJOYW1lICgpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbnB1dEV0aGVybmV0Q2x1c3Rlck5hbWUnKQ0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdlZGl0RXRoZXJuZXRDbHVzdGVyJywge2NvbXBvOiJOYW1lIiwgdXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgbmFtZTp0aGlzLmVsZW1lbnQubmFtZX0gKQ0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWwubGVuZ3RoPjApIHsNCiAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFt0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl1dLm5hbWUgIT0gJycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0ubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmw6IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0ubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludDogdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFt0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl1dLm5hbWV9ICkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQubmFtZSAhPSAnJykgew0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaXNpbnRvRXJyb3JMaXN0Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIG5hbWU6dGhpcy5lbGVtZW50Lm5hbWUsIHBhdGg6dGhpcy5lbGVtZW50LnBhdGh9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBpbnB1dENvbmRpdGlvbmFsTmFtZShuYW1lKSB7DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbC5sZW5ndGg+MCkgew0KICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnQubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0ubmFtZSAhPSAnJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VQYXRoRWxlbWVudCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBwYXRoOiB0aGlzLmVsZW1lbnQucGF0aCwgbmFtZTogdGhpcy5lbGVtZW50Lm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGk6IG5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5sOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5uYW1lfSApDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGlucHV0Q2hhbm5lbE5hbWUobmFtZSkgew0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWwubGVuZ3RoPjApIHsNCiAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFt0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl1dLm5hbWUgIT0gJycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlUGF0aEVsZW1lbnQnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgcGF0aDogdGhpcy5lbGVtZW50LnBhdGgsIG5hbWU6IHRoaXMuZWxlbWVudC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0ubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmw6IG5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5uYW1lfSApDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGlucHV0RW5kUG9pbnROYW1lKG5hbWUpIHsNCiAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsLmxlbmd0aD4wKSB7DQogICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5uYW1lICE9ICcnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaTogdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5sOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IG5hbWV9ICkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICBhZGRFdGhlcm5ldENsdXN0ZXIoKSB7DQogICAgICAgICAgICBjb25zdCBlZGl0SXRlbSA9IHtuYW1lOiAnJywgdmVyc2lvbjonJywgY2hhbm5lbDogW10sIGlkOiAnJ30NCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IG5ldyBPYmplY3QoZWRpdEl0ZW0pDQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCg0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgIGFkZE9iai5uYW1lID0gJ0V0aGVybmV0XycgKyBuKys7DQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsLnNvbWUoZWxlID0+IGVsZS5uYW1lID09PSBhZGRPYmoubmFtZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGFkZE9iai5pZCA9IG4NCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbC5wdXNoKGFkZE9iaikNCiAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uYWxUYWIgPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWwubGVuZ3RoLTENCiAgICAgICAgICAgIGlmICh0aGlzLmxvY2F0aW9uID09IDEpIHsNCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2NvbmRpdGlvbmFsJywgdGhpcy5lbGVtZW50LnV1aWQsIG51bGwpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNsaWNrQ29uZGl0aW9uYWx0YWIoaWR4KSB7DQogICAgICAgICAgICB0aGlzLmNvbmRpdGlvbmFsVGFiID0gaWR4DQogICAgICAgICAgICB0aGlzLmNsaWNrQ2hhbm5lbHRhYigwKQ0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VDb25kaXRpb25hbFRhYigpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaGFuZ2VDb25kaXRpb25hbFRhYiAgICAnICsgdGhpcy5jb25kaXRpb25hbFRhYikNCiAgICAgICAgICAgIGlmICh0aGlzLmxvY2F0aW9uID09IDEpIHsNCiAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWwubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmlzUGh5c2ljYWxDaGFubmVsT3BlbkNsb3NlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2Nvbm5lY3RvcicsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl0sIHRoaXMuY29uZGl0aW9uYWxUYWIsIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uaWQsIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5pZCl9LCAzMDApOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7RXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdjaGFubmVsJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSwgdGhpcy5jb25kaXRpb25hbFRhYiwgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmlkKX0sIDMwMCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtFdmVudEJ1cy4kZW1pdCgnY2hhbmdlTGluZS1zb21laXBTZXJ2aWNlJywgJ2NvbmRpdGlvbmFsJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuY29uZGl0aW9uYWxUYWIsIHRoaXMuY29uZGl0aW9uYWxUYWIpfSwgMzAwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUNvbmRpdGlvbmFsKGlkeCkgew0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZGVsZXRlQ29uZGl0aW9uYWwnKQ0KICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW2lkeF0uY2hhbm5lbC5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW2lkeF0uY2hhbm5lbFtpXS5jb21jb25uZWN0ICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW2lkeF0uY2hhbm5lbFtpXS5jb21jb25uZWN0Lmxlbmd0aDsgbisrKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJytuKyctJytpKyctJytpZHgpDQogICAgICAgICAgICAgICAgICAgICAgICBpZihlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScrbisnLScraSsnLScraWR4KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yKGxldCBpPWlkeCsxOyBpPHRoaXMuZWxlbWVudC5jb25kaXRpb25hbC5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW2ldLmNoYW5uZWwubGVuZ3RoOyBuKyspew0KICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHY9MDsgdjx0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbaV0uY2hhbm5lbFtuXS5jb21jb25uZWN0Lmxlbmd0aDsgdisrKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRDID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJyt2KyctJytuKyctJytpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZW5kQyAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK3YrJy0nK24rJy0nK2kpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJyt2KyctJytuKyctJysoaS0xKSwgdGhpcy5lbGVtZW50LnV1aWQrJy9jb25kaXRpb25hbCcsIGVuZEMpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlUmVmVGFibGUnLCB7ZGVsZXRlTmFtZTonbWFjaGluZUQnLCBkZWxldGVUYWI6IHRydWUsIGRlbGV0VGFiOicxJywgdGFiTmFtZTogdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLm5hbWUsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZX0pDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWwuc3BsaWNlKGlkeCwgMSkNCiAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uYWxUYWIgPSAwDQogICAgICAgICAgICB0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl0gPSAwDQogICAgICAgICAgICB0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl0gPSAwDQogICAgICAgICAgICB0aGlzLmNoYW5nZUNvbmRpdGlvbmFsVGFiKCkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkUGh5c2ljYWxDaGFubmVsKCkgew0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnYWRkUGh5c2ljYWxDaGFubmVsICAnK3RoaXMuY29uZGl0aW9uYWxUYWIpDQogICAgICAgICAgICB0aGlzLmVuZHBvaW50VGFiLnB1c2goW3RoaXMuY29uZGl0aW9uYWxUYWIsMF0pIC8vMuywqOybkCDrsLDsl7TroZwg7LSI6riw7ZmUIO2VtOykmOyVvOyngCDslYjqt7jrn6zrqbQgdGFi7J20IOyViOyDneq5gA0KICAgICAgICAgICAgY29uc3QgZWRpdEl0ZW0gPSB7bmFtZTogJycsIGNvbWNvbm5lY3Q6W10sIGVuZHBvaW50OiBbXSwgaWQ6ICcnfQ0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gbmV3IE9iamVjdChlZGl0SXRlbSkNCg0KICAgICAgICAgICAgbGV0IHJlcyA9IHRydWUsIG4gPSAwDQogICAgICAgICAgICB3aGlsZSAocmVzKSB7DQogICAgICAgICAgICAgICAgYWRkT2JqLm5hbWUgPSAnUGh5c2ljYWxDaGFubmVsXycgKyBuKys7DQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWwuc29tZShlbGUgPT4gZWxlLm5hbWUgPT09IGFkZE9iai5uYW1lKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYWRkT2JqLmlkID0gbg0KDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbC5wdXNoKGFkZE9iaikNCiAgICAgICAgICAgIHRoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsLmxlbmd0aC0xDQogICAgICAgICAgICBpZiAodGhpcy5sb2NhdGlvbiA9PSAxKSB7DQogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NoYW5nZUxpbmUtc29tZWlwU2VydmljZScsICdjaGFubmVsJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSwgdGhpcy5jb25kaXRpb25hbFRhYiwgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmlkKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmNoYW5uZWxUYWIpDQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuZW5kcG9pbnRUYWIpDQogICAgICAgIH0sDQogICAgICAgIGNsaWNrQ2hhbm5lbHRhYihpZHgpIHsNCiAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NsaWNrQ2hhbm5lbHRhYiAnICsgdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdKyAnICAvICAnKyBpZHggKycgICAvICAnK3RoaXMuY29uZGl0aW9uYWxUYWIpDQogICAgICAgICAgICB0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl0gPSBpZHgNCiAgICAgICAgICAgIHRoaXMuaXNkZWxldGVDb21tQ29ubmVjdCA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLnNlbGVjdERlbGVjdENvbW1Db25uZWN0SXRlbSA9IFtdDQogICAgICAgICAgICB0aGlzLmNsaWNrRW5kcG9pbnRUYWIoMCkNCiAgICAgICAgfSwNCiAgICAgICAgY2hhbmdlQ2hhbm5lbFRhYigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbC5sZW5ndGggPiAwICYmIHRoaXMubG9jYXRpb24gPT0gMSkgew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge0V2ZW50QnVzLiRlbWl0KCdjaGFuZ2VMaW5lLXNvbWVpcFNlcnZpY2UnLCAnY29ubmVjdG9yJywgdGhpcy5lbGVtZW50LnV1aWQsIHRoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSwgdGhpcy5jb25kaXRpb25hbFRhYiwgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5pZCwgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmlkKX0sIDMwMCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUNoYW5uZWwoaWR4KSB7DQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdkZWxldGVDaGFubmVsJykNCiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW2lkeF0uY29tY29ubmVjdC5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2krJy0nK2lkeCsnLScrdGhpcy5jb25kaXRpb25hbFRhYikNCiAgICAgICAgICAgICAgICBpZihlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2krJy0nK2lkeCsnLScrdGhpcy5jb25kaXRpb25hbFRhYikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBmb3IobGV0IGk9aWR4KzE7IGk8dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWwubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgIGZvcihsZXQgbj0wOyBuPHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW2ldLmNvbWNvbm5lY3QubGVuZ3RoOyBuKyspew0KICAgICAgICAgICAgICAgICAgICB2YXIgZW5kQyA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScrbisnLScraSsnLScrdGhpcy5jb25kaXRpb25hbFRhYikNCiAgICAgICAgICAgICAgICAgICAgaWYoZW5kQyAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScrbisnLScraSsnLScrdGhpcy5jb25kaXRpb25hbFRhYikNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScrbisnLScrKGktMSkrJy0nK3RoaXMuY29uZGl0aW9uYWxUYWIsIHRoaXMuZWxlbWVudC51dWlkKycvY2hhbm5lbC0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5pZCwgZW5kQykNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldGVSZWZUYWJsZScsIHtkZWxldGVOYW1lOidtYWNoaW5lRCcsIGRlbGV0ZVRhYjogdHJ1ZSwgZGVsZXRUYWI6JzInLCB0YWJOYW1lOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0ubmFtZSsnLycrdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5uYW1lLCBwYXRoOiB0aGlzLmVsZW1lbnQucGF0aCwgbmFtZTogdGhpcy5lbGVtZW50Lm5hbWV9KQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWwuc3BsaWNlKGlkeCwgMSkNCiAgICAgICAgICAgIHRoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSA9IDANCiAgICAgICAgICAgIHRoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXSA9IDANCiAgICAgICAgICAgIHRoaXMuY2hhbmdlQ2hhbm5lbFRhYigpDQogICAgICAgIH0sDQoNCiAgICAgICAgaXNDb21tQ29ubmVjdCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzZGVsZXRlQ29tbUNvbm5lY3QgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVDb21tQ29ubmVjdCA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RDb21tQ29ubmVjdEl0ZW0gPSBbXQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlQ29tbUNvbm5lY3QgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUNvbW1Db25uZWN0KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVDb21tQ29ubmVjdCA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0Lmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2krJy0nK3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSsnLScrdGhpcy5jb25kaXRpb25hbFRhYikNCiAgICAgICAgICAgICAgICAgICAgaWYoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ0NMaW5lLnB1c2goe2VuZExpbmU6ZW5kTGluZSwgaWQ6dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0W2ldLmlkfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScraSsnLScrdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdKyctJyt0aGlzLmNvbmRpdGlvbmFsVGFiKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0ID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0LmZpbHRlcihpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdERlbGVjdENvbW1Db25uZWN0SXRlbS5pbmRleE9mKGl0ZW0pIDwgMCB9KQ0KDQogICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0Lmxlbmd0aDsgbisrKSB7DQogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaWR4PTA7IGlkeDx0aGlzLmRlbGV0ZUNDTGluZS5sZW5ndGg7IGlkeCsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0W25dLmlkID09IHRoaXMuZGVsZXRlQ0NMaW5lW2lkeF0uaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK24rJy0nK3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSsnLScrdGhpcy5jb25kaXRpb25hbFRhYiwgdGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uaWQrJy0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5pZCwgdGhpcy5kZWxldGVDQ0xpbmVbaWR4XS5lbmRMaW5lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVDb21tQ29ubmVjdCA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RDb21tQ29ubmVjdEl0ZW0gPSBbXQ0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ0NMaW5lID0gW10NCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIGFkZENvbW1Db25uZWN0KCkgew0KICAgICAgICAgICAgbGV0IHJlcyA9IHRydWUsIG4gPSAwDQogICAgICAgICAgICB3aGlsZSAocmVzKSB7DQogICAgICAgICAgICAgICAgbisrDQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0LnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBuKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5lZGl0Q0NJdGVtLmlkID0gbg0KDQogICAgICAgICAgICBpZiggdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3RvciAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGRhdGFjb3VudA0KICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uY29tY29ubmVjdCA9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgZGF0YWNvdW50ID0gMA0KICAgICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZGF0YWNvdW50ID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0Lmxlbmd0aA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2RhdGFjb3VudCsnLScrdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdKyctJyt0aGlzLmNvbmRpdGlvbmFsVGFiLCB0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScrdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5pZCsnLScrdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmlkLCB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3RvciA9IHRoaXMuZWRpdENDSXRlbS5jb25uZWN0b3IubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScrdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5uYW1lKyctJyt0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0ubmFtZSkNCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdENDSXRlbSkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uY29tY29ubmVjdC5wdXNoKGFkZE9iaik7DQoNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsQ29tbUNvbm5lY3QoKQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWxDb21tQ29ubmVjdCgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdENDSXRlbS5jb25uZWN0b3IgPSBudWxsDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0Q29tbUNvbm5lY3QoaWR4KSB7DQogICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScraWR4KyctJyt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl0rJy0nK3RoaXMuY29uZGl0aW9uYWxUYWIpDQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3RvciA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJytpZHgrJy0nK3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSsnLScrdGhpcy5jb25kaXRpb25hbFRhYikNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmNvbWNvbm5lY3RbaWR4XS5jb25uZWN0b3IgPSBudWxsDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3Rvci51dWlkKSB7DQogICAgICAgICAgICAgICAgLy/quLDsobTqurwg7IKt7KCc7ZW07JW87ZWc64ukIHZ1ZXjsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIG1haW52aWV37JeQ7ISc64+EIOyCreygnO2VmOqzoCANCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2lkeCsnLScrdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdKyctJyt0aGlzLmNvbmRpdGlvbmFsVGFiKQ0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScraWR4KyctJyt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl0rJy0nK3RoaXMuY29uZGl0aW9uYWxUYWIsIHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJyt0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmlkKyctJyt0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uaWQsIHRoaXMuZWRpdENDSXRlbS5jb25uZWN0b3IudXVpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmNvbWNvbm5lY3RbaWR4XS5jb25uZWN0b3IgPSB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yLm5hbWUNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kTGluZSA9PSB1bmRlZmluZWQgJiYgdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3RvciAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJytpZHgrJy0nK3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXSsnLScrdGhpcy5jb25kaXRpb25hbFRhYiwgdGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uaWQrJy0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5pZCwgdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3Rvci51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uY29tY29ubmVjdFtpZHhdLmNvbm5lY3RvciA9IHRoaXMuZWRpdENDSXRlbS5jb25uZWN0b3IubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLmNhbmNlbENvbW1Db25uZWN0KCkNCiAgICAgICAgfSwNCiAgICAgICAgb3BlbkNvbW1Db25uZWN0KGlkeCkgew0KICAgICAgICAgICAgdGhpcy5zZWxDb21tdW5pY2F0aW9uQ29ubmVjdCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q29tbXVuaWNhdGlvbkNvbm5lY3QNCiAgICAgICAgICAgIGlmICggdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0W2lkeF0uY29ubmVjdG9yICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScraWR4KyctJyt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl0rJy0nK3RoaXMuY29uZGl0aW9uYWxUYWIpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1hY2hpbkRlc2lnblBhdGgodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5jb21jb25uZWN0W2lkeF0uY29ubmVjdG9yLCAxKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yID0geyBuYW1lOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmNvbWNvbm5lY3RbaWR4XS5jb25uZWN0b3IsIHV1aWQ6IGVuZExpbmUgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRDb21tdW5pQ1NlbGVjdCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdGluZ0NDID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3RvciAhPSBudWxsICYmIHRoaXMuZWRpdENDSXRlbS5jb25uZWN0b3IudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yLnV1aWQsIGVsZW1lbnQ6IGNvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX3N0cn0gKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldENvbXVuaWNhdGlvbkNvbm5ldExpc3QoKQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nQ0MgPSBmYWxzZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzRWRpdGluZ0NDID0gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRDb211bmljYXRpb25Db25uZXRMaXN0KCkgew0KICAgICAgICAgICAgdGhpcy5zZWxDb21tdW5pY2F0aW9uQ29ubmVjdCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q29tbXVuaWNhdGlvbkNvbm5lY3QNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIGNsZWFyQ29tbXVuaUMoKSB7DQogICAgICAgICAgICB0aGlzLmlzRWRpdGluZ0NDID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3RvciA9IG51bGwNCiAgICAgICAgfSwNCg0KICAgICAgICBhZGROZXR3b3JrRW5kcG9pbnQoKSB7DQogICAgICAgICAgICBjb25zdCBlZGl0SXRlbSA9IHtuYW1lOiAnJywgZG9tYWlubmFtZTonJywgaXA0YWRkcmVzczogW10sIGlwNmFkZHJlc3M6IFtdLCBwcmlvcml0eTogJyd9DQogICAgICAgICAgICBjb25zdCBhZGRPYmogPSBuZXcgT2JqZWN0KGVkaXRJdGVtKQ0KICAgICAgICAgICAgYWRkT2JqLm5hbWUgPSAnRW5kcG9pbnQnKyh0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50Lmxlbmd0aCsxKQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludC5wdXNoKGFkZE9iaikNCiAgICAgICAgICAgIHRoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXSA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnQubGVuZ3RoLTENCiAgICAgICAgfSwNCiAgICAgICAgY2xpY2tFbmRwb2ludFRhYihpZHgpIHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2NsaWNrRW5kcG9pbnRUYWIgJysgdGhpcy5jb25kaXRpb25hbFRhYiArJyAgLyAgJyArIHRoaXMuY2hhbm5lbFRhYikNCiAgICAgICAgICAgIHRoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXSA9IGlkeA0KICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUlQNEl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUlQNkl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RJUDR0ZW0gPSBbXQ0KICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RJUDZ0ZW0gPSBbXQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVFbmRwb2ludFRhYihpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlUmVmVGFibGUnLCB7ZGVsZXRlTmFtZTonbWFjaGluZUQnLCBkZWxldGVUYWI6IHRydWUsIGRlbGV0VGFiOiczJywgdGFiTmFtZTogdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLm5hbWUrJy8nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0ubmFtZSsnLycrdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFtpZHhdLm5hbWUsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZX0pDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50LnNwbGljZShpZHgsIDEpDQogICAgICAgICAgICB0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl0gPSAwDQogICAgICAgIH0sDQogICAgICAgIGlzRW5kcG9pbnRJUDQoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZUlQNEl0ZW0gPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVJUDRJdGVtID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERlbGVjdElQNHRlbSA9IFtdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVJUDRJdGVtID0gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVJUDQoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZUlQNEl0ZW0gPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDRhZGRyZXNzID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFt0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl1dLmlwNGFkZHJlc3MuZmlsdGVyKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdERlbGVjdElQNHRlbS5pbmRleE9mKGl0ZW0pIDwgMCB9KQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVJUDRJdGVtID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERlbGVjdElQNHRlbSA9IFtdDQogICAgICAgICAgICB9IA0KICAgICAgICB9LA0KICAgICAgICBpc0VuZHBvaW50SVA2KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVJUDZJdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlSVA2SXRlbSA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RJUDZ0ZW0gPSBbXQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlSVA2SXRlbSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlSVA2KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVJUDZJdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA2YWRkcmVzcyA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDZhZGRyZXNzLmZpbHRlcihpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REZWxlY3RJUDZ0ZW0uaW5kZXhPZihpdGVtKSA8IDAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlSVA2SXRlbSA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RJUDZ0ZW0gPSBbXQ0KICAgICAgICAgICAgfSANCiAgICAgICAgfSwNCiAgICAgICAgb3BlbklQNChpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNEl0ZW0uZ2F0ZXdheSA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDRhZGRyZXNzW2lkeF0uZ2F0ZXdheQ0KICAgICAgICAgICAgdGhpcy5lZGl0SVA0SXRlbS5iZWhhdmlvciA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDRhZGRyZXNzW2lkeF0uYmVoYXZpb3INCiAgICAgICAgICAgIHRoaXMuZWRpdElQNEl0ZW0uYWRkcmVzcyA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDRhZGRyZXNzW2lkeF0uYWRkcmVzcw0KICAgICAgICAgICAgdGhpcy5lZGl0SVA0SXRlbS5hZGRyZXNzc29yY2UgPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA0YWRkcmVzc1tpZHhdLmFkZHJlc3Nzb3JjZQ0KICAgICAgICAgICAgdGhpcy5lZGl0SVA0SXRlbS5tYXNrID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFt0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl1dLmlwNGFkZHJlc3NbaWR4XS5tYXNrDQogICAgICAgIH0sDQogICAgICAgIGVkaXRJUDQoaWR4KSB7DQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA0YWRkcmVzc1tpZHhdLmdhdGV3YXkgPSB0aGlzLmVkaXRJUDRJdGVtLmdhdGV3YXkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDRhZGRyZXNzW2lkeF0uYmVoYXZpb3IgPSB0aGlzLmVkaXRJUDRJdGVtLmJlaGF2aW9yDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA0YWRkcmVzc1tpZHhdLmFkZHJlc3MgPSB0aGlzLmVkaXRJUDRJdGVtLmFkZHJlc3MNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDRhZGRyZXNzW2lkeF0uYWRkcmVzc3NvcmNlID0gdGhpcy5lZGl0SVA0SXRlbS5hZGRyZXNzc29yY2UNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDRhZGRyZXNzW2lkeF0ubWFzayA9IHRoaXMuZWRpdElQNEl0ZW0ubWFzaw0KICAgICAgICAgICAgdGhpcy5jYW5jZWxJUDQoKQ0KICAgICAgICB9LA0KICAgICAgICBhZGRJUDQoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCiAgICAgICAgICAgIHdoaWxlIChyZXMpIHsNCiAgICAgICAgICAgICAgICBuKysNCiAgICAgICAgICAgICAgICByZXMgPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA0YWRkcmVzcy5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdElQNEl0ZW0uaWQgPSBuDQoNCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdElQNEl0ZW0pDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA0YWRkcmVzcy5wdXNoKGFkZE9iaikNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsSVA0KCkNCiAgICAgICAgfSwNCiAgICAgICAgY2FuY2VsSVA0KCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0SVA0SXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdElQNEl0ZW0pDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBvcGVuSVA2KGlkeCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0SVA2SXRlbS5wcmlvcml0eSA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDZhZGRyZXNzW2lkeF0ucHJpb3JpdHkNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNkl0ZW0uYmVoYXZpb3IgPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA2YWRkcmVzc1tpZHhdLmJlaGF2aW9yDQogICAgICAgICAgICB0aGlzLmVkaXRJUDZJdGVtLnByZWxlbmd0aCA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDZhZGRyZXNzW2lkeF0ucHJlbGVuZ3RoDQogICAgICAgICAgICB0aGlzLmVkaXRJUDZJdGVtLmFkZHJlc3MgPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA2YWRkcmVzc1tpZHhdLmFkZHJlc3MNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNkl0ZW0uYWRkcmVzc3NvdXJjZSA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDZhZGRyZXNzW2lkeF0uYWRkcmVzc3NvdXJjZQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0SVA2KGlkeCkgew0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFt0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl1dLmlwNmFkZHJlc3NbaWR4XS5nYXRwcmlvcml0eXdheSA9IHRoaXMuZWRpdElQNkl0ZW0ucHJpb3JpdHkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLmNvbmRpdGlvbmFsVGFiXS5jaGFubmVsW3RoaXMuY2hhbm5lbFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXV0uZW5kcG9pbnRbdGhpcy5lbmRwb2ludFRhYlt0aGlzLmNvbmRpdGlvbmFsVGFiXVt0aGlzLmNoYW5uZWxUYWJdXS5pcDZhZGRyZXNzW2lkeF0uYmVoYXZpb3IgPSB0aGlzLmVkaXRJUDZJdGVtLmJlaGF2aW9yDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA2YWRkcmVzc1tpZHhdLnByZWxlbmd0aCA9IHRoaXMuZWRpdElQNkl0ZW0ucHJlbGVuZ3RoDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJdLmlwNmFkZHJlc3NbaWR4XS5hZGRyZXNzID0gdGhpcy5lZGl0SVA2SXRlbS5hZGRyZXNzDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy5jb25kaXRpb25hbFRhYl0uY2hhbm5lbFt0aGlzLmNoYW5uZWxUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1dLmVuZHBvaW50W3RoaXMuZW5kcG9pbnRUYWJbdGhpcy5jb25kaXRpb25hbFRhYl1bdGhpcy5jaGFubmVsVGFiXV0uaXA2YWRkcmVzc1tpZHhdLmFkZHJlc3Nzb3VyY2UgPSB0aGlzLmVkaXRJUDZJdGVtLmFkZHJlc3Nzb3VyY2UNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsSVA2KCkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkSVA2KCkgew0KICAgICAgICAgICAgbGV0IHJlcyA9IHRydWUsIG4gPSAwDQogICAgICAgICAgICB3aGlsZSAocmVzKSB7DQogICAgICAgICAgICAgICAgbisrDQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFt0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl1dLmlwNmFkZHJlc3Muc29tZShpdGVtID0+IGl0ZW0uaWQgPT09IG4pDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmVkaXRJUDZJdGVtLmlkID0gbg0KDQogICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmVkaXRJUDZJdGVtKQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMuY29uZGl0aW9uYWxUYWJdLmNoYW5uZWxbdGhpcy5jaGFubmVsVGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdXS5lbmRwb2ludFt0aGlzLmVuZHBvaW50VGFiW3RoaXMuY29uZGl0aW9uYWxUYWJdW3RoaXMuY2hhbm5lbFRhYl1dLmlwNmFkZHJlc3MucHVzaChhZGRPYmopDQogICAgICAgICAgICB0aGlzLmNhbmNlbElQNigpDQogICAgICAgIH0sDQogICAgICAgIGNhbmNlbElQNigpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNkl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJUDZJdGVtKQ0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCg0KICAgICAgICBzZXR0aW5nVmlld0xpc3QoKSB7DQogICAgICAgICAgICB2YXIgY29ubmVjdG9yID0gW10sIGlzZW5kcG9pbnQgPSBmYWxzZSwgaXNDaGFubmVsID0gZmFsc2UNCiAgICAgICAgICAgIHZhciBpcHY0ID0gW10sIGlwdjYgPVtdLCBpZCA9IDANCiAgICAgICAgICAgIGZvcihjb25zdCBpIGluIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbCkgew0KICAgICAgICAgICAgICAgIGZvcihjb25zdCB2IGluIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFtpXS5jaGFubmVsICkgew0KICAgICAgICAgICAgICAgICAgICBpc0NoYW5uZWwgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFtpXS5jaGFubmVsW3ZdLmNvbWNvbm5lY3QuZm9yRWFjaChjb25uZWN0b3JJdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rvci5wdXNoKGNvbm5lY3Rvckl0ZW0uY29ubmVjdG9yKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICBmb3IoY29uc3QgbiBpbiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbaV0uY2hhbm5lbFt2XS5lbmRwb2ludCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW2ldLmNoYW5uZWxbdl0uZW5kcG9pbnRbbl0uaXA0YWRkcmVzcy5mb3JFYWNoKGlwNEl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwdjQucHVzaChpcDRJdGVtLmFkZHJlc3MpDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW2ldLmNoYW5uZWxbdl0uZW5kcG9pbnRbbl0uaXA2YWRkcmVzcy5mb3JFYWNoKGlwNkl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwdjYucHVzaChpcDZJdGVtLmFkZHJlc3MpDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgaXNlbmRwb2ludD0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3TGlzdC5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaW5hbWU6IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFtpXS5uYW1lLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmFtZTp0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbaV0uY2hhbm5lbFt2XS5uYW1lLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3I6Y29ubmVjdG9yLmpvaW4oKSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kbmFtZTp0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbaV0uY2hhbm5lbFt2XS5lbmRwb2ludFtuXS5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwdjQ6aXB2NC5qb2luKCksIGlwdjY6aXB2Ni5qb2luKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGlkeDogaSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsaWR4OiB2LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50aWR4OiBuLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCsrDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgaXB2NCA9IFtdDQogICAgICAgICAgICAgICAgICAgICAgICBpcHY2ID1bXQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGlzZW5kcG9pbnQgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0xpc3QucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGluYW1lOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbaV0ubmFtZSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5hbWU6dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW2ldLmNoYW5uZWxbdl0ubmFtZSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yOmNvbm5lY3Rvci5qb2luKCksIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZG5hbWU6bnVsbCwgaXB2NDpudWxsLCBpcHY2Om51bGwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGlkeDogaSwgY2hhbm5lbGlkeDogdiwgZW5kcG9pbnRpZHg6IG51bGwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkKysNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaXNlbmRwb2ludCA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvciA9IFtdDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGlzQ2hhbm5lbCA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdMaXN0LnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uZGluYW1lOiB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbaV0ubmFtZSwgDQogICAgICAgICAgICAgICAgICAgICAgICBjaGFubmFtZTpudWxsLCBjb25uZWN0b3I6bnVsbCwgZW5kbmFtZTpudWxsLCANCiAgICAgICAgICAgICAgICAgICAgICAgIGlwdjQ6bnVsbCwgaXB2NjpudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgY29uZGlkeDogaSwgY2hhbm5lbGlkeDogbnVsbCwgZW5kcG9pbnRpZHg6IG51bGwsDQogICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQrKw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpc0NoYW5uZWwgPSBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0RGlhbG9nRXRoZXJuZXRDbHVzdGVyKGl0ZW0sIHJvdykgew0KICAgICAgICAgICAgdmFyIGluZm8gPSB7ICBpc0NoYW5uZWw6IGZhbHNlLCBpc0VuZHBvaW50OiBmYWxzZSwgaWR4Q29uZGl0aW9uYWw6IDAsIGlkeENoYW5uZWw6IG51bGwsICBpZHhFbmRwb2ludDogbnVsbCx9DQogICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbaXRlbS5jb25kaWR4XS5jaGFubmVsLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBpbmZvLmlzQ2hhbm5lbCA9IHRydWUNCiAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbaXRlbS5jb25kaWR4XS5jaGFubmVsW2l0ZW0uY2hhbm5lbGlkeF0uZW5kcG9pbnQubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpbmZvLmlzRW5kcG9pbnQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIGluZm8uaWR4RW5kcG9pbnQgPSBpdGVtLmVuZHBvaW50aWR4DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGluZm8uaWR4Q2hhbm5lbCA9IGl0ZW0uY2hhbm5lbGlkeA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaW5mby5pZHhDb25kaXRpb25hbCA9IGl0ZW0uY29uZGlkeA0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXREZXRhaWxWaWV3Jywge3V1aWQ6IHRoaXMuZWxlbWVudC51dWlkLCBlbGVtZW50OiBjb25zdGFudC5FdGhlcm5ldENsdXN0ZXJfc3RyfSApDQogICAgICAgICAgICByb3cuc2VsZWN0KHRydWUpDQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld0lkID0gaXRlbS5pZA0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RldGFpbFZpZXdJbmZvJyxpbmZvKQ0KICAgICAgICB9LA0KICAgICAgICBpc2RpYWxvZ0NDKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVJbmZvQ0MgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVJbmZvQ0MgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0SW5mb0NDID0gW10NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUluZm9DQyA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlZGlhbG9nQ0MoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZUluZm9DQyA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5jb21jb25uZWN0Lmxlbmd0aDsgaSsrKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2krJy0nK3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbCsnLScrdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbCkNCiAgICAgICAgICAgICAgICAgICAgaWYoZW5kTGluZSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ0NMaW5lLnB1c2goe25hbWU6dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5jb21jb25uZWN0W2ldLmNvbm5lY3RvciwgZW5kTGluZTplbmRMaW5lfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScraSsnLScrdGhpcy52aWV3SW5mby5pZHhDaGFubmVsKyctJyt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5jb21jb25uZWN0ID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5jb21jb25uZWN0LmZpbHRlcihpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdERlbGVjdEluZm9DQy5pbmRleE9mKGl0ZW0pIDwgMCB9KQ0KDQogICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5jb21jb25uZWN0Lmxlbmd0aDsgbisrKSB7DQogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaWR4PTA7IGlkeDx0aGlzLmRlbGV0ZUNDTGluZS5sZW5ndGg7IGlkeCsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5jb21jb25uZWN0W25dLmNvbm5lY3RvciA9PSB0aGlzLmRlbGV0ZUNDTGluZVtpZHhdLm5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK24rJy0nK3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbCsnLScrdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbCwgdGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uaWQrJy0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5pZCwgdGhpcy5kZWxldGVDQ0xpbmVbaWR4XS5lbmRMaW5lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUluZm9DQyA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RJbmZvQ0MgPSBbXQ0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ0NMaW5lID0gW10NCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIG9wZW5kaWFsb2dDQyhpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsQ29tbXVuaWNhdGlvbkNvbm5lY3QgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENvbW11bmljYXRpb25Db25uZWN0DQogICAgICAgICAgICBpZiAoIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uY29tY29ubmVjdFtpZHhdLmNvbm5lY3RvciAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3RvciA9IHsgbmFtZTogdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5jb21jb25uZWN0W2lkeF0uY29ubmVjdG9yLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2lkeCsnLScrdGhpcy52aWV3SW5mby5pZHhDaGFubmVsKyctJyt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsKSB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGVkaXRkaWFsb2dDQyhpZHgpIHsNCiAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJytpZHgrJy0nK3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbCsnLScrdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbCkNCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2lkeCsnLScrdGhpcy52aWV3SW5mby5pZHhDaGFubmVsKyctJyt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uY29tY29ubmVjdFtpZHhdLmNvbm5lY3RvciA9IG51bGwNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQgJiYgZW5kTGluZSAhPSB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yLnV1aWQpIHsNCiAgICAgICAgICAgICAgICAvL+q4sOyhtOq6vCDsgq3soJztlbTslbztlZzri6QgdnVleOyXkOyEnOuPhCDsgq3soJztlZjqs6AgbWFpbnZpZXfsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIA0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScraWR4KyctJyt0aGlzLnZpZXdJbmZvLmlkeENoYW5uZWwrJy0nK3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWwpDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJytpZHgrJy0nK3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbCsnLScrdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbCwgdGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uaWQrJy0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5pZCwgdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3Rvci51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uY29tY29ubmVjdFtpZHhdLmNvbm5lY3RvciA9IHRoaXMuZWRpdENDSXRlbS5jb25uZWN0b3IubmFtZQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK2lkeCsnLScrdGhpcy52aWV3SW5mby5pZHhDaGFubmVsKyctJyt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsLCB0aGlzLmVsZW1lbnQudXVpZCsnL2NvbWNvbmV0LScrdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5pZCsnLScrdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmlkLCB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5jb21jb25uZWN0W2lkeF0uY29ubmVjdG9yID0gdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3Rvci5uYW1lDQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoaXMuY2FuY2VsZGlhbG9nQ0MoKQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWxkaWFsb2dDQygpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nQ0MgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yID0gbnVsbA0KICAgICAgICB9LA0KICAgICAgICBhZGRkaWFsb2dDQygpIHsNCiAgICAgICAgICAgIGxldCByZXMgPSB0cnVlLCBuID0gMA0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgIG4rKw0KICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uY29tY29ubmVjdC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdENDSXRlbS5pZCA9IG4NCg0KICAgICAgICAgICAgaWYoIHRoaXMuZWRpdENDSXRlbS5jb25uZWN0b3IgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHZhciBkYXRhY291bnQNCiAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbF0uY2hhbm5lbFt0aGlzLnZpZXdJbmZvLmlkeENoYW5uZWxdLmNvbWNvbm5lY3QgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgIGRhdGFjb3VudCA9IDANCiAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGRhdGFjb3VudCA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uY29tY29ubmVjdC5sZW5ndGgNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvY29tY29uZXQtJytkYXRhY291bnQrJy0nK3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbCsnLScrdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbCwgdGhpcy5lbGVtZW50LnV1aWQrJy9jb21jb25ldC0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uaWQrJy0nK3RoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5pZCwgdGhpcy5lZGl0Q0NJdGVtLmNvbm5lY3Rvci51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdENDSXRlbS5jb25uZWN0b3IgPSB0aGlzLmVkaXRDQ0l0ZW0uY29ubmVjdG9yLm5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdENDSXRlbSkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uY29tY29ubmVjdC5wdXNoKGFkZE9iaik7DQoNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsZGlhbG9nQ0MoKQ0KICAgICAgICB9LA0KDQogICAgICAgIGlzRW5kcG9pbnREaWFsb2dJUDQoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZUluZm9JUFY0ID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlSW5mb0lQVjQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0SW5mb0lQNCA9IFtdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVJbmZvSVBWNCA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlZGlhbG9nSVA0KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVJbmZvSVBWNCA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDRhZGRyZXNzID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDRhZGRyZXNzLmZpbHRlcihpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REZWxlY3RJbmZvSVA0LmluZGV4T2YoaXRlbSkgPCAwIH0pDQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUluZm9JUFY0ID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERlbGVjdEluZm9JUDQgPSBbXQ0KICAgICAgICAgICAgfSANCiAgICAgICAgfSwNCiAgICAgICAgb3BlbmRpYWxvZ0lQNChpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNEl0ZW0uZ2F0ZXdheSA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA0YWRkcmVzc1tpZHhdLmdhdGV3YXkNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNEl0ZW0uYmVoYXZpb3IgPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbF0uY2hhbm5lbFt0aGlzLnZpZXdJbmZvLmlkeENoYW5uZWxdLmVuZHBvaW50W3RoaXMudmlld0luZm8uaWR4RW5kcG9pbnRdLmlwNGFkZHJlc3NbaWR4XS5iZWhhdmlvcg0KICAgICAgICAgICAgdGhpcy5lZGl0SVA0SXRlbS5hZGRyZXNzID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDRhZGRyZXNzW2lkeF0uYWRkcmVzcw0KICAgICAgICAgICAgdGhpcy5lZGl0SVA0SXRlbS5hZGRyZXNzc29yY2UgPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbF0uY2hhbm5lbFt0aGlzLnZpZXdJbmZvLmlkeENoYW5uZWxdLmVuZHBvaW50W3RoaXMudmlld0luZm8uaWR4RW5kcG9pbnRdLmlwNGFkZHJlc3NbaWR4XS5hZGRyZXNzc29yY2UNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNEl0ZW0ubWFzayA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA0YWRkcmVzc1tpZHhdLm1hc2sNCiAgICAgICAgfSwNCiAgICAgICAgZWRpdGRpYWxvZ0lQNChpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA0YWRkcmVzc1tpZHhdLmdhdGV3YXkgPSB0aGlzLmVkaXRJUDRJdGVtLmdhdGV3YXkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA0YWRkcmVzc1tpZHhdLmJlaGF2aW9yID0gdGhpcy5lZGl0SVA0SXRlbS5iZWhhdmlvcg0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDRhZGRyZXNzW2lkeF0uYWRkcmVzcyA9IHRoaXMuZWRpdElQNEl0ZW0uYWRkcmVzcw0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDRhZGRyZXNzW2lkeF0uYWRkcmVzc3NvcmNlID0gdGhpcy5lZGl0SVA0SXRlbS5hZGRyZXNzc29yY2UNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA0YWRkcmVzc1tpZHhdLm1hc2sgPSB0aGlzLmVkaXRJUDRJdGVtLm1hc2sNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsZGlhbG9nSVA0KCkNCiAgICAgICAgfSwNCiAgICAgICAgY2FuY2VsZGlhbG9nSVA0KCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0SVA0SXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdElQNEl0ZW0pDQogICAgICAgIH0sDQogICAgICAgIGFkZGRpYWxvZ0lQNCgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXMgPSB0cnVlLCBuID0gMA0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgIG4rKw0KICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA0YWRkcmVzcy5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdElQNEl0ZW0uaWQgPSBuDQoNCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdElQNEl0ZW0pDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbF0uY2hhbm5lbFt0aGlzLnZpZXdJbmZvLmlkeENoYW5uZWxdLmVuZHBvaW50W3RoaXMudmlld0luZm8uaWR4RW5kcG9pbnRdLmlwNGFkZHJlc3MucHVzaChhZGRPYmopDQogICAgICAgICAgICB0aGlzLmNhbmNlbGRpYWxvZ0lQNCgpDQogICAgICAgIH0sDQogICAgICAgIGlzRW5kcG9pbnREaWFsb2dJUFY2KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVJbmZvSVBWNiA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZUluZm9JUFY2ID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERlbGVjdEluZm9JUDYgPSBbXQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlSW5mb0lQVjYgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZWRpYWxvZ0lQNigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzZGVsZXRlSW5mb0lQVjYgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA2YWRkcmVzcyA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA2YWRkcmVzcy5maWx0ZXIoaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGVsZWN0SW5mb0lQNi5pbmRleE9mKGl0ZW0pIDwgMCB9KQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVJbmZvSVBWNiA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RJbmZvSVA2ID0gW10NCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIG9wZW5kaWFsb2dJUDYoaWR4KSB7DQogICAgICAgICAgICB0aGlzLmVkaXRJUDZJdGVtLnByaW9yaXR5ID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDZhZGRyZXNzW2lkeF0ucHJpb3JpdHkNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNkl0ZW0uYmVoYXZpb3IgPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbF0uY2hhbm5lbFt0aGlzLnZpZXdJbmZvLmlkeENoYW5uZWxdLmVuZHBvaW50W3RoaXMudmlld0luZm8uaWR4RW5kcG9pbnRdLmlwNmFkZHJlc3NbaWR4XS5iZWhhdmlvcg0KICAgICAgICAgICAgdGhpcy5lZGl0SVA2SXRlbS5wcmVsZW5ndGggPSB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbF0uY2hhbm5lbFt0aGlzLnZpZXdJbmZvLmlkeENoYW5uZWxdLmVuZHBvaW50W3RoaXMudmlld0luZm8uaWR4RW5kcG9pbnRdLmlwNmFkZHJlc3NbaWR4XS5wcmVsZW5ndGgNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNkl0ZW0uYWRkcmVzcyA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA2YWRkcmVzc1tpZHhdLmFkZHJlc3MNCiAgICAgICAgICAgIHRoaXMuZWRpdElQNkl0ZW0uYWRkcmVzc3NvdXJjZSA9IHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA2YWRkcmVzc1tpZHhdLmFkZHJlc3Nzb3VyY2UNCiAgICAgICAgfSwNCiAgICAgICAgZWRpdGRpYWxvZ0lQNihpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA2YWRkcmVzc1tpZHhdLmdhdHByaW9yaXR5d2F5ID0gdGhpcy5lZGl0SVA2SXRlbS5wcmlvcml0eQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDZhZGRyZXNzW2lkeF0uYmVoYXZpb3IgPSB0aGlzLmVkaXRJUDZJdGVtLmJlaGF2aW9yDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuY29uZGl0aW9uYWxbdGhpcy52aWV3SW5mby5pZHhDb25kaXRpb25hbF0uY2hhbm5lbFt0aGlzLnZpZXdJbmZvLmlkeENoYW5uZWxdLmVuZHBvaW50W3RoaXMudmlld0luZm8uaWR4RW5kcG9pbnRdLmlwNmFkZHJlc3NbaWR4XS5wcmVsZW5ndGggPSB0aGlzLmVkaXRJUDZJdGVtLnByZWxlbmd0aA0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDZhZGRyZXNzW2lkeF0uYWRkcmVzcyA9IHRoaXMuZWRpdElQNkl0ZW0uYWRkcmVzcw0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDZhZGRyZXNzW2lkeF0uYWRkcmVzc3NvdXJjZSA9IHRoaXMuZWRpdElQNkl0ZW0uYWRkcmVzc3NvdXJjZQ0KICAgICAgICAgICAgdGhpcy5jYW5jZWxkaWFsb2dJUDYoKQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWxkaWFsb2dJUDYoKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRJUDZJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SVA2SXRlbSkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkZGlhbG9nSVA2KCkgew0KICAgICAgICAgICAgbGV0IHJlcyA9IHRydWUsIG4gPSAwDQogICAgICAgICAgICB3aGlsZSAocmVzKSB7DQogICAgICAgICAgICAgICAgbisrDQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lbGVtZW50LmNvbmRpdGlvbmFsW3RoaXMudmlld0luZm8uaWR4Q29uZGl0aW9uYWxdLmNoYW5uZWxbdGhpcy52aWV3SW5mby5pZHhDaGFubmVsXS5lbmRwb2ludFt0aGlzLnZpZXdJbmZvLmlkeEVuZHBvaW50XS5pcDZhZGRyZXNzLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBuKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5lZGl0SVA2SXRlbS5pZCA9IG4NCg0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0SVA2SXRlbSkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jb25kaXRpb25hbFt0aGlzLnZpZXdJbmZvLmlkeENvbmRpdGlvbmFsXS5jaGFubmVsW3RoaXMudmlld0luZm8uaWR4Q2hhbm5lbF0uZW5kcG9pbnRbdGhpcy52aWV3SW5mby5pZHhFbmRwb2ludF0uaXA2YWRkcmVzcy5wdXNoKGFkZE9iaikNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsZGlhbG9nSVA2KCkNCiAgICAgICAgfSwNCg0KDQogICAgICAgIHNldGFjdGl2ZVVVSUQoKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldHV1aWQnLCB7dXVpZDogdGhpcy5lbGVtZW50LnV1aWR9ICkNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdEV0aGVybmV0Q2x1c3RlcicsIHtjb21wbzoieiIsIHV1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHppbmRleDoxMH0gKQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVMaW5lKGZpbmVMaW5lKSB7DQogICAgICAgICAgICB2YXIgbGluZW51bSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZmluZUxpbmUpDQogICAgICAgICAgICBpZiAobGluZW51bSAhPSAtMSkgew0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkZWxldGUtbGluZScsIGxpbmVudW0pDQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldENvbm5lY3Rpb25saW5lJywge3N0YXJ0bnVtOiBsaW5lbnVtfSApDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG5ld0xpbmUoc3RhcnRMaW5lLCBkcmF3TGluZSwgZW5kTGluZSkgew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHtzdGFydDogc3RhcnRMaW5lLCBlbmQ6IGVuZExpbmV9ICkNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGRyYXdMaW5lLCBlbmRMaW5lKQ0KICAgICAgICB9LA0KICAgIH0sDQp9DQo="},{"version":3,"sources":["EthernetCluster.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsdA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EthernetCluster.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div :id=\"element.uuid\">\r\n        <v-container>\r\n            <v-tooltip bottom color=\"success\" :disabled=\"isTooltip\" z-index=\"10\">\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-card outlined :color=\"minimaptoolbar ? null : colorToolbar\" v-bind=\"attrs\" v-on=\"on\">\r\n                        <v-toolbar v-if=\"!isDatailView && zoomvalue > $setZoominElement\" :color=colorToolbar dark hide-on-scroll height=\"30px\" class=\"drag-handle\">\r\n                            <v-hover v-if=\"minimaptoolbar\" v-slot=\"{ hover }\">\r\n                                <v-btn icon @click=\"showEthernetCluster\">\r\n                                    <v-icon>{{ iselementOpenClose ? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                </v-btn>\r\n                            </v-hover>\r\n                            <v-btn v-if=\"minimaptoolbar\" icon @click.stop=\"dialogPath=true\">\r\n                                <v-icon> mdi-routes</v-icon>\r\n                            </v-btn>\r\n                            <dialogPathSetting v-model=\"dialogPath\" :path=\"element.path\" @submit=\"submitDialog\"/>\r\n                            <v-toolbar-title>Ethernet Cluster</v-toolbar-title>\r\n                            <v-spacer></v-spacer>\r\n                        </v-toolbar>\r\n                        <v-toolbar v-else-if=\"zoomvalue < $setZoominElement\" :color=colorToolbar dark hide-on-scroll height=\"50px\" class=\"drag-handle\">\r\n                            <v-toolbar-title>{{ element.name }}</v-toolbar-title>\r\n                        </v-toolbar>\r\n                        <v-toolbar v-else hide-on-scroll dense flat>\r\n                            <v-toolbar-title>Ethernet Cluster</v-toolbar-title>\r\n                        </v-toolbar>\r\n                        <v-card-text v-if=\"iselementOpenClose && !isDatailView && zoomvalue > $setZoominElement\">\r\n                            <v-text-field v-model=\"element.name\" :label=\"'name  <'+element.path +'>'\" :rules=\"rules.name\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\"\r\n                                        @input='inputEthernetClusterName' outlined dense></v-text-field>\r\n                            <!-- <v-card outlined class=\"mx-auto ehternetcluster\"> --> <!--화면 고정에 스크롤 할것인지 말것인지--> \r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" style=\"height:20px\" :id=\"element.uuid+'/conditional'\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showEthernetClusterItem\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isEthernetClusterOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Conditional\r\n                                    <v-btn v-if=\"isEthernetClusterOpenClose && selectViewedit\" @click=\"addEthernetCluster()\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-plus</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isEthernetClusterOpenClose\" :disabled=\"selectViewedit\" color=\"indigo\" @click=\"setViewEdit()\" outlined x-small text>\r\n                                        panel\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isEthernetClusterOpenClose\" :disabled=\"!selectViewedit\" color=\"indigo\" @click=\"setViewEdit()\" outlined x-small text>\r\n                                        Table\r\n                                    </v-btn>\r\n                                </div>\r\n                                <div v-if=\"selectViewedit\">\r\n                                    <v-tabs v-model='conditionalTab' height=\"30px\" v-if=\"isEthernetClusterOpenClose\" show-arrows @change=\"changeConditionalTab()\">\r\n                                        <v-tab v-for=\"(tab, idx) in element.conditional\" :key=\"idx\" @click=\"clickConditionaltab(idx)\"> \r\n                                            {{tab.name}}\r\n                                            <v-btn text x-small @click=\"deleteConditional(idx)\"><v-icon x-small>mdi-close</v-icon></v-btn></v-tab>\r\n                                    </v-tabs>\r\n                                    <v-tabs-items v-model=\"conditionalTab\" v-if=\"isEthernetClusterOpenClose\">\r\n                                        <v-tab-item v-for=\"(tab, idx) in element.conditional\" :key=\"idx\">\r\n                                            <v-card flat>\r\n                                                <v-card-text>\r\n                                                    <v-text-field v-model=\"tab.name\" :rules=\"rules.name\" label=\"Protocol Name\" @input=\"inputConditionalName(tab.name)\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                    <v-text-field v-model=\"tab.version\" label=\"Protocol Version\" placeholder=\"Numeric Only(Unit Second)\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                    <div class=\"subtitle-2\" style=\"height:20px\" :id=\"element.uuid+'/channel-'+tab.id\">\r\n                                                        <v-hover v-slot=\"{ hover }\">\r\n                                                            <v-btn text @click=\"showPhysicalChannelItem\" x-small color=\"indigo\">\r\n                                                                <v-icon>{{ isPhysicalChannelOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                            </v-btn>\r\n                                                        </v-hover>\r\n                                                        Physical Channel\r\n                                                        <v-btn v-if=\"isPhysicalChannelOpenClose\" @click=\"addPhysicalChannel()\" text x-small color=\"indigo\">\r\n                                                            <v-icon>mdi-plus</v-icon>\r\n                                                        </v-btn>\r\n                                                    </div>\r\n                                                    <v-tabs v-model='channelTab[idx]' height=\"30px\" v-if=\"isPhysicalChannelOpenClose\" show-arrows @change=\"changeChannelTab()\">\r\n                                                        <v-tab v-for=\"(subtab, channelidx) in tab.channel\" :key=\"channelidx\" @click=\"clickChanneltab(channelidx)\"> \r\n                                                            {{subtab.name}}\r\n                                                            <v-btn text x-small @click=\"deleteChannel(channelidx)\"><v-icon x-small>mdi-close</v-icon></v-btn></v-tab>\r\n                                                    </v-tabs>\r\n                                                    <v-tabs-items v-model=\"channelTab[idx]\" v-if=\"isPhysicalChannelOpenClose\">\r\n                                                        <v-tab-item v-for=\"(subtab, channelidx) in tab.channel\" :key=\"channelidx\">\r\n                                                            <v-card flat>\r\n                                                                <v-card-text>\r\n                                                                    <v-text-field v-model=\"subtab.name\" :rules=\"rules.name\" label=\"Name\" @input=\"inputChannelName(subtab.name)\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                    <div class=\"subtitle-2\" style=\"height:20px\" :id=\"element.uuid+'/comconet-'+subtab.id+'-'+tab.id\">\r\n                                                                        <v-hover v-slot=\"{ hover }\">\r\n                                                                            <v-btn text @click=\"showCommConnectItem\" x-small color=\"indigo\">\r\n                                                                                <v-icon>{{ isCommConnectOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                                            </v-btn>\r\n                                                                        </v-hover>\r\n                                                                        Comm Connector\r\n                                                                        <v-btn v-if=\"isCommConnectOpenClose\" @click=\"isCommConnect\" text x-small color=\"indigo\">\r\n                                                                            <v-icon>mdi-check</v-icon>\r\n                                                                        </v-btn>\r\n                                                                        <v-btn v-if=\"isCommConnectOpenClose && isdeleteCommConnect\" @click=\"deleteCommConnect\" text x-small color=\"indigo\">\r\n                                                                            <v-icon>mdi-minus</v-icon>\r\n                                                                        </v-btn>\r\n                                                                    </div>\r\n                                                                    <v-data-table v-model=\"selectDelectCommConnectItem\" :headers=\"headerCommConnector\" :items=\"subtab.comconnect\" :items-per-page='20'\r\n                                                                            :show-select=\"isdeleteCommConnect\" item-key=\"id\" height=\"100px\" v-if=\"isCommConnectOpenClose\" dense hide-default-footer >\r\n                                                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                                                        </template>\r\n                                                                        <template v-if=\"!isdeleteCommConnect\" v-slot:body=\"{ items }\">\r\n                                                                            <tbody>\r\n                                                                                <tr v-for=\"(item,idxCC) in items\" :key=\"idxCC\">\r\n                                                                                    <v-edit-dialog persistent cancel-text='Ok' save-text=\"Cancel\" @open=\"openCommConnect(idxCC)\" @cancel=\"editCommConnect(idxCC)\" @save=\"cancelCommConnect\" large >\r\n                                                                                        {{item.connector}}\r\n                                                                                        <template v-slot:input>\r\n                                                                                            <br>\r\n                                                                                            <v-autocomplete v-model='editCCItem.connector' label='Communication Connector Reference' :items='selCommunicationConnect' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                                                        return-object :readonly=\"!isEditingCC\" clearable @click=\"setCommuniCSelect()\" \r\n                                                                                                        @click:clear='clearCommuniC' @blur=\"isEditingCC=true\" outlined dense style=\"height: 45px;\">\r\n                                                                                            </v-autocomplete>\r\n                                                                                        </template>\r\n                                                                                    </v-edit-dialog>\r\n                                                                                </tr>\r\n                                                                                <tr>\r\n                                                                                    <th>\r\n                                                                                        <v-edit-dialog  large persistent cancel-text='Ok' save-text=\"Cancel\" @cancel=\"addCommConnect()\" @save=\"cancelCommConnect\"> \r\n                                                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"230px\">\r\n                                                                                                <v-icon >mdi-plus</v-icon>New Item\r\n                                                                                            </v-btn>\r\n                                                                                            <template v-slot:input>\r\n                                                                                                <br>\r\n                                                                                                <v-autocomplete v-model='editCCItem.connector' label='Communication Connector Reference' :items='selCommunicationConnect' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                                                    return-object :readonly=\"!isEditingCC\" clearable @click=\"setCommuniCSelect()\" \r\n                                                                                                    @click:clear='clearCommuniC' @blur=\"isEditingCC=true\" outlined dense style=\"height: 45px;\">\r\n                                                                                                </v-autocomplete>\r\n                                                                                            </template>\r\n                                                                                        </v-edit-dialog>\r\n                                                                                    </th>\r\n                                                                                </tr>\r\n                                                                            </tbody>\r\n                                                                        </template>\r\n                                                                    </v-data-table>\r\n                                                                    <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                                                        <v-hover v-slot=\"{ hover }\">\r\n                                                                            <v-btn text @click=\"showNetworkEndpointItem\" x-small color=\"indigo\">\r\n                                                                                <v-icon>{{ isNetworkEndpointOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                                            </v-btn>\r\n                                                                        </v-hover>\r\n                                                                        Network Endpoint\r\n                                                                        <v-btn v-if=\"isNetworkEndpointOpenClose\" @click=\"addNetworkEndpoint\" text x-small color=\"indigo\">\r\n                                                                            <v-icon>mdi-plus</v-icon>\r\n                                                                        </v-btn>\r\n                                                                    </div>\r\n                                                                    <v-tabs v-model='endpointTab[idx][channelidx]' height=\"30px\" v-if=\"isNetworkEndpointOpenClose\" show-arrows>\r\n                                                                        <v-tab v-for=\"(subendpointtab, endpoingidx) in subtab.endpoint\" :key=\"endpoingidx\" @click=\"clickEndpointTab(endpoingidx)\"> \r\n                                                                            {{subendpointtab.name}}\r\n                                                                            <v-btn text x-small @click=\"deleteEndpointTab(endpoingidx)\"><v-icon x-small>mdi-close</v-icon></v-btn>\r\n                                                                        </v-tab>\r\n                                                                    </v-tabs>\r\n                                                                    <v-tabs-items v-model=\"endpointTab[idx][channelidx]\" v-if=\"isNetworkEndpointOpenClose\">\r\n                                                                        <v-tab-item v-for=\"(subendpointtab, endpoingidx) in subtab.endpoint\" :key=\"endpoingidx\">\r\n                                                                            <br>\r\n                                                                            <v-text-field v-model=\"subendpointtab.name\" :rules=\"rules.name\" label=\"Name\" @input=\"inputEndPointName(subendpointtab.name)\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                            <v-text-field v-model=\"subendpointtab.domainname\" label=\"Fully Qualified Domain Name\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                            <v-text-field v-model=\"subendpointtab.priority\" label=\"Priority\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                            <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                                                                <v-hover v-slot=\"{ hover }\">\r\n                                                                                    <v-btn text @click=\"showIP4Item\" x-small color=\"indigo\">\r\n                                                                                        <v-icon>{{ isIP4OpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                                                    </v-btn>\r\n                                                                                </v-hover>\r\n                                                                                IPV-4 Configuration\r\n                                                                                <v-btn v-if=\"isIP4OpenClose\" @click=\"isEndpointIP4\" text x-small color=\"indigo\">\r\n                                                                                    <v-icon>mdi-check</v-icon>\r\n                                                                                </v-btn>\r\n                                                                                <v-btn v-if=\"isIP4OpenClose && isdeleteIP4Item\" @click=\"deleteIP4\" text x-small color=\"indigo\">\r\n                                                                                    <v-icon>mdi-minus</v-icon>\r\n                                                                                </v-btn>\r\n                                                                            </div>\r\n                                                                            <v-data-table v-model=\"selectDelectIP4tem\" :headers=\"headerIP4\" :items=\"subendpointtab.ip4address\" :items-per-page='20'\r\n                                                                                    :show-select=\"isdeleteIP4Item\" v-if=\"isIP4OpenClose\" item-key=\"id\" height=\"100px\" dense hide-default-footer >\r\n                                                                                <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                                                                    <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                                                                </template>\r\n                                                                                <template v-if=\"!isdeleteIP4Item\" v-slot:body=\"{ items, headers }\">\r\n                                                                                    <tbody>\r\n                                                                                        <tr v-for=\"(item,idxIP4) in items\" :key=\"idxIP4\">\r\n                                                                                            <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                                                                <v-edit-dialog persistent cancel-text='Ok' save-text=\"Cancel\" @open=\"openIP4(idxIP4)\" @cancel=\"editIP4(idxIP4)\" @save=\"cancelIP4\" large >\r\n                                                                                                    {{item[header.value]}}\r\n                                                                                                    <template v-slot:input>\r\n                                                                                                        <br>\r\n                                                                                                        <v-text-field v-model=\"editIP4Item.gateway\" label=\"Default Gateway\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                        <v-select v-model=\"editIP4Item.behavior\" clearable :items=\"addressBehavior\" label=\"IP Address Keep Behavior\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                                                        <v-text-field v-model=\"editIP4Item.address\" label=\"IPV-4 Address\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                        <v-select v-model=\"editIP4Item.addresssorce\" clearable :items=\"addressSourceIP4\" label=\"IPV-4 Address Source\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                                                        <v-text-field v-model=\"editIP4Item.mask\" label=\"Network Mask\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                    </template>\r\n                                                                                                </v-edit-dialog>\r\n                                                                                            </td>\r\n                                                                                        </tr>\r\n                                                                                        <tr>\r\n                                                                                            <th colspan=\"3\">\r\n                                                                                                <v-edit-dialog  large persistent cancel-text='Ok' save-text=\"Cancel\" @cancel=\"addIP4()\" @save=\"cancelIP4\"> \r\n                                                                                                    <v-btn outlined color=\"indigo\" dense text small block width=\"270px\">\r\n                                                                                                        <v-icon >mdi-plus</v-icon>New Item\r\n                                                                                                    </v-btn>\r\n                                                                                                    <template v-slot:input>\r\n                                                                                                        <br>\r\n                                                                                                        <v-text-field v-model=\"editIP4Item.gateway\" label=\"Default Gateway\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                        <v-select v-model=\"editIP4Item.behavior\" clearable :items=\"addressBehavior\" label=\"IP Address Keep Behavior\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                                                        <v-text-field v-model=\"editIP4Item.address\" label=\"IPV-4 Address\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                        <v-select v-model=\"editIP4Item.addresssorce\" clearable :items=\"addressSourceIP4\" label=\"IPV-4 Address Source\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                                                        <v-text-field v-model=\"editIP4Item.mask\" label=\"Network Mask\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                    </template>\r\n                                                                                                </v-edit-dialog>\r\n                                                                                            </th>\r\n                                                                                        </tr>\r\n                                                                                    </tbody>\r\n                                                                                </template>\r\n                                                                            </v-data-table>\r\n                                                                            <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                                                                <v-hover v-slot=\"{ hover }\">\r\n                                                                                    <v-btn text @click=\"showIP6Item\" x-small color=\"indigo\">\r\n                                                                                        <v-icon>{{ isIP6OpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                                                                    </v-btn>\r\n                                                                                </v-hover>\r\n                                                                                IPV-6 Configuration\r\n                                                                                <v-btn v-if=\"isIP6OpenClose\" @click=\"isEndpointIP6\" text x-small color=\"indigo\">\r\n                                                                                    <v-icon>mdi-check</v-icon>\r\n                                                                                </v-btn>\r\n                                                                                <v-btn v-if=\"isIP6OpenClose && isdeleteIP6Item\" @click=\"deleteIP6\" text x-small color=\"indigo\">\r\n                                                                                    <v-icon>mdi-minus</v-icon>\r\n                                                                                </v-btn>\r\n                                                                            </div>\r\n                                                                            <v-data-table v-model=\"selectDelectIP6tem\" :headers=\"headerIP6\" :items=\"subendpointtab.ip6address\" :items-per-page='20'\r\n                                                                                    :show-select=\"isdeleteIP6Item\" v-if=\"isIP6OpenClose\" item-key=\"id\" height=\"100px\" dense hide-default-footer >\r\n                                                                                <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                                                                    <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                                                                </template>\r\n                                                                                <template v-if=\"!isdeleteIP6Item\" v-slot:body=\"{ items, headers }\">\r\n                                                                                    <tbody>\r\n                                                                                        <tr v-for=\"(item,idxIP6) in items\" :key=\"idxIP6\">\r\n                                                                                            <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                                                                <v-edit-dialog persistent cancel-text='Ok' save-text=\"Cancel\" @open=\"openIP6(idxIP6)\" @cancel=\"editIP6(idxIP6)\" @save=\"cancelIP6\" large >\r\n                                                                                                    {{item[header.value]}}\r\n                                                                                                    <template v-slot:input>\r\n                                                                                                        <br>\r\n                                                                                                        <v-text-field v-model=\"editIP6Item.priority\" label=\"Assigment Priority\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                        <v-select v-model=\"editIP6Item.behavior\" clearable :items=\"addressBehavior\" label=\"IP Address Keep Behavior\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                                                        <v-text-field v-model=\"editIP6Item.address\" label=\"IPV-6 Address\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                        <v-select v-model=\"editIP6Item.addresssorce\" clearable :items=\"addressSourceIP6\" label=\"IPV-6 Address Source\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                                                        <v-text-field v-model=\"editIP6Item.prelength\" label=\"IP Address Prefix Length\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                    </template>\r\n                                                                                                </v-edit-dialog>\r\n                                                                                            </td>\r\n                                                                                        </tr>\r\n                                                                                        <tr>\r\n                                                                                            <th colspan=\"3\">\r\n                                                                                                <v-edit-dialog  large persistent cancel-text='Ok' save-text=\"Cancel\" @cancel=\"addIP6()\" @save=\"cancelIP6\"> \r\n                                                                                                    <v-btn outlined color=\"indigo\" dense text small block width=\"270px\">\r\n                                                                                                        <v-icon >mdi-plus</v-icon>New Item\r\n                                                                                                    </v-btn>\r\n                                                                                                    <template v-slot:input>\r\n                                                                                                        <br>\r\n                                                                                                        <v-text-field v-model=\"editIP6Item.priority\" label=\"Assigment Priority\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                        <v-select v-model=\"editIP6Item.behavior\" clearable :items=\"addressBehavior\" label=\"IP Address Keep Behavior\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                                                        <v-text-field v-model=\"editIP6Item.address\" label=\"IPV-6 Address\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                        <v-select v-model=\"editIP6Item.addresssorce\" clearable :items=\"addressSourceIP6\" label=\"IPV-6 Address Source\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                                                        <v-text-field v-model=\"editIP6Item.prelength\" label=\"IP Address Prefix Length\" placeholder=\"int\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                                                    </template>\r\n                                                                                                </v-edit-dialog>\r\n                                                                                            </th>\r\n                                                                                        </tr>\r\n                                                                                    </tbody>\r\n                                                                                </template>\r\n                                                                            </v-data-table>\r\n                                                                        </v-tab-item>\r\n                                                                    </v-tabs-items>\r\n                                                                </v-card-text>\r\n                                                            </v-card>\r\n                                                        </v-tab-item>\r\n                                                    </v-tabs-items>\r\n                                                </v-card-text>\r\n                                            </v-card>\r\n                                        </v-tab-item>\r\n                                    </v-tabs-items>\r\n                                </div>\r\n                                <div v-else>\r\n                                    <v-data-table v-if=\"isEthernetClusterOpenClose\" :headers=\"viewHeader\" :items=\"viewList\" item-key=\"id\" single-select :items-per-page='20'\r\n                                        height=\"370px\" dense hide-default-footer @click:row=\"editDialogEthernetCluster\" @click=\"setactiveUUID\" class=\"elevation-1\">\r\n                                    </v-data-table>\r\n                                </div>\r\n                            </v-card>\r\n                        </v-card-text>\r\n                        <v-card-text v-else-if=\"iselementOpenClose && isDatailView\">\r\n                            <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                Conditional\r\n                            </div>\r\n                            <v-text-field v-model=\"element.conditional[viewInfo.idxConditional].name\" @input=\"inputConditionalName(element.conditional[viewInfo.idxConditional].name)\" \r\n                                            :rules=\"rules.name\" label=\"Protocol Name\"  placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                            <v-text-field v-model=\"element.conditional[viewInfo.idxConditional].version\" \r\n                                            label=\"Protocol Version\" placeholder=\"Numeric Only(Unit Second)\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                            <div v-if=\"viewInfo.isChannel\">\r\n                                <div class=\"subtitle-2\" style=\"height:20px\" >\r\n                                    Physical Channel\r\n                                </div>\r\n                                <v-text-field v-model=\"element.conditional[viewInfo.idxConditional].channel[viewInfo.idxChannel].name\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                    Comm Connector\r\n                                    <v-btn  @click=\"isdialogCC\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isdeleteInfoCC\" @click=\"deletedialogCC\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-data-table v-model=\"selectDelectInfoCC\" :headers=\"headerCommConnector\" :items=\"element.conditional[viewInfo.idxConditional].channel[viewInfo.idxChannel].comconnect\"  \r\n                                        :show-select=\"isdeleteInfoCC\" item-key=\"id\" height=\"100px\" dense hide-default-footer :items-per-page='20'>\r\n                                    <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                        <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                    </template>\r\n                                    <template v-if=\"!isdeleteInfoCC\" v-slot:body=\"{ items }\">\r\n                                        <tbody>\r\n                                            <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                <v-edit-dialog persistent cancel-text='Ok' save-text=\"Cancel\" @open=\"opendialogCC(idx)\" @cancel=\"editdialogCC(idx)\" @save=\"canceldialogCC\" large >\r\n                                                    {{item.connector}}\r\n                                                    <template v-slot:input>\r\n                                                        <br>\r\n                                                        <v-autocomplete v-model='editCCItem.connector' label='Communication Connector Reference' :items='selCommunicationConnect' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                            return-object :readonly=\"!isEditingCC\" clearable @click=\"setCommuniCSelect()\" \r\n                                                            @click:clear='clearCommuniC' @blur=\"isEditingCC=true\" outlined dense style=\"height: 45px;\">\r\n                                                        </v-autocomplete>\r\n                                                    </template>\r\n                                                </v-edit-dialog>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th>\r\n                                                    <v-edit-dialog  large persistent cancel-text='Ok' save-text=\"Cancel\" @cancel=\"adddialogCC()\" @save=\"canceldialogCC\"> \r\n                                                        <v-btn outlined color=\"indigo\" dense text small block width=\"230px\">\r\n                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                        </v-btn>\r\n                                                        <template v-slot:input>\r\n                                                            <br>\r\n                                                            <v-autocomplete v-model='editCCItem.connector' label='Communication Connector Reference' :items='selCommunicationConnect' item-text='name' item-value=\"name\" class=\"lable-placeholer-color\"\r\n                                                                return-object :readonly=\"!isEditingCC\" clearable @click=\"setCommuniCSelect()\" \r\n                                                                @click:clear='clearCommuniC' @blur=\"isEditingCC=true\" outlined dense style=\"height: 45px;\">\r\n                                                            </v-autocomplete>\r\n                                                        </template>\r\n                                                    </v-edit-dialog>\r\n                                                </th>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </template>\r\n                                </v-data-table>\r\n                                <div v-if=\"viewInfo.isEndpoint\">\r\n                                    <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                        Network Endpoint\r\n                                    </div>\r\n                                    <v-text-field v-model=\"element.conditional[viewInfo.idxConditional].channel[viewInfo.idxChannel].endpoint[viewInfo.idxEndpoint].name\" :rules=\"rules.name\" label=\"Name\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                    <v-text-field v-model=\"element.conditional[viewInfo.idxConditional].channel[viewInfo.idxChannel].endpoint[viewInfo.idxEndpoint].domainname\" label=\"Fully Qualified Domain Name\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                    <v-text-field v-model=\"element.conditional[viewInfo.idxConditional].channel[viewInfo.idxChannel].endpoint[viewInfo.idxEndpoint].priority\" label=\"Priority\" placeholder=\"String\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                    <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                        IPV-4 Configuration\r\n                                        <v-btn @click=\"isEndpointDialogIP4\" text x-small color=\"indigo\">\r\n                                            <v-icon>mdi-check</v-icon>\r\n                                        </v-btn>\r\n                                        <v-btn v-if=\"isdeleteInfoIPV4\" @click=\"deletedialogIP4\" text x-small color=\"indigo\">\r\n                                            <v-icon>mdi-minus</v-icon>\r\n                                        </v-btn>\r\n                                    </div>\r\n                                    <v-data-table v-model=\"selectDelectInfoIP4\" :headers=\"headerIP4\" :items=\"element.conditional[viewInfo.idxConditional].channel[viewInfo.idxChannel].endpoint[viewInfo.idxEndpoint].ip4address\" \r\n                                            :show-select=\"isdeleteInfoIPV4\" item-key=\"id\" height=\"100px\" dense hide-default-footer :items-per-page='20'>\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteInfoIPV4\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent cancel-text='Ok' save-text=\"Cancel\" @open=\"opendialogIP4(idx, items)\" @cancel=\"editdialogIP4(idx, items)\" @save=\"canceldialogIP4\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-text-field v-model=\"editIP4Item.gateway\" label=\"Default Gateway\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editIP4Item.behavior\" clearable :items=\"addressBehavior\" label=\"IP Address Keep Behavior\" @click=\"setactiveUUID\"  outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editIP4Item.address\" label=\"IPV-4 Address\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editIP4Item.addresssorce\" clearable :items=\"addressSourceIP4\" label=\"IPV-4 Address Source\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editIP4Item.mask\" label=\"Network Mask\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent cancel-text='Ok' save-text=\"Cancel\" @cancel=\"adddialogIP4()\" @save=\"canceldialogIP4\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\">\r\n                                                                <v-icon >mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-text-field v-model=\"editIP4Item.gateway\" label=\"Default Gateway\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editIP4Item.behavior\" clearable :items=\"addressBehavior\" label=\"IP Address Keep Behavior\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editIP4Item.address\" label=\"IPV-4 Address\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editIP4Item.addresssorce\" clearable :items=\"addressSourceIP4\" label=\"IPV-4 Address Source\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editIP4Item.mask\" label=\"Network Mask\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                    <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                        IPV-6 Configuration\r\n                                        <v-btn @click=\"isEndpointDialogIPV6\" text x-small color=\"indigo\">\r\n                                            <v-icon>mdi-check</v-icon>\r\n                                        </v-btn>\r\n                                        <v-btn v-if=\"isdeleteInfoIPV6\" @click=\"deletedialogIP6\" text x-small color=\"indigo\">\r\n                                            <v-icon>mdi-minus</v-icon>\r\n                                        </v-btn>\r\n                                    </div>\r\n                                    <v-data-table v-model=\"selectDelectInfoIP6\" :headers=\"headerIP6\" :items=\"element.conditional[viewInfo.idxConditional].channel[viewInfo.idxChannel].endpoint[viewInfo.idxEndpoint].ip6address\"\r\n                                            :show-select=\"isdeleteInfoIPV6\" item-key=\"id\" height=\"100px\" dense hide-default-footer :items-per-page='20'>\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteInfoIPV6\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent cancel-text='Ok' save-text=\"Cancel\" @open=\"opendialogIP6(idx, items)\" @cancel=\"editdialogIP6(idx, items)\" @save=\"canceldialogIP6\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-text-field v-model=\"editIP6Item.priority\" label=\"Assigment Priority\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editIP6Item.behavior\" clearable :items=\"addressBehavior\" label=\"IP Address Keep Behavior\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editIP6Item.address\" label=\"IPV-6 Address\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editIP6Item.addresssorce\" clearable :items=\"addressSourceIP6\" label=\"IPV-6 Address Source\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editIP6Item.prelength\" label=\"IP Address Prefix Length\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent cancel-text='Ok' save-text=\"Cancel\" @cancel=\"adddialogIP6()\" @save=\"canceldialogIP6\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\">\r\n                                                                <v-icon >mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-text-field v-model=\"editIP6Item.priority\" label=\"Assigment Priority\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editIP6Item.behavior\" clearable :items=\"addressBehavior\" label=\"IP Address Keep Behavior\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editIP6Item.address\" label=\"IPV-6 Address\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                                <v-select v-model=\"editIP6Item.addresssorce\" clearable :items=\"addressSourceIP6\" label=\"IPV-6 Address Source\" @click=\"setactiveUUID\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editIP6Item.prelength\" label=\"IP Address Prefix Length\" placeholder=\"int\" style=\"height: 45px;\" @click=\"setactiveUUID\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>  \r\n                                </div>\r\n                            </div>\r\n                        </v-card-text>\r\n                        <v-card-text v-else-if=\"zoomvalue > $setZoominElement || !minimaptoolbar\">\r\n                            <v-text-field v-model=\"element.name\" :label=\"'name  <'+element.path +'>'\" :rules=\"rules.name\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\"\r\n                                        readonly outlined dense></v-text-field>\r\n                        </v-card-text>\r\n                    </v-card>\r\n                </template>\r\n                <span>{{ element.name }}</span>\r\n            </v-tooltip>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport constant from \"../store/constants.js\"\r\nimport { EventBus } from \"../main.js\"\r\nimport dialogPathSetting from '../components/dialogPathSetting.vue'\r\n\r\nexport default {\r\n    props: ['element', 'isDatailView', 'viewInfo', 'minimaptoolbar', 'location'],\r\n    components:{dialogPathSetting},\r\n    computed: {\r\n        activeUUID() {\r\n            return this.$store.state.activeUUID\r\n        },\r\n        detailViewUUID() {\r\n            return this.$store.state.detailViewUUID\r\n        },\r\n        setting() {\r\n            return this.$store.state.setting\r\n        },\r\n    },\r\n    watch: {\r\n        activeUUID(val) {\r\n            this.setToolbarColor(val)\r\n        },\r\n        detailViewUUID(val) {\r\n            this.setToolbarColorDetailView(val)\r\n        },\r\n        setting(value) {\r\n            this.zoomvalue = value.zoomMain\r\n            if (this.zoomvalue < this.$setZoominTooltip) {\r\n                this.isTooltip = false\r\n            } else {\r\n                this.isTooltip = this.minimaptoolbar\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        this.setToolbarColor(this.$store.state.activeUUID)\r\n        /*endpointTab이 2차원 배열이기 때문에 복사하거나 fileInput 시 미리 정의해 줘야지 안그러면 error */\r\n        if (this.element.conditional.length > 0) {\r\n            this.element.conditional.forEach( (condi,i) => {\r\n                this.channelTab[i] = 0\r\n                if (condi.channel.length > 0) {\r\n                    condi.channel.forEach( () => {\r\n                        this.endpointTab.push([i, 0])\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            rules: {\r\n                name:  [val => (val || '').length > 0 ],\r\n            },\r\n            colorToolbar: \"#6A5ACD\",\r\n            zoomvalue: this.$store.state.setting.zoomMain,\r\n            isTooltip: this.minimaptoolbar,\r\n            dialogPath : false,\r\n            iselementOpenClose: this.minimaptoolbar, //toolbar만 보여줄것이냐 아니냐 설정 true: 전체 다 보여줌 / false : toolbar만 보여줌\r\n\r\n            isEthernetClusterOpenClose: true,\r\n            isPhysicalChannelOpenClose: true,\r\n            isCommConnectOpenClose: true,\r\n            isNetworkEndpointOpenClose: true,\r\n            isIP4OpenClose: true,\r\n            isIP6OpenClose: true,\r\n            isdeleteCommConnect: false,\r\n            isdeleteIP4Item: false,\r\n            isdeleteIP6Item: false,\r\n            selectViewedit: true, //true: edit  false: view\r\n            selectDelectCommConnectItem: [],\r\n            selectDelectIP4tem: [],\r\n            selectDelectIP6tem: [],\r\n            conditionalTab: 0,\r\n            channelTab: [],\r\n            endpointTab: [],\r\n            headerCommConnector: [\r\n                { text: 'Communication Connector Ref', align: 'start', sortable: false, value: 'connector' },\r\n            ],\r\n            editCCItem: { connector : null, id: ''},\r\n            selCommunicationConnect: this.$store.getters.getCommunicationConnect,\r\n            isEditingCC: true,\r\n            deleteCCLine: [],\r\n\r\n            headerIP4: [\r\n                { text: 'DEFAULT-GATEWAY', width:'140px', align: 'start', sortable: false, value: 'gateway' },\r\n                { text: 'IP-ADDRESS-KEEP-BEHAVIOR', width:'200px', sortable: false, value: 'behavior'},\r\n                { text: 'IPV-4-ADDRESS', width:'130px', sortable: false, value: 'address'},\r\n                { text: 'IPV-4-ADDRESS-SOURCE', width:'180px', sortable: false, value: 'addresssorce'},\r\n                { text: 'NETWORK-MASK', width:'130px', sortable: false, value: 'mask'},\r\n            ],\r\n            headerIP6: [\r\n                { text: 'ASSIGNMENT-PRIORITY', width:'180px', sortable: false, value: 'priority'},\r\n                { text: 'IP-ADDRESS-KEEP-BEHAVIOR', width:'200px', sortable: false, value: 'behavior'},\r\n                { text: 'IP-ADDRESS-PREFIX-LENGTH', width:'200px', sortable: false, value: 'prelength'},\r\n                { text: 'IPV-6-ADDRESS', width:'130px', sortable: false, value: 'address'},\r\n                { text: 'IPV-6-ADDRESS-SOURCE', width:'180px', sortable: false, value: 'addresssource'},\r\n            ],\r\n            editIP4Item: { gateway:'', behavior: null, address:'', addresssorce:null, mask:'', id: ''},\r\n            editIP6Item: { priority:'', behavior:null, prelength:'', address:'', addresssource:null, id: ''},\r\n            defaultIP4Item: { gateway:'', behavior:null, address:'', addresssorce:null, mask:'', id: ''},\r\n            defaultIP6Item: { priority:'', behavior:null, prelength:'', address:'', addresssource:null, id: ''},\r\n            addressSourceIP4: [ 'FIXED', 'DHCPV-4', 'AUTO-IP', 'AUTO-IP--DOIP'],\r\n            addressSourceIP6: [ 'FIXED', 'DHCPV-6', 'LINK-LOCAL', 'ROUTER-ADVERTISEMENT', 'LINK-LOCAL--DOIP'],\r\n            addressBehavior: [ 'FORGET', 'STORE-PERSISTENTLY'],\r\n\r\n            viewList: [],\r\n            viewHeader: [\r\n                { text: 'Conditional name', width:'130px', align: 'start', sortable: false, value: 'condiname' },\r\n                { text: 'Channel name', width:'120px', sortable: false, value: 'channame' },\r\n                { text: 'Connector', width:'70px', sortable: false, value: 'connector' },\r\n                { text: 'Endpoint name', width:'120px', sortable: false, value: 'endname' },\r\n                { text: 'IPV-4 Address', width:'120px', sortable: false, value: 'ipv4' },\r\n                { text: 'IPV-6 Address', width:'120px', sortable: false, value: 'ipv6' },\r\n            ],\r\n            selectedViewId: -1,\r\n\r\n            editViewMode: { name:'', version:'', channel: {name: '', comconnect:[], endpoint:{name: '', domainname:'', ip4address: [], ip6address: []}}},\r\n            isdeleteInfoCC: false,\r\n            isdeleteInfoIPV4: false,\r\n            isdeleteInfoIPV6: false,\r\n            selectDelectInfoCC: [],\r\n            selectDelectInfoIP4: [],\r\n            selectDelectInfoIP6: [],\r\n        }\r\n    },\r\n    mounted () {\r\n        if (this.minimaptoolbar && this.zoomvalue < this.$setZoominElement) {\r\n            this.isTooltip = false\r\n        }\r\n    },\r\n    methods: {\r\n        submitDialog(element) {\r\n            this.element.path = element\r\n            if(this.element.conditional[this.conditionalTab] != undefined) {\r\n                if(this.element.conditional[this.conditionalTab].channel.length > 0) {\r\n                    if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.length > 0) {\r\n                        if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name != '') {\r\n                            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                        condi: this.element.conditional[this.conditionalTab].name,\r\n                                                        channl: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].name,\r\n                                                        endpoint: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name} )\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.element.name, path:this.element.path})\r\n        },\r\n        setToolbarColor(activeid) \r\n        {\r\n            if(this.element.uuid == activeid) {\r\n                this.colorToolbar = \"#FF1493\" \r\n            } else {\r\n                this.colorToolbar = \"#6A5ACD\"\r\n            }\r\n        },\r\n        setToolbarColorDetailView(isdetail) {\r\n            if(this.element.uuid == isdetail) {\r\n                this.colorToolbar = \"#B0E0E6\" \r\n            } else if (this.element.uuid == this.$store.state.activeUUID) {\r\n                this.colorToolbar  = \"#FF1493\"\r\n            } else {\r\n                this.colorToolbar = \"#6A5ACD\"\r\n            }\r\n        },\r\n        showEthernetCluster() {\r\n            this.iselementOpenClose = this.iselementOpenClose ? false : true\r\n            this.$nextTick(() => {\r\n                EventBus.$emit('drawLineTitleBar', this.element.uuid, this.iselementOpenClose)\r\n                if(this.iselementOpenClose && this.location == 1) {\r\n                    if(this.isEthernetClusterOpenClose) {\r\n                        if(this.element.conditional[this.conditionalTab].channel.length > 0) {\r\n                            if(this.isPhysicalChannelOpenClose) {\r\n                                setTimeout(() => {EventBus.$emit('changeLine-someipService', 'connector', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id, this.element.conditional[this.conditionalTab].id)}, 300);\r\n                            } else {\r\n                                setTimeout(() => {EventBus.$emit('changeLine-someipService', 'channel', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].id)}, 300);\r\n                            }\r\n                        } else {\r\n                            EventBus.$emit('changeLine-someipService', 'conditional', this.element.uuid, null)\r\n                        }\r\n                    } else {\r\n                        EventBus.$emit('changeLine-someipService', 'conditional', this.element.uuid, null)\r\n                    }\r\n                } \r\n            })\r\n        },\r\n        showEthernetClusterItem() {\r\n            this.isEthernetClusterOpenClose = this.isEthernetClusterOpenClose ? false : true\r\n            var activeLine = this.$store.getters.getactiveLine(this.element.uuid)\r\n            if (this.location == 1 && activeLine.length > 0) {\r\n                this.$nextTick(() => {\r\n                    if(this.isEthernetClusterOpenClose) {\r\n                        if(this.element.conditional[this.conditionalTab].channel.length > 0) {\r\n                            if(this.isPhysicalChannelOpenClose) {\r\n                                setTimeout(() => {EventBus.$emit('changeLine-someipService', 'connector', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id, this.element.conditional[this.conditionalTab].id)}, 300);\r\n                            } else {\r\n                                setTimeout(() => {EventBus.$emit('changeLine-someipService', 'channel', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].id)}, 300);\r\n                            }\r\n                        } else {\r\n                            EventBus.$emit('changeLine-someipService', 'conditional', this.element.uuid, null)\r\n                        }\r\n                    } else {\r\n                        EventBus.$emit('changeLine-someipService', 'conditional', this.element.uuid, null)\r\n                    }\r\n                    EventBus.$emit('drawLine')\r\n                })\r\n            }\r\n        },\r\n        showPhysicalChannelItem() {\r\n            this.isPhysicalChannelOpenClose = this.isPhysicalChannelOpenClose ? false : true\r\n            if(this.element.conditional[this.conditionalTab].channel.length > 0 && this.location == 1) {\r\n                this.$nextTick(() => {\r\n                    if(this.isPhysicalChannelOpenClose) {\r\n                        EventBus.$emit('changeLine-someipService', 'connector', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id, this.element.conditional[this.conditionalTab].id)\r\n                    } else {\r\n                        EventBus.$emit('changeLine-someipService', 'channel', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].id)\r\n                    }\r\n                    EventBus.$emit('drawLine')\r\n                })\r\n            }\r\n        },\r\n        showCommConnectItem() {\r\n            this.isCommConnectOpenClose = this.isCommConnectOpenClose ? false : true\r\n        },\r\n        showNetworkEndpointItem() {\r\n            this.isNetworkEndpointOpenClose = this.isNetworkEndpointOpenClose ? false : true\r\n        },\r\n        showIP4Item() {\r\n            this.isIP4OpenClose = this.isIP4OpenClose ? false : true\r\n        },\r\n        showIP6Item() {\r\n            this.isIP6OpenClose = this.isIP6OpenClose ? false : true\r\n        },\r\n        setViewEdit() {\r\n            if (this.selectViewedit == true) {\r\n                this.selectViewedit = false\r\n                this.settingViewList()\r\n            } else {\r\n                this.selectViewedit = true\r\n                this.viewList = []\r\n                this.selectedViewId = -1\r\n            }\r\n        },\r\n\r\n        inputEthernetClusterName () {\r\n            console.log('inputEthernetClusterName')\r\n            this.$store.commit('editEthernetCluster', {compo:\"Name\", uuid:this.element.uuid, name:this.element.name} )\r\n            if(this.element.conditional[this.conditionalTab].channel.length>0) {\r\n                if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.length > 0) {\r\n                    if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name != '') {\r\n                        this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                    condi: this.element.conditional[this.conditionalTab].name,\r\n                                                    channl: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].name,\r\n                                                    endpoint: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name} )\r\n                    }\r\n                }\r\n            }\r\n            if (this.element.name != '') {\r\n                this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.element.name, path:this.element.path})\r\n            }\r\n        },\r\n        inputConditionalName(name) {\r\n            if(this.element.conditional[this.conditionalTab].channel.length>0) {\r\n                if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.length > 0) {\r\n                    if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name != '') {\r\n                        this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                    condi: name,\r\n                                                    channl: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].name,\r\n                                                    endpoint: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name} )\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        inputChannelName(name) {\r\n            if(this.element.conditional[this.conditionalTab].channel.length>0) {\r\n                if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.length > 0) {\r\n                    if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name != '') {\r\n                        this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                    condi: this.element.conditional[this.conditionalTab].name,\r\n                                                    channl: name,\r\n                                                    endpoint: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name} )\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        inputEndPointName(name) {\r\n            if(this.element.conditional[this.conditionalTab].channel.length>0) {\r\n                if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.length > 0) {\r\n                    if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].name != '') {\r\n                        this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name,\r\n                                                    condi: this.element.conditional[this.conditionalTab].name,\r\n                                                    channl: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].name,\r\n                                                    endpoint: name} )\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEthernetCluster() {\r\n            const editItem = {name: '', version:'', channel: [], id: ''}\r\n            const addObj = new Object(editItem)\r\n            let res = true, n = 0\r\n\r\n            while (res) {\r\n                addObj.name = 'Ethernet_' + n++;\r\n                res = this.element.conditional.some(ele => ele.name === addObj.name)\r\n            }\r\n            addObj.id = n\r\n            this.element.conditional.push(addObj)\r\n            this.conditionalTab = this.element.conditional.length-1\r\n            if (this.location == 1) {\r\n                EventBus.$emit('changeLine-someipService', 'conditional', this.element.uuid, null)\r\n            }\r\n        },\r\n        clickConditionaltab(idx) {\r\n            this.conditionalTab = idx\r\n            this.clickChanneltab(0)\r\n        },\r\n        changeConditionalTab() {\r\n            console.log('changeConditionalTab    ' + this.conditionalTab)\r\n            if (this.location == 1) {\r\n                if(this.element.conditional.length > 0) {\r\n                    if(this.isPhysicalChannelOpenClose) {\r\n                        setTimeout(() => {EventBus.$emit('changeLine-someipService', 'connector', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id, this.element.conditional[this.conditionalTab].id)}, 300);\r\n                    } else {\r\n                        setTimeout(() => {EventBus.$emit('changeLine-someipService', 'channel', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].id)}, 300);\r\n                    }\r\n                } else {\r\n                    setTimeout(() => {EventBus.$emit('changeLine-someipService', 'conditional', this.element.uuid, this.conditionalTab, this.conditionalTab)}, 300);\r\n                }\r\n            }\r\n        },\r\n        deleteConditional(idx) {\r\n            //console.log('deleteConditional')\r\n            for(let i=0; i<this.element.conditional[idx].channel.length; i++){\r\n                if(this.element.conditional[idx].channel[i].comconnect != null) {\r\n                    for(let n=0; n<this.element.conditional[idx].channel[i].comconnect.length; n++){\r\n                        var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+n+'-'+i+'-'+idx)\r\n                        if(endLine != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/comconet-'+n+'-'+i+'-'+idx)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for(let i=idx+1; i<this.element.conditional.length; i++){\r\n                for(let n=0; n<this.element.conditional[i].channel.length; n++){\r\n                    for(let v=0; v<this.element.conditional[i].channel[n].comconnect.length; v++){\r\n                        var endC = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+v+'-'+n+'-'+i)\r\n                        if(endC != undefined) {\r\n                            this.deleteLine(this.element.uuid+'/comconet-'+v+'-'+n+'-'+i)\r\n                            this.newLine(this.element.uuid+'/comconet-'+v+'-'+n+'-'+(i-1), this.element.uuid+'/conditional', endC)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.$store.commit('deleteRefTable', {deleteName:'machineD', deleteTab: true, deletTab:'1', tabName: this.element.conditional[this.conditionalTab].name, path: this.element.path, name: this.element.name})\r\n            this.element.conditional.splice(idx, 1)\r\n            this.conditionalTab = 0\r\n            this.channelTab[this.conditionalTab] = 0\r\n            this.endpointTab[this.conditionalTab][this.channelTab] = 0\r\n            this.changeConditionalTab()\r\n        },\r\n        addPhysicalChannel() {\r\n            //console.log('addPhysicalChannel  '+this.conditionalTab)\r\n            this.endpointTab.push([this.conditionalTab,0]) //2차원 배열로 초기화 해줘야지 안그러면 tab이 안생김\r\n            const editItem = {name: '', comconnect:[], endpoint: [], id: ''}\r\n            const addObj = new Object(editItem)\r\n\r\n            let res = true, n = 0\r\n            while (res) {\r\n                addObj.name = 'PhysicalChannel_' + n++;\r\n                res = this.element.conditional[this.conditionalTab].channel.some(ele => ele.name === addObj.name)\r\n            }\r\n            addObj.id = n\r\n\r\n            this.element.conditional[this.conditionalTab].channel.push(addObj)\r\n            this.channelTab[this.conditionalTab] = this.element.conditional[this.conditionalTab].channel.length-1\r\n            if (this.location == 1) {\r\n                EventBus.$emit('changeLine-someipService', 'channel', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].id)\r\n            }\r\n            //console.log(this.channelTab)\r\n            //console.log(this.endpointTab)\r\n        },\r\n        clickChanneltab(idx) {\r\n           // console.log('clickChanneltab ' + this.channelTab[this.conditionalTab]+ '  /  '+ idx +'   /  '+this.conditionalTab)\r\n            this.channelTab[this.conditionalTab] = idx\r\n            this.isdeleteCommConnect = false\r\n            this.selectDelectCommConnectItem = []\r\n            this.clickEndpointTab(0)\r\n        },\r\n        changeChannelTab() {\r\n            if (this.element.conditional[this.conditionalTab].channel.length > 0 && this.location == 1) {\r\n                setTimeout(() => {EventBus.$emit('changeLine-someipService', 'connector', this.element.uuid, this.channelTab[this.conditionalTab], this.conditionalTab, this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id, this.element.conditional[this.conditionalTab].id)}, 300);\r\n            }\r\n        },\r\n        deleteChannel(idx) {\r\n            //console.log('deleteChannel')\r\n            for(let i=0; i<this.element.conditional[this.conditionalTab].channel[idx].comconnect.length; i++){\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+i+'-'+idx+'-'+this.conditionalTab)\r\n                if(endLine != undefined) {\r\n                    this.deleteLine(this.element.uuid+'/comconet-'+i+'-'+idx+'-'+this.conditionalTab)\r\n                }\r\n            }\r\n            for(let i=idx+1; i<this.element.conditional[this.conditionalTab].channel.length; i++){\r\n                for(let n=0; n<this.element.conditional[this.conditionalTab].channel[i].comconnect.length; n++){\r\n                    var endC = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+n+'-'+i+'-'+this.conditionalTab)\r\n                    if(endC != undefined) {\r\n                        this.deleteLine(this.element.uuid+'/comconet-'+n+'-'+i+'-'+this.conditionalTab)\r\n                        this.newLine(this.element.uuid+'/comconet-'+n+'-'+(i-1)+'-'+this.conditionalTab, this.element.uuid+'/channel-'+this.element.conditional[this.conditionalTab].id, endC)\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.$store.commit('deleteRefTable', {deleteName:'machineD', deleteTab: true, deletTab:'2', tabName: this.element.conditional[this.conditionalTab].name+'/'+this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].name, path: this.element.path, name: this.element.name})\r\n            this.element.conditional[this.conditionalTab].channel.splice(idx, 1)\r\n            this.channelTab[this.conditionalTab] = 0\r\n            this.endpointTab[this.conditionalTab][this.channelTab] = 0\r\n            this.changeChannelTab()\r\n        },\r\n\r\n        isCommConnect() {\r\n            if (this.isdeleteCommConnect == true) {\r\n                this.isdeleteCommConnect = false\r\n                this.selectDelectCommConnectItem = []\r\n            } else {\r\n                this.isdeleteCommConnect = true\r\n            }\r\n        },\r\n        deleteCommConnect() {\r\n            if (this.isdeleteCommConnect == true) {\r\n                for(let i=0; i<this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect.length; i++){\r\n                    var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+i+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab)\r\n                    if(endLine != undefined) {\r\n                        this.deleteCCLine.push({endLine:endLine, id:this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect[i].id})\r\n                        this.deleteLine(this.element.uuid+'/comconet-'+i+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab)\r\n                    }\r\n                }\r\n\r\n                this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect.filter(item => {\r\n                        return this.selectDelectCommConnectItem.indexOf(item) < 0 })\r\n\r\n                for(let n=0; n<this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect.length; n++) {\r\n                    for(let idx=0; idx<this.deleteCCLine.length; idx++) {\r\n                        if (this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect[n].id == this.deleteCCLine[idx].id) {\r\n                            this.newLine(this.element.uuid+'/comconet-'+n+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab, this.element.uuid+'/comconet-'+this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id+'-'+this.element.conditional[this.conditionalTab].id, this.deleteCCLine[idx].endLine)\r\n                        }\r\n                    }\r\n                }\r\n                this.isdeleteCommConnect = false\r\n                this.selectDelectCommConnectItem = []\r\n                this.deleteCCLine = []\r\n            } \r\n        },\r\n        addCommConnect() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect.some(item => item.id === n)\r\n            }\r\n            this.editCCItem.id = n\r\n\r\n            if( this.editCCItem.connector != null) {\r\n                var datacount\r\n                if(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect == undefined) {\r\n                    datacount = 0\r\n                }else {\r\n                    datacount = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect.length\r\n                }\r\n                this.newLine(this.element.uuid+'/comconet-'+datacount+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab, this.element.uuid+'/comconet-'+this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id+'-'+this.element.conditional[this.conditionalTab].id, this.editCCItem.connector.uuid)\r\n                this.editCCItem.connector = this.editCCItem.connector.name\r\n            }\r\n            //console.log(this.element.uuid+'/comconet-'+this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].name+'-'+this.element.conditional[this.conditionalTab].name)\r\n            const addObj = Object.assign({}, this.editCCItem)\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect.push(addObj);\r\n\r\n            this.cancelCommConnect()\r\n        },\r\n        cancelCommConnect() {\r\n            this.editCCItem.connector = null\r\n            this.setactiveUUID()\r\n        },\r\n        editCommConnect(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+idx+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab)\r\n            if (endLine != undefined && this.editCCItem.connector == null) {\r\n                this.deleteLine(this.element.uuid+'/comconet-'+idx+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab)\r\n                this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect[idx].connector = null\r\n            } else if (endLine != undefined && endLine != this.editCCItem.connector.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/comconet-'+idx+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab)\r\n                this.newLine(this.element.uuid+'/comconet-'+idx+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab, this.element.uuid+'/comconet-'+this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id+'-'+this.element.conditional[this.conditionalTab].id, this.editCCItem.connector.uuid)\r\n                this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect[idx].connector = this.editCCItem.connector.name\r\n            } else if (endLine == undefined && this.editCCItem.connector != null) {\r\n                this.newLine(this.element.uuid+'/comconet-'+idx+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab, this.element.uuid+'/comconet-'+this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].id+'-'+this.element.conditional[this.conditionalTab].id, this.editCCItem.connector.uuid)\r\n                this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect[idx].connector = this.editCCItem.connector.name\r\n            }\r\n            \r\n            this.cancelCommConnect()\r\n        },\r\n        openCommConnect(idx) {\r\n            this.selCommunicationConnect = this.$store.getters.getCommunicationConnect\r\n            if ( this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect[idx].connector != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+idx+'-'+this.channelTab[this.conditionalTab]+'-'+this.conditionalTab)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getMachinDesignPath(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect[idx].connector, 1)\r\n                }\r\n                this.editCCItem.connector = { name: this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].comconnect[idx].connector, uuid: endLine }\r\n            }\r\n        },\r\n        setCommuniCSelect() {\r\n            if (this.isEditingCC == true) {\r\n                if (this.editCCItem.connector != null && this.editCCItem.connector.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editCCItem.connector.uuid, element: constant.MachineDesigne_str} )\r\n                }\r\n                this.setComunicationConnetList()\r\n                this.isEditingCC = false\r\n            } else {\r\n                this.isEditingCC = true\r\n            }\r\n        },\r\n        setComunicationConnetList() {\r\n            this.selCommunicationConnect = this.$store.getters.getCommunicationConnect\r\n            this.setactiveUUID()\r\n        },\r\n        clearCommuniC() {\r\n            this.isEditingCC = true\r\n            this.editCCItem.connector = null\r\n        },\r\n\r\n        addNetworkEndpoint() {\r\n            const editItem = {name: '', domainname:'', ip4address: [], ip6address: [], priority: ''}\r\n            const addObj = new Object(editItem)\r\n            addObj.name = 'Endpoint'+(this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.length+1)\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.push(addObj)\r\n            this.endpointTab[this.conditionalTab][this.channelTab] = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.length-1\r\n        },\r\n        clickEndpointTab(idx) {\r\n            //console.log('clickEndpointTab '+ this.conditionalTab +'  /  ' + this.channelTab)\r\n            this.endpointTab[this.conditionalTab][this.channelTab] = idx\r\n            this.isdeleteIP4Item = false\r\n            this.isdeleteIP6Item = false\r\n            this.selectDelectIP4tem = []\r\n            this.selectDelectIP6tem = []\r\n        },\r\n        deleteEndpointTab(idx) {\r\n            this.$store.commit('deleteRefTable', {deleteName:'machineD', deleteTab: true, deletTab:'3', tabName: this.element.conditional[this.conditionalTab].name+'/'+this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].name+'/'+this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[idx].name, path: this.element.path, name: this.element.name})\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint.splice(idx, 1)\r\n            this.endpointTab[this.conditionalTab][this.channelTab] = 0\r\n        },\r\n        isEndpointIP4() {\r\n            if (this.isdeleteIP4Item == true) {\r\n                this.isdeleteIP4Item = false\r\n                this.selectDelectIP4tem = []\r\n            } else {\r\n                this.isdeleteIP4Item = true\r\n            }\r\n        },\r\n        deleteIP4() {\r\n            if (this.isdeleteIP4Item == true) {\r\n                this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address.filter(item => {\r\n                         return this.selectDelectIP4tem.indexOf(item) < 0 })\r\n                this.isdeleteIP4Item = false\r\n                this.selectDelectIP4tem = []\r\n            } \r\n        },\r\n        isEndpointIP6() {\r\n            if (this.isdeleteIP6Item == true) {\r\n                this.isdeleteIP6Item = false\r\n                this.selectDelectIP6tem = []\r\n            } else {\r\n                this.isdeleteIP6Item = true\r\n            }\r\n        },\r\n        deleteIP6() {\r\n            if (this.isdeleteIP6Item == true) {\r\n                this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address.filter(item => {\r\n                         return this.selectDelectIP6tem.indexOf(item) < 0 })\r\n                this.isdeleteIP6Item = false\r\n                this.selectDelectIP6tem = []\r\n            } \r\n        },\r\n        openIP4(idx) {\r\n            this.editIP4Item.gateway = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].gateway\r\n            this.editIP4Item.behavior = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].behavior\r\n            this.editIP4Item.address = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].address\r\n            this.editIP4Item.addresssorce = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].addresssorce\r\n            this.editIP4Item.mask = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].mask\r\n        },\r\n        editIP4(idx) {\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].gateway = this.editIP4Item.gateway\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].behavior = this.editIP4Item.behavior\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].address = this.editIP4Item.address\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].addresssorce = this.editIP4Item.addresssorce\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address[idx].mask = this.editIP4Item.mask\r\n            this.cancelIP4()\r\n        },\r\n        addIP4() {\r\n                        let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address.some(item => item.id === n)\r\n            }\r\n            this.editIP4Item.id = n\r\n\r\n            const addObj = Object.assign({}, this.editIP4Item)\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip4address.push(addObj)\r\n            this.cancelIP4()\r\n        },\r\n        cancelIP4() {\r\n            this.editIP4Item = Object.assign({}, this.defaultIP4Item)\r\n            this.setactiveUUID()\r\n        },\r\n        openIP6(idx) {\r\n            this.editIP6Item.priority = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].priority\r\n            this.editIP6Item.behavior = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].behavior\r\n            this.editIP6Item.prelength = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].prelength\r\n            this.editIP6Item.address = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].address\r\n            this.editIP6Item.addresssource = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].addresssource\r\n        },\r\n        editIP6(idx) {\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].gatpriorityway = this.editIP6Item.priority\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].behavior = this.editIP6Item.behavior\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].prelength = this.editIP6Item.prelength\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab].ip6address[idx].address = this.editIP6Item.address\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address[idx].addresssource = this.editIP6Item.addresssource\r\n            this.cancelIP6()\r\n        },\r\n        addIP6() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address.some(item => item.id === n)\r\n            }\r\n            this.editIP6Item.id = n\r\n\r\n            const addObj = Object.assign({}, this.editIP6Item)\r\n            this.element.conditional[this.conditionalTab].channel[this.channelTab[this.conditionalTab]].endpoint[this.endpointTab[this.conditionalTab][this.channelTab]].ip6address.push(addObj)\r\n            this.cancelIP6()\r\n        },\r\n        cancelIP6() {\r\n            this.editIP6Item = Object.assign({}, this.defaultIP6Item)\r\n            this.setactiveUUID()\r\n        },\r\n\r\n        settingViewList() {\r\n            var connector = [], isendpoint = false, isChannel = false\r\n            var ipv4 = [], ipv6 =[], id = 0\r\n            for(const i in this.element.conditional) {\r\n                for(const v in this.element.conditional[i].channel ) {\r\n                    isChannel = true\r\n                    this.element.conditional[i].channel[v].comconnect.forEach(connectorItem => {\r\n                        connector.push(connectorItem.connector)\r\n                    })\r\n                    for(const n in this.element.conditional[i].channel[v].endpoint) {\r\n                        this.element.conditional[i].channel[v].endpoint[n].ip4address.forEach(ip4Item => {\r\n                            ipv4.push(ip4Item.address)\r\n                        })\r\n                        this.element.conditional[i].channel[v].endpoint[n].ip6address.forEach(ip6Item => {\r\n                            ipv6.push(ip6Item.address)\r\n                        })\r\n                        isendpoint= true\r\n                        this.viewList.push({\r\n                            condiname: this.element.conditional[i].name, \r\n                            channame:this.element.conditional[i].channel[v].name, \r\n                            connector:connector.join(), \r\n                            endname:this.element.conditional[i].channel[v].endpoint[n].name,\r\n                            ipv4:ipv4.join(), ipv6:ipv6.join(),\r\n                            condidx: i,\r\n                            channelidx: v,\r\n                            endpointidx: n,\r\n                            id: id++\r\n                        })\r\n                        ipv4 = []\r\n                        ipv6 =[]\r\n                    }\r\n                    if(isendpoint == false) {\r\n                        this.viewList.push({\r\n                            condiname: this.element.conditional[i].name, \r\n                            channame:this.element.conditional[i].channel[v].name, \r\n                            connector:connector.join(), \r\n                            endname:null, ipv4:null, ipv6:null,\r\n                            condidx: i, channelidx: v, endpointidx: null,\r\n                            id: id++\r\n                        })\r\n                    }\r\n                    isendpoint = false\r\n                    connector = []\r\n                }\r\n                if(isChannel == false) {\r\n                    this.viewList.push({\r\n                        condiname: this.element.conditional[i].name, \r\n                        channame:null, connector:null, endname:null, \r\n                        ipv4:null, ipv6:null,\r\n                        condidx: i, channelidx: null, endpointidx: null,\r\n                        id: id++\r\n                    })\r\n                }\r\n                isChannel = false\r\n            }\r\n        },\r\n        editDialogEthernetCluster(item, row) {\r\n            var info = {  isChannel: false, isEndpoint: false, idxConditional: 0, idxChannel: null,  idxEndpoint: null,}\r\n            if(this.element.conditional[item.condidx].channel.length > 0) {\r\n                info.isChannel = true\r\n                if(this.element.conditional[item.condidx].channel[item.channelidx].endpoint.length > 0) {\r\n                    info.isEndpoint = true\r\n                    info.idxEndpoint = item.endpointidx\r\n                }\r\n                info.idxChannel = item.channelidx\r\n            }\r\n            info.idxConditional = item.condidx\r\n            this.$store.commit('setDetailView', {uuid: this.element.uuid, element: constant.EthernetCluster_str} )\r\n            row.select(true)\r\n            this.selectedViewId = item.id\r\n            EventBus.$emit('detailViewInfo',info)\r\n        },\r\n        isdialogCC() {\r\n            if (this.isdeleteInfoCC == true) {\r\n                this.isdeleteInfoCC = false\r\n                this.selectDelectInfoCC = []\r\n            } else {\r\n                this.isdeleteInfoCC = true\r\n            }\r\n        },\r\n        deletedialogCC() {\r\n            if (this.isdeleteInfoCC == true) {\r\n                for(let i=0; i<this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect.length; i++){\r\n                    var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+i+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional)\r\n                    if(endLine != undefined) {\r\n                        this.deleteCCLine.push({name:this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect[i].connector, endLine:endLine})\r\n                        this.deleteLine(this.element.uuid+'/comconet-'+i+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional)\r\n                    }\r\n                }\r\n\r\n                this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect.filter(item => {\r\n                        return this.selectDelectInfoCC.indexOf(item) < 0 })\r\n\r\n                for(let n=0; n<this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect.length; n++) {\r\n                    for(let idx=0; idx<this.deleteCCLine.length; idx++) {\r\n                        if (this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect[n].connector == this.deleteCCLine[idx].name) {\r\n                            this.newLine(this.element.uuid+'/comconet-'+n+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional, this.element.uuid+'/comconet-'+this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].id+'-'+this.element.conditional[this.viewInfo.idxConditional].id, this.deleteCCLine[idx].endLine)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.isdeleteInfoCC = false\r\n                this.selectDelectInfoCC = []\r\n                this.deleteCCLine = []\r\n            } \r\n        },\r\n        opendialogCC(idx) {\r\n            this.selCommunicationConnect = this.$store.getters.getCommunicationConnect\r\n            if ( this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect[idx].connector != null) {\r\n                this.editCCItem.connector = { name: this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect[idx].connector, \r\n                                              uuid: this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+idx+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional) }\r\n            }\r\n        },\r\n        editdialogCC(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/comconet-'+idx+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional)\r\n            if (endLine != undefined && this.editCCItem.connector == null) {\r\n                this.deleteLine(this.element.uuid+'/comconet-'+idx+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional)\r\n                this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect[idx].connector = null\r\n            } else if (endLine != undefined && endLine != this.editCCItem.connector.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/comconet-'+idx+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional)\r\n                this.newLine(this.element.uuid+'/comconet-'+idx+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional, this.element.uuid+'/comconet-'+this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].id+'-'+this.element.conditional[this.viewInfo.idxConditional].id, this.editCCItem.connector.uuid)\r\n                this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect[idx].connector = this.editCCItem.connector.name\r\n            } else if (endLine == undefined && this.editCCItem.connector != null) {\r\n                this.newLine(this.element.uuid+'/comconet-'+idx+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional, this.element.uuid+'/comconet-'+this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].id+'-'+this.element.conditional[this.viewInfo.idxConditional].id, this.editCCItem.connector.uuid)\r\n                this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect[idx].connector = this.editCCItem.connector.name\r\n            }\r\n            \r\n            this.canceldialogCC()\r\n        },\r\n        canceldialogCC() {\r\n            this.isEditingCC = true\r\n            this.editCCItem.connector = null\r\n        },\r\n        adddialogCC() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect.some(item => item.id === n)\r\n            }\r\n            this.editCCItem.id = n\r\n\r\n            if( this.editCCItem.connector != null) {\r\n                var datacount\r\n                if(this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect == undefined) {\r\n                    datacount = 0\r\n                }else {\r\n                    datacount = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect.length\r\n                }\r\n                this.newLine(this.element.uuid+'/comconet-'+datacount+'-'+this.viewInfo.idxChannel+'-'+this.viewInfo.idxConditional, this.element.uuid+'/comconet-'+this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].id+'-'+this.element.conditional[this.viewInfo.idxConditional].id, this.editCCItem.connector.uuid)\r\n                this.editCCItem.connector = this.editCCItem.connector.name\r\n            }\r\n            const addObj = Object.assign({}, this.editCCItem)\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].comconnect.push(addObj);\r\n\r\n            this.canceldialogCC()\r\n        },\r\n\r\n        isEndpointDialogIP4() {\r\n            if (this.isdeleteInfoIPV4 == true) {\r\n                this.isdeleteInfoIPV4 = false\r\n                this.selectDelectInfoIP4 = []\r\n            } else {\r\n                this.isdeleteInfoIPV4 = true\r\n            }\r\n        },\r\n        deletedialogIP4() {\r\n            if (this.isdeleteInfoIPV4 == true) {\r\n                this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address.filter(item => {\r\n                         return this.selectDelectInfoIP4.indexOf(item) < 0 })\r\n                this.isdeleteInfoIPV4 = false\r\n                this.selectDelectInfoIP4 = []\r\n            } \r\n        },\r\n        opendialogIP4(idx) {\r\n            this.editIP4Item.gateway = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].gateway\r\n            this.editIP4Item.behavior = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].behavior\r\n            this.editIP4Item.address = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].address\r\n            this.editIP4Item.addresssorce = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].addresssorce\r\n            this.editIP4Item.mask = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].mask\r\n        },\r\n        editdialogIP4(idx) {\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].gateway = this.editIP4Item.gateway\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].behavior = this.editIP4Item.behavior\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].address = this.editIP4Item.address\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].addresssorce = this.editIP4Item.addresssorce\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address[idx].mask = this.editIP4Item.mask\r\n            this.canceldialogIP4()\r\n        },\r\n        canceldialogIP4() {\r\n            this.editIP4Item = Object.assign({}, this.defaultIP4Item)\r\n        },\r\n        adddialogIP4() {\r\n                        let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address.some(item => item.id === n)\r\n            }\r\n            this.editIP4Item.id = n\r\n\r\n            const addObj = Object.assign({}, this.editIP4Item)\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip4address.push(addObj)\r\n            this.canceldialogIP4()\r\n        },\r\n        isEndpointDialogIPV6() {\r\n            if (this.isdeleteInfoIPV6 == true) {\r\n                this.isdeleteInfoIPV6 = false\r\n                this.selectDelectInfoIP6 = []\r\n            } else {\r\n                this.isdeleteInfoIPV6 = true\r\n            }\r\n        },\r\n        deletedialogIP6() {\r\n            if (this.isdeleteInfoIPV6 == true) {\r\n                this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address.filter(item => {\r\n                         return this.selectDelectInfoIP6.indexOf(item) < 0 })\r\n                this.isdeleteInfoIPV6 = false\r\n                this.selectDelectInfoIP6 = []\r\n            } \r\n        },\r\n        opendialogIP6(idx) {\r\n            this.editIP6Item.priority = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].priority\r\n            this.editIP6Item.behavior = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].behavior\r\n            this.editIP6Item.prelength = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].prelength\r\n            this.editIP6Item.address = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].address\r\n            this.editIP6Item.addresssource = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].addresssource\r\n        },\r\n        editdialogIP6(idx) {\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].gatpriorityway = this.editIP6Item.priority\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].behavior = this.editIP6Item.behavior\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].prelength = this.editIP6Item.prelength\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].address = this.editIP6Item.address\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address[idx].addresssource = this.editIP6Item.addresssource\r\n            this.canceldialogIP6()\r\n        },\r\n        canceldialogIP6() {\r\n            this.editIP6Item = Object.assign({}, this.defaultIP6Item)\r\n        },\r\n        adddialogIP6() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address.some(item => item.id === n)\r\n            }\r\n            this.editIP6Item.id = n\r\n\r\n            const addObj = Object.assign({}, this.editIP6Item)\r\n            this.element.conditional[this.viewInfo.idxConditional].channel[this.viewInfo.idxChannel].endpoint[this.viewInfo.idxEndpoint].ip6address.push(addObj)\r\n            this.canceldialogIP6()\r\n        },\r\n\r\n\r\n        setactiveUUID() {\r\n            this.$store.commit('setuuid', {uuid: this.element.uuid} )\r\n            this.$store.commit('editEthernetCluster', {compo:\"z\", uuid:this.element.uuid, zindex:10} )\r\n        },\r\n        deleteLine(fineLine) {\r\n            var linenum = this.$store.getters.getconnectLineNum(fineLine)\r\n            if (linenum != -1) {\r\n                EventBus.$emit('delete-line', linenum)\r\n                this.$store.commit('deletConnectionline', {startnum: linenum} )\r\n            }\r\n        },\r\n        newLine(startLine, drawLine, endLine) {\r\n            this.$store.commit('setConnectionline', {start: startLine, end: endLine} )\r\n            EventBus.$emit('new-line', drawLine, endLine)\r\n        },\r\n    },\r\n}\r\n</script>"]}]}