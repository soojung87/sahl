{"remainingRequest":"D:\\service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\service\\src\\components\\UCMSoftwareCluster.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\service\\src\\components\\UCMSoftwareCluster.vue","mtime":1662616145757},{"path":"D:\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\service\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgY29uc3RhbnQgZnJvbSAiLi4vc3RvcmUvY29uc3RhbnRzLmpzIg0KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICIuLi9tYWluLmpzIg0KaW1wb3J0IGRpYWxvZ1BhdGhTZXR0aW5nIGZyb20gJy4uL2NvbXBvbmVudHMvZGlhbG9nUGF0aFNldHRpbmcudnVlJw0KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBwcm9wczogWydlbGVtZW50JywgJ2lzRGF0YWlsVmlldycsICdtaW5pbWFwdG9vbGJhcicsICdsb2NhdGlvbiddLA0KICAgIGNvbXBvbmVudHM6e2RpYWxvZ1BhdGhTZXR0aW5nfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICBhY3RpdmVVVUlEKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVVVSUQNCiAgICAgICAgfSwNCiAgICAgICAgZGV0YWlsVmlld1VVSUQoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZGV0YWlsVmlld1VVSUQNCiAgICAgICAgfSwNCiAgICAgICAgc2V0dGluZygpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5nDQogICAgICAgIH0sDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICBhY3RpdmVVVUlEKHZhbCkgew0KICAgICAgICAgICAgdGhpcy5zZXRUb29sYmFyQ29sb3IodmFsKQ0KICAgICAgICB9LA0KICAgICAgICBkZXRhaWxWaWV3VVVJRCh2YWwpIHsNCiAgICAgICAgICAgIHRoaXMuc2V0VG9vbGJhckNvbG9yRGV0YWlsVmlldyh2YWwpDQogICAgICAgIH0sDQogICAgICAgIHNldHRpbmcodmFsdWUpIHsNCiAgICAgICAgICAgIHRoaXMuem9vbXZhbHVlID0gdmFsdWUuem9vbU1haW4NCiAgICAgICAgICAgIGlmICh0aGlzLnpvb212YWx1ZSA8IHRoaXMuJHNldFpvb21pblRvb2x0aXApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzVG9vbHRpcCA9IGZhbHNlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNUb29sdGlwID0gdGhpcy5taW5pbWFwdG9vbGJhcg0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy5zZXRUb29sYmFyQ29sb3IodGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRCkNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBydWxlczogew0KICAgICAgICAgICAgICAgIG5hbWU6ICBbdmFsID0+ICh2YWwgfHwgJycpLmxlbmd0aCA+IDAgXSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb2xvclRvb2xiYXI6ICIjNkE1QUNEIiwNCiAgICAgICAgICAgIHpvb212YWx1ZTogdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZy56b29tTWFpbiwNCiAgICAgICAgICAgIGlzVG9vbHRpcDogdGhpcy5taW5pbWFwdG9vbGJhciwNCiAgICAgICAgICAgIGlzZWxlbWVudE9wZW5DbG9zZTogZmFsc2UsLy90aGlzLm1pbmltYXB0b29sYmFyLCAvL3Rvb2xiYXLrp4wg67O07Jes7KSE6rKD7J2064OQIOyVhOuLiOuDkCDshKTsoJUgdHJ1ZTog7KCE7LK0IOuLpCDrs7Tsl6zspIwgLyBmYWxzZSA6IHRvb2xiYXLrp4wg67O07Jes7KSMDQogICAgICAgICAgICBkaWFsb2dQYXRoOiBmYWxzZSwNCiAgICAgICAgICAgIGlzU0RHU09wZW5DbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzZGVsZXRlU0RHU0l0ZW06IGZhbHNlLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0U0RHUzogW10sDQogICAgICAgICAgICBoZWFkZXJTREdTOiBbDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnU0RHJywgYWxpZ246ICdzdGFydCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdzZGcnIH0sDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnU0QnLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ3NkJyB9LA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGVkaXRTREdTSXRlbTogeyBzZGc6IG51bGwsIHNkIDogbnVsbCwgaWQ6ICcnfSwNCiAgICAgICAgICAgIHNlbFNERzogWyJSMjAtMTEtQ0FURUdPUlkiLCAiTElDRU5TRVMiXSwNCg0KICAgICAgICAgICAgaXNFeGVjdXRhYmxlT3BlbkNsb3NlOiB0cnVlLA0KICAgICAgICAgICAgaXNFZGl0aW5nRXhlY3V0YWJsZTogdHJ1ZSwNCiAgICAgICAgICAgIGlzZGVsZXRlRXhlY3V0YWJsZUl0ZW06IGZhbHNlLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0RXhlY3V0YWJsZTogW10sDQogICAgICAgICAgICBzZWxFeGVjdXRhYmxlOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEV4ZWN1dGFibGUsDQogICAgICAgICAgICBoZWFkZXJFeGVjdXRhYmxlOiBbDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnQ29udGFpbmVkIEFSIEVsZW1lbnQgUmVmJywgYWxpZ246ICdzdGFydCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdleGVjdXQnIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgZWRpdEV4ZWN1dGFibGVJdGVtOiB7IGV4ZWN1dCA6IG51bGwsIGlkOicnfSwNCiAgICAgICAgICAgIGRlbGV0ZUNoYW5nZUxpbmVFeGVjdXRhYmxlIDogW10sDQoNCiAgICAgICAgICAgIGlzTWFjaGluZURPcGVuQ2xvc2U6IHRydWUsDQogICAgICAgICAgICBpc0VkaXRpbmdNYWNoaW5lRDogdHJ1ZSwNCiAgICAgICAgICAgIGlzZGVsZXRlTWFjaGluZURJdGVtOiBmYWxzZSwNCiAgICAgICAgICAgIHNlbGVjdERlbGVjdE1hY2hpbmVEOiBbXSwNCiAgICAgICAgICAgIHNlbE1hY2hpbmVEOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1hY2hpbmVEZXNpZ24sDQogICAgICAgICAgICBoZWFkZXJNYWNoaW5lRDogWw0KICAgICAgICAgICAgICAgIHsgdGV4dDogJ0NvbnRhaW5lZCBGaWJleCBFbGVtZW50IFJlZicsIGFsaWduOiAnc3RhcnQnLCBzb3J0YWJsZTogZmFsc2UsIHZhbHVlOiAnbWFjaGluZScgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBlZGl0TWFjaGluZURJdGVtOiB7IG1hY2hpbmUgOiBudWxsLCBpZDonJ30sDQogICAgICAgICAgICBkZWxldGVDaGFuZ2VMaW5lTWFjaGluZUQgOiBbXSwNCg0KICAgICAgICAgICAgaXNUb01hY2hpbmVNT3BlbkNsb3NlOiB0cnVlLA0KICAgICAgICAgICAgaXNFZGl0aW5nVG9NYWNoaW5lTTogdHJ1ZSwNCiAgICAgICAgICAgIGlzZGVsZXRlVG9NYWNoaW5lTUl0ZW06IGZhbHNlLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0VG9NYWNoaW5lTTogW10sDQogICAgICAgICAgICBzZWxUb01hY2hpbmVNOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFNvbWVJUFRvTWFjaGluZU1hcHBpbmcsDQogICAgICAgICAgICBoZWFkZXJUb01hY2hpbmVNOiBbDQogICAgICAgICAgICAgICAgeyB0ZXh0OiAnQ29udGFpbmVkIFBhY2thZ2UgRWxlbWVudCBSZWYnLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ21hcHBpbmcnIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgZWRpdFRvTWFjaGluZU1JdGVtOiB7IG1hcHBpbmcgOiBudWxsLCBpZDonJ30sDQogICAgICAgICAgICBkZWxldGVDaGFuZ2VMaW5lVG9NYWNoaW5lTSA6IFtdLA0KDQogICAgICAgICAgICBpc1Byb2Nlc3NPcGVuQ2xvc2U6IHRydWUsDQogICAgICAgICAgICBpc0VkaXRpbmdQcm9jZXNzOiB0cnVlLA0KICAgICAgICAgICAgaXNkZWxldGVQcm9jZXNzSXRlbTogZmFsc2UsDQogICAgICAgICAgICBzZWxlY3REZWxlY3RQcm9jZXNzOiBbXSwNCiAgICAgICAgICAgIHNlbFByb2Nlc3M6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0UHJvY2VzcywNCiAgICAgICAgICAgIGhlYWRlclByb2Nlc3M6IFsNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdDb250YWluZWQgUHJvY2VzcyBSZWYnLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ3BybycgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBlZGl0UHJvY2Vzc0l0ZW06IHsgcHJvIDogbnVsbCwgaWQ6Jyd9LA0KICAgICAgICAgICAgZGVsZXRlQ2hhbmdlTGluZVByb2Nlc3MgOiBbXSwNCg0KICAgICAgICAgICAgaXNTV0NsdXN0ZXJPcGVuQ2xvc2U6IHRydWUsDQogICAgICAgICAgICBpc0VkaXRpbmdTV0NsdXN0ZXI6IHRydWUsDQogICAgICAgICAgICBpc2RlbGV0ZVNXQ2x1c3Rlckl0ZW06IGZhbHNlLA0KICAgICAgICAgICAgc2VsZWN0RGVsZWN0U1dDbHVzdGVyOiBbXSwNCiAgICAgICAgICAgIHNlbFNXQ2x1c3RlcjogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTV0NsdXN0ZXIsDQogICAgICAgICAgICBoZWFkZXJTV0NsdXN0ZXI6IFsNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdTdWIgU29mdHdhcmUgQ2x1c3RlciBSZWYnLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ3N3YycgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBlZGl0U1dDbHVzdGVySXRlbTogeyBzd2MgOiBudWxsLCBpZDonJ30sDQogICAgICAgICAgICBkZWxldGVDaGFuZ2VMaW5lU1dDbHVzdGVyIDogW10sDQoNCg0KICAgICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkICgpIHsNCiAgICAgICAgaWYgKHRoaXMubWluaW1hcHRvb2xiYXIgJiYgdGhpcy56b29tdmFsdWUgPCB0aGlzLiRzZXRab29taW5FbGVtZW50KSB7DQogICAgICAgICAgICB0aGlzLmlzVG9vbHRpcCA9IGZhbHNlDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgc3VibWl0RGlhbG9nKGVsZW1lbnQpIHsNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXRoID0gZWxlbWVudA0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VQYXRoRWxlbWVudCcsIHt1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBwYXRoOiB0aGlzLmVsZW1lbnQucGF0aCwgbmFtZTogdGhpcy5lbGVtZW50Lm5hbWV9ICkNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaXNpbnRvRXJyb3JMaXN0Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIG5hbWU6dGhpcy5lbGVtZW50Lm5hbWUsIHBhdGg6dGhpcy5lbGVtZW50LnBhdGh9KQ0KICAgICAgICB9LA0KICAgICAgICBzZXRUb29sYmFyQ29sb3IodXVpZCkgDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC51dWlkID09IHV1aWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yVG9vbGJhciA9ICIjRkYxNDkzIiANCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xvclRvb2xiYXIgPSAiIzZBNUFDRCINCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0VG9vbGJhckNvbG9yRGV0YWlsVmlldyhpc2RldGFpbCkgew0KICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50LnV1aWQgPT0gaXNkZXRhaWwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yVG9vbGJhciA9ICIjQjBFMEU2IiANCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50LnV1aWQgPT0gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRCkgew0KICAgICAgICAgICAgICAgIHRoaXMuY29sb3JUb29sYmFyICA9ICIjRkYxNDkzIg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yVG9vbGJhciA9ICIjNkE1QUNEIg0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzaG93U29mdHdhcmVDbHVzdGVyICgpIHsNCiAgICAgICAgICAgIHRoaXMuaXNlbGVtZW50T3BlbkNsb3NlID0gdGhpcy5pc2VsZW1lbnRPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZHJhd0xpbmVUaXRsZUJhcicsIHRoaXMuZWxlbWVudC51dWlkLCB0aGlzLmlzZWxlbWVudE9wZW5DbG9zZSkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIHNob3dTREdTKCkgew0KICAgICAgICAgICAgdGhpcy5pc1NER1NPcGVuQ2xvc2UgPSB0aGlzLmlzU0RHU09wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RyYXdMaW5lJykNCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0V4ZWN1dGFibGUoKSB7DQogICAgICAgICAgICB0aGlzLmlzRXhlY3V0YWJsZU9wZW5DbG9zZSA9IHRoaXMuaXNFeGVjdXRhYmxlT3BlbkNsb3NlID8gZmFsc2UgOiB0cnVlDQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZHJhd0xpbmUnKQ0KICAgICAgICB9LA0KICAgICAgICBzaG93TWFjaGluZUQoKSB7DQogICAgICAgICAgICB0aGlzLmlzTWFjaGluZURPcGVuQ2xvc2UgPSB0aGlzLmlzTWFjaGluZURPcGVuQ2xvc2UgPyBmYWxzZSA6IHRydWUNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkcmF3TGluZScpDQogICAgICAgIH0sDQogICAgICAgIHNob3dUb01hY2hpbmVNKCkgew0KICAgICAgICAgICAgdGhpcy5pc1RvTWFjaGluZU1PcGVuQ2xvc2UgPSB0aGlzLmlzVG9NYWNoaW5lTU9wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RyYXdMaW5lJykNCiAgICAgICAgfSwNCiAgICAgICAgc2hvd1Byb2Nlc3MoKSB7DQogICAgICAgICAgICB0aGlzLmlzUHJvY2Vzc09wZW5DbG9zZSA9IHRoaXMuaXNQcm9jZXNzT3BlbkNsb3NlID8gZmFsc2UgOiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHNob3dTV0NsdXN0ZXIoKSB7DQogICAgICAgICAgICB0aGlzLmlzU1dDbHVzdGVyT3BlbkNsb3NlID0gdGhpcy5pc1NXQ2x1c3Rlck9wZW5DbG9zZSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICB9LA0KDQogICAgICAgIGlucHV0U29mdHdhcmVDbHVzdGVyTmFtZSAoKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2VkaXRTb2Z0V2FyZUNsdXN0ZXInLCB7Y29tcG86Ik5hbWUiLCB1dWlkOnRoaXMuZWxlbWVudC51dWlkLCBuYW1lOnRoaXMuZWxlbWVudC5uYW1lfSApDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50Jywge3V1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHBhdGg6IHRoaXMuZWxlbWVudC5wYXRoLCBuYW1lOiB0aGlzLmVsZW1lbnQubmFtZX0gKQ0KICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5uYW1lICE9ICcnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpc2ludG9FcnJvckxpc3QnLCB7dXVpZDp0aGlzLmVsZW1lbnQudXVpZCwgbmFtZTp0aGlzLmVsZW1lbnQubmFtZSwgcGF0aDp0aGlzLmVsZW1lbnQucGF0aH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgaXNDaGVja1NER1MoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZVNER1NJdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlU0RHU0l0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0U0RHUyA9IFtdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVTREdTSXRlbSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRTREdTKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVTREdTSXRlbSA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNkZ3MgPSB0aGlzLmVsZW1lbnQuc2Rncy5maWx0ZXIoaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REZWxlY3RTREdTLmluZGV4T2YoaXRlbSkgPCAwIH0pDQoNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlU0RHU0l0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0U0RHUyA9IFtdDQogICAgICAgICAgICB9IA0KICAgICAgICB9LA0KICAgICAgICBlZGl0U0RHUyhpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZGdzW2lkeF0uc2RnID0gdGhpcy5lZGl0U0RHU0l0ZW0uc2RnDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2Rnc1tpZHhdLnNkID0gdGhpcy5lZGl0U0RHU0l0ZW0uc2QNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsU0RHUygpDQogICAgICAgIH0sDQogICAgICAgIGNhbmNlbFNER1MoKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRTREdTSXRlbS5zZGcgPSBudWxsDQogICAgICAgICAgICB0aGlzLmVkaXRTREdTSXRlbS5zZCA9IG51bGwNCiAgICAgICAgICAgIHRoaXMuZWRpdFNER1NJdGVtLmlkID0gJycNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIG9wZW5TREdTKGlkeCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0U0RHU0l0ZW0uc2RnID0gdGhpcy5lbGVtZW50LnNkZ3NbaWR4XS5zZGcNCiAgICAgICAgICAgIHRoaXMuZWRpdFNER1NJdGVtLnNkID0gIHRoaXMuZWxlbWVudC5zZGdzW2lkeF0uc2QNCiAgICAgICAgfSwNCiAgICAgICAgYWRkU0RHUygpIHsNCiAgICAgICAgICAgIGxldCByZXMgPSB0cnVlLCBuID0gMA0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgIG4rKw0KICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZWxlbWVudC5zZGdzLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBuKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5lZGl0U0RHU0l0ZW0uaWQgPSBuDQoNCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdFNER1NJdGVtKQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNkZ3MucHVzaChhZGRPYmopDQogICAgICAgICAgICB0aGlzLmNhbmNlbFNER1MoKQ0KICAgICAgICB9LA0KICAgICAgICBjbGVhclNER1MoKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRTREdTSXRlbS5zZGcgPSBudWxsDQogICAgICAgIH0sDQoNCiAgICAgICAgaXNDaGVja0V4ZWN1dGFibGUoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZUV4ZWN1dGFibGVJdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlRXhlY3V0YWJsZUl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RXhlY3V0YWJsZSA9IFtdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVFeGVjdXRhYmxlSXRlbSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRFeGVjdXRhYmxlKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVFeGVjdXRhYmxlSXRlbSA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5lbGVtZW50LmV4ZWN1dGFibGUubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDRXhlY3V0YWJsZS0nK2kpDQogICAgICAgICAgICAgICAgICAgIGlmKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNoYW5nZUxpbmVFeGVjdXRhYmxlLnB1c2goe2lkOnRoaXMuZWxlbWVudC5leGVjdXRhYmxlW2ldLmlkLCBlbmRMaW5lOmVuZExpbmV9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0NFeGVjdXRhYmxlLScraSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5leGVjdXRhYmxlID0gdGhpcy5lbGVtZW50LmV4ZWN1dGFibGUuZmlsdGVyKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGVsZWN0RXhlY3V0YWJsZS5pbmRleE9mKGl0ZW0pIDwgMCB9KQ0KDQogICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LmV4ZWN1dGFibGUubGVuZ3RoOyBuKyspIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpZHg9MDsgaWR4PHRoaXMuZGVsZXRlQ2hhbmdlTGluZUV4ZWN1dGFibGUubGVuZ3RoOyBpZHgrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5leGVjdXRhYmxlW25dLmlkID09IHRoaXMuZGVsZXRlQ2hhbmdlTGluZUV4ZWN1dGFibGVbaWR4XS5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDRXhlY3V0YWJsZS0nK24sIHRoaXMuZWxlbWVudC51dWlkKycvU0NFeGVjdXRhYmxlJywgdGhpcy5kZWxldGVDaGFuZ2VMaW5lRXhlY3V0YWJsZVtpZHhdLmVuZExpbmUpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlRXhlY3V0YWJsZUl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0RXhlY3V0YWJsZSA9IFtdDQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaGFuZ2VMaW5lRXhlY3V0YWJsZSA9IFtdDQogICAgICAgICAgICB9IA0KICAgICAgICB9LA0KICAgICAgICBvcGVuRXhlY3V0YWJsZShpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsRXhlY3V0YWJsZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0RXhlY3V0YWJsZQ0KICAgICAgICAgICAgaWYgKCB0aGlzLmVsZW1lbnQuZXhlY3V0YWJsZVtpZHhdLmV4ZWN1dCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ0V4ZWN1dGFibGUtJytpZHgpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEltcGxlbWVudGF0aW9uUGF0aCh0aGlzLmVsZW1lbnQuZXhlY3V0YWJsZVtpZHhdLmV4ZWN1dCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0RXhlY3V0YWJsZUl0ZW0uZXhlY3V0ID0geyBuYW1lOiB0aGlzLmVsZW1lbnQuZXhlY3V0YWJsZVtpZHhdLmV4ZWN1dCwgdXVpZDogZW5kTGluZSB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGVkaXRFeGVjdXRhYmxlKGlkeCkgew0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ0V4ZWN1dGFibGUtJytpZHgpDQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5lZGl0RXhlY3V0YWJsZUl0ZW0uZXhlY3V0ID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ0V4ZWN1dGFibGUtJytpZHgpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV4ZWN1dGFibGVbaWR4XS5leGVjdXQgPSBudWxsDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gdGhpcy5lZGl0RXhlY3V0YWJsZUl0ZW0uZXhlY3V0LnV1aWQpIHsNCiAgICAgICAgICAgICAgICAvL+q4sOyhtOq6vCDsgq3soJztlbTslbztlZzri6QgdnVleOyXkOyEnOuPhCDsgq3soJztlZjqs6AgbWFpbnZpZXfsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIA0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDRXhlY3V0YWJsZS0nK2lkeCkNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ0V4ZWN1dGFibGUtJytpZHgsIHRoaXMuZWxlbWVudC51dWlkKycvU0NFeGVjdXRhYmxlJywgdGhpcy5lZGl0RXhlY3V0YWJsZUl0ZW0uZXhlY3V0LnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmV4ZWN1dGFibGVbaWR4XS5leGVjdXQgPSB0aGlzLmVkaXRFeGVjdXRhYmxlSXRlbS5leGVjdXQubmFtZQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRFeGVjdXRhYmxlSXRlbS5leGVjdXQgIT0gbnVsbCAmJiB0aGlzLmVkaXRFeGVjdXRhYmxlSXRlbS5leGVjdXQudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0NFeGVjdXRhYmxlLScraWR4LCB0aGlzLmVsZW1lbnQudXVpZCsnL1NDRXhlY3V0YWJsZScsIHRoaXMuZWRpdEV4ZWN1dGFibGVJdGVtLmV4ZWN1dC51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5leGVjdXRhYmxlW2lkeF0uZXhlY3V0ID0gdGhpcy5lZGl0RXhlY3V0YWJsZUl0ZW0uZXhlY3V0Lm5hbWUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGhpcy5jYW5jZWxFeGVjdXRhYmxlKCkNCiAgICAgICAgfSwNCiAgICAgICAgY2FuY2VsRXhlY3V0YWJsZSgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdEV4ZWN1dGFibGVJdGVtLmV4ZWN1dCA9IG51bGwNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIGFkZEV4ZWN1dGFibGUoKSB7DQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCiAgICAgICAgICAgIHdoaWxlIChyZXMpIHsNCiAgICAgICAgICAgICAgICBuKysNCiAgICAgICAgICAgICAgICByZXMgPSB0aGlzLmVsZW1lbnQuZXhlY3V0YWJsZS5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdEV4ZWN1dGFibGVJdGVtLmlkID0gbg0KDQogICAgICAgICAgICBpZiggdGhpcy5lZGl0RXhlY3V0YWJsZUl0ZW0uZXhlY3V0ICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YWNvdW50ID0gdGhpcy5lbGVtZW50LmV4ZWN1dGFibGUubGVuZ3RoDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0NFeGVjdXRhYmxlLScrZGF0YWNvdW50LCB0aGlzLmVsZW1lbnQudXVpZCsnL1NDRXhlY3V0YWJsZScsIHRoaXMuZWRpdEV4ZWN1dGFibGVJdGVtLmV4ZWN1dC51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdEV4ZWN1dGFibGVJdGVtLmV4ZWN1dCA9IHRoaXMuZWRpdEV4ZWN1dGFibGVJdGVtLmV4ZWN1dC5uYW1lDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmVkaXRFeGVjdXRhYmxlSXRlbSkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5leGVjdXRhYmxlLnB1c2goYWRkT2JqKTsNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsRXhlY3V0YWJsZSgpDQogICAgICAgIH0sDQogICAgICAgIGNsZWFyRXhlY3V0YWJsZVJlZigpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nRXhlY3V0YWJsZSA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuZWRpdEV4ZWN1dGFibGVJdGVtLmV4ZWN1dCA9IG51bGwNCiAgICAgICAgfSwNCiAgICAgICAgc2V0RXhlY3V0YWJsZVNlbGVjdCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdGluZ0V4ZWN1dGFibGUgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRFeGVjdXRhYmxlSXRlbS5leGVjdXQgIT0gbnVsbCAmJiB0aGlzLmVkaXRFeGVjdXRhYmxlSXRlbS5leGVjdXQudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiB0aGlzLmVkaXRFeGVjdXRhYmxlSXRlbS5leGVjdXQudXVpZCwgZWxlbWVudDogY29uc3RhbnQuRXhlY3V0YWJsZV9zdHJ9ICkNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lZGl0RXhlY3V0YWJsZUl0ZW0uZXhlY3V0LnV1aWQrdGhpcy5sb2NhdGlvbikuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnc3RhcnQnIH0pDQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhY3RpdmUtZWxlbWVudCcsIHRoaXMuZWRpdEV4ZWN1dGFibGVJdGVtLmV4ZWN1dC51dWlkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldEV4ZWN1dGFibGVMaXN0KCkNCiAgICAgICAgICAgICAgICB0aGlzLmlzRWRpdGluZ0V4ZWN1dGFibGUgPSBmYWxzZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzRWRpdGluZ0V4ZWN1dGFibGUgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldEV4ZWN1dGFibGVMaXN0KCkgew0KICAgICAgICAgICAgdGhpcy5zZWxFeGVjdXRhYmxlID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRFeGVjdXRhYmxlDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBuZXdFeGVjdXRhYmxlKCkgew0KICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKQ0KICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKQ0KDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRFeGVjdXRhYmxlJywgeyAvL2FwcGxpY2F0aW9udHlwZXJlZiDripQgbnVsbO2VtOykmOyVvO2VnOuLpC4gY2xlYXJhYmxl7ZWY66m0IOqwkuydtCBudWxs67OA7ZWY6riwIOuVjOusuOyXkCANCiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVFeGVjdXRhYmxlLCBwYXRoOiAnJywNCiAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgdmVyc2lvbjogJycsIGNhdGVnb3J5OicnLCBidWlsZFR5cGU6bnVsbCwgbG9nZ2luZ0JlaGFiaW9yOm51bGwsIHJlcG9ydGluZ0JlaGFiaW9yOm51bGwsIHN3bmFtZTonJywgYXBwbGljYXRpb250eXBlcmVmOiBudWxsLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkV4ZWN1dGFibGVfc3RyKQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIpDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2VkaXRTb2Z0V2FyZUNsdXN0ZXInLCB7Y29tcG86InoiLCB1dWlkOnRoaXMuZWxlbWVudC51dWlkLCB6aW5kZXg6Mn0gKQ0KICAgICAgICB9LA0KDQogICAgICAgIGlzQ2hlY2tNYWNoaW5lRCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzZGVsZXRlTWFjaGluZURJdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlTWFjaGluZURJdGVtID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERlbGVjdE1hY2hpbmVEID0gW10NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZU1hY2hpbmVESXRlbSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRNYWNoaW5lRCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzZGVsZXRlTWFjaGluZURJdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLmVsZW1lbnQubWFjaGluZUQubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDTWFjaGluZUQtJytpKQ0KICAgICAgICAgICAgICAgICAgICBpZihlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaGFuZ2VMaW5lTWFjaGluZUQucHVzaCh7aWQ6dGhpcy5lbGVtZW50Lm1hY2hpbmVEW2ldLmlkLCBlbmRMaW5lOmVuZExpbmV9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0NNYWNoaW5lRC0nK2kpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQubWFjaGluZUQgPSB0aGlzLmVsZW1lbnQubWFjaGluZUQuZmlsdGVyKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGVsZWN0TWFjaGluZUQuaW5kZXhPZihpdGVtKSA8IDAgfSkNCg0KICAgICAgICAgICAgICAgIGZvcihsZXQgbj0wOyBuPHRoaXMuZWxlbWVudC5tYWNoaW5lRC5sZW5ndGg7IG4rKykgew0KICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGlkeD0wOyBpZHg8dGhpcy5kZWxldGVDaGFuZ2VMaW5lTWFjaGluZUQubGVuZ3RoOyBpZHgrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5tYWNoaW5lRFtuXS5pZCA9PSB0aGlzLmRlbGV0ZUNoYW5nZUxpbmVNYWNoaW5lRFtpZHhdLmlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0NNYWNoaW5lRC0nK24sIHRoaXMuZWxlbWVudC51dWlkKycvU0NNYWNoaW5lRCcsIHRoaXMuZGVsZXRlQ2hhbmdlTGluZU1hY2hpbmVEW2lkeF0uZW5kTGluZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVNYWNoaW5lREl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0TWFjaGluZUQgPSBbXQ0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2hhbmdlTGluZU1hY2hpbmVEID0gW10NCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIG9wZW5NYWNoaW5lRChpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsTWFjaGluZUQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1hY2hpbmVEZXNpZ24NCiAgICAgICAgICAgIGlmICggdGhpcy5lbGVtZW50Lm1hY2hpbmVEW2lkeF0ubWFjaGluZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ01hY2hpbmVELScraWR4KQ0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRJbXBsZW1lbnRhdGlvblBhdGgodGhpcy5lbGVtZW50Lm1hY2hpbmVEW2lkeF0ubWFjaGluZSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0TWFjaGluZURJdGVtLm1hY2hpbmUgPSB7IG5hbWU6IHRoaXMuZWxlbWVudC5tYWNoaW5lRFtpZHhdLm1hY2hpbmUsIHV1aWQ6IGVuZExpbmUgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0TWFjaGluZUQoaWR4KSB7DQogICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDTWFjaGluZUQtJytpZHgpDQogICAgICAgICAgICBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5lZGl0TWFjaGluZURJdGVtLm1hY2hpbmUgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDTWFjaGluZUQtJytpZHgpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1hY2hpbmVEW2lkeF0ubWFjaGluZSA9IG51bGwNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQgJiYgZW5kTGluZSAhPSB0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZS51dWlkKSB7DQogICAgICAgICAgICAgICAgLy/quLDsobTqurwg7IKt7KCc7ZW07JW87ZWc64ukIHZ1ZXjsl5DshJzrj4Qg7IKt7KCc7ZWY6rOgIG1haW52aWV37JeQ7ISc64+EIOyCreygnO2VmOqzoCANCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ01hY2hpbmVELScraWR4KQ0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDTWFjaGluZUQtJytpZHgsIHRoaXMuZWxlbWVudC51dWlkKycvU0NNYWNoaW5lRCcsIHRoaXMuZWRpdE1hY2hpbmVESXRlbS5tYWNoaW5lLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1hY2hpbmVEW2lkeF0ubWFjaGluZSA9IHRoaXMuZWRpdE1hY2hpbmVESXRlbS5tYWNoaW5lLm5hbWUNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kTGluZSA9PSB1bmRlZmluZWQgJiYgdGhpcy5lZGl0TWFjaGluZURJdGVtLm1hY2hpbmUgIT0gbnVsbCAmJiB0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZS51dWlkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ01hY2hpbmVELScraWR4LCB0aGlzLmVsZW1lbnQudXVpZCsnL1NDTWFjaGluZUQnLCB0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZS51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5tYWNoaW5lRFtpZHhdLm1hY2hpbmUgPSB0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZS5uYW1lDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsTWFjaGluZUQoKQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWxNYWNoaW5lRCgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdE1hY2hpbmVESXRlbS5tYWNoaW5lID0gbnVsbA0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkTWFjaGluZUQoKSB7DQogICAgICAgICAgICBsZXQgcmVzID0gdHJ1ZSwgbiA9IDANCiAgICAgICAgICAgIHdoaWxlIChyZXMpIHsNCiAgICAgICAgICAgICAgICBuKysNCiAgICAgICAgICAgICAgICByZXMgPSB0aGlzLmVsZW1lbnQubWFjaGluZUQuc29tZShpdGVtID0+IGl0ZW0uaWQgPT09IG4pDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmVkaXRNYWNoaW5lREl0ZW0uaWQgPSBuDQoNCiAgICAgICAgICAgIGlmKCB0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGRhdGFjb3VudCA9IHRoaXMuZWxlbWVudC5tYWNoaW5lRC5sZW5ndGgNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ01hY2hpbmVELScrZGF0YWNvdW50LCB0aGlzLmVsZW1lbnQudXVpZCsnL1NDTWFjaGluZUQnLCB0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZS51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdE1hY2hpbmVESXRlbS5tYWNoaW5lID0gdGhpcy5lZGl0TWFjaGluZURJdGVtLm1hY2hpbmUubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0TWFjaGluZURJdGVtKQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm1hY2hpbmVELnB1c2goYWRkT2JqKTsNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsTWFjaGluZUQoKQ0KICAgICAgICB9LA0KICAgICAgICBjbGVhck1hY2hpbmVEUmVmKCkgew0KICAgICAgICAgICAgdGhpcy5pc0VkaXRpbmdNYWNoaW5lRCA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuZWRpdE1hY2hpbmVESXRlbS5tYWNoaW5lID0gbnVsbA0KICAgICAgICB9LA0KICAgICAgICBzZXRNYWNoaW5lRFNlbGVjdCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdGluZ01hY2hpbmVEID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0TWFjaGluZURJdGVtLm1hY2hpbmUgIT0gbnVsbCAmJiB0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZS51dWlkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXREZXRhaWxWaWV3Jywge3V1aWQ6IHRoaXMuZWRpdE1hY2hpbmVESXRlbS5tYWNoaW5lLnV1aWQsIGVsZW1lbnQ6IGNvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX3N0cn0gKQ0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZS51dWlkK3RoaXMubG9jYXRpb24pLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KQ0KICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWN0aXZlLWVsZW1lbnQnLCB0aGlzLmVkaXRNYWNoaW5lREl0ZW0ubWFjaGluZS51dWlkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldE1hY2hpbmVETGlzdCgpDQogICAgICAgICAgICAgICAgdGhpcy5pc0VkaXRpbmdNYWNoaW5lRCA9IGZhbHNlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nTWFjaGluZUQgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldE1hY2hpbmVETGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsTWFjaGluZUQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1hY2hpbmVEZXNpZ24NCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIG5ld01hY2hpbmVEKCkgew0KICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKQ0KICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKQ0KDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNYWNoaW5lRGVzaWduJywgew0KICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZU1hY2hpbmVEZXNpZ24sIHBhdGg6ICcnLA0KICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBhY2Nlc3M6IG51bGwsIHJlc2V0dGltZXI6JycsIGNvbm5lY3RvcjpbXSwgc2VydmljZWRpc2NvdmVyOltdLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX3N0cikNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50Lk1hY2hpbmVzX3N0cikNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFNvZnRXYXJlQ2x1c3RlcicsIHtjb21wbzoieiIsIHV1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHppbmRleDoyfSApDQogICAgICAgIH0sDQoNCiAgICAgICAgaXNDaGVja1RvTWFjaGluZU0oKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZVRvTWFjaGluZU1JdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlVG9NYWNoaW5lTUl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0VG9NYWNoaW5lTSA9IFtdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVUb01hY2hpbmVNSXRlbSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRUb01hY2hpbmVNKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVUb01hY2hpbmVNSXRlbSA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5lbGVtZW50LnRvTWFjaGluZS5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUtJytpKQ0KICAgICAgICAgICAgICAgICAgICBpZihlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaGFuZ2VMaW5lVG9NYWNoaW5lTS5wdXNoKHtpZDp0aGlzLmVsZW1lbnQudG9NYWNoaW5lW2ldLmlkLCBlbmRMaW5lOmVuZExpbmV9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUtJytpKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnRvTWFjaGluZSA9IHRoaXMuZWxlbWVudC50b01hY2hpbmUuZmlsdGVyKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGVsZWN0VG9NYWNoaW5lTS5pbmRleE9mKGl0ZW0pIDwgMCB9KQ0KDQogICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LnRvTWFjaGluZS5sZW5ndGg7IG4rKykgew0KICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGlkeD0wOyBpZHg8dGhpcy5kZWxldGVDaGFuZ2VMaW5lVG9NYWNoaW5lTS5sZW5ndGg7IGlkeCsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LnRvTWFjaGluZVtuXS5pZCA9PSB0aGlzLmRlbGV0ZUNoYW5nZUxpbmVUb01hY2hpbmVNW2lkeF0uaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ3RvTWFjaGluZS0nK24sIHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUnLCB0aGlzLmRlbGV0ZUNoYW5nZUxpbmVUb01hY2hpbmVNW2lkeF0uZW5kTGluZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVUb01hY2hpbmVNSXRlbSA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REZWxlY3RUb01hY2hpbmVNID0gW10NCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNoYW5nZUxpbmVUb01hY2hpbmVNID0gW10NCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIG9wZW5Ub01hY2hpbmVNKGlkeCkgew0KICAgICAgICAgICAgdGhpcy5zZWxUb01hY2hpbmVNID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTb21lSVBUb01hY2hpbmVNYXBwaW5nDQogICAgICAgICAgICBpZiAoIHRoaXMuZWxlbWVudC50b01hY2hpbmVbaWR4XS5tYXBwaW5nICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDdG9NYWNoaW5lLScraWR4KQ0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRJbXBsZW1lbnRhdGlvblBhdGgodGhpcy5lbGVtZW50LnRvTWFjaGluZVtpZHhdLm1hcHBpbmcpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcgPSB7IG5hbWU6IHRoaXMuZWxlbWVudC50b01hY2hpbmVbaWR4XS5tYXBwaW5nLCB1dWlkOiBlbmRMaW5lIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZWRpdFRvTWFjaGluZU0oaWR4KSB7DQogICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDdG9NYWNoaW5lLScraWR4KQ0KICAgICAgICAgICAgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDdG9NYWNoaW5lLScraWR4KQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC50b01hY2hpbmVbaWR4XS5tYXBwaW5nID0gbnVsbA0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCAmJiBlbmRMaW5lICE9IHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcudXVpZCkgew0KICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUtJytpZHgpDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUtJytpZHgsIHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUnLCB0aGlzLmVkaXRUb01hY2hpbmVNSXRlbS5tYXBwaW5nLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnRvTWFjaGluZVtpZHhdLm1hcHBpbmcgPSB0aGlzLmVkaXRUb01hY2hpbmVNSXRlbS5tYXBwaW5nLm5hbWUNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kTGluZSA9PSB1bmRlZmluZWQgJiYgdGhpcy5lZGl0VG9NYWNoaW5lTUl0ZW0ubWFwcGluZyAhPSBudWxsICYmIHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUtJytpZHgsIHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUnLCB0aGlzLmVkaXRUb01hY2hpbmVNSXRlbS5tYXBwaW5nLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnRvTWFjaGluZVtpZHhdLm1hcHBpbmcgPSB0aGlzLmVkaXRUb01hY2hpbmVNSXRlbS5tYXBwaW5nLm5hbWUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGhpcy5jYW5jZWxUb01hY2hpbmVNKCkNCiAgICAgICAgfSwNCiAgICAgICAgY2FuY2VsVG9NYWNoaW5lTSgpIHsNCiAgICAgICAgICAgIHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcgPSBudWxsDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBhZGRUb01hY2hpbmVNKCkgew0KICAgICAgICAgICAgbGV0IHJlcyA9IHRydWUsIG4gPSAwDQogICAgICAgICAgICB3aGlsZSAocmVzKSB7DQogICAgICAgICAgICAgICAgbisrDQogICAgICAgICAgICAgICAgcmVzID0gdGhpcy5lbGVtZW50LnRvTWFjaGluZS5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLmlkID0gbg0KDQogICAgICAgICAgICBpZiggdGhpcy5lZGl0VG9NYWNoaW5lTUl0ZW0ubWFwcGluZyAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGRhdGFjb3VudCA9IHRoaXMuZWxlbWVudC50b01hY2hpbmUubGVuZ3RoDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUtJytkYXRhY291bnQsIHRoaXMuZWxlbWVudC51dWlkKycvU0N0b01hY2hpbmUnLCB0aGlzLmVkaXRUb01hY2hpbmVNSXRlbS5tYXBwaW5nLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lZGl0VG9NYWNoaW5lTUl0ZW0ubWFwcGluZyA9IHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0VG9NYWNoaW5lTUl0ZW0pDQogICAgICAgICAgICB0aGlzLmVsZW1lbnQudG9NYWNoaW5lLnB1c2goYWRkT2JqKTsNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsVG9NYWNoaW5lTSgpDQogICAgICAgIH0sDQogICAgICAgIGNsZWFyVG9NYWNoaW5lTVJlZigpIHsNCiAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nVG9NYWNoaW5lTSA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcgPSBudWxsDQogICAgICAgIH0sDQogICAgICAgIHNldFRvTWFjaGluZU1TZWxlY3QoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc0VkaXRpbmdUb01hY2hpbmVNID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0VG9NYWNoaW5lTUl0ZW0ubWFwcGluZyAhPSBudWxsICYmIHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcudXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsVmlldycsIHt1dWlkOiB0aGlzLmVkaXRUb01hY2hpbmVNSXRlbS5tYXBwaW5nLnV1aWQsIGVsZW1lbnQ6IGNvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfc3RyfSApDQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWRpdFRvTWFjaGluZU1JdGVtLm1hcHBpbmcudXVpZCt0aGlzLmxvY2F0aW9uKS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdzdGFydCcgfSkNCiAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FjdGl2ZS1lbGVtZW50JywgdGhpcy5lZGl0VG9NYWNoaW5lTUl0ZW0ubWFwcGluZy51dWlkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldFRvTWFjaGluZU1MaXN0KCkNCiAgICAgICAgICAgICAgICB0aGlzLmlzRWRpdGluZ1RvTWFjaGluZU0gPSBmYWxzZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzRWRpdGluZ1RvTWFjaGluZU0gPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldFRvTWFjaGluZU1MaXN0KCkgew0KICAgICAgICAgICAgdGhpcy5zZWxUb01hY2hpbmVNID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTb21lSVBUb01hY2hpbmVNYXBwaW5nDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBuZXdUb01hY2hpbmVNKCkgew0KICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKQ0KICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKQ0KDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRTb21lSVB0b01hY2hpbmUnLCB7DQogICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lU29tZUlQdG9NYWNoaW5lLCBwYXRoOiAnJywNCiAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgY2NyZWY6IG51bGwsIHNpcmVmOiBudWxsLCB0Y3A6JycsIHVkcDogJycsDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU29tZUlQVG9NYWNoaW5lTWFwcGluZ19zdHIpDQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5TZXJ2aWNlX3N0cikNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFNvZnRXYXJlQ2x1c3RlcicsIHtjb21wbzoieiIsIHV1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHppbmRleDoyfSApDQogICAgICAgIH0sDQoNCiAgICAgICAgaXNDaGVja1Byb2Nlc3MoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc2RlbGV0ZVByb2Nlc3NJdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlUHJvY2Vzc0l0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0UHJvY2VzcyA9IFtdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVQcm9jZXNzSXRlbSA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRQcm9jZXNzKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVQcm9jZXNzSXRlbSA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5lbGVtZW50LnByb2Nlc3MubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDUHJvY2Vzcy0nK2kpDQogICAgICAgICAgICAgICAgICAgIGlmKGVuZExpbmUgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNoYW5nZUxpbmVQcm9jZXNzLnB1c2goe2lkOnRoaXMuZWxlbWVudC5wcm9jZXNzW2ldLmlkLCBlbmRMaW5lOmVuZExpbmV9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0NQcm9jZXNzLScraSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wcm9jZXNzID0gdGhpcy5lbGVtZW50LnByb2Nlc3MuZmlsdGVyKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGVsZWN0UHJvY2Vzcy5pbmRleE9mKGl0ZW0pIDwgMCB9KQ0KDQogICAgICAgICAgICAgICAgZm9yKGxldCBuPTA7IG48dGhpcy5lbGVtZW50LnByb2Nlc3MubGVuZ3RoOyBuKyspIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpZHg9MDsgaWR4PHRoaXMuZGVsZXRlQ2hhbmdlTGluZVByb2Nlc3MubGVuZ3RoOyBpZHgrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5wcm9jZXNzW25dLmlkID09IHRoaXMuZGVsZXRlQ2hhbmdlTGluZVByb2Nlc3NbaWR4XS5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDUHJvY2Vzcy0nK24sIHRoaXMuZWxlbWVudC51dWlkKycvU0NQcm9jZXNzJywgdGhpcy5kZWxldGVDaGFuZ2VMaW5lUHJvY2Vzc1tpZHhdLmVuZExpbmUpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB0aGlzLmlzZGVsZXRlUHJvY2Vzc0l0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0UHJvY2VzcyA9IFtdDQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaGFuZ2VMaW5lUHJvY2VzcyA9IFtdDQogICAgICAgICAgICB9IA0KICAgICAgICB9LA0KICAgICAgICBvcGVuUHJvY2VzcyhpZHgpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsUHJvY2VzcyA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0UHJvY2Vzcw0KICAgICAgICAgICAgaWYgKCB0aGlzLmVsZW1lbnQucHJvY2Vzc1tpZHhdLnBybyAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ1Byb2Nlc3MtJytpZHgpDQogICAgICAgICAgICAgICAgaWYgKGVuZExpbmUgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFByb2Nlc3NQYXRoKHRoaXMuZWxlbWVudC5wcm9jZXNzW2lkeF0ucHJvKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRQcm9jZXNzSXRlbS5wcm8gPSB7IG5hbWU6IHRoaXMuZWxlbWVudC5wcm9jZXNzW2lkeF0ucHJvLCB1dWlkOiBlbmRMaW5lIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZWRpdFByb2Nlc3MoaWR4KSB7DQogICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDUHJvY2Vzcy0nK2lkeCkNCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRQcm9jZXNzSXRlbS5wcm8gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDUHJvY2Vzcy0nK2lkeCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucHJvY2Vzc1tpZHhdLnBybyA9IG51bGwNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kTGluZSAhPSB1bmRlZmluZWQgJiYgZW5kTGluZSAhPSB0aGlzLmVkaXRQcm9jZXNzSXRlbS5wcm8udXVpZCkgew0KICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0NQcm9jZXNzLScraWR4KQ0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDUHJvY2Vzcy0nK2lkeCwgdGhpcy5lbGVtZW50LnV1aWQrJy9TQ1Byb2Nlc3MnLCB0aGlzLmVkaXRQcm9jZXNzSXRlbS5wcm8udXVpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucHJvY2Vzc1tpZHhdLnBybyA9IHRoaXMuZWRpdFByb2Nlc3NJdGVtLnByby5uYW1lDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZExpbmUgPT0gdW5kZWZpbmVkICYmIHRoaXMuZWRpdFByb2Nlc3NJdGVtLnBybyAhPSBudWxsICYmIHRoaXMuZWRpdFByb2Nlc3NJdGVtLnByby51dWlkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ1Byb2Nlc3MtJytpZHgsIHRoaXMuZWxlbWVudC51dWlkKycvU0NQcm9jZXNzJywgdGhpcy5lZGl0UHJvY2Vzc0l0ZW0ucHJvLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnByb2Nlc3NbaWR4XS5wcm8gPSB0aGlzLmVkaXRQcm9jZXNzSXRlbS5wcm8ubmFtZQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLmNhbmNlbFByb2Nlc3MoKQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWxQcm9jZXNzKCkgew0KICAgICAgICAgICAgdGhpcy5lZGl0UHJvY2Vzc0l0ZW0ucHJvID0gbnVsbA0KICAgICAgICAgICAgdGhpcy5zZXRhY3RpdmVVVUlEKCkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkUHJvY2VzcygpIHsNCiAgICAgICAgICAgIGxldCByZXMgPSB0cnVlLCBuID0gMA0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgIG4rKw0KICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZWxlbWVudC5wcm9jZXNzLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBuKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5lZGl0UHJvY2Vzc0l0ZW0uaWQgPSBuDQoNCiAgICAgICAgICAgIGlmKCB0aGlzLmVkaXRQcm9jZXNzSXRlbS5wcm8gIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHZhciBkYXRhY291bnQgPSB0aGlzLmVsZW1lbnQucHJvY2Vzcy5sZW5ndGgNCiAgICAgICAgICAgICAgICB0aGlzLm5ld0xpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ1Byb2Nlc3MtJytkYXRhY291bnQsIHRoaXMuZWxlbWVudC51dWlkKycvU0NQcm9jZXNzJywgdGhpcy5lZGl0UHJvY2Vzc0l0ZW0ucHJvLnV1aWQpDQogICAgICAgICAgICAgICAgdGhpcy5lZGl0UHJvY2Vzc0l0ZW0ucHJvID0gdGhpcy5lZGl0UHJvY2Vzc0l0ZW0ucHJvLm5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdFByb2Nlc3NJdGVtKQ0KICAgICAgICAgICAgdGhpcy5lbGVtZW50LnByb2Nlc3MucHVzaChhZGRPYmopOw0KICAgICAgICAgICAgdGhpcy5jYW5jZWxQcm9jZXNzKCkNCiAgICAgICAgfSwNCiAgICAgICAgY2xlYXJQcm9jZXNzUmVmKCkgew0KICAgICAgICAgICAgdGhpcy5pc0VkaXRpbmdQcm9jZXNzID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5lZGl0UHJvY2Vzc0l0ZW0ucHJvID0gbnVsbA0KICAgICAgICB9LA0KICAgICAgICBzZXRQcm9jZXNzU2VsZWN0KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNFZGl0aW5nUHJvY2VzcyA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdFByb2Nlc3NJdGVtLnBybyAhPSBudWxsICYmIHRoaXMuZWRpdFByb2Nlc3NJdGVtLnByby51dWlkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXREZXRhaWxWaWV3Jywge3V1aWQ6IHRoaXMuZWRpdFByb2Nlc3NJdGVtLnByby51dWlkLCBlbGVtZW50OiBjb25zdGFudC5Qcm9jZXNzX3N0cn0gKQ0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVkaXRQcm9jZXNzSXRlbS5wcm8udXVpZCt0aGlzLmxvY2F0aW9uKS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdzdGFydCcgfSkNCiAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FjdGl2ZS1lbGVtZW50JywgdGhpcy5lZGl0UHJvY2Vzc0l0ZW0ucHJvLnV1aWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvY2Vzc0xpc3QoKQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nUHJvY2VzcyA9IGZhbHNlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nUHJvY2VzcyA9IHRydWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2V0UHJvY2Vzc0xpc3QoKSB7DQogICAgICAgICAgICB0aGlzLnNlbFByb2Nlc3MgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFByb2Nlc3MNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIG5ld1Byb2Nlc3MoKSB7DQogICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oe2xlbmd0aDo0fSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzAwMCkpDQogICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oe2xlbmd0aDo0fSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzAwMCkpDQoNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFByb2Nlc3MnLCB7DQogICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lUHJvY2VzcywgcGF0aDogJycsDQogICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgIGxvZ0xldmVsOiBudWxsLCBsb2dQYXRoOiAnJywgbG9nUHJvRGVzYzogJycsIGxvZ1Byb0lEOiAnJywgcmVzdGFydDogJycsIHByZU1hcHBpbmc6IG51bGwsIGxvZ01vZGU6IFtdLA0KICAgICAgICAgICAgICAgIHByb2Rlc2lnbjogbnVsbCwgZGV0ZXJtaW46IG51bGwsIGV4ZWN1dDogbnVsbCwgbWFjaGlubmFtZTogJycsIG1hY2hpbmV0eXBlOiBudWxsLCBkZXBlbmRlbnQ6IFtdDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuUHJvY2Vzc19zdHIpDQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX3N0cikNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFNvZnRXYXJlQ2x1c3RlcicsIHtjb21wbzoieiIsIHV1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHppbmRleDoyfSApDQogICAgICAgIH0sDQoNCiAgICAgICAgaXNDaGVja1NXQ2x1c3RlcigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmlzZGVsZXRlU1dDbHVzdGVySXRlbSA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZVNXQ2x1c3Rlckl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGVsZWN0U1dDbHVzdGVyID0gW10NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc2RlbGV0ZVNXQ2x1c3Rlckl0ZW0gPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0U1dDbHVzdGVyKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuaXNkZWxldGVTV0NsdXN0ZXJJdGVtID09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLmVsZW1lbnQuc3N3Yy5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgICAgIHZhciBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGFuZ2VFbmRMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MtJytpKQ0KICAgICAgICAgICAgICAgICAgICBpZihlbmRMaW5lICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaGFuZ2VMaW5lU1dDbHVzdGVyLnB1c2goe2lkOnRoaXMuZWxlbWVudC5zc3djW2ldLmlkLCBlbmRMaW5lOmVuZExpbmV9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MtJytpKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNzd2MgPSB0aGlzLmVsZW1lbnQuc3N3Yy5maWx0ZXIoaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REZWxlY3RTV0NsdXN0ZXIuaW5kZXhPZihpdGVtKSA8IDAgfSkNCg0KICAgICAgICAgICAgICAgIGZvcihsZXQgbj0wOyBuPHRoaXMuZWxlbWVudC5zc3djLmxlbmd0aDsgbisrKSB7DQogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaWR4PTA7IGlkeDx0aGlzLmRlbGV0ZUNoYW5nZUxpbmVTV0NsdXN0ZXIubGVuZ3RoOyBpZHgrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5zc3djW25dLmlkID09IHRoaXMuZGVsZXRlQ2hhbmdlTGluZVNXQ2x1c3RlcltpZHhdLmlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MtJytuLCB0aGlzLmVsZW1lbnQudXVpZCsnL1NDc3djJywgdGhpcy5kZWxldGVDaGFuZ2VMaW5lU1dDbHVzdGVyW2lkeF0uZW5kTGluZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRoaXMuaXNkZWxldGVTV0NsdXN0ZXJJdGVtID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERlbGVjdFNXQ2x1c3RlciA9IFtdDQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaGFuZ2VMaW5lU1dDbHVzdGVyID0gW10NCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIG9wZW5TV0NsdXN0ZXIoaWR4KSB7DQogICAgICAgICAgICB0aGlzLnNlbFNXQ2x1c3RlciA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0U1dDbHVzdGVyDQogICAgICAgICAgICBpZiAoIHRoaXMuZWxlbWVudC5zc3djW2lkeF0uc3djICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgZW5kTGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2hhbmdlRW5kTGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDc3djLScraWR4KQ0KICAgICAgICAgICAgICAgIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICBlbmRMaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTV0NsdXN0ZXJQYXRoKHRoaXMuZWxlbWVudC5zc3djW2lkeF0uc3djKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3YyA9IHsgbmFtZTogdGhpcy5lbGVtZW50LnNzd2NbaWR4XS5zd2MsIHV1aWQ6IGVuZExpbmUgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0U1dDbHVzdGVyKGlkeCkgew0KICAgICAgICAgICAgdmFyIGVuZExpbmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENoYW5nZUVuZExpbmUodGhpcy5lbGVtZW50LnV1aWQrJy9TQ3N3Yy0nK2lkeCkNCiAgICAgICAgICAgIGlmIChlbmRMaW5lICE9IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3YyA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MtJytpZHgpDQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNzd2NbaWR4XS5zd2MgPSBudWxsDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZExpbmUgIT0gdW5kZWZpbmVkICYmIGVuZExpbmUgIT0gdGhpcy5lZGl0U1dDbHVzdGVySXRlbS5zd2MudXVpZCkgew0KICAgICAgICAgICAgICAgIC8v6riw7KG06rq8IOyCreygnO2VtOyVvO2VnOuLpCB2dWV47JeQ7ISc64+EIOyCreygnO2VmOqzoCBtYWludmlld+yXkOyEnOuPhCDsgq3soJztlZjqs6AgDQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MtJytpZHgpDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MtJytpZHgsIHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MnLCB0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3Yy51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zc3djW2lkeF0uc3djID0gdGhpcy5lZGl0U1dDbHVzdGVySXRlbS5zd2MubmFtZQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRMaW5lID09IHVuZGVmaW5lZCAmJiB0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3YyAhPSBudWxsICYmIHRoaXMuZWRpdFNXQ2x1c3Rlckl0ZW0uc3djLnV1aWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMubmV3TGluZSh0aGlzLmVsZW1lbnQudXVpZCsnL1NDc3djLScraWR4LCB0aGlzLmVsZW1lbnQudXVpZCsnL1NDc3djJywgdGhpcy5lZGl0U1dDbHVzdGVySXRlbS5zd2MudXVpZCkNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3N3Y1tpZHhdLnN3YyA9IHRoaXMuZWRpdFNXQ2x1c3Rlckl0ZW0uc3djLm5hbWUNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGhpcy5jYW5jZWxTV0NsdXN0ZXIoKQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWxTV0NsdXN0ZXIoKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3YyA9IG51bGwNCiAgICAgICAgICAgIHRoaXMuc2V0YWN0aXZlVVVJRCgpDQogICAgICAgIH0sDQogICAgICAgIGFkZFNXQ2x1c3RlcigpIHsNCiAgICAgICAgICAgIGxldCByZXMgPSB0cnVlLCBuID0gMA0KICAgICAgICAgICAgd2hpbGUgKHJlcykgew0KICAgICAgICAgICAgICAgIG4rKw0KICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuZWxlbWVudC5zc3djLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBuKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5lZGl0U1dDbHVzdGVySXRlbS5pZCA9IG4NCg0KICAgICAgICAgICAgaWYoIHRoaXMuZWRpdFNXQ2x1c3Rlckl0ZW0uc3djICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YWNvdW50ID0gdGhpcy5lbGVtZW50LnNzd2MubGVuZ3RoDQogICAgICAgICAgICAgICAgdGhpcy5uZXdMaW5lKHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MtJytkYXRhY291bnQsIHRoaXMuZWxlbWVudC51dWlkKycvU0Nzd2MnLCB0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3Yy51dWlkKQ0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdFNXQ2x1c3Rlckl0ZW0uc3djID0gdGhpcy5lZGl0U1dDbHVzdGVySXRlbS5zd2MubmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0U1dDbHVzdGVySXRlbSkNCiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zc3djLnB1c2goYWRkT2JqKTsNCiAgICAgICAgICAgIHRoaXMuY2FuY2VsU1dDbHVzdGVyKCkNCiAgICAgICAgfSwNCiAgICAgICAgY2xlYXJTV0NsdXN0ZXJSZWYoKSB7DQogICAgICAgICAgICB0aGlzLmlzRWRpdGluZ1NXQ2x1c3RlciA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuZWRpdFNXQ2x1c3Rlckl0ZW0uc3djID0gbnVsbA0KICAgICAgICB9LA0KICAgICAgICBzZXRTV0NsdXN0ZXJTZWxlY3QoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pc0VkaXRpbmdTV0NsdXN0ZXIgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3YyAhPSBudWxsICYmIHRoaXMuZWRpdFNXQ2x1c3Rlckl0ZW0uc3djLnV1aWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldERldGFpbFZpZXcnLCB7dXVpZDogdGhpcy5lZGl0U1dDbHVzdGVySXRlbS5zd2MudXVpZCwgZWxlbWVudDogY29uc3RhbnQuU1dDbHVzdGVyX3N0cn0gKQ0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3Yy51dWlkK3RoaXMubG9jYXRpb24pLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KQ0KICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWN0aXZlLWVsZW1lbnQnLCB0aGlzLmVkaXRTV0NsdXN0ZXJJdGVtLnN3Yy51dWlkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldFNXQ2x1c3Rlckxpc3QoKQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0aW5nU1dDbHVzdGVyID0gZmFsc2UNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0VkaXRpbmdTV0NsdXN0ZXIgPSB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldFNXQ2x1c3Rlckxpc3QoKSB7DQogICAgICAgICAgICB0aGlzLnNlbFNXQ2x1c3RlciA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0U1dDbHVzdGVyDQogICAgICAgICAgICB0aGlzLnNldGFjdGl2ZVVVSUQoKQ0KICAgICAgICB9LA0KICAgICAgICBuZXdTV0NsdXN0ZXIoKSB7DQogICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oe2xlbmd0aDo0fSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzAwMCkpDQogICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oe2xlbmd0aDo0fSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzAwMCkpDQoNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFNvZnRXYXJlQ2x1c3RlcicsIHsNCiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTb2Z0V2FyZUNsdXN0ZXIscGF0aDogJycsDQogICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnJywgaW5WZW5kb3I6ICcnLCB2ZXJzaW9uOiAnJywgc2RnczogW10sIGV4ZWN1dGFibGU6IFtdLCBtYWNoaW5lRDogW10sIHRvTWFjaGluZTogW10sIHByb2Nlc3M6IFtdLCBzc3djOiBbXSwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2VkaXRTb2Z0V2FyZUNsdXN0ZXInLCB7Y29tcG86InoiLCB1dWlkOnRoaXMuZWxlbWVudC51dWlkLCB6aW5kZXg6Mn0gKQ0KICAgICAgICB9LA0KDQogICAgICAgIHNldGFjdGl2ZVVVSUQoKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldHV1aWQnLCB7dXVpZDogdGhpcy5lbGVtZW50LnV1aWR9ICkNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZWRpdFNvZnRXYXJlQ2x1c3RlcicsIHtjb21wbzoieiIsIHV1aWQ6dGhpcy5lbGVtZW50LnV1aWQsIHppbmRleDoxMH0gKQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVMaW5lKGZpbmVMaW5lKSB7DQogICAgICAgICAgICB2YXIgbGluZW51bSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZmluZUxpbmUpDQogICAgICAgICAgICBpZiAobGluZW51bSAhPSAtMSkgew0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkZWxldGUtbGluZScsIGxpbmVudW0pDQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldENvbm5lY3Rpb25saW5lJywge3N0YXJ0bnVtOiBsaW5lbnVtfSApDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG5ld0xpbmUoc3RhcnRMaW5lLCBkcmF3TGluZSwgZW5kTGluZSkgew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHtzdGFydDogc3RhcnRMaW5lLCBlbmQ6IGVuZExpbmV9ICkNCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGRyYXdMaW5lLCBlbmRMaW5lKQ0KICAgICAgICB9LA0KDQogICAgfSwNCg0KfQ0K"},{"version":3,"sources":["UCMSoftwareCluster.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAubA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"UCMSoftwareCluster.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div :id=\"element.uuid\">\r\n        <v-container>\r\n            <v-tooltip bottom color=\"success\" :disabled=\"isTooltip\" z-index=\"10\">\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                    <v-card outlined :color=\"minimaptoolbar ? null : colorToolbar\" v-bind=\"attrs\" v-on=\"on\">\r\n                        <v-toolbar v-if=\"!isDatailView && zoomvalue > $setZoominElement\" :color=colorToolbar dark hide-on-scroll height=\"30px\" class=\"drag-handle\">\r\n                            <v-hover v-if=\"minimaptoolbar\" v-slot=\"{ hover }\">\r\n                                <v-btn  icon @click=\"showSoftwareCluster\">\r\n                                    <v-icon>{{ iselementOpenClose ? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                </v-btn>\r\n                            </v-hover>\r\n                            <v-btn v-if=\"minimaptoolbar\" icon @click.stop=\"dialogPath=true\">\r\n                                <v-icon> mdi-routes</v-icon>\r\n                            </v-btn>\r\n                            <dialogPathSetting v-model=\"dialogPath\" :path=\"element.path\" @submit=\"submitDialog\"/>\r\n                            <v-toolbar-title>Software Cluster</v-toolbar-title>\r\n                            <v-spacer></v-spacer>\r\n                        </v-toolbar>\r\n                        <v-toolbar v-else-if=\"zoomvalue < $setZoominElement\" :color=colorToolbar dark hide-on-scroll height=\"50px\" class=\"drag-handle\">\r\n                            <v-toolbar-title>{{ element.name }}</v-toolbar-title>\r\n                        </v-toolbar>\r\n                        <v-toolbar v-else hide-on-scroll dense flat>\r\n                            <v-toolbar-title>Software Cluster</v-toolbar-title>\r\n                        </v-toolbar>\r\n                        <v-card-text v-if=\"iselementOpenClose && zoomvalue > $setZoominElement\">\r\n                            <v-text-field v-model=\"element.name\" :label=\"'name  <'+element.path +'>'\" :rules=\"rules.name\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\"\r\n                                        @input='inputSoftwareClusterName' outlined dense></v-text-field>\r\n                            <v-text-field v-model=\"element.category\" label=\"Category\" placeholder=\"string\" style=\"height: 45px;\"  outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                            <v-text-field v-model=\"element.idVendor\" label=\"Vendor ID\" placeholder=\"Integer\" style=\"height: 45px;\"  outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                            <v-text-field v-model=\"element.version\" label=\"Version\" placeholder=\"string\" style=\"height: 45px;\"  outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showSDGS\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isSDGSOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Admin Data\r\n                                    <v-btn @click=\"isCheckSDGS\" text x-small color=\"indigo\" v-if=\"isSDGSOpenClose\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isSDGSOpenClose && isdeleteSDGSItem\" @click=\"deletSDGS\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-if=\"isSDGSOpenClose\">\r\n                                    <v-data-table v-model=\"selectDelectSDGS\" :headers=\"headerSDGS\" :items=\"element.sdgs\" :items-per-page='20'\r\n                                            :show-select=\"isdeleteSDGSItem\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteSDGSItem\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent @open=\"openSDGS(idx)\" @cancel=\"cancelSDGS\" @save=\"editSDGS(idx)\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-select v-model=\"editSDGSItem.sdg\" :items=\"selSDG\" label=\"SDG\" @click=\"setactiveUUID()\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editSDGSItem.sd\" label=\"SD\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent @cancel=\"cancelSDGS\" @save=\"addSDGS()\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                <v-icon >mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-select v-model=\"editSDGSItem.sdg\" :items=\"selSDG\" label=\"SDG\" @click=\"setactiveUUID()\" outlined dense style=\"height: 45px;\"></v-select>\r\n                                                                <v-text-field v-model=\"editSDGSItem.sd\" label=\"SD\" placeholder=\"String\" @click=\"setactiveUUID\" style=\"height: 45px;\" outlined dense class=\"lable-placeholer-color\"></v-text-field>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/SCExecutable'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showExecutable\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isExecutableOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Contained AR Element Refs\r\n                                    <v-btn @click=\"isCheckExecutable\" text x-small color=\"indigo\" v-if=\"isExecutableOpenClose\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isExecutableOpenClose && isdeleteExecutableItem\" @click=\"deletExecutable\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-if=\"isExecutableOpenClose\">\r\n                                    <v-data-table v-model=\"selectDelectExecutable\" :headers=\"headerExecutable\" :items=\"element.executable\" :items-per-page='20'\r\n                                            :show-select=\"isdeleteExecutableItem\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteExecutableItem\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent @cancel=\"cancelExecutable\" @open=\"openExecutable(idx)\" @save=\"editExecutable(idx)\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editExecutableItem.execut' label='Contained AR Element Ref' :items='selExecutable' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingExecutable\" clearable @click=\"setExecutableSelect()\" \r\n                                                                            @click:clear='clearExecutableRef' @blur=\"isEditingExecutable=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newExecutable\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent @cancel=\"cancelExecutable\" @save=\"addExecutable()\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                <v-icon>mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editExecutableItem.execut' label='Contained AR Element Ref' :items='selExecutable' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingExecutable\" clearable @click=\"setExecutableSelect()\" \r\n                                                                            @click:clear='clearExecutableRef' @blur=\"isEditingExecutable=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newExecutable\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/SCMachineD'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showMachineD\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isMachineDOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Contained Fibex Element Refs\r\n                                    <v-btn @click=\"isCheckMachineD\" text x-small color=\"indigo\" v-if=\"isMachineDOpenClose\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isMachineDOpenClose && isdeleteMachineDItem\" @click=\"deletMachineD\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-if=\"isMachineDOpenClose\">\r\n                                    <v-data-table v-model=\"selectDelectMachineD\" :headers=\"headerMachineD\" :items=\"element.machineD\" :items-per-page='20'\r\n                                            :show-select=\"isdeleteMachineDItem\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteMachineDItem\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent @cancel=\"cancelMachineD\" @open=\"openMachineD(idx)\" @save=\"editMachineD(idx)\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editMachineDItem.machine' label='Contained Fibex Element Ref' :items='selMachineD' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingMachineD\" clearable @click=\"setMachineDSelect()\" \r\n                                                                            @click:clear='clearMachineDRef' @blur=\"isEditingMachineD=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newMachineD\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent @cancel=\"cancelMachineD\" @save=\"addMachineD()\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                <v-icon>mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editMachineDItem.machine' label='Contained Fibex Element Ref' :items='selMachineD' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingMachineD\" clearable @click=\"setMachineDSelect()\" \r\n                                                                            @click:clear='clearMachineDRef' @blur=\"isEditingMachineD=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newMachineD\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/SCtoMachine'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showToMachineM\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isToMachineMOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Contained Package Element Refs\r\n                                    <v-btn @click=\"isCheckToMachineM\" text x-small color=\"indigo\" v-if=\"isToMachineMOpenClose\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isToMachineMOpenClose && isdeleteToMachineMItem\" @click=\"deletToMachineM\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-if=\"isToMachineMOpenClose\">\r\n                                    <v-data-table v-model=\"selectDelectToMachineM\" :headers=\"headerToMachineM\" :items=\"element.toMachine\" :items-per-page='20'\r\n                                            :show-select=\"isdeleteToMachineMItem\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteToMachineMItem\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent @cancel=\"cancelToMachineM\" @open=\"openToMachineM(idx)\" @save=\"editToMachineM(idx)\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editToMachineMItem.mapping' label='Contained Package Element Ref' :items='selToMachineM' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingToMachineM\" clearable @click=\"setToMachineMSelect()\" \r\n                                                                            @click:clear='clearToMachineMRef' @blur=\"isEditingToMachineM=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newToMachineM\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent @cancel=\"cancelToMachineM\" @save=\"addToMachineM()\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                <v-icon>mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editToMachineMItem.mapping' label='Contained Package Element Ref' :items='selToMachineM' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingToMachineM\" clearable @click=\"setToMachineMSelect()\" \r\n                                                                            @click:clear='clearToMachineMRef' @blur=\"isEditingToMachineM=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newToMachineM\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/SCProcess'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showProcess\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isProcessOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Contained Process Refs\r\n                                    <v-btn @click=\"isCheckProcess\" text x-small color=\"indigo\" v-if=\"isProcessOpenClose\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isProcessOpenClose && isdeleteProcessItem\" @click=\"deletProcess\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-if=\"isProcessOpenClose\">\r\n                                    <v-data-table v-model=\"selectDelectProcess\" :headers=\"headerProcess\" :items=\"element.process\" :items-per-page='20'\r\n                                            :show-select=\"isdeleteProcessItem\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteProcessItem\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent @cancel=\"cancelProcess\" @open=\"openProcess(idx)\" @save=\"editProcess(idx)\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editProcessItem.pro' label='Contained Process Ref' :items='selProcess' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingProcess\" clearable @click=\"setProcessSelect()\" \r\n                                                                            @click:clear='clearProcessRef' @blur=\"isEditingProcess=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newProcess\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent @cancel=\"cancelProcess\" @save=\"addProcess()\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                <v-icon>mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editProcessItem.pro' label='Contained Process Ref' :items='selProcess' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingProcess\" clearable @click=\"setProcessSelect()\" \r\n                                                                            @click:clear='clearProcessRef' @blur=\"isEditingProcess=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newProcess\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                            <v-card outlined class=\"mx-auto\">\r\n                                <div class=\"subtitle-2\" :id=\"element.uuid+'/SCswc'\" style=\"height:20px\">\r\n                                    <v-hover v-slot=\"{ hover }\">\r\n                                        <v-btn text @click=\"showSWCluster\" x-small color=\"indigo\">\r\n                                            <v-icon>{{ isSWClusterOpenClose? (hover? 'mdi-chevron-double-left' :'mdi-chevron-double-right') : (hover? 'mdi-chevron-double-right' :'mdi-chevron-double-left')}}</v-icon>\r\n                                        </v-btn>\r\n                                    </v-hover>\r\n                                    Sub Software Cluster Refs\r\n                                    <v-btn @click=\"isCheckSWCluster\" text x-small color=\"indigo\" v-if=\"isSWClusterOpenClose\">\r\n                                        <v-icon>mdi-check</v-icon>\r\n                                    </v-btn>\r\n                                    <v-btn v-if=\"isSWClusterOpenClose && isdeleteSWClusterItem\" @click=\"deletSWCluster\" text x-small color=\"indigo\">\r\n                                        <v-icon>mdi-minus</v-icon>\r\n                                    </v-btn>\r\n                                </div>\r\n                                <v-card-text v-if=\"isSWClusterOpenClose\">\r\n                                    <v-data-table v-model=\"selectDelectSWCluster\" :headers=\"headerSWCluster\" :items=\"element.sswc\" :items-per-page='20'\r\n                                            :show-select=\"isdeleteSWClusterItem\" item-key=\"id\" height=\"140px\" dense hide-default-footer >\r\n                                        <template v-slot:item.data-table-select=\"{ isSelected, select }\">\r\n                                            <v-simple-checkbox color=\"green\" :value=\"isSelected\" :ripple=\"false\" @input=\"select($event)\"></v-simple-checkbox>\r\n                                        </template>\r\n                                        <template v-if=\"!isdeleteSWClusterItem\" v-slot:body=\"{ items, headers }\">\r\n                                            <tbody>\r\n                                                <tr v-for=\"(item,idx) in items\" :key=\"idx\">\r\n                                                    <td v-for=\"(header,key) in headers\" :key=\"key\">\r\n                                                        <v-edit-dialog persistent @cancel=\"cancelSWCluster\" @open=\"openSWCluster(idx)\" @save=\"editSWCluster(idx)\" large >\r\n                                                            {{item[header.value]}}\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editSWClusterItem.swc' label='Sub Software Cluster Ref' :items='selSWCluster' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingSWCluster\" clearable @click=\"setSWClusterSelect()\" \r\n                                                                            @click:clear='clearSWClusterRef' @blur=\"isEditingSWCluster=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newSWCluster\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <th colspan=\"3\">\r\n                                                        <v-edit-dialog  large persistent @cancel=\"cancelSWCluster\" @save=\"addSWCluster()\"> \r\n                                                            <v-btn outlined color=\"indigo\" dense text small block width=\"270px\" >\r\n                                                                <v-icon>mdi-plus</v-icon>New Item\r\n                                                            </v-btn>\r\n                                                            <template v-slot:input>\r\n                                                                <br>\r\n                                                                <v-autocomplete v-model='editSWClusterItem.swc' label='Sub Software Cluster Ref' :items='selSWCluster' item-text='name' item-value=\"uuid\" class=\"lable-placeholer-color\"\r\n                                                                            return-object :readonly=\"!isEditingSWCluster\" clearable @click=\"setSWClusterSelect()\" \r\n                                                                            @click:clear='clearSWClusterRef' @blur=\"isEditingSWCluster=true\" outlined dense style=\"height: 45px;\">\r\n                                                                    <template v-slot:append-item>\r\n                                                                        <v-btn outlined color=\"indigo\" dense text small block @click=\"newSWCluster\">\r\n                                                                            <v-icon >mdi-plus</v-icon>New Item\r\n                                                                        </v-btn>\r\n                                                                    </template>\r\n                                                                </v-autocomplete>\r\n                                                            </template>\r\n                                                        </v-edit-dialog>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </template>\r\n                                    </v-data-table>\r\n                                </v-card-text>\r\n                            </v-card>\r\n                        </v-card-text>\r\n                        <v-card-text v-else-if=\"zoomvalue > $setZoominElement  || !minimaptoolbar\">\r\n                            <v-text-field v-model=\"element.name\" :label=\"'name  <'+element.path +'>'\" :rules=\"rules.name\" placeholder=\"String\" style=\"height: 45px;\" class=\"lable-placeholer-color\"\r\n                                        readonly outlined dense></v-text-field>\r\n                        </v-card-text>\r\n                    </v-card>\r\n                </template>\r\n                <span>{{ element.name }}</span>\r\n            </v-tooltip>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport constant from \"../store/constants.js\"\r\nimport { EventBus } from \"../main.js\"\r\nimport dialogPathSetting from '../components/dialogPathSetting.vue'\r\n\r\n\r\nexport default {\r\n    props: ['element', 'isDatailView', 'minimaptoolbar', 'location'],\r\n    components:{dialogPathSetting},\r\n    computed: {\r\n        activeUUID() {\r\n            return this.$store.state.activeUUID\r\n        },\r\n        detailViewUUID() {\r\n            return this.$store.state.detailViewUUID\r\n        },\r\n        setting() {\r\n            return this.$store.state.setting\r\n        },\r\n    },\r\n    watch: {\r\n        activeUUID(val) {\r\n            this.setToolbarColor(val)\r\n        },\r\n        detailViewUUID(val) {\r\n            this.setToolbarColorDetailView(val)\r\n        },\r\n        setting(value) {\r\n            this.zoomvalue = value.zoomMain\r\n            if (this.zoomvalue < this.$setZoominTooltip) {\r\n                this.isTooltip = false\r\n            } else {\r\n                this.isTooltip = this.minimaptoolbar\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        this.setToolbarColor(this.$store.state.activeUUID)\r\n    },\r\n    data() {\r\n        return {\r\n            rules: {\r\n                name:  [val => (val || '').length > 0 ],\r\n            },\r\n            colorToolbar: \"#6A5ACD\",\r\n            zoomvalue: this.$store.state.setting.zoomMain,\r\n            isTooltip: this.minimaptoolbar,\r\n            iselementOpenClose: false,//this.minimaptoolbar, //toolbar만 보여줄것이냐 아니냐 설정 true: 전체 다 보여줌 / false : toolbar만 보여줌\r\n            dialogPath: false,\r\n            isSDGSOpenClose: true,\r\n            isdeleteSDGSItem: false,\r\n            selectDelectSDGS: [],\r\n            headerSDGS: [\r\n                { text: 'SDG', align: 'start', sortable: false, value: 'sdg' },\r\n                { text: 'SD', align: 'start', sortable: false, value: 'sd' },\r\n            ],\r\n            editSDGSItem: { sdg: null, sd : null, id: ''},\r\n            selSDG: [\"R20-11-CATEGORY\", \"LICENSES\"],\r\n\r\n            isExecutableOpenClose: true,\r\n            isEditingExecutable: true,\r\n            isdeleteExecutableItem: false,\r\n            selectDelectExecutable: [],\r\n            selExecutable: this.$store.getters.getExecutable,\r\n            headerExecutable: [\r\n                { text: 'Contained AR Element Ref', align: 'start', sortable: false, value: 'execut' },\r\n            ],\r\n            editExecutableItem: { execut : null, id:''},\r\n            deleteChangeLineExecutable : [],\r\n\r\n            isMachineDOpenClose: true,\r\n            isEditingMachineD: true,\r\n            isdeleteMachineDItem: false,\r\n            selectDelectMachineD: [],\r\n            selMachineD: this.$store.getters.getMachineDesign,\r\n            headerMachineD: [\r\n                { text: 'Contained Fibex Element Ref', align: 'start', sortable: false, value: 'machine' },\r\n            ],\r\n            editMachineDItem: { machine : null, id:''},\r\n            deleteChangeLineMachineD : [],\r\n\r\n            isToMachineMOpenClose: true,\r\n            isEditingToMachineM: true,\r\n            isdeleteToMachineMItem: false,\r\n            selectDelectToMachineM: [],\r\n            selToMachineM: this.$store.getters.getSomeIPToMachineMapping,\r\n            headerToMachineM: [\r\n                { text: 'Contained Package Element Ref', align: 'start', sortable: false, value: 'mapping' },\r\n            ],\r\n            editToMachineMItem: { mapping : null, id:''},\r\n            deleteChangeLineToMachineM : [],\r\n\r\n            isProcessOpenClose: true,\r\n            isEditingProcess: true,\r\n            isdeleteProcessItem: false,\r\n            selectDelectProcess: [],\r\n            selProcess: this.$store.getters.getProcess,\r\n            headerProcess: [\r\n                { text: 'Contained Process Ref', align: 'start', sortable: false, value: 'pro' },\r\n            ],\r\n            editProcessItem: { pro : null, id:''},\r\n            deleteChangeLineProcess : [],\r\n\r\n            isSWClusterOpenClose: true,\r\n            isEditingSWCluster: true,\r\n            isdeleteSWClusterItem: false,\r\n            selectDelectSWCluster: [],\r\n            selSWCluster: this.$store.getters.getSWCluster,\r\n            headerSWCluster: [\r\n                { text: 'Sub Software Cluster Ref', align: 'start', sortable: false, value: 'swc' },\r\n            ],\r\n            editSWClusterItem: { swc : null, id:''},\r\n            deleteChangeLineSWCluster : [],\r\n\r\n\r\n        }\r\n    },\r\n    mounted () {\r\n        if (this.minimaptoolbar && this.zoomvalue < this.$setZoominElement) {\r\n            this.isTooltip = false\r\n        }\r\n    },\r\n    methods: {\r\n        submitDialog(element) {\r\n            this.element.path = element\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name} )\r\n            this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.element.name, path:this.element.path})\r\n        },\r\n        setToolbarColor(uuid) \r\n        {\r\n            if(this.element.uuid == uuid) {\r\n                this.colorToolbar = \"#FF1493\" \r\n            } else {\r\n                this.colorToolbar = \"#6A5ACD\"\r\n            }\r\n        },\r\n        setToolbarColorDetailView(isdetail) {\r\n            if(this.element.uuid == isdetail) {\r\n                this.colorToolbar = \"#B0E0E6\" \r\n            } else if (this.element.uuid == this.$store.state.activeUUID) {\r\n                this.colorToolbar  = \"#FF1493\"\r\n            } else {\r\n                this.colorToolbar = \"#6A5ACD\"\r\n            }\r\n        },\r\n        showSoftwareCluster () {\r\n            this.iselementOpenClose = this.iselementOpenClose ? false : true\r\n            this.$nextTick(() => {\r\n                EventBus.$emit('drawLineTitleBar', this.element.uuid, this.iselementOpenClose)\r\n            })\r\n        },\r\n        showSDGS() {\r\n            this.isSDGSOpenClose = this.isSDGSOpenClose ? false : true\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        showExecutable() {\r\n            this.isExecutableOpenClose = this.isExecutableOpenClose ? false : true\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        showMachineD() {\r\n            this.isMachineDOpenClose = this.isMachineDOpenClose ? false : true\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        showToMachineM() {\r\n            this.isToMachineMOpenClose = this.isToMachineMOpenClose ? false : true\r\n            EventBus.$emit('drawLine')\r\n        },\r\n        showProcess() {\r\n            this.isProcessOpenClose = this.isProcessOpenClose ? false : true\r\n        },\r\n        showSWCluster() {\r\n            this.isSWClusterOpenClose = this.isSWClusterOpenClose ? false : true\r\n        },\r\n\r\n        inputSoftwareClusterName () {\r\n            this.$store.commit('editSoftWareCluster', {compo:\"Name\", uuid:this.element.uuid, name:this.element.name} )\r\n            this.$store.commit('changePathElement', {uuid:this.element.uuid, path: this.element.path, name: this.element.name} )\r\n            if (this.element.name != '') {\r\n                this.$store.commit('isintoErrorList', {uuid:this.element.uuid, name:this.element.name, path:this.element.path})\r\n            }\r\n        },\r\n\r\n        isCheckSDGS() {\r\n            if (this.isdeleteSDGSItem == true) {\r\n                this.isdeleteSDGSItem = false\r\n                this.selectDelectSDGS = []\r\n            } else {\r\n                this.isdeleteSDGSItem = true\r\n            }\r\n        },\r\n        deletSDGS() {\r\n            if (this.isdeleteSDGSItem == true) {\r\n                this.element.sdgs = this.element.sdgs.filter(item => {\r\n                        return this.selectDelectSDGS.indexOf(item) < 0 })\r\n\r\n                this.isdeleteSDGSItem = false\r\n                this.selectDelectSDGS = []\r\n            } \r\n        },\r\n        editSDGS(idx) {\r\n            this.element.sdgs[idx].sdg = this.editSDGSItem.sdg\r\n            this.element.sdgs[idx].sd = this.editSDGSItem.sd\r\n            this.cancelSDGS()\r\n        },\r\n        cancelSDGS() {\r\n            this.editSDGSItem.sdg = null\r\n            this.editSDGSItem.sd = null\r\n            this.editSDGSItem.id = ''\r\n            this.setactiveUUID()\r\n        },\r\n        openSDGS(idx) {\r\n            this.editSDGSItem.sdg = this.element.sdgs[idx].sdg\r\n            this.editSDGSItem.sd =  this.element.sdgs[idx].sd\r\n        },\r\n        addSDGS() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.sdgs.some(item => item.id === n)\r\n            }\r\n            this.editSDGSItem.id = n\r\n\r\n            const addObj = Object.assign({}, this.editSDGSItem)\r\n            this.element.sdgs.push(addObj)\r\n            this.cancelSDGS()\r\n        },\r\n        clearSDGS() {\r\n            this.editSDGSItem.sdg = null\r\n        },\r\n\r\n        isCheckExecutable() {\r\n            if (this.isdeleteExecutableItem == true) {\r\n                this.isdeleteExecutableItem = false\r\n                this.selectDelectExecutable = []\r\n            } else {\r\n                this.isdeleteExecutableItem = true\r\n            }\r\n        },\r\n        deletExecutable() {\r\n            if (this.isdeleteExecutableItem == true) {\r\n                for(let i=0; i<this.element.executable.length; i++){\r\n                    var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCExecutable-'+i)\r\n                    if(endLine != undefined) {\r\n                        this.deleteChangeLineExecutable.push({id:this.element.executable[i].id, endLine:endLine})\r\n                        this.deleteLine(this.element.uuid+'/SCExecutable-'+i)\r\n                    }\r\n                }\r\n\r\n                this.element.executable = this.element.executable.filter(item => {\r\n                        return this.selectDelectExecutable.indexOf(item) < 0 })\r\n\r\n                for(let n=0; n<this.element.executable.length; n++) {\r\n                    for(let idx=0; idx<this.deleteChangeLineExecutable.length; idx++) {\r\n                        if (this.element.executable[n].id == this.deleteChangeLineExecutable[idx].id) {\r\n                            this.newLine(this.element.uuid+'/SCExecutable-'+n, this.element.uuid+'/SCExecutable', this.deleteChangeLineExecutable[idx].endLine)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.isdeleteExecutableItem = false\r\n                this.selectDelectExecutable = []\r\n                this.deleteChangeLineExecutable = []\r\n            } \r\n        },\r\n        openExecutable(idx) {\r\n            this.selExecutable = this.$store.getters.getExecutable\r\n            if ( this.element.executable[idx].execut != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCExecutable-'+idx)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getImplementationPath(this.element.executable[idx].execut)\r\n                }\r\n                this.editExecutableItem.execut = { name: this.element.executable[idx].execut, uuid: endLine }\r\n            }\r\n        },\r\n        editExecutable(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCExecutable-'+idx)\r\n            if (endLine != undefined && this.editExecutableItem.execut == null) {\r\n                this.deleteLine(this.element.uuid+'/SCExecutable-'+idx)\r\n                this.element.executable[idx].execut = null\r\n            } else if (endLine != undefined && endLine != this.editExecutableItem.execut.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/SCExecutable-'+idx)\r\n                this.newLine(this.element.uuid+'/SCExecutable-'+idx, this.element.uuid+'/SCExecutable', this.editExecutableItem.execut.uuid)\r\n                this.element.executable[idx].execut = this.editExecutableItem.execut.name\r\n            } else if (endLine == undefined && this.editExecutableItem.execut != null && this.editExecutableItem.execut.uuid != null) {\r\n                this.newLine(this.element.uuid+'/SCExecutable-'+idx, this.element.uuid+'/SCExecutable', this.editExecutableItem.execut.uuid)\r\n                this.element.executable[idx].execut = this.editExecutableItem.execut.name\r\n            }\r\n\r\n            this.cancelExecutable()\r\n        },\r\n        cancelExecutable() {\r\n            this.editExecutableItem.execut = null\r\n            this.setactiveUUID()\r\n        },\r\n        addExecutable() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.executable.some(item => item.id === n)\r\n            }\r\n            this.editExecutableItem.id = n\r\n\r\n            if( this.editExecutableItem.execut != null) {\r\n                var datacount = this.element.executable.length\r\n                this.newLine(this.element.uuid+'/SCExecutable-'+datacount, this.element.uuid+'/SCExecutable', this.editExecutableItem.execut.uuid)\r\n                this.editExecutableItem.execut = this.editExecutableItem.execut.name\r\n            }\r\n            const addObj = Object.assign({}, this.editExecutableItem)\r\n            this.element.executable.push(addObj);\r\n            this.cancelExecutable()\r\n        },\r\n        clearExecutableRef() {\r\n            this.isEditingExecutable = true\r\n            this.editExecutableItem.execut = null\r\n        },\r\n        setExecutableSelect() {\r\n            if (this.isEditingExecutable == true) {\r\n                if (this.editExecutableItem.execut != null && this.editExecutableItem.execut.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editExecutableItem.execut.uuid, element: constant.Executable_str} )\r\n                    document.getElementById(this.editExecutableItem.execut.uuid+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    EventBus.$emit('active-element', this.editExecutableItem.execut.uuid)\r\n                }\r\n                this.setExecutableList()\r\n                this.isEditingExecutable = false\r\n            } else {\r\n                this.isEditingExecutable = true\r\n            }\r\n        },\r\n        setExecutableList() {\r\n            this.selExecutable = this.$store.getters.getExecutable\r\n            this.setactiveUUID()\r\n        },\r\n        newExecutable() {\r\n            const elementX = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n            const elementY = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n\r\n            this.$store.commit('addElementExecutable', { //applicationtyperef 는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                name: this.$store.getters.getNameExecutable, path: '',\r\n                top: elementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                version: '', category:'', buildType:null, loggingBehabior:null, reportingBehabior:null, swname:'', applicationtyperef: null,\r\n            })\r\n            EventBus.$emit('add-element', constant.Executable_str)\r\n            EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n            this.$store.commit('editSoftWareCluster', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        isCheckMachineD() {\r\n            if (this.isdeleteMachineDItem == true) {\r\n                this.isdeleteMachineDItem = false\r\n                this.selectDelectMachineD = []\r\n            } else {\r\n                this.isdeleteMachineDItem = true\r\n            }\r\n        },\r\n        deletMachineD() {\r\n            if (this.isdeleteMachineDItem == true) {\r\n                for(let i=0; i<this.element.machineD.length; i++){\r\n                    var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCMachineD-'+i)\r\n                    if(endLine != undefined) {\r\n                        this.deleteChangeLineMachineD.push({id:this.element.machineD[i].id, endLine:endLine})\r\n                        this.deleteLine(this.element.uuid+'/SCMachineD-'+i)\r\n                    }\r\n                }\r\n\r\n                this.element.machineD = this.element.machineD.filter(item => {\r\n                        return this.selectDelectMachineD.indexOf(item) < 0 })\r\n\r\n                for(let n=0; n<this.element.machineD.length; n++) {\r\n                    for(let idx=0; idx<this.deleteChangeLineMachineD.length; idx++) {\r\n                        if (this.element.machineD[n].id == this.deleteChangeLineMachineD[idx].id) {\r\n                            this.newLine(this.element.uuid+'/SCMachineD-'+n, this.element.uuid+'/SCMachineD', this.deleteChangeLineMachineD[idx].endLine)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.isdeleteMachineDItem = false\r\n                this.selectDelectMachineD = []\r\n                this.deleteChangeLineMachineD = []\r\n            } \r\n        },\r\n        openMachineD(idx) {\r\n            this.selMachineD = this.$store.getters.getMachineDesign\r\n            if ( this.element.machineD[idx].machine != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCMachineD-'+idx)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getImplementationPath(this.element.machineD[idx].machine)\r\n                }\r\n                this.editMachineDItem.machine = { name: this.element.machineD[idx].machine, uuid: endLine }\r\n            }\r\n        },\r\n        editMachineD(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCMachineD-'+idx)\r\n            if (endLine != undefined && this.editMachineDItem.machine == null) {\r\n                this.deleteLine(this.element.uuid+'/SCMachineD-'+idx)\r\n                this.element.machineD[idx].machine = null\r\n            } else if (endLine != undefined && endLine != this.editMachineDItem.machine.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/SCMachineD-'+idx)\r\n                this.newLine(this.element.uuid+'/SCMachineD-'+idx, this.element.uuid+'/SCMachineD', this.editMachineDItem.machine.uuid)\r\n                this.element.machineD[idx].machine = this.editMachineDItem.machine.name\r\n            } else if (endLine == undefined && this.editMachineDItem.machine != null && this.editMachineDItem.machine.uuid != null) {\r\n                this.newLine(this.element.uuid+'/SCMachineD-'+idx, this.element.uuid+'/SCMachineD', this.editMachineDItem.machine.uuid)\r\n                this.element.machineD[idx].machine = this.editMachineDItem.machine.name\r\n            }\r\n\r\n            this.cancelMachineD()\r\n        },\r\n        cancelMachineD() {\r\n            this.editMachineDItem.machine = null\r\n            this.setactiveUUID()\r\n        },\r\n        addMachineD() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.machineD.some(item => item.id === n)\r\n            }\r\n            this.editMachineDItem.id = n\r\n\r\n            if( this.editMachineDItem.machine != null) {\r\n                var datacount = this.element.machineD.length\r\n                this.newLine(this.element.uuid+'/SCMachineD-'+datacount, this.element.uuid+'/SCMachineD', this.editMachineDItem.machine.uuid)\r\n                this.editMachineDItem.machine = this.editMachineDItem.machine.name\r\n            }\r\n            const addObj = Object.assign({}, this.editMachineDItem)\r\n            this.element.machineD.push(addObj);\r\n            this.cancelMachineD()\r\n        },\r\n        clearMachineDRef() {\r\n            this.isEditingMachineD = true\r\n            this.editMachineDItem.machine = null\r\n        },\r\n        setMachineDSelect() {\r\n            if (this.isEditingMachineD == true) {\r\n                if (this.editMachineDItem.machine != null && this.editMachineDItem.machine.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editMachineDItem.machine.uuid, element: constant.MachineDesigne_str} )\r\n                    document.getElementById(this.editMachineDItem.machine.uuid+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    EventBus.$emit('active-element', this.editMachineDItem.machine.uuid)\r\n                }\r\n                this.setMachineDList()\r\n                this.isEditingMachineD = false\r\n            } else {\r\n                this.isEditingMachineD = true\r\n            }\r\n        },\r\n        setMachineDList() {\r\n            this.selMachineD = this.$store.getters.getMachineDesign\r\n            this.setactiveUUID()\r\n        },\r\n        newMachineD() {\r\n            const elementX = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n            const elementY = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n\r\n            this.$store.commit('addElementMachineDesign', {\r\n                name: this.$store.getters.getNameMachineDesign, path: '',\r\n                top: elementY, left: elementX, zindex: 10, access: null, resettimer:'', connector:[], servicediscover:[], icon:\"mdi-clipboard-outline\", validation: false\r\n            })\r\n            EventBus.$emit('add-element', constant.MachineDesigne_str)\r\n            EventBus.$emit('add-element', constant.Machines_str)\r\n            this.$store.commit('editSoftWareCluster', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        isCheckToMachineM() {\r\n            if (this.isdeleteToMachineMItem == true) {\r\n                this.isdeleteToMachineMItem = false\r\n                this.selectDelectToMachineM = []\r\n            } else {\r\n                this.isdeleteToMachineMItem = true\r\n            }\r\n        },\r\n        deletToMachineM() {\r\n            if (this.isdeleteToMachineMItem == true) {\r\n                for(let i=0; i<this.element.toMachine.length; i++){\r\n                    var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCtoMachine-'+i)\r\n                    if(endLine != undefined) {\r\n                        this.deleteChangeLineToMachineM.push({id:this.element.toMachine[i].id, endLine:endLine})\r\n                        this.deleteLine(this.element.uuid+'/SCtoMachine-'+i)\r\n                    }\r\n                }\r\n\r\n                this.element.toMachine = this.element.toMachine.filter(item => {\r\n                        return this.selectDelectToMachineM.indexOf(item) < 0 })\r\n\r\n                for(let n=0; n<this.element.toMachine.length; n++) {\r\n                    for(let idx=0; idx<this.deleteChangeLineToMachineM.length; idx++) {\r\n                        if (this.element.toMachine[n].id == this.deleteChangeLineToMachineM[idx].id) {\r\n                            this.newLine(this.element.uuid+'/SCtoMachine-'+n, this.element.uuid+'/SCtoMachine', this.deleteChangeLineToMachineM[idx].endLine)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.isdeleteToMachineMItem = false\r\n                this.selectDelectToMachineM = []\r\n                this.deleteChangeLineToMachineM = []\r\n            } \r\n        },\r\n        openToMachineM(idx) {\r\n            this.selToMachineM = this.$store.getters.getSomeIPToMachineMapping\r\n            if ( this.element.toMachine[idx].mapping != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCtoMachine-'+idx)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getImplementationPath(this.element.toMachine[idx].mapping)\r\n                }\r\n                this.editToMachineMItem.mapping = { name: this.element.toMachine[idx].mapping, uuid: endLine }\r\n            }\r\n        },\r\n        editToMachineM(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCtoMachine-'+idx)\r\n            if (endLine != undefined && this.editToMachineMItem.mapping == null) {\r\n                this.deleteLine(this.element.uuid+'/SCtoMachine-'+idx)\r\n                this.element.toMachine[idx].mapping = null\r\n            } else if (endLine != undefined && endLine != this.editToMachineMItem.mapping.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/SCtoMachine-'+idx)\r\n                this.newLine(this.element.uuid+'/SCtoMachine-'+idx, this.element.uuid+'/SCtoMachine', this.editToMachineMItem.mapping.uuid)\r\n                this.element.toMachine[idx].mapping = this.editToMachineMItem.mapping.name\r\n            } else if (endLine == undefined && this.editToMachineMItem.mapping != null && this.editToMachineMItem.mapping.uuid != null) {\r\n                this.newLine(this.element.uuid+'/SCtoMachine-'+idx, this.element.uuid+'/SCtoMachine', this.editToMachineMItem.mapping.uuid)\r\n                this.element.toMachine[idx].mapping = this.editToMachineMItem.mapping.name\r\n            }\r\n\r\n            this.cancelToMachineM()\r\n        },\r\n        cancelToMachineM() {\r\n            this.editToMachineMItem.mapping = null\r\n            this.setactiveUUID()\r\n        },\r\n        addToMachineM() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.toMachine.some(item => item.id === n)\r\n            }\r\n            this.editToMachineMItem.id = n\r\n\r\n            if( this.editToMachineMItem.mapping != null) {\r\n                var datacount = this.element.toMachine.length\r\n                this.newLine(this.element.uuid+'/SCtoMachine-'+datacount, this.element.uuid+'/SCtoMachine', this.editToMachineMItem.mapping.uuid)\r\n                this.editToMachineMItem.mapping = this.editToMachineMItem.mapping.name\r\n            }\r\n            const addObj = Object.assign({}, this.editToMachineMItem)\r\n            this.element.toMachine.push(addObj);\r\n            this.cancelToMachineM()\r\n        },\r\n        clearToMachineMRef() {\r\n            this.isEditingToMachineM = true\r\n            this.editToMachineMItem.mapping = null\r\n        },\r\n        setToMachineMSelect() {\r\n            if (this.isEditingToMachineM == true) {\r\n                if (this.editToMachineMItem.mapping != null && this.editToMachineMItem.mapping.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editToMachineMItem.mapping.uuid, element: constant.SomeIPToMachineMapping_str} )\r\n                    document.getElementById(this.editToMachineMItem.mapping.uuid+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    EventBus.$emit('active-element', this.editToMachineMItem.mapping.uuid)\r\n                }\r\n                this.setToMachineMList()\r\n                this.isEditingToMachineM = false\r\n            } else {\r\n                this.isEditingToMachineM = true\r\n            }\r\n        },\r\n        setToMachineMList() {\r\n            this.selToMachineM = this.$store.getters.getSomeIPToMachineMapping\r\n            this.setactiveUUID()\r\n        },\r\n        newToMachineM() {\r\n            const elementX = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n            const elementY = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n\r\n            this.$store.commit('addElementSomeIPtoMachine', {\r\n                name: this.$store.getters.getNameSomeIPtoMachine, path: '',\r\n                top: elementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                ccref: null, siref: null, tcp:'', udp: '',\r\n            })\r\n            EventBus.$emit('add-element', constant.SomeIPToMachineMapping_str)\r\n            EventBus.$emit('add-element', constant.Service_str)\r\n            this.$store.commit('editSoftWareCluster', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        isCheckProcess() {\r\n            if (this.isdeleteProcessItem == true) {\r\n                this.isdeleteProcessItem = false\r\n                this.selectDelectProcess = []\r\n            } else {\r\n                this.isdeleteProcessItem = true\r\n            }\r\n        },\r\n        deletProcess() {\r\n            if (this.isdeleteProcessItem == true) {\r\n                for(let i=0; i<this.element.process.length; i++){\r\n                    var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCProcess-'+i)\r\n                    if(endLine != undefined) {\r\n                        this.deleteChangeLineProcess.push({id:this.element.process[i].id, endLine:endLine})\r\n                        this.deleteLine(this.element.uuid+'/SCProcess-'+i)\r\n                    }\r\n                }\r\n\r\n                this.element.process = this.element.process.filter(item => {\r\n                        return this.selectDelectProcess.indexOf(item) < 0 })\r\n\r\n                for(let n=0; n<this.element.process.length; n++) {\r\n                    for(let idx=0; idx<this.deleteChangeLineProcess.length; idx++) {\r\n                        if (this.element.process[n].id == this.deleteChangeLineProcess[idx].id) {\r\n                            this.newLine(this.element.uuid+'/SCProcess-'+n, this.element.uuid+'/SCProcess', this.deleteChangeLineProcess[idx].endLine)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.isdeleteProcessItem = false\r\n                this.selectDelectProcess = []\r\n                this.deleteChangeLineProcess = []\r\n            } \r\n        },\r\n        openProcess(idx) {\r\n            this.selProcess = this.$store.getters.getProcess\r\n            if ( this.element.process[idx].pro != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCProcess-'+idx)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getProcessPath(this.element.process[idx].pro)\r\n                }\r\n                this.editProcessItem.pro = { name: this.element.process[idx].pro, uuid: endLine }\r\n            }\r\n        },\r\n        editProcess(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCProcess-'+idx)\r\n            if (endLine != undefined && this.editProcessItem.pro == null) {\r\n                this.deleteLine(this.element.uuid+'/SCProcess-'+idx)\r\n                this.element.process[idx].pro = null\r\n            } else if (endLine != undefined && endLine != this.editProcessItem.pro.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/SCProcess-'+idx)\r\n                this.newLine(this.element.uuid+'/SCProcess-'+idx, this.element.uuid+'/SCProcess', this.editProcessItem.pro.uuid)\r\n                this.element.process[idx].pro = this.editProcessItem.pro.name\r\n            } else if (endLine == undefined && this.editProcessItem.pro != null && this.editProcessItem.pro.uuid != null) {\r\n                this.newLine(this.element.uuid+'/SCProcess-'+idx, this.element.uuid+'/SCProcess', this.editProcessItem.pro.uuid)\r\n                this.element.process[idx].pro = this.editProcessItem.pro.name\r\n            }\r\n\r\n            this.cancelProcess()\r\n        },\r\n        cancelProcess() {\r\n            this.editProcessItem.pro = null\r\n            this.setactiveUUID()\r\n        },\r\n        addProcess() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.process.some(item => item.id === n)\r\n            }\r\n            this.editProcessItem.id = n\r\n\r\n            if( this.editProcessItem.pro != null) {\r\n                var datacount = this.element.process.length\r\n                this.newLine(this.element.uuid+'/SCProcess-'+datacount, this.element.uuid+'/SCProcess', this.editProcessItem.pro.uuid)\r\n                this.editProcessItem.pro = this.editProcessItem.pro.name\r\n            }\r\n            const addObj = Object.assign({}, this.editProcessItem)\r\n            this.element.process.push(addObj);\r\n            this.cancelProcess()\r\n        },\r\n        clearProcessRef() {\r\n            this.isEditingProcess = true\r\n            this.editProcessItem.pro = null\r\n        },\r\n        setProcessSelect() {\r\n            if (this.isEditingProcess == true) {\r\n                if (this.editProcessItem.pro != null && this.editProcessItem.pro.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editProcessItem.pro.uuid, element: constant.Process_str} )\r\n                    document.getElementById(this.editProcessItem.pro.uuid+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    EventBus.$emit('active-element', this.editProcessItem.pro.uuid)\r\n                }\r\n                this.setProcessList()\r\n                this.isEditingProcess = false\r\n            } else {\r\n                this.isEditingProcess = true\r\n            }\r\n        },\r\n        setProcessList() {\r\n            this.selProcess = this.$store.getters.getProcess\r\n            this.setactiveUUID()\r\n        },\r\n        newProcess() {\r\n            const elementX = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n            const elementY = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n\r\n            this.$store.commit('addElementProcess', {\r\n                name: this.$store.getters.getNameProcess, path: '',\r\n                top: elementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                logLevel: null, logPath: '', logProDesc: '', logProID: '', restart: '', preMapping: null, logMode: [],\r\n                prodesign: null, determin: null, execut: null, machinname: '', machinetype: null, dependent: []\r\n            })\r\n            EventBus.$emit('add-element', constant.Process_str)\r\n            EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n            this.$store.commit('editSoftWareCluster', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        isCheckSWCluster() {\r\n            if (this.isdeleteSWClusterItem == true) {\r\n                this.isdeleteSWClusterItem = false\r\n                this.selectDelectSWCluster = []\r\n            } else {\r\n                this.isdeleteSWClusterItem = true\r\n            }\r\n        },\r\n        deletSWCluster() {\r\n            if (this.isdeleteSWClusterItem == true) {\r\n                for(let i=0; i<this.element.sswc.length; i++){\r\n                    var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCswc-'+i)\r\n                    if(endLine != undefined) {\r\n                        this.deleteChangeLineSWCluster.push({id:this.element.sswc[i].id, endLine:endLine})\r\n                        this.deleteLine(this.element.uuid+'/SCswc-'+i)\r\n                    }\r\n                }\r\n\r\n                this.element.sswc = this.element.sswc.filter(item => {\r\n                        return this.selectDelectSWCluster.indexOf(item) < 0 })\r\n\r\n                for(let n=0; n<this.element.sswc.length; n++) {\r\n                    for(let idx=0; idx<this.deleteChangeLineSWCluster.length; idx++) {\r\n                        if (this.element.sswc[n].id == this.deleteChangeLineSWCluster[idx].id) {\r\n                            this.newLine(this.element.uuid+'/SCswc-'+n, this.element.uuid+'/SCswc', this.deleteChangeLineSWCluster[idx].endLine)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.isdeleteSWClusterItem = false\r\n                this.selectDelectSWCluster = []\r\n                this.deleteChangeLineSWCluster = []\r\n            } \r\n        },\r\n        openSWCluster(idx) {\r\n            this.selSWCluster = this.$store.getters.getSWCluster\r\n            if ( this.element.sswc[idx].swc != null) {\r\n                var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCswc-'+idx)\r\n                if (endLine == undefined) {\r\n                    endLine = this.$store.getters.getSWClusterPath(this.element.sswc[idx].swc)\r\n                }\r\n                this.editSWClusterItem.swc = { name: this.element.sswc[idx].swc, uuid: endLine }\r\n            }\r\n        },\r\n        editSWCluster(idx) {\r\n            var endLine = this.$store.getters.getChangeEndLine(this.element.uuid+'/SCswc-'+idx)\r\n            if (endLine != undefined && this.editSWClusterItem.swc == null) {\r\n                this.deleteLine(this.element.uuid+'/SCswc-'+idx)\r\n                this.element.sswc[idx].swc = null\r\n            } else if (endLine != undefined && endLine != this.editSWClusterItem.swc.uuid) {\r\n                //기존꺼 삭제해야한다 vuex에서도 삭제하고 mainview에서도 삭제하고 \r\n                this.deleteLine(this.element.uuid+'/SCswc-'+idx)\r\n                this.newLine(this.element.uuid+'/SCswc-'+idx, this.element.uuid+'/SCswc', this.editSWClusterItem.swc.uuid)\r\n                this.element.sswc[idx].swc = this.editSWClusterItem.swc.name\r\n            } else if (endLine == undefined && this.editSWClusterItem.swc != null && this.editSWClusterItem.swc.uuid != null) {\r\n                this.newLine(this.element.uuid+'/SCswc-'+idx, this.element.uuid+'/SCswc', this.editSWClusterItem.swc.uuid)\r\n                this.element.sswc[idx].swc = this.editSWClusterItem.swc.name\r\n            }\r\n\r\n            this.cancelSWCluster()\r\n        },\r\n        cancelSWCluster() {\r\n            this.editSWClusterItem.swc = null\r\n            this.setactiveUUID()\r\n        },\r\n        addSWCluster() {\r\n            let res = true, n = 0\r\n            while (res) {\r\n                n++\r\n                res = this.element.sswc.some(item => item.id === n)\r\n            }\r\n            this.editSWClusterItem.id = n\r\n\r\n            if( this.editSWClusterItem.swc != null) {\r\n                var datacount = this.element.sswc.length\r\n                this.newLine(this.element.uuid+'/SCswc-'+datacount, this.element.uuid+'/SCswc', this.editSWClusterItem.swc.uuid)\r\n                this.editSWClusterItem.swc = this.editSWClusterItem.swc.name\r\n            }\r\n            const addObj = Object.assign({}, this.editSWClusterItem)\r\n            this.element.sswc.push(addObj);\r\n            this.cancelSWCluster()\r\n        },\r\n        clearSWClusterRef() {\r\n            this.isEditingSWCluster = true\r\n            this.editSWClusterItem.swc = null\r\n        },\r\n        setSWClusterSelect() {\r\n            if (this.isEditingSWCluster == true) {\r\n                if (this.editSWClusterItem.swc != null && this.editSWClusterItem.swc.uuid != null) {\r\n                    this.$store.commit('setDetailView', {uuid: this.editSWClusterItem.swc.uuid, element: constant.SWCluster_str} )\r\n                    document.getElementById(this.editSWClusterItem.swc.uuid+this.location).scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    EventBus.$emit('active-element', this.editSWClusterItem.swc.uuid)\r\n                }\r\n                this.setSWClusterList()\r\n                this.isEditingSWCluster = false\r\n            } else {\r\n                this.isEditingSWCluster = true\r\n            }\r\n        },\r\n        setSWClusterList() {\r\n            this.selSWCluster = this.$store.getters.getSWCluster\r\n            this.setactiveUUID()\r\n        },\r\n        newSWCluster() {\r\n            const elementX = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n            const elementY = Array.from({length:4}, () => Math.floor(Math.random() * 3000))\r\n\r\n            this.$store.commit('addElementSoftWareCluster', {\r\n                name: this.$store.getters.getNameSoftWareCluster,path: '',\r\n                top: elementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                category: '', inVendor: '', version: '', sdgs: [], executable: [], machineD: [], toMachine: [], process: [], sswc: [],\r\n            })\r\n            this.$store.commit('editSoftWareCluster', {compo:\"z\", uuid:this.element.uuid, zindex:2} )\r\n        },\r\n\r\n        setactiveUUID() {\r\n            this.$store.commit('setuuid', {uuid: this.element.uuid} )\r\n            this.$store.commit('editSoftWareCluster', {compo:\"z\", uuid:this.element.uuid, zindex:10} )\r\n        },\r\n        deleteLine(fineLine) {\r\n            var linenum = this.$store.getters.getconnectLineNum(fineLine)\r\n            if (linenum != -1) {\r\n                EventBus.$emit('delete-line', linenum)\r\n                this.$store.commit('deletConnectionline', {startnum: linenum} )\r\n            }\r\n        },\r\n        newLine(startLine, drawLine, endLine) {\r\n            this.$store.commit('setConnectionline', {start: startLine, end: endLine} )\r\n            EventBus.$emit('new-line', drawLine, endLine)\r\n        },\r\n\r\n    },\r\n\r\n}\r\n</script>"]}]}