{"remainingRequest":"D:\\source\\service\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js??vue-loader-options!D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\source\\service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\source\\service\\src\\components\\mainview.vue?vue&type=template&id=03c32e24&","dependencies":[{"path":"D:\\source\\service\\src\\components\\mainview.vue","mtime":1647399009966},{"path":"D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkgewogIHZhciBfdm0gPSB0aGlzCiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50CiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oCiAgcmV0dXJuIF9jKAogICAgImRpdiIsCiAgICB7CiAgICAgIGRpcmVjdGl2ZXM6IFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiZHJhZ3Njcm9sbCIsCiAgICAgICAgICByYXdOYW1lOiAidi1kcmFnc2Nyb2xsIiwKICAgICAgICAgIHZhbHVlOiBfdm0uZHJhZywKICAgICAgICAgIGV4cHJlc3Npb246ICJkcmFnIgogICAgICAgIH0KICAgICAgXSwKICAgICAgc3RhdGljQ2xhc3M6ICJncmFiLWJpbmciLAogICAgICBhdHRyczogeyBpZDogIm1haW4tdmlldyIgfSwKICAgICAgb246IHsKICAgICAgICBkcmFnc2Nyb2xsbW92ZTogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gX3ZtLmRyYWdCYWNrZ3JvdW5kKCkKICAgICAgICB9LAogICAgICAgIHNjcm9sbDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gX3ZtLm9uU2Nyb2xsKCkKICAgICAgICB9LAogICAgICAgIHdoZWVsOiBfdm0ub25tb3VzZVdoZWVsLAogICAgICAgIG1vdXNlZG93bjogX3ZtLm9ubW91c2VEb3duCiAgICAgIH0KICAgIH0sCiAgICBbCiAgICAgIF9jKAogICAgICAgICJ2LWFwcCIsCiAgICAgICAgeyBzdHlsZTogeyB0cmFuc2Zvcm06ICJzY2FsZSgiICsgX3ZtLnpvb20udmFsdWUgKyAiKSIgfSB9LAogICAgICAgIFsKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQ29tcHVNZXRob2REcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIkNvbXB1TWV0aG9kIiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGVsZW1lbnQ6IGVsZW1lbnQsIGlzRGF0YWlsVmlldzogZmFsc2UgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkRhdGFDb25zdHIsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGF0YUNvbnN0ckRyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiRGF0YUNvbnN0ciIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBlbGVtZW50OiBlbGVtZW50LCBpc0RhdGFpbFZpZXc6IGZhbHNlIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcwogICAgICAgICAgICAgIC5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGUsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQXBwbGljYXRpb25BcnJheURhdGFUeXBlRHJhZygKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICBsZWZ0LAogICAgICAgICAgICAgICAgICAgICAgICB0b3AKICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgIF9jKCJBcHBsaWNhdGlvbkFycmF5RGF0ZSIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBlbGVtZW50OiBlbGVtZW50LCBpc0RhdGFpbFZpZXc6IGZhbHNlIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcwogICAgICAgICAgICAgIC5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkltcGxlbWVudGF0aW9uRGF0YVR5cGVEcmFnKAogICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcAogICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIkltcGxlbWVudGF0aW9uRGF0YVR5cGUiLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZWxlbWVudDogZWxlbWVudCwgaXNEYXRhaWxWaWV3OiBmYWxzZSB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgKSwKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uTWFjaGluZURyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiTWFjaGluZSIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBlbGVtZW50OiBlbGVtZW50LCBpc0RhdGFpbFZpZXc6IGZhbHNlIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50LAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkhXRWxlbWVudERyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiSFdFbGVtZW50IiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGVsZW1lbnQ6IGVsZW1lbnQsIGlzRGF0YWlsVmlldzogZmFsc2UgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbk1hY2hpbmVEZXNpZ25EcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIk1hY2hpbmVEZXNpZ24iLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZWxlbWVudDogZWxlbWVudCwgaXNEYXRhaWxWaWV3OiBmYWxzZSB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgKSwKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbk1vZGVEZWNsYXJhdGlvbkdyb3VwRHJhZygKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICAgICAgICBsZWZ0LAogICAgICAgICAgICAgICAgICAgICAgICB0b3AKICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgIF9jKCJNb2RlRGVjbGFyYXRpb25Hcm91cCIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBlbGVtZW50OiBlbGVtZW50LCBpc0RhdGFpbFZpZXc6IGZhbHNlIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkV0aGVybmV0Q2x1c3RlckRyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiRXRoZXJuZXRDbHVzdGVyIiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LAogICAgICAgICAgICAgICAgICAgICAgaXNEYXRhaWxWaWV3OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIHZpZXdJbmZvOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0NhdGVnb3J5LAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkhXQ2F0ZWdvcnlEcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIkhXQ2F0ZWdvcnkiLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZWxlbWVudDogZWxlbWVudCwgaXNEYXRhaWxWaWV3OiBmYWxzZSB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgKSwKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uCiAgICAgICAgICAgICAgLlByb3RvTWFjaGluZU1hcHBpbmcsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uUHJvdG9NYWNoaW5lTWFwcGluZ0RyYWcoCiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCwKICAgICAgICAgICAgICAgICAgICAgICAgdG9wCiAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiUHJvY2Vzc1RvTWFjaGluZSIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICAgICAgICAgICAgICAgIGlzRGF0YWlsVmlldzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICB2aWV3SW5mbzogbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24KICAgICAgICAgICAgICAuU1dDb21wb25lbnRzLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vblNXQ29tcG9uZW50c0RyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiU1dDb21wb25lbnRzIiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LAogICAgICAgICAgICAgICAgICAgICAgaXNEYXRhaWxWaWV3OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIHZpZXdJbmZvOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vblByb2Nlc3NEcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIlByb2Nlc3MiLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICBpc0RhdGFpbFZpZXc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgdmlld0luZm86IG51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgKSwKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uCiAgICAgICAgICAgICAgLlByb2Nlc3NEZXNpZ24sCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uUHJvY2Vzc0Rlc2lnbkRyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiUHJvY2Vzc0Rlc2lnbiIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICAgICAgICAgICAgICAgIGlzRGF0YWlsVmlldzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICB2aWV3SW5mbzogbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24KICAgICAgICAgICAgICAuRXhlY3V0YWJsZSwKICAgICAgICAgICAgZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICJ2dWUtZHJhZ2dhYmxlLXJlc2l6YWJsZSIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lLWFjdGl2ZSI6ICJteS1hY3RpdmUtY2xhc3MiLAogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lIjogImJhc2ljLWZvcm0iLAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiBfdm0uem9vbS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB4OiBlbGVtZW50LmxlZnQsCiAgICAgICAgICAgICAgICAgICAgeTogZWxlbWVudC50b3AsCiAgICAgICAgICAgICAgICAgICAgdzogNDAwLAogICAgICAgICAgICAgICAgICAgIGg6IDEwMCwKICAgICAgICAgICAgICAgICAgICB6OiBlbGVtZW50LnppbmRleCwKICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFsibXIiLCAibWwiXSwKICAgICAgICAgICAgICAgICAgICAibWluLXdpZHRoIjogNDAwCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25BY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkRlYWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmdW5jdGlvbihsZWZ0LCB0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25FeGVjdXRhYmxlRHJhZyhlbGVtZW50LnV1aWQsIGxlZnQsIHRvcCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgIF9jKCJFeGVjdXRhYmxlIiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LAogICAgICAgICAgICAgICAgICAgICAgaXNEYXRhaWxWaWV3OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIHZpZXdJbmZvOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbgogICAgICAgICAgICAgIC5TdGFydHVwQ29uZmlnLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vblN0YXJ0dXBDb25maWdEcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIlN0YXJ0dXBDb25maWciLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICBpc0RhdGFpbFZpZXc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgdmlld0luZm86IG51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgKSwKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uCiAgICAgICAgICAgICAgLkRldGVybWluaXN0aWNDbGllbnQsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGV0ZXJtaW5pc3RpY0NsaWVudERyYWcoCiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCwKICAgICAgICAgICAgICAgICAgICAgICAgdG9wCiAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiRGV0ZXJtaW5pc3RpY0NsaWVudCIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICAgICAgICAgICAgICAgIGlzRGF0YWlsVmlldzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICB2aWV3SW5mbzogbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UKICAgICAgICAgICAgICAuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uU29tZUlQU2VydmljZURyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiU29tZUlQU2VydmljZSIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBlbGVtZW50OiBlbGVtZW50LCBpc0RhdGFpbFZpZXc6IGZhbHNlIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZSwKICAgICAgICAgICAgZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICJ2dWUtZHJhZ2dhYmxlLXJlc2l6YWJsZSIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lLWFjdGl2ZSI6ICJteS1hY3RpdmUtY2xhc3MiLAogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lIjogImJhc2ljLWZvcm0iLAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiBfdm0uem9vbS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB4OiBlbGVtZW50LmxlZnQsCiAgICAgICAgICAgICAgICAgICAgeTogZWxlbWVudC50b3AsCiAgICAgICAgICAgICAgICAgICAgdzogNDAwLAogICAgICAgICAgICAgICAgICAgIGg6IDEwMCwKICAgICAgICAgICAgICAgICAgICB6OiBlbGVtZW50LnppbmRleCwKICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFsibXIiLCAibWwiXSwKICAgICAgICAgICAgICAgICAgICAibWluLXdpZHRoIjogNDAwCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25BY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkRlYWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmdW5jdGlvbihsZWZ0LCB0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25TZXJ2aWNlSW50ZXJmYWNlRHJhZyhlbGVtZW50LnV1aWQsIGxlZnQsIHRvcCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgIF9jKCJTZXJ2aWNlSW50ZXJmYWNlIiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGVsZW1lbnQ6IGVsZW1lbnQsIGlzRGF0YWlsVmlldzogZmFsc2UgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRFdmVudCwKICAgICAgICAgICAgZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICJ2dWUtZHJhZ2dhYmxlLXJlc2l6YWJsZSIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lLWFjdGl2ZSI6ICJteS1hY3RpdmUtY2xhc3MiLAogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lIjogImJhc2ljLWZvcm0iLAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiBfdm0uem9vbS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB4OiBlbGVtZW50LmxlZnQsCiAgICAgICAgICAgICAgICAgICAgeTogZWxlbWVudC50b3AsCiAgICAgICAgICAgICAgICAgICAgdzogNDAwLAogICAgICAgICAgICAgICAgICAgIGg6IDEwMCwKICAgICAgICAgICAgICAgICAgICB6OiBlbGVtZW50LnppbmRleCwKICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFsibXIiLCAibWwiXSwKICAgICAgICAgICAgICAgICAgICAibWluLXdpZHRoIjogNDAwCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25BY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkRlYWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmdW5jdGlvbihsZWZ0LCB0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25DbGllbnREcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIkNsaWVudCIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICAgICAgICAgICAgICAgIGlzRGF0YWlsVmlldzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICB2aWV3SW5mbzogbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmVyRXZlbnQsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uU2VydmVyRHJhZyhlbGVtZW50LnV1aWQsIGxlZnQsIHRvcCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgIF9jKCJTZXJ2ZXIiLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICBpc0RhdGFpbFZpZXc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgdmlld0luZm86IG51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgKSwKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlCiAgICAgICAgICAgICAgLlNvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZSwKICAgICAgICAgICAgZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICJ2dWUtZHJhZ2dhYmxlLXJlc2l6YWJsZSIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lLWFjdGl2ZSI6ICJteS1hY3RpdmUtY2xhc3MiLAogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lIjogImJhc2ljLWZvcm0iLAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiBfdm0uem9vbS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB4OiBlbGVtZW50LmxlZnQsCiAgICAgICAgICAgICAgICAgICAgeTogZWxlbWVudC50b3AsCiAgICAgICAgICAgICAgICAgICAgdzogNDAwLAogICAgICAgICAgICAgICAgICAgIGg6IDEwMCwKICAgICAgICAgICAgICAgICAgICB6OiBlbGVtZW50LnppbmRleCwKICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFsibXIiLCAibWwiXSwKICAgICAgICAgICAgICAgICAgICAibWluLXdpZHRoIjogNDAwCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25BY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkRlYWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmdW5jdGlvbihsZWZ0LCB0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25Tb21lSVBDbGllbnREcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIlNvbWVJUENsaWVudCIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICAgICAgICAgICAgICAgIGlzRGF0YWlsVmlldzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICB2aWV3SW5mbzogbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UKICAgICAgICAgICAgICAuU29tZUlQU2VydmVyU2VydmljZUluc3RhbmNlLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vblNvbWVJUFNlcnZlckRyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiU29tZUlQU2VydmVyIiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LAogICAgICAgICAgICAgICAgICAgICAgaXNEYXRhaWxWaWV3OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIHZpZXdJbmZvOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uU2VydmljZQogICAgICAgICAgICAgIC5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmUsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uU29tZUlQdG9NYWNoaW5lRHJhZyhlbGVtZW50LnV1aWQsIGxlZnQsIHRvcCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgIF9jKCJTb21lSVB0b01hY2hpbmUiLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICBpc0RhdGFpbFZpZXc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgdmlld0luZm86IG51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgKSwKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlCiAgICAgICAgICAgICAgLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZSwKICAgICAgICAgICAgZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICJ2dWUtZHJhZ2dhYmxlLXJlc2l6YWJsZSIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lLWFjdGl2ZSI6ICJteS1hY3RpdmUtY2xhc3MiLAogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lIjogImJhc2ljLWZvcm0iLAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiBfdm0uem9vbS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB4OiBlbGVtZW50LmxlZnQsCiAgICAgICAgICAgICAgICAgICAgeTogZWxlbWVudC50b3AsCiAgICAgICAgICAgICAgICAgICAgdzogNDAwLAogICAgICAgICAgICAgICAgICAgIGg6IDEwMCwKICAgICAgICAgICAgICAgICAgICB6OiBlbGVtZW50LnppbmRleCwKICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFsibXIiLCAibWwiXSwKICAgICAgICAgICAgICAgICAgICAibWluLXdpZHRoIjogNDAwCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25BY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkRlYWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmdW5jdGlvbihsZWZ0LCB0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25Ub1BvcnRQcm90b3R5cGVEcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIlRvUG9ydFByb3RvdHlwZSIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICAgICAgICAgICAgICAgIGlzRGF0YWlsVmlldzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICB2aWV3SW5mbzogbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKAogICAgICAgICAgICBfdm0uU0FITFByb2plY3RbX3ZtLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVAsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgICAidnVlLWRyYWdnYWJsZS1yZXNpemFibGUiLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZS1hY3RpdmUiOiAibXktYWN0aXZlLWNsYXNzIiwKICAgICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgICBzY2FsZTogX3ZtLnpvb20udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgeDogZWxlbWVudC5sZWZ0LAogICAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICAgIHc6IDQwMCwKICAgICAgICAgICAgICAgICAgICBoOiAxMDAsCiAgICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICAgIm1pbi13aWR0aCI6IDQwMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25EZWFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZnVuY3Rpb24obGVmdCwgdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uUmVxdWlyZWRTb21lSVBEcmFnKGVsZW1lbnQudXVpZCwgbGVmdCwgdG9wKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgX2MoIlJlcXVpcmVkU29tZUlQIiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LAogICAgICAgICAgICAgICAgICAgICAgaXNEYXRhaWxWaWV3OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIHZpZXdJbmZvOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUCwKICAgICAgICAgICAgZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICJ2dWUtZHJhZ2dhYmxlLXJlc2l6YWJsZSIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lLWFjdGl2ZSI6ICJteS1hY3RpdmUtY2xhc3MiLAogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lIjogImJhc2ljLWZvcm0iLAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiBfdm0uem9vbS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB4OiBlbGVtZW50LmxlZnQsCiAgICAgICAgICAgICAgICAgICAgeTogZWxlbWVudC50b3AsCiAgICAgICAgICAgICAgICAgICAgdzogNDAwLAogICAgICAgICAgICAgICAgICAgIGg6IDEwMCwKICAgICAgICAgICAgICAgICAgICB6OiBlbGVtZW50LnppbmRleCwKICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFsibXIiLCAibWwiXSwKICAgICAgICAgICAgICAgICAgICAibWluLXdpZHRoIjogNDAwCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25BY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkRlYWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmdW5jdGlvbihsZWZ0LCB0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25Qcm92aWRlZFNvbWVJUERyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiUHJvdmlkZWRTb21lSVAiLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICBpc0RhdGFpbFZpZXc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgdmlld0luZm86IG51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgMQogICAgICAgICAgICAgICkKICAgICAgICAgICAgfQogICAgICAgICAgKSwKICAgICAgICAgIF92bS5fbCgKICAgICAgICAgICAgX3ZtLlNBSExQcm9qZWN0W192bS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yRG9tYWluLAogICAgICAgICAgICBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9jKAogICAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LnV1aWQsCiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUtYWN0aXZlIjogIm15LWFjdGl2ZS1jbGFzcyIsCiAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAiYmFzaWMtZm9ybSIsCiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHg6IGVsZW1lbnQubGVmdCwKICAgICAgICAgICAgICAgICAgICB5OiBlbGVtZW50LnRvcCwKICAgICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgICAgaDogMTAwLAogICAgICAgICAgICAgICAgICAgIHo6IGVsZW1lbnQuemluZGV4LAogICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogWyJtciIsICJtbCJdLAogICAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkFjdGl2YXRlZChlbGVtZW50LnV1aWQpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uRGVhY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkVycm9yRG9tYWluRHJhZyhlbGVtZW50LnV1aWQsIGxlZnQsIHRvcCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgIF9jKCJBUEVycm9yRG9tYWluIiwgewogICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LAogICAgICAgICAgICAgICAgICAgICAgaXNEYXRhaWxWaWV3OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIHZpZXdJbmZvOiBudWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIDEKICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICksCiAgICAgICAgICBfdm0uX2woCiAgICAgICAgICAgIF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvclNldCwKICAgICAgICAgICAgZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICAgIHJldHVybiBfYygKICAgICAgICAgICAgICAgICJ2dWUtZHJhZ2dhYmxlLXJlc2l6YWJsZSIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC51dWlkLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lLWFjdGl2ZSI6ICJteS1hY3RpdmUtY2xhc3MiLAogICAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lIjogImJhc2ljLWZvcm0iLAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiBfdm0uem9vbS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB4OiBlbGVtZW50LmxlZnQsCiAgICAgICAgICAgICAgICAgICAgeTogZWxlbWVudC50b3AsCiAgICAgICAgICAgICAgICAgICAgdzogNDAwLAogICAgICAgICAgICAgICAgICAgIGg6IDEwMCwKICAgICAgICAgICAgICAgICAgICB6OiBlbGVtZW50LnppbmRleCwKICAgICAgICAgICAgICAgICAgICByZXNpemFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IFsibXIiLCAibWwiXSwKICAgICAgICAgICAgICAgICAgICAibWluLXdpZHRoIjogNDAwCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVkOiBmdW5jdGlvbigkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25BY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkRlYWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmdW5jdGlvbihsZWZ0LCB0b3ApIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25FcnJvclNldERyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICBfYygiQVBFcnJvclNldCIsIHsKICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICAgICAgICAgICAgICAgIGlzRGF0YWlsVmlldzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICB2aWV3SW5mbzogbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAxCiAgICAgICAgICAgICAgKQogICAgICAgICAgICB9CiAgICAgICAgICApLAogICAgICAgICAgX3ZtLl9sKF92bS5TQUhMUHJvamVjdFtfdm0ub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvciwgZnVuY3Rpb24oCiAgICAgICAgICAgIGVsZW1lbnQKICAgICAgICAgICkgewogICAgICAgICAgICByZXR1cm4gX2MoCiAgICAgICAgICAgICAgInZ1ZS1kcmFnZ2FibGUtcmVzaXphYmxlIiwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQudXVpZCwKICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICJjbGFzcy1uYW1lLWFjdGl2ZSI6ICJteS1hY3RpdmUtY2xhc3MiLAogICAgICAgICAgICAgICAgICAiY2xhc3MtbmFtZSI6ICJiYXNpYy1mb3JtIiwKICAgICAgICAgICAgICAgICAgc2NhbGU6IF92bS56b29tLnZhbHVlLAogICAgICAgICAgICAgICAgICB4OiBlbGVtZW50LmxlZnQsCiAgICAgICAgICAgICAgICAgIHk6IGVsZW1lbnQudG9wLAogICAgICAgICAgICAgICAgICB3OiA0MDAsCiAgICAgICAgICAgICAgICAgIGg6IDEwMCwKICAgICAgICAgICAgICAgICAgejogZWxlbWVudC56aW5kZXgsCiAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICBoYW5kbGVzOiBbIm1yIiwgIm1sIl0sCiAgICAgICAgICAgICAgICAgICJtaW4td2lkdGgiOiA0MDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25BY3RpdmF0ZWQoZWxlbWVudC51dWlkKQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBkZWFjdGl2YXRlZDogZnVuY3Rpb24oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkRlYWN0aXZhdGVkKGVsZW1lbnQudXVpZCkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25FcnJvckRyYWcoZWxlbWVudC51dWlkLCBsZWZ0LCB0b3ApCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgIF9jKCJBUEVycm9yIiwgewogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgaXNEYXRhaWxWaWV3OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICB2aWV3SW5mbzogbnVsbAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgMQogICAgICAgICAgICApCiAgICAgICAgICB9KQogICAgICAgIF0sCiAgICAgICAgMgogICAgICApCiAgICBdLAogICAgMQogICkKfQp2YXIgc3RhdGljUmVuZGVyRm5zID0gW10KcmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlCgpleHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9"}]}