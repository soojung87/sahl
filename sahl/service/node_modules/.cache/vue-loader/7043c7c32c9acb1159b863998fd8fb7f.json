{"remainingRequest":"D:\\service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\service\\src\\components\\navigatorbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\service\\src\\components\\navigatorbar.vue","mtime":1667543940208},{"path":"D:\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\service\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJy4uL21haW4nDQppbXBvcnQgY29uc3RhbnQgZnJvbSAiLi4vc3RvcmUvY29uc3RhbnRzLmpzIg0KDQoNCmV4cG9ydCBkZWZhdWx0KHsNCiAgICBjb21wdXRlZDogew0KICAgICAgICBTQUhMUHJvamVjdCAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuU0FITFByb2plY3QNCiAgICAgICAgfSwNCiAgICAgICAgb3BlblByb2plY3RJbmRleCAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3BlblByb2plY3RJbmRleA0KICAgICAgICB9LA0KICAgICAgICBuYXZpZ2F0b3JMaXN0ICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5uYXZpZ2F0b3JMaXN0DQogICAgICAgIH0sDQogICAgICAgIGFjdGl2ZVVVSUQoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRA0KICAgICAgICB9LA0KICAgICAgICBpc21ha2VQcm9qZWN0KCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmlzbWFrZVByb2plY3QNCiAgICAgICAgfSwNCiAgICAgICAgZWxlbWVudExlZnQoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZWxlbWVudExlZnQNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIHdhdGNoOnsNCiAgICAgICAgYWN0aXZlVVVJRCh2YWwpIHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2FjdGl2ZVVVSUQqKiogJysgdmFsKQ0KICAgICAgICAgICAgaWYgKHRoaXMuaXNDcmVhdEVsZW1lbnRNYWluKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0NyZWF0RWxlbWVudE1haW4gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlbm9kZSA9IFtdDQogICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVub2RlLnB1c2godmFsKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrVmFsaWRhdGlvbih2YWwpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGlzbWFrZVByb2plY3QodmFsKSB7DQogICAgICAgICAgICBpZiAoIXZhbCkgew0KICAgICAgICAgICAgICAgIHRoaXMub3BlbklkcyA9IFtdDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgcnVsZXM6IHsgbmFtZTogIFt2YWwgPT4gKHZhbCB8fCAnJykubGVuZ3RoID4gMCBdLH0sDQogICAgICAgICAgICBzaG93TWVudTogZmFsc2UsDQogICAgICAgICAgICB4OiAwLA0KICAgICAgICAgICAgeTogMCwNCiAgICAgICAgICAgIG9wZW5saXN0OiB0cnVlLA0KICAgICAgICAgICAgaXNtZW51OiAwLA0KICAgICAgICAgICAgYWN0aXZlbm9kZTogW10sDQogICAgICAgICAgICBvcGVuSWRzOiBbXSwNCiAgICAgICAgICAgIGRpYWxvZ0RlbGV0ZVByb2plY3Q6IGZhbHNlLA0KICAgICAgICAgICAgc3RyRGVsZXRlOiBudWxsLA0KICAgICAgICAgICAgZGVsZXRBY3RpdmU6IGZhbHNlLCAvLyBtYWluaXZpZXfsl5DshJwgYWN0aXZl7Iuc7YKo7ZuEIOuLqOy2le2CpOuhnCBlbGVtZW50IGRlbGV0Ze2VmOuptCBkZWFjdGl2Ze2VmOuptOyEnCBhY3RpdmVub2Rl6rCS7J20IG51bGzroZwg67CU64CcDQogICAgICAgICAgICByZW5hbWU6IHsgaWQ6IDAsIG5hbWU6IG51bGwsIHBhcmVudDogbnVsbH0sDQogICAgICAgICAgICBpc0NyZWF0RWxlbWVudE1haW46IGZhbHNlLA0KICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgICAgIG1lbnVFbGVtZW50aXRlbXM6IFsNCiAgICAgICAgICAgICAgICAvLyB7IHRpdGxlOiAnUmVuYW1lJywgbWVudUFjdGlvbjogYWN0aW9uID0+IHsgdGhpcy5yZW5hbWVFbGVtZW50KGFjdGlvbikgfSB9LA0KICAgICAgICAgICAgICAgIHsgdGl0bGU6ICdEZWxldGUnLCBtZW51QWN0aW9uOiBhY3Rpb24gPT4geyB0aGlzLmRlbGV0ZUVsZW1lbnQoYWN0aW9uKSB9IH0sDQogICAgICAgICAgICAgICAgeyB0aXRsZTogJ0NvcHkgJiBQYXN0ZScsIG1lbnVBY3Rpb246IGFjdGlvbiA9PiB7IHRoaXMuY29weUVsZW1lbnQoYWN0aW9uKSB9IH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgbWVudUZpcnN0aXRlbXM6IFsNCiAgICAgICAgICAgICAgICB7IHRpdGxlOiAnTmV3JywgICAgbWVudUFjdGlvbjogYWN0aW9uID0+IHsgdGhpcy5uZXdHcm91cEVsZW1lbnQoYWN0aW9uKSB9IH0sDQogICAgICAgICAgICAgICAgeyB0aXRsZTogJ09wZW4nLCAgIG1lbnVBY3Rpb246IGFjdGlvbiA9PiB7IHRoaXMub3BlbkVsZW1lbnQoYWN0aW9uKSB9IH0sDQogICAgICAgICAgICAgICAgeyB0aXRsZTogJ0Nsb3NlJywgICBtZW51QWN0aW9uOiBhY3Rpb24gPT4geyB0aGlzLmNsb3NlRWxlbWVudChhY3Rpb24pIH0gfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBtZW51aXRlbXM6IFsNCiAgICAgICAgICAgICAgICB7IHRpdGxlOiAnTmV3JywgICAgbWVudUFjdGlvbjogYWN0aW9uID0+IHsgdGhpcy5uZXdFbGVtZW50KGFjdGlvbikgfSB9LA0KICAgICAgICAgICAgICAgIHsgdGl0bGU6ICdPcGVuJywgICBtZW51QWN0aW9uOiBhY3Rpb24gPT4geyB0aGlzLm9wZW5FbGVtZW50KGFjdGlvbikgfSB9LA0KICAgICAgICAgICAgICAgIHsgdGl0bGU6ICdDbG9zZScsICAgbWVudUFjdGlvbjogYWN0aW9uID0+IHsgdGhpcy5jbG9zZUVsZW1lbnQoYWN0aW9uKSB9IH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgbWVudVByb2plY3RpdGVtczogWw0KICAgICAgICAgICAgICAgIHsgdGl0bGU6ICdPcGVuIEFsbCcsICAgbWVudUFjdGlvbjogYWN0aW9uID0+IHsgdGhpcy5vcGVuQWxsKGFjdGlvbikgfSB9LA0KICAgICAgICAgICAgICAgIHsgdGl0bGU6ICdDbG9zZSBBbGwnLCAgIG1lbnVBY3Rpb246IGFjdGlvbiA9PiB7IHRoaXMuY2xvc2VBbGwoYWN0aW9uKSB9IH0sDQogICAgICAgICAgICAgICAgeyB0aXRsZTogJ0RlbGV0ZSBQcm9qZWN0JywgbWVudUFjdGlvbjogYWN0aW9uID0+IHsgdGhpcy5kZWxldGVQcm9qZWN0KGFjdGlvbikgfSB9LA0KICAgICAgICAgICAgICAgIHsgdGl0bGU6ICdTYXZlJywgICAgICAgICAgIG1lbnVBY3Rpb246IGFjdGlvbiA9PiB7IHRoaXMuc2F2ZUVsZW1lbnQoYWN0aW9uKSB9IH0sDQogICAgICAgICAgICBdLA0KICAgICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkICgpIHsNCiAgICAgICAgRXZlbnRCdXMuJG9uKCdhZGQtZWxlbWVudCcsIChlbGVtZW50KSA9PiB7IA0KICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gZWxlbWVudCkpew0KICAgICAgICAgICAgICAgIHRoaXMub3Blbklkcy5wdXNoKGVsZW1lbnQpDQogICAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIEV2ZW50QnVzLiRvbignYWN0aXZlLWVsZW1lbnQnLCAodXVpZCkgPT4gew0KICAgICAgICAgICAgaWYgKCF0aGlzLmRlbGV0QWN0aXZlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVub2RlID0gW10NCiAgICAgICAgICAgICAgICBpZiAodXVpZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlbm9kZS5wdXNoKHV1aWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICBFdmVudEJ1cy4kb24oJ25ldy1maWxlJywgKCkgPT4ge3RoaXMubmV3RWxlbWVudCgpfSkNCiAgICAgICAgRXZlbnRCdXMuJG9uKCdkZWxldGUtZmlsZScsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuaXNtZW51ID0gMg0KICAgICAgICAgICAgdGhpcy5kZWxldEFjdGl2ZSA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuZGVsZXRlRWxlbWVudCgpDQogICAgICAgIH0pDQogICAgICAgIEV2ZW50QnVzLiRvbignZGVsZXRlLXByb2plY3QnLCAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmlzbWVudSA9IDANCiAgICAgICAgICAgIHRoaXMuZGVsZXRlUHJvamVjdCgpDQogICAgICAgIH0pDQogICAgICAgIEV2ZW50QnVzLiRvbignY29weS1maWxlJywgKCkgPT4ge3RoaXMuY29weUVsZW1lbnQoKX0pDQogICAgICAgIEV2ZW50QnVzLiRvbignb3BlbkFsbC1MaXN0JywgKHV1aWQpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvcGVuQWxsLUxpc3QnKQ0KICAgICAgICAgICAgaWYgKHV1aWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlbm9kZS5wdXNoKHV1aWQpDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLm9wZW5BbGwoKQ0KICAgICAgICB9KQ0KICAgIH0sDQoNCiAgICBtZXRob2RzOiB7DQogICAgICAgIHNob3cgKGUsIGlzcHJvamVjdG1lbnUpIHsNCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKQ0KICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSAhPSBudWxsIHx8IGlzcHJvamVjdG1lbnUgPT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNtZW51ID0gMw0KICAgICAgICAgICAgICAgIGlmIChpc3Byb2plY3RtZW51ID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc21lbnUgPSBpc3Byb2plY3RtZW51DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0uaW5kZXhPZignLScpICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNtZW51ID0gMg0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoISh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuRGF0ZVR5cGVfc3RyIHx8IHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5TZXJ2aWNlX3N0ciB8fCB0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHINCiAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50Lk1hY2hpbmVzX3N0ciB8fCB0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuUGxhdGZvcm1fc3RyIHx8DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5QRVJfc3RyIHx8IHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5QSE1fc3RyIHx8IHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5OTV9zdHIgfHwgdGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkxvZ19zdHINCiAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LklBTV9zdHIgfHwgdGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlVDTV9zdHIpKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNtZW51ID0gaXNwcm9qZWN0bWVudQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZW51ID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnggPSBlLmNsaWVudFgNCiAgICAgICAgICAgICAgICB0aGlzLnkgPSBlLmNsaWVudFkNCiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lbnUgPSB0cnVlDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgb3Blbk5vZGUoKSB7DQogICAgICAgICAgICAvL2FsZXJ0KHRoaXMub3BlbklkcykNCiAgICAgICAgfSwNCiAgICAgICAgbmV3RWxlbWVudCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gIT0gbnVsbCAmJiB0aGlzLmFjdGl2ZW5vZGVbMF0uaW5kZXhPZignLScpID09PSAtMSkgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNDcmVhdEVsZW1lbnRNYWluID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WCt0aGlzLiRzdG9yZS5zdGF0ZS5lbGVtZW50TGVmdC8vLTU1MC8vQXJyYXkuZnJvbSh7bGVuZ3RoOjR9LCAoKSA9PiAtNTUwKS8vQXJyYXkuZnJvbSh7bGVuZ3RoOjR9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MDApKSANCiAgICAgICAgICAgICAgICAvL2NvbnN0IGVsZW1lbnRZID0gLTUwLy9BcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IC01MCkvL0FycmF5LmZyb20oe2xlbmd0aDo0fSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTAwKSkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkNvbXB1TWV0aG9kX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRDb21wdU1laHRvZCcsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUNvbXB1TWV0aG9kLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGNhdGVnb3J5OicnLCBhdHRyaWJ1dGVOYW1lOiAnJywgc2NhbGVzOltdLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkRhdGFDb25zdHJfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudERhdGFDb25zdHInLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVEYXRhQ29uc3RyLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGxvd2VybGltaXQ6JycsIHVwcGVybGltaXQ6JycsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuU1dCYXNlVHlwZV9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50U1dCYXNlVHlwZScsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVNXQmFzZVR5cGUsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgY2F0ZWdvcnk6JycsIGVuY29kaW5nOicnLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkFwcGxpY2F0aW9uQXJyYXlfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudEFwcGxpY2F0aW9uQXJyYXknLCB7IC8vIGVsZWhhbmRsaW5nLCBlbGVzZW1hbnRpY3Mg64qUIHNlbGVjdOudvOyEnCDstIjquLDqsJLsnbQgbnVsbOydtOuLpC4NCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUFwcGxpY2F0aW9uQXJyYXksICBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6JycsIGR5bmFtaWNBcnJ5U2l6ZTonJywgZWxlbmFtZTogJycsIGVsZWhhbmRsaW5nOiBudWxsLCBlbGVzZW1hbnRpY3M6IG51bGwsIGVsZW1heG51bWJlcjonJywgDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuSW1wbGVtZW50YXRpb25fc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudEltcGxlbWVudGF0aW9uJywgeyAvL3R5cGVyZWYsIHRlbXBsYXRldHlwZSAg64qUIG51bGztlbTspJjslbztlZzri6QuIGNsZWFyYWJsZe2VmOuptCDqsJLsnbQgbnVsbOuzgO2VmOq4sCDrlYzrrLjsl5AgDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVJbXBsZW1lbnRhdGlvbiwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCAgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTonJywgbmFtZXNwYWNlOicnLCBhcnJheXNpemU6JycsIHR5cGVlbWl0dGVyOicnLCANCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVyZWY6IG51bGwsIHRlbXBsYXRldHlwZTpbXSwgZGVzYzonJywgdHJhY2VOYW1lOiAnJywgdHJhY2U6IFtdLCBkZHBjOltdLCBpZHRlbGVtZW50OltdLA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50Lk1hY2hpbmVfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIC8qdmFyIG5hbWVNYWNoaW5lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lTWFjaGluZQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNb2RlRGVjbGFyYXRpb25Hcm91cCcsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVNYWNoaW5lKydfTWFjaGluZVN0YXRlX01vZGVEZWNsYXJhdGlvbkdyb3VwJywgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKSwgbGVmdDogQXJyYXkuZnJvbSh7bGVuZ3RoOjR9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzMDAwKSksIA0KICAgICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgbW9kZWRlY2xhcmF0aW9uOlt7bmFtZTogJ09mZicsIHZhbHVlOiAnJ30se25hbWU6ICdTdGFydHVwJywgVmFsdWU6ICcnfSx7bmFtZTogJ1J1bm5pbmcnLCBWYWx1ZTogJyd9LHtuYW1lOiAnU2h1dGRvd24nLCBWYWx1ZTogJyd9XSwgaW5pdG1vZGU6J09mZicsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLm9wZW5JZHMuc29tZShpdGVtID0+IGl0ZW0gPT09IGNvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX3N0cikpew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudE1hY2hpbmUnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lTWFjaGluZSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWFjaGluZWRlc2lnbjpudWxsLCBlbnRlclRpbWVvdXQ6JycsIGV4aXRUaW1lb3V0OicnLCBod2VsZW1lbnQ6W10sIGV4ZWN1dGFibGU6bnVsbCwgYWRtaW46ICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25ncm91cDpbe25hbWU6J01hY2hpbmVTdGF0ZScsIHR5cGU6Jy8nK25hbWVNYWNoaW5lKydfTWFjaGluZVN0YXRlX01vZGVEZWNsYXJhdGlvbkdyb3VwJ31dLCBlbnZpcm9uOiBbXSwgcHJvY2Vzc29yOiBbXSwgbW9kdWxlaW5zdGFudDogW10sIHVjbTogW10sIGlhbTogW10sIGNyeXB0bzogW10NCiAgICAgICAgICAgICAgICAgICAgfSkqLw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNYWNoaW5lJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lTWFjaGluZSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1hY2hpbmVkZXNpZ246bnVsbCwgZW50ZXJUaW1lb3V0OicnLCBleGl0VGltZW91dDonJywgaHdlbGVtZW50OltdLCBleGVjdXRhYmxlOm51bGwsIGFkbWluOiAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uZ3JvdXA6W10sIGVudmlyb246IFtdLCBwcm9jZXNzb3I6IFtdLCBtb2R1bGVpbnN0YW50OiBbXSwgdWNtOiBbXSwgaWFtOiBbXSwgY3J5cHRvOiBbXQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNYWNoaW5lRGVzaWduJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lTWFjaGluZURlc2lnbiwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBhY2Nlc3M6IG51bGwsIHJlc2V0dGltZXI6JycsIGNvbm5lY3RvcjpbXSwgc2VydmljZWRpc2NvdmVyOltdLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNb2RlRGVjbGFyYXRpb25Hcm91cCcsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZU1vZGVEZWNsYXJhdGlvbkdyb3VwLCAgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBtb2RlZGVjbGFyYXRpb246W3tuYW1lOiAnT2ZmJywgdmFsdWU6ICcnLCBpZDogMH0se25hbWU6ICdTdGFydHVwJywgVmFsdWU6ICcnLCBpZDogMX1dLCBpbml0bW9kZTonT2ZmJywgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5IV0VsZW1lbnRfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudEhXRWxlbWVudCcsIHsgLy9jYXRlZ29yeSDripQgbnVsbO2VtOykmOyVvO2VnOuLpC4gY2xlYXJhYmxl7ZWY66m0IOqwkuydtCBudWxs67OA7ZWY6riwIOuVjOusuOyXkCANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUhXRWxlbWVudCwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBjYXRlZ29yeTpudWxsLCBhdHRyaWJ1dGU6W10sIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuSFdDYXRlZ29yeV9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50SFdDYXRlZ29yeScsIHsgDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVIV0NhdGVnb3J5LCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiBbXQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRFdGhlcm5ldENsdXN0ZXInLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVFdGhlcm5ldENsdXN0ZXIsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgY29uZGl0aW9uYWw6W10sIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuUHJvY2Vzc3RvTWFjaGluZU1hcHBpbmdfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFByb3RvTWFjaGluZU1hcHBpbmcnLCB7IC8vcHRtbU1hY2hpbmUsIHB0bW1Qcm9jZXNzICDripQgbnVsbO2VtOykmOyVvO2VnOuLpC4gY2xlYXJhYmxl7ZWY66m0IOqwkuydtCBudWxs67OA7ZWY6riwIOuVjOusuOyXkCANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVByb2Nlc3N0b01hY2hpbmVNYXBwaW5nLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGluZzogW10sDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuU1dDb21wb25lbnRzX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRTV0NvbXBvbmVudHMnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTV0NvbXBvbmVudHMsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBwcG9ydDogW10sIHJwb3J0OiBbXSwgcHJwb3J0OiBbXSwNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5Qcm9jZXNzX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRQcm9jZXNzJywgeyAvL3Byb2Rlc2lnbiwgZGV0ZXJtaW4sIGV4ZWN1dCwgbWFjaGluZXR5cGUgIOuKlCBudWxs7ZW07KSY7JW87ZWc64ukLiBjbGVhcmFibGXtlZjrqbQg6rCS7J20IG51bGzrs4DtlZjquLAg65WM66y47JeQIA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lUHJvY2VzcywgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0xldmVsOiBudWxsLCBsb2dQYXRoOiAnJywgbG9nUHJvRGVzYzogJycsIGxvZ1Byb0lEOiAnJywgcmVzdGFydDogJycsIHByZU1hcHBpbmc6IG51bGwsIGxvZ01vZGU6IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvZGVzaWduOiBudWxsLCBkZXRlcm1pbjogbnVsbCwgZXhlY3V0OiBudWxsLCBtYWNoaW5uYW1lOiAnJywgbWFjaGluZXR5cGU6IG51bGwsIGRlcGVuZGVudDogW10NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5Qcm9jZXNzRGVzaWduX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRQcm9jZXNzRGVzaWduJywgeyAvL2V4ZWN1dGFibGVyZWYg64qUIG51bGztlbTspJjslbztlZzri6QuIGNsZWFyYWJsZe2VmOuptCDqsJLsnbQgbnVsbOuzgO2VmOq4sCDrlYzrrLjsl5AgDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVQcm9jZXNzRGVzaWduLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRhYmxlcmVmOiBudWxsLCBkZXRlcm1pbjogW10sDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuRXhlY3V0YWJsZV9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50RXhlY3V0YWJsZScsIHsgLy9hcHBsaWNhdGlvbnR5cGVyZWYg64qUIG51bGztlbTspJjslbztlZzri6QuIGNsZWFyYWJsZe2VmOuptCDqsJLsnbQgbnVsbOuzgO2VmOq4sCDrlYzrrLjsl5AgDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVFeGVjdXRhYmxlLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogJycsIGNhdGVnb3J5OicnLCBidWlsZFR5cGU6bnVsbCwgbG9nZ2luZ0JlaGFiaW9yOm51bGwsIHJlcG9ydGluZ0JlaGFiaW9yOm51bGwsIHN3bmFtZTonJywgYXBwbGljYXRpb250eXBlcmVmOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlN0YXJ0dXBDb25maWdfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFN0YXJ0dXBDb25maWcnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTdGFydHVwQ29uZmlnLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBbXQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkRldGVybWluaXN0aWNDbGllbnRfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudERldGVybWluaXN0aWNDbGllbicsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZURldGVybWluaXN0aWNDbGllbnQsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBjeWNsZXRpZW06ICcnLCBudW1vZndvcmtlcnM6ICcnLA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRTb21lSVBTZXJ2aWNlJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lU29tZUlQU2VydmljZSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6IG51bGwsIG1hanZlcnNpb246JycsIG1pbnZlcnNpb246JycsIGlkOiAnJywgZXZlbnRHOltdLCBldmVudEQ6IFtdLCBtZXRob2REOltdLCBmaWVsZEQ6W10sDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50U2VydmljZScsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVNlcnZpY2VJbnRlcmZhY2UsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uTWFqOicnLCB2ZXJzaW9uTWluOicnLCBuYW1lc3BhY2U6JycsIGV2ZW50czpbXSwgZmllbGRzOltdLCBtZXRob2RzOltdLCBpc3NlcnZpY2U6IG51bGwsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuQ2xpZW50X3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRDbGllbnQnLCB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lQ2xpZW50LCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlkZWxheTogJycsIHJldHJ5bWF4OiAnJywgdGltZXRvbGl2ZTogJycsIGRlbGF5bWF4OiAnJywgZGVsYXltaW46JycNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5TZXJ2ZXJfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFNlcnZlcicsIHsgDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTZXJ2ZXIsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBkZWxheW1heDogJycsIGRlbGF5bWluOiAnJywNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5Tb21lSVBDbGllbnRfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFNvbWVJUENsaWVudCcsIHsgDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTb21lSVBDbGllbnQsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBmaW5kdGltZTogJycsIGluaWRlbGF5bWF4OiAnJywgaW5pZGVsYXltaW46ICcnLCBpbmliYXNlZGVsYXk6ICcnLCBpbmlyZXBldGltYXg6ICcnLA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlNvbWVJUFNlcnZlcl9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50U29tZUlQU2VydmVyJywgeyANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVNvbWVJUFNlcnZlciwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGluaWRlbGF5bWF4OiAnJywgaW5pZGVsYXltaW46ICcnLCBpbmliYXNlZGVsYXk6ICcnLCBpbmlyZXBldGltYXg6ICcnLCBkZWxheW1heDogJycsIGRlbGF5bWluOiAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyOiAnJywgdGltZXRvbGl2ZTogJycsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuU29tZUlQVG9NYWNoaW5lTWFwcGluZ19zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50U29tZUlQdG9NYWNoaW5lJywgeyAvL2NjcmVmLCBzaXJlZiAg64qUIG51bGztlbTspJjslbztlZzri6QuIGNsZWFyYWJsZe2VmOuptCDqsJLsnbQgbnVsbOuzgO2VmOq4sCDrlYzrrLjsl5AgDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTb21lSVB0b01hY2hpbmUsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBjY3JlZjogbnVsbCwgc2VydmljZUk6IFtdLCB0Y3A6JycsIHVkcDogJycsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50VG9Qb3J0UHJvdG90eXBlJywgeyANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVRvUG9ydFByb3RvdHlwZSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFBvcnQ6bnVsbCwgcG9ydHR5cGU6IG51bGwsIGNvbnRleHQ6IG51bGwsIHByb2Nlc3M6bnVsbCwgc2VsZWN0U2VydmljZUluczogbnVsbCwgc2VydmljZUluczogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50UmVxdWlyZWRTb21lSVAnLCB7ICAvL2RlcGxveXJlZiwgY2xpZW50cmVmLHZlcuuKlCBudWxs7ZW07KSY7JW87ZWc64ukLiBjbGVhcmFibGXtlZjrqbQg6rCS7J20IG51bGzrs4DtlZjquLAg65WM66y47JeQIA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lUmVxdWlyZWRTb21lSVAsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3lyZWY6IG51bGwsIG1pbm9ydmVyOiAnJywgaWQ6ICcnLCBzb21laXBjbGllbnQ6IG51bGwsIHZlcjogbnVsbCwgbWV0aG9kOiBbXSwgcmVxdWlyZWRldmVudDogW10sIEUyRUV2ZW50OiBbXSwgRTJFTWV0aG9kOiBbXQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlByb3ZpZGVkU29tZUlQX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRQcm92aWRlZFNvbWVJUCcsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVByb3ZpZGVkU29tZUlQLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95cmVmOiBudWxsLCBzb21laXBzZXJ2ZXI6IG51bGwsIGluc3RhbmNlaWQ6ICcnLCBsb2FkUHJpb3JpdHk6ICcnLCBsb2FkV2VpZ2h0OiAnJywgZXZlbnRQOiBbXSwgbWV0aG9kOiBbXSwgZXZlbnRHOiBbXSwgRTJFRXZlbnQ6IFtdLCBFMkVNZXRob2Q6IFtdDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuRTJFUHJvZmlsZUNvbmZpZ19zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50RTJFUHJvZmlsZUNvbmZpZycsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUUyRVByb2ZpbGVDb25maWcsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlOiBbXQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlNER19ERUZfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFNER19ERUYnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTREdfREVGLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2RnQ2xhc3M6IFtdDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuRXJyb3Jfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudEVycm9yJywgeyAvL2Vycm9yRHJlZiDripQgbnVsbO2VtOykmOyVvO2VnOuLpC4gY2xlYXJhYmxl7ZWY66m0IOqwkuydtCBudWxs67OA7ZWY6riwIOuVjOusuOyXkCANCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUVycm9yLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJycsIGVycm9yY29kZTogJycsIGVycm9yRHJlZjogbnVsbA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkVycm9yc2V0X3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRFcnJvclNldCcsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUVycm9yU2V0LCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JyZWY6IFtdLA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkVycm9yRG9tYWluX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRFcnJvckRvbWFpbicsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUVycm9yRG9tYWluLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiAnJywgdmFsdWU6ICcnLA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkZpbGVBcnJheV9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50UEVSRmlsZUFycmF5Jywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lUEVSRmlsZUFycmF5LCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDp0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBzZGdzOiBbXSwgbWF4U2l6ZTogJycsIG1pbmlTaXplOiAnJywgdXBkYXRlUzogbnVsbCwgdXJpOiAnJywgZmlsZXM6IFtdLA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkZpbGVQcm94eUludGVyZl9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50UEVSRmlsZVByb3h5Jywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lUEVSRmlsZVByb3h5LCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICcnLCBtaW5pc2l6ZTogJycsIHJlZHVuZGFuY3k6IG51bGwsIHVwZGF0ZVM6IG51bGwsIGVuY29kaW5nOiAnJywgcHJveHk6IFtdLCBtYXhmaWxlczogJycNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5LZXlWYWx1ZURhdGFfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFBFUktleVZhbHVlRCcsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVBFUktleVZhbHVlRCwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNkZ3M6IFtdLCBtYXhTaXplOiAnJywgbWluaVNpemU6ICcnLCB1cGRhdGVTOiBudWxsLCB1cmk6ICcnLCByZWR1bmRhbmN5OiBbXSwga2V5VmFsdWU6IFtdDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuS2V5VmFsdWVESV9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50UEVSS2V5VmFsdWVESScsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVBFUktleVZhbHVlREksIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBtaW5pc2l6ZTogJycsIHJlZHVuZGFuY3k6IG51bGwsIHVwZGF0ZVM6IG51bGwsIGRhdGE6IFtdLCBzZXJpYWxpemF0aW9uOiBbXQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlBvcnRQcm90b0ZpbGVBX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRQRVJQUHRvRmlsZUFycmF5Jywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lUEVSUFB0b0ZpbGVBcnJheSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVBcnJheTogbnVsbCwgcG9ydDogbnVsbCwgcHJvY2VzczogbnVsbA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlBvcnRQcm90b0tleVZfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFBFUlBQdG9LZXlWYWx1ZScsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVBFUlBQdG9LZXlWYWx1ZSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGtleVZhbHVlOiBudWxsLCBwb3J0OiBudWxsLCBwcm9jZXNzOiBudWxsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuUGxhdGZvcm1IZWFsdGhNYW5hZ0Nfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFBITUNvbnRyaWJ1dGlvbicsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVBITUNvbnRyaWJ1dGlvbiwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5Db250cml0b01hY2hpbmVfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFBITXRvTWFjaGluZScsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVBITXRvTWFjaGluZSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1hY2hpbmU6IG51bGwsIGNvbnRyaTogW10NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5IZWFsdGhDaGFubmVsX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRQSE1IZWFsdGgnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVQSE1IZWFsdGgsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFtdDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuUmVjb3ZlcnlWQV9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50UEhNUmVjb3ZlcnknLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVQSE1SZWNvdmVyeSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29uYW1lOiAnJywgZmFmOiBudWxsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuUEhNU3VwZXJ2aXNlZF9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50UEhNU3VwZXJ2aXNlZCcsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVBITVN1cGVydmlzZWQsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBjaGVja3BvaW50OiBbXQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LlJlY292ZXJ5QWN0aW9uSW50ZXJmX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRSZWNvdmVyeVZpYScsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVJlY292ZXJ5VmlhLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VzczogbnVsbCwgc3djb21wb25lbnQ6IG51bGwsIHBvcnQ6IG51bGwsIHBobVJlY292ZXJ5OiBudWxsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuQ29tTWV0aG9kR0Rlc2lnbl9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50TWV0aG9kR0QnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVNZXRob2RHRCwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEOiBudWxsLCBTSU1ldGhvZDogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5Db21FdmVudEdEZXNpZ25fc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudEV2ZW50R0QnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVFdmVudEdELCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Q6IG51bGwsIFNJRXZlbnQ6IG51bGwsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRGaWVsZEdEJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lRmllbGRHRCwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IGVsZW1lbnRYLCB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEOiBudWxsLCBTSUZpZWxkOiBudWxsLCByb2xlOiBudWxsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuQ29tTWV0aG9kR3JhbnRfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudE1ldGhvZEcnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVNZXRob2RHLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kRDogbnVsbCwgcHJvdmlkZTogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5Db21FdmVudEdyYW50X3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRFdmVudEcnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVFdmVudEcsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBldmVudEQ6IG51bGwsIHByb3ZpZGU6IG51bGwsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuQ29tRmllbGRHcmFudF9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRFbGVtZW50RmllbGRHJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lRmllbGRHLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogZWxlbWVudFgsIHppbmRleDogMTAsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgZmllbGREOiBudWxsLCBwcm92aWRlOiBudWxsLCByb2xlOiBudWxsDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuU1dDbHVzdGVyX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRTb2Z0V2FyZUNsdXN0ZXInLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTb2Z0V2FyZUNsdXN0ZXIsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJycsIGlkVmVuZG9yOiAnJywgdmVyc2lvbjogJycsIHNkZ3M6IFtdLCBleGVjdXRhYmxlOiBbXSwgbWFjaGluZUQ6IFtdLCB0b01hY2hpbmU6IFtdLCBwcm9jZXNzOiBbXSwgc3N3YzogW10sDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuU1dQYWNrYWdlX3N0cikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRTb2Z0V2FyZVBhY2thZ2UnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTb2Z0V2FyZVBhY2thZ2UsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IG51bGwsIGFjdGl2YXRpb246IG51bGwsIGNvbXBTV1BzaXplOiAnJywgZGVsdGFQYWthZ2U6IG51bGwsIG1heGltdW5WZXI6ICcnLCBtaW5pbXVuVmVyOiAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJywgcG9zdFJlYm9vdDogbnVsbCwgcHJlUmVib290OiBudWxsLCBzd2NsdXN0ZXI6IG51bGwsIHVuY29tcFNXQ3NpemU6ICcnDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gPT0gY29uc3RhbnQuVmVoaWNsZVBhY2thZ2Vfc3RyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFZlaGljbGVQYWNrYWdlJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lVmVoaWNsZVBhY2thZ2UsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiBlbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICByZXBvc2k6ICcnLCBzZGdzOiBbXSwgZHJpdmVyOiBbXSwgcm9sbG91dDogW10sIHVjbXM6IFtdLA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmKCF0aGlzLm9wZW5JZHMuc29tZShpdGVtID0+IGl0ZW0gPT09IHRoaXMuYWN0aXZlbm9kZVswXSkpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5JZHMucHVzaCh0aGlzLmFjdGl2ZW5vZGVbMF0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBuZXdHcm91cEVsZW1lbnQoKSB7DQogICAgICAgICAgICAvL2NvbnN0IGVsZW1lbnRYID0gLTU1MC8vQXJyYXkuZnJvbSh7bGVuZ3RoOjR9LCAoKSA9PiAtNTUwKS8vQXJyYXkuZnJvbSh7bGVuZ3RoOjR9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MDApKSANCiAgICAgICAgICAgIC8vY29uc3QgZWxlbWVudFkgPSAtNTAvL0FycmF5LmZyb20oe2xlbmd0aDo0fSwgKCkgPT4gLTUwKS8vQXJyYXkuZnJvbSh7bGVuZ3RoOjR9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MDApKQ0KDQogICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVub2RlWzBdID09IGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25fc3RyKSB7DQogICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFByb3RvTWFjaGluZU1hcHBpbmcnLCB7IA0KICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVQcm9jZXNzdG9NYWNoaW5lTWFwcGluZywgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WCwgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIA0KICAgICAgICAgICAgICAgICAgICBtYXBwaW5nOiBbXSwNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGlmKCF0aGlzLm9wZW5JZHMuc29tZShpdGVtID0+IGl0ZW0gPT09IGNvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX3N0cikpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5JZHMucHVzaChjb25zdGFudC5Qcm9jZXNzdG9NYWNoaW5lTWFwcGluZ19zdHIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFNXQ29tcG9uZW50cycsIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lU1dDb21wb25lbnRzLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRYLCANCiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHBwb3J0OiBbXSwgcnBvcnQ6IFtdLCBwcnBvcnQ6IFtdLA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gY29uc3RhbnQuU1dDb21wb25lbnRzX3N0cikpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5JZHMucHVzaChjb25zdGFudC5TV0NvbXBvbmVudHNfc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRQcm9jZXNzJywgeyANCiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lUHJvY2VzcywgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WCwNCiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGxvZ0xldmVsOiBudWxsLCBsb2dQYXRoOiAnJywgbG9nUHJvRGVzYzogJycsIGxvZ1Byb0lEOiAnJywgcmVzdGFydDogJycsIHByZU1hcHBpbmc6IG51bGwsIGxvZ01vZGU6IFtdLA0KICAgICAgICAgICAgICAgICAgICBwcm9kZXNpZ246IG51bGwsIGRldGVybWluOiBudWxsLCBleGVjdXQ6IG51bGwsIG1hY2hpbm5hbWU6ICcnLCBtYWNoaW5ldHlwZTogbnVsbCwgZGVwZW5kZW50OiBbXQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gY29uc3RhbnQuUHJvY2Vzc19zdHIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuUHJvY2Vzc19zdHIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudFByb2Nlc3NEZXNpZ24nLCB7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZVByb2Nlc3NEZXNpZ24sIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFgsDQogICAgICAgICAgICAgICAgICAgIHppbmRleDogMTAsaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGV4ZWN1dGFibGVyZWY6IG51bGwsIGRldGVybWluOiBbXSwNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGlmKCF0aGlzLm9wZW5JZHMuc29tZShpdGVtID0+IGl0ZW0gPT09IGNvbnN0YW50LlByb2Nlc3NEZXNpZ25fc3RyKSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbklkcy5wdXNoKGNvbnN0YW50LlByb2Nlc3NEZXNpZ25fc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRFeGVjdXRhYmxlJywgeyANCiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lRXhlY3V0YWJsZSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WCwNCiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHZlcnNpb246ICcnLCBjYXRlZ29yeTonJywgYnVpbGRUeXBlOm51bGwsIGxvZ2dpbmdCZWhhYmlvcjpudWxsLCByZXBvcnRpbmdCZWhhYmlvcjpudWxsLCBzd25hbWU6JycsIGFwcGxpY2F0aW9udHlwZXJlZjogbnVsbCwNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGlmKCF0aGlzLm9wZW5JZHMuc29tZShpdGVtID0+IGl0ZW0gPT09IGNvbnN0YW50LkV4ZWN1dGFibGVfc3RyKSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbklkcy5wdXNoKGNvbnN0YW50LkV4ZWN1dGFibGVfc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRTdGFydHVwQ29uZmlnJywgew0KICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVTdGFydHVwQ29uZmlnLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsIGlucHV0OiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRYLA0KICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDEwLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBbXQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gY29uc3RhbnQuU3RhcnR1cENvbmZpZ19zdHIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuU3RhcnR1cENvbmZpZ19zdHIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudERldGVybWluaXN0aWNDbGllbicsIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lRGV0ZXJtaW5pc3RpY0NsaWVudCwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WCwNCiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGN5Y2xldGllbTogJycsIG51bW9md29ya2VyczogJycsDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBpZighdGhpcy5vcGVuSWRzLnNvbWUoaXRlbSA9PiBpdGVtID09PSBjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X3N0cikpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5JZHMucHVzaChjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X3N0cikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSA9PSBjb25zdGFudC5NYWNoaW5lc19zdHIpIHsNCiAgICAgICAgICAgICAgICBpZighdGhpcy5vcGVuSWRzLnNvbWUoaXRlbSA9PiBpdGVtID09PSBjb25zdGFudC5NYWNoaW5lc19zdHIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuTWFjaGluZXNfc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvKnZhciBuYW1lTWFjaGluZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZU1hY2hpbmUNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNb2RlRGVjbGFyYXRpb25Hcm91cCcsIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZU1hY2hpbmUrJ19NYWNoaW5lU3RhdGVfTW9kZURlY2xhcmF0aW9uR3JvdXAnLCBwYXRoOiAnJywgaXNWaXNpYmxlIDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRvcDogQXJyYXkuZnJvbSh7bGVuZ3RoOjR9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzMDAwKSksIGxlZnQ6IEFycmF5LmZyb20oe2xlbmd0aDo0fSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzAwMCkpLCANCiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgbW9kZWRlY2xhcmF0aW9uOlt7bmFtZTogJ09mZicsIHZhbHVlOiAnJ30se25hbWU6ICdTdGFydHVwJywgVmFsdWU6ICcnfSx7bmFtZTogJ1J1bm5pbmcnLCBWYWx1ZTogJyd9LHtuYW1lOiAnU2h1dGRvd24nLCBWYWx1ZTogJyd9XSwgaW5pdG1vZGU6J09mZicsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBpZighdGhpcy5vcGVuSWRzLnNvbWUoaXRlbSA9PiBpdGVtID09PSBjb25zdGFudC5Nb2RlRGVjbGFyYXRpb25Hcm91cF9zdHIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNYWNoaW5lJywgew0KICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lTWFjaGluZSwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICB0b3A6IEFycmF5LmZyb20oe2xlbmd0aDo0fSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzAwMCkpLCBsZWZ0OiBBcnJheS5mcm9tKHtsZW5ndGg6NH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMDApKSwgDQogICAgICAgICAgICAgICAgICAgIHppbmRleDogMTAsIG1hY2hpbmVkZXNpZ246bnVsbCwgZW50ZXJUaW1lb3V0OicnLCBleGl0VGltZW91dDonJywgaHdlbGVtZW50OltdLCBleGVjdXRhYmxlOm51bGwsIGFkbWluOiAnJywNCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25ncm91cDpbe25hbWU6J01hY2hpbmVTdGF0ZScsIHR5cGU6Jy8nK25hbWVNYWNoaW5lKydfTWFjaGluZVN0YXRlX01vZGVEZWNsYXJhdGlvbkdyb3VwJ31dLCBlbnZpcm9uOiBbXSwgcHJvY2Vzc29yOiBbXSwgbW9kdWxlaW5zdGFudDogW10sIHVjbTogW10sIGlhbTogW10sIGNyeXB0bzogW10sIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgfSkqLw0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudE1hY2hpbmUnLCB7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZU1hY2hpbmUsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFgsDQogICAgICAgICAgICAgICAgICAgIHppbmRleDogMTAsIG1hY2hpbmVkZXNpZ246bnVsbCwgZW50ZXJUaW1lb3V0OicnLCBleGl0VGltZW91dDonJywgaHdlbGVtZW50OltdLCBleGVjdXRhYmxlOm51bGwsIGFkbWluOiAnJywNCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25ncm91cDpbXSwgZW52aXJvbjogW10sIHByb2Nlc3NvcjogW10sIG1vZHVsZWluc3RhbnQ6IFtdLCB1Y206IFtdLCBpYW06IFtdLCBjcnlwdG86IFtdLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gY29uc3RhbnQuTWFjaGluZV9zdHIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuTWFjaGluZV9zdHIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkRWxlbWVudE1hY2hpbmVEZXNpZ24nLCB7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZU1hY2hpbmVEZXNpZ24sIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFgsDQogICAgICAgICAgICAgICAgICAgIHppbmRleDogMTAsIGFjY2VzczogbnVsbCwgcmVzZXR0aW1lcjonJywgY29ubmVjdG9yOltdLCBzZXJ2aWNlZGlzY292ZXI6W10sIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBpZighdGhpcy5vcGVuSWRzLnNvbWUoaXRlbSA9PiBpdGVtID09PSBjb25zdGFudC5NYWNoaW5lRGVzaWduZV9zdHIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuTWFjaGluZURlc2lnbmVfc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRNb2RlRGVjbGFyYXRpb25Hcm91cCcsIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYW1lTW9kZURlY2xhcmF0aW9uR3JvdXAsIHBhdGg6ICcnLCBpc1Zpc2libGUgOiBmYWxzZSwgaW5wdXQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFksIGxlZnQ6IHRoaXMuJHNldFBvc2l0aW9uRWxlbWVudFgsDQogICAgICAgICAgICAgICAgICAgIHppbmRleDogMTAsIG1vZGVkZWNsYXJhdGlvbjpbXSwgaW5pdG1vZGU6JycsIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBpZighdGhpcy5vcGVuSWRzLnNvbWUoaXRlbSA9PiBpdGVtID09PSBjb25zdGFudC5Nb2RlRGVjbGFyYXRpb25Hcm91cF9zdHIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnB1c2goY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRIV0VsZW1lbnQnLCB7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUhXRWxlbWVudCwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WCwNCiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgY2F0ZWdvcnk6bnVsbCwgYXR0cmlidXRlOltdLCBpY29uOiJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gY29uc3RhbnQuSFdFbGVtZW50X3N0cikpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5JZHMucHVzaChjb25zdGFudC5IV0VsZW1lbnRfc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRIV0NhdGVnb3J5Jywgew0KICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hbWVIV0NhdGVnb3J5LCAgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WCwNCiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgaWNvbjoibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIGF0dHJpYnV0ZTogW10NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGlmKCF0aGlzLm9wZW5JZHMuc29tZShpdGVtID0+IGl0ZW0gPT09IGNvbnN0YW50LkhXQ2F0ZWdvcnlfc3RyKSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbklkcy5wdXNoKGNvbnN0YW50LkhXQ2F0ZWdvcnlfc3RyKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZEVsZW1lbnRFdGhlcm5ldENsdXN0ZXInLCB7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZUV0aGVybmV0Q2x1c3RlciwgcGF0aDogJycsIGlzVmlzaWJsZSA6IGZhbHNlLCBpbnB1dDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WSwgbGVmdDogdGhpcy4kc2V0UG9zaXRpb25FbGVtZW50WCwNCiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMCwgY29uZGl0aW9uYWw6W10sIGljb246Im1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBpZighdGhpcy5vcGVuSWRzLnNvbWUoaXRlbSA9PiBpdGVtID09PSBjb25zdGFudC5FdGhlcm5ldENsdXN0ZXJfc3RyKSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbklkcy5wdXNoKGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvcGVuRWxlbWVudCgpIHsNCiAgICAgICAgICAgIGlmKCF0aGlzLm9wZW5JZHMuc29tZShpdGVtID0+IGl0ZW0gPT09IHRoaXMuYWN0aXZlbm9kZVswXSkpew0KICAgICAgICAgICAgICAgIHRoaXMub3Blbklkcy5wdXNoKHRoaXMuYWN0aXZlbm9kZVswXSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2xvc2VFbGVtZW50KCkgew0KICAgICAgICAgICAgdGhpcy5vcGVuSWRzLmZvckVhY2goKGVsZSxpKSA9PiB7DQogICAgICAgICAgICAgICAgaWYoIGVsZSA9PSB0aGlzLmFjdGl2ZW5vZGVbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuSWRzLnNwbGljZShpLDEpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgYWN0aXZlRWxlbWVudCgpIHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2FjdGl2ZUVsZW1lbnQgLyAgJysgdGhpcy5hY3RpdmVub2RlWzBdKQ0KICAgICAgICAgICAgLy8g6riw7KG07JeQIOyeiOuNmCDshKDqs7wg67O07Jes7KeA64qUIGVsZW1lbnTrk6Qg64ukIOyCreygnA0KICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZykgew0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkZWxldGUtbGluZScsICdhbGwnKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlT3BlbkVsZW1udCcsIHt1dWlkOiAnJywgaXNEZWxldGVBbGw6IHRydWV9ICkNCiAgICAgICAgICAgICAgICAvL+yngOq4iCBhY3RpdmVub2Rl7JeQIOyeiOuKlOqxsCBlbGVtZW5067O07Jes7KO86riwIA0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmVsZW1lbnRMZWZ0KQ0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gIT0gdW5kZWZpbmVkICYmIHRoaXMuYWN0aXZlbm9kZVswXS5pbmRleE9mKCctJykgIT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0cmVlaXRlbSA9IE9iamVjdC52YWx1ZXModGhpcy4kc3RvcmUuZ2V0dGVycy5nZXR0cmVldmlld2l0ZW1zKQ0KICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRyZWVpdGVtLmZpbmQoZGF0YSA9PiAgZGF0YS51dWlkID09PSB0aGlzLmFjdGl2ZW5vZGVbMF0pDQogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdFbGVtZW50LW9wZW4nLCB0cnVlLCBlbGVtZW50LnV1aWQpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0ekluZGV4VmlzaWJsZScsIHtwYXJlbnQ6ZWxlbWVudC5wYXJlbnQsIHV1aWQ6IGVsZW1lbnQudXVpZCwgdG9wOiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRZLCBsZWZ0OiB0aGlzLiRzZXRQb3NpdGlvbkVsZW1lbnRYK3RoaXMuJHN0b3JlLnN0YXRlLmVsZW1lbnRMZWZ0LCBjb21wbzogJ2RyYWcnfSApDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0ekluZGV4VmlzaWJsZScsIHtwYXJlbnQ6ZWxlbWVudC5wYXJlbnQsIHV1aWQ6IGVsZW1lbnQudXVpZCwgaXNWaXNpYmxlOiB0cnVlLCBjb21wbzogJ3Zpc2libGUnLCBzdGFydFVVSUQ6ICcxJ30gKQ0KDQogICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudmFsaWRhdGlvbikgeyANCiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzExMTExMScrdGhpcy5hY3RpdmVub2RlWzBdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRWYWxpZGF0aW9uJywge3BhcmVudDplbGVtZW50LnBhcmVudCwgdXVpZDp0aGlzLmFjdGl2ZW5vZGVbMF19KQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy92YXIgdHJlZWl0ZW0NCiAgICAgICAgICAgIC8vdmFyIGFycmVsZW1lbnQNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzAwICcrIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVVVSUQpDQogICAgICAgICAgICAvKmlmKHRoaXMuYWN0aXZlbm9kZVswXSAhPSB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVVVUlEKSB7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYodGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRyZWVpdGVtID0gT2JqZWN0LnZhbHVlcyh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldHRyZWV2aWV3aXRlbXMpDQogICAgICAgICAgICAgICAgICAgIGFycmVsZW1lbnQgPSB0cmVlaXRlbS5maW5kKGRhdGEgPT4gIGRhdGEudXVpZCA9PT0gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRCkNCiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhcnJlbGVtZW50KQ0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVub2RlWzBdICE9IHVuZGVmaW5lZCAmJiB0aGlzLmFjdGl2ZW5vZGVbMF0uaW5kZXhPZignLScpICE9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGVsZW1lbnQgPSB0cmVlaXRlbS5maW5kKGRhdGEgPT4gIGRhdGEudXVpZCA9PT0gdGhpcy5hY3RpdmVub2RlWzBdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXR6SW5kZXgnLCB7cGFyZW50OmFycmVsZW1lbnQucGFyZW50LCB1dWlkOiB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVVVUlELCB6aW5kZXg6IDJ9ICkNCiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzZXRMaW5lQWN0aXZlJywgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRCwgZmFsc2UpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRGaW5kUGFyZW50RHJhd1dpbmRvdyhhY3RlbGVtZW50LnBhcmVudCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldHpJbmRleCcsIHtwYXJlbnQ6YWN0ZWxlbWVudC5wYXJlbnQsIHV1aWQ6IHRoaXMuYWN0aXZlbm9kZVswXSwgemluZGV4OiAxMH0gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzZXRMaW5lQWN0aXZlJywgdGhpcy5hY3RpdmVub2RlWzBdLCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0dXVpZCcsIHt1dWlkOiB0aGlzLmFjdGl2ZW5vZGVbMF19ICkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5hY3RpdmVub2RlWzBdKycxJykuc2Nyb2xsSW50b1ZpZXcodHJ1ZSkNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFjdGVsZW1lbnQudmFsaWRhdGlvbikgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnMTExMTExJyt0aGlzLmFjdGl2ZW5vZGVbMF0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VmFsaWRhdGlvbicsIHtwYXJlbnQ6YWN0ZWxlbWVudC5wYXJlbnQsIHV1aWQ6dGhpcy5hY3RpdmVub2RlWzBdfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzZXRMaW5lQWN0aXZlJywgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVVVJRCwgZmFsc2UpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldHpJbmRleCcsIHtwYXJlbnQ6YXJyZWxlbWVudC5wYXJlbnQsIHV1aWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVVVSUQsIHppbmRleDogMn0gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXR1dWlkJywge3V1aWQ6IG51bGx9ICkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVub2RlWzBdICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJz09PT09ICAgICcrIHRoaXMuYWN0aXZlbm9kZVswXSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlbm9kZVswXS5pbmRleE9mKCctJykgIT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0cmVlaXRlbSA9IE9iamVjdC52YWx1ZXModGhpcy4kc3RvcmUuZ2V0dGVycy5nZXR0cmVldmlld2l0ZW1zKQ0KICAgICAgICAgICAgICAgICAgICAgICAgYXJyZWxlbWVudCA9IHRyZWVpdGVtLmZpbmQoZGF0YSA9PiAgZGF0YS51dWlkID09PSB0aGlzLmFjdGl2ZW5vZGVbMF0pDQogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFycmVsZW1lbnQpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRGaW5kUGFyZW50RHJhd1dpbmRvdyhhcnJlbGVtZW50LnBhcmVudCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldHpJbmRleCcsIHtwYXJlbnQ6YXJyZWxlbWVudC5wYXJlbnQsIHV1aWQ6IHRoaXMuYWN0aXZlbm9kZVswXSwgemluZGV4OiAxMH0gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0dXVpZCcsIHt1dWlkOiB0aGlzLmFjdGl2ZW5vZGVbMF19ICkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2V0TGluZUFjdGl2ZScsIHRoaXMuYWN0aXZlbm9kZVswXSwgdHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmFjdGl2ZW5vZGVbMF0rJzEnKS5zY3JvbGxJbnRvVmlldyh0cnVlKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYXJyZWxlbWVudC52YWxpZGF0aW9uKSB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFZhbGlkYXRpb24nLCB7cGFyZW50OmFycmVsZW1lbnQucGFyZW50LCB1dWlkOnRoaXMuYWN0aXZlbm9kZVswXX0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgICAgIC8qaWYgKHRoaXMuYWN0aXZlbm9kZVswXSAhPSB1bmRlZmluZWQgJiYgdGhpcy5hY3RpdmVub2RlWzBdLmluZGV4T2YoJy0nKSAhPT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5hY3RpdmVub2RlWzBdKycxJykuc2Nyb2xsSW50b1ZpZXcodHJ1ZSkNCiAgICAgICAgICAgICAgICB9Ki8NCiAgICAgICAgICAgIC8vfQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVFbGVtZW50ICgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZW5vZGVbMF0gIT0gbnVsbCAmJiB0aGlzLmFjdGl2ZW5vZGVbMF0uaW5kZXhPZignLScpICE9PSAtMSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRGVsZXRlUHJvamVjdCA9IHRydWUNCiAgICAgICAgICAgICAgICB0aGlzLnN0ckRlbGV0ZSA9ICJFbGVtZW5066W8IOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD8iDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNoZWNrVmFsaWRhdGlvbih1dWlkKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tWYWxpZGF0aW9uJykNCiAgICAgICAgICAgIGlmICh1dWlkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgdHJlZWl0ZW0gPSBPYmplY3QudmFsdWVzKHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0dHJlZXZpZXdpdGVtcykNCiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRyZWVpdGVtLmZpbmQoZGF0YSA9PiAgZGF0YS51dWlkID09PSB1dWlkKQ0KDQogICAgICAgICAgICAgICAgaWYoZWxlbWVudC52YWxpZGF0aW9uKSB7IA0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFZhbGlkYXRpb24nLCB7cGFyZW50OmVsZW1lbnQucGFyZW50LCB1dWlkOnV1aWR9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcmVuYW1lRWxlbWVudCgpIHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3JlbmFtZUVsZW1lbnQnKQ0KICAgICAgICAgICAgaWYgKHRoaXMucmVuYW1lLmlkID09IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbmFtZS5pZCA9IHRoaXMuYWN0aXZlbm9kZVswXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5zaG93TWVudSA9IGZhbHNlDQogICAgICAgICAgICB2YXIgdHJlZWl0ZW0gPSBPYmplY3QudmFsdWVzKHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0dHJlZXZpZXdpdGVtcykNCiAgICAgICAgICAgIHZhciBhcnJlbGVtZW50ID0gdHJlZWl0ZW0uZmluZChkYXRhID0+ICBkYXRhLnV1aWQgPT09IHRoaXMucmVuYW1lLmlkKQ0KICAgICAgICAgICAgdGhpcy5yZW5hbWUubmFtZSA9IGFycmVsZW1lbnQubmFtZQ0KICAgICAgICAgICAgdGhpcy5yZW5hbWUucGFyZW50ID0gYXJyZWxlbWVudC5wYXJlbnQNCiAgICAgICAgfSwNCiAgICAgICAgc2V0UmVuYW1lKCkgew0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnc2V0UmVuYW1lJykNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncmVuYW1lRWxlbWVudCcsIHt1dWlkOiB0aGlzLnJlbmFtZS5pZCwgcGFyZW50OiB0aGlzLnJlbmFtZS5wYXJlbnQsIG5hbWU6IHRoaXMucmVuYW1lLm5hbWV9KQ0KICAgICAgICAgICAgdGhpcy5jYW5jZWxSZW5hbWUoKQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWxSZW5hbWUoKSB7DQogICAgICAgICAgICB0aGlzLnJlbmFtZSA9IHsgaWQ6IDAsIG5hbWU6IG51bGwsIHBhcmVudDogbnVsbH0NCiAgICAgICAgfSwNCiAgICAgICAgc2F2ZUVsZW1lbnQgKCkgew0KICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3J0Y3V0LWtleXMnLCAnc2F2ZScpDQogICAgICAgIH0sDQogICAgICAgIG9wZW5BbGwoKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5uYXZpZ2F0b3JMaXN0W3RoaXMuJHN0b3JlLnN0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuLmZvckVhY2goIGZpciA9PiB7DQogICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gZmlyLm5hbWUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbklkcy5wdXNoKGZpci5uYW1lKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBmaXIuY2hpbGRyZW4uZm9yRWFjaChzZWMgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZihzZWMuY2hpbGRyZW4ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gc2VjLm5hbWUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5JZHMucHVzaChzZWMubmFtZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihmaXIubmFtZSA9PSBjb25zdGFudC5QbGF0Zm9ybV9zdHIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlYy5jaGlsZHJlbi5mb3JFYWNoKHRociA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhyLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMub3Blbklkcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gdGhyLm5hbWUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbklkcy5wdXNoKHRoci5uYW1lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBjbG9zZUFsbCgpIHsNCiAgICAgICAgICAgIHRoaXMub3BlbklkcyA9IFtdDQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZVByb2plY3QoKSB7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZVByb2plY3QgPSB0cnVlDQogICAgICAgICAgICB0aGlzLnN0ckRlbGV0ZSA9ICJQcm9qZWN066W8IOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD8iDQogICAgICAgIH0sDQogICAgICAgIG9rRGVsZXRlKCkgew0KICAgICAgICAgICAgaWYodGhpcy5pc21lbnUgPT0gMCkgeyAvL3Byb2plY3QNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoICdkZWxldGVQcm9qZWN0JykNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc21lbnUgPT0gMikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlbm9kZVswXSkNCiAgICAgICAgICAgICAgICB2YXIgdHJlZWl0ZW0gPSBPYmplY3QudmFsdWVzKHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0dHJlZXZpZXdpdGVtcykNCiAgICAgICAgICAgICAgICB2YXIgYXJyZWxlbWVudCA9IHRyZWVpdGVtLmZpbmQoZGF0YSA9PiAgZGF0YS51dWlkID09PSB0aGlzLmFjdGl2ZW5vZGVbMF0pDQogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgJ2FsbCcpDQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldGVPcGVuRWxlbW50Jywge3V1aWQ6ICcnLCBpc0RlbGV0ZUFsbDogdHJ1ZX0gKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlUmVmRWxlbWVudCcsIHt1dWlkOnRoaXMuYWN0aXZlbm9kZVswXX0gKSAvLyDrgrTqsIAg7ZmU7IK07ZGc7J2YIOuBneyduOqwgD8NCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2RlbGV0ZUVsZW1lbnRMaW5lJywge3V1aWQ6dGhpcy5hY3RpdmVub2RlWzBdfSApIC8vIOuCtOqwgCDtmZTsgrTtkZzsnZgg7Iuc7J6R7J246rCAPw0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsZXRlRWxlbWVudCcsIHtwYXJlbnQ6YXJyZWxlbWVudC5wYXJlbnQsIHV1aWQ6dGhpcy5hY3RpdmVub2RlWzBdfSApDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmNhbmNlbERlbGV0ZSgpDQogICAgICAgIH0sDQogICAgICAgIGNhbmNlbERlbGV0ZSgpIHsNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nRGVsZXRlUHJvamVjdCA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmRlbGV0QWN0aXZlID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuYWN0aXZlbm9kZSA9IFtdDQogICAgICAgIH0sDQogICAgICAgIGNvcHlFbGVtZW50KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlbm9kZVswXSAhPSBudWxsICYmIHRoaXMuYWN0aXZlbm9kZVswXS5pbmRleE9mKCctJykgIT09IC0xKSB7DQogICAgICAgICAgICAgICAgdmFyIHRyZWVpdGVtID0gT2JqZWN0LnZhbHVlcyh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldHRyZWV2aWV3aXRlbXMpDQogICAgICAgICAgICAgICAgdmFyIGFycmVsZW1lbnQgPSB0cmVlaXRlbS5maW5kKGRhdGEgPT4gIGRhdGEudXVpZCA9PT0gdGhpcy5hY3RpdmVub2RlWzBdKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY29weUVsZW1lbnQnLCB7cGFyZW50OmFycmVsZW1lbnQucGFyZW50LCB1dWlkOiB0aGlzLmFjdGl2ZW5vZGVbMF19ICkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICB9LA0KfSkNCg=="},{"version":3,"sources":["navigatorbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"navigatorbar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <v-icon class=\"subtitle-1 green\" style=\"margin:0 5px 0 15px;\" dark >mdi-view-dashboard</v-icon>\r\n                    SAHL\r\n        <v-divider></v-divider>\r\n        <v-list dense>\r\n            <v-list-group v-for=\"(item,idx) in navigatorList\" :key=\"idx\"\r\n                    prepend-icon=\"mdi-alpha-p-circle-outline\" no-action sub-group v-model=\"openlist\"> <!--  sub-group 빼면 리스트가 하나씩만 보인다-->\r\n                <template v-slot:activator>\r\n                    <v-list-item-icon v-if=\"item.validation\">\r\n                        <v-icon color=\"red\" dark>mdi-exclamation</v-icon>\r\n                    </v-list-item-icon>\r\n                    <v-list-item-content>\r\n                        <v-list-item-title v-text=\"item.name\" style=\"fontsize:20px\" @contextmenu=\"show($event, 0)\"></v-list-item-title>\r\n                    </v-list-item-content>\r\n                </template> \r\n                <v-card flat @contextmenu=\"show($event,1)\">\r\n                    <v-treeview ref=\"tree\" :items=\"item.children\" activatable item-key=\"uuid\" :open.sync=\"openIds\" :active.sync=\"activenode\" dense @update:open=\"openNode\" @update:active=\"activeElement()\" class=\"caption\">\r\n                        <template v-slot:prepend=\"{ item, open }\">\r\n                            <!-- <v-badge v-if=\"item.validation\" bordered dot color=\"red\" offset-x=\"10\" offset-y=\"12\"> -->\r\n                            <div v-if=\"item.validation\">\r\n                                <v-icon color=\"red\" v-if=\"item.icon=='mdi-folder'\" >\r\n                                    mdi-folder-alert\r\n                                </v-icon>\r\n                                <v-icon v-else-if=\"item.children\" color=\"red\">mdi-alpha-e-circle-outline</v-icon>\r\n                                <v-icon v-else color=\"red\">mdi-clipboard-alert-outline</v-icon>\r\n                            </div>\r\n                            <!-- </v-badge> -->\r\n                            <div v-else>\r\n                                <v-icon color=\"#ECB35D\" v-if=\"item.icon=='mdi-folder'\" >\r\n                                    {{ open ? 'mdi-folder-open' : 'mdi-folder' }}\r\n                                </v-icon>\r\n                                <v-icon v-else-if=\"item.children && item.children.length == 0\" color=\"primary\">mdi-alpha-e</v-icon>\r\n                                <v-icon v-else color=\"primary\">{{item.icon}}</v-icon>\r\n                            </div>\r\n                        </template>\r\n                    </v-treeview>\r\n                </v-card>\r\n            </v-list-group>\r\n        </v-list>\r\n        <v-menu v-model=\"showMenu\" :position-x=\"x\" :position-y=\"y\" absolute offset-y>\r\n            <v-list v-if=\"ismenu == 2\" dense class=\"text-start\">\r\n                <v-edit-dialog eager large persistent cancel-text='Ok' save-text=\"Cancel\" @cancel=\"setRename()\" @save=\"cancelRename()\"> \r\n                    <v-list-item @click=\"renameElement()\">\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>Element Rename</v-list-item-title> <!--이름을 길게 안하면 menu밑에 text가 길어서 active된 라인이 짧아짐-->\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n                    <template v-slot:input>\r\n                        <br>\r\n                        <v-text-field v-model=\"rename.name\" outlined clearable label=\"Rename\" type=\"text\"></v-text-field>\r\n                    </template>\r\n                </v-edit-dialog>\r\n                <v-list-item  v-for=\"(item, index) in menuElementitems\" :key=\"index\" @click=\"item.menuAction(item.title)\">\r\n                    <v-list-item-title v-text=\"item.title\"></v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n            <v-list v-else-if=\"ismenu == 0\" dense class=\"text-start\">\r\n                <v-list-item  v-for=\"(item, index) in menuProjectitems\" :key=\"index\" @click=\"item.menuAction(item.title)\">\r\n                    <v-list-item-title v-text=\"item.title\"></v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n            <v-list v-else-if=\"ismenu == 1\" dense class=\"text-start\">\r\n                <v-list-item  v-for=\"(item, index) in menuitems\" :key=\"index\" @click=\"item.menuAction(item.title)\">\r\n                    <v-list-item-title v-text=\"item.title\"></v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n            <v-list v-else dense class=\"text-start\">\r\n                <v-list-item  v-for=\"(item, index) in menuFirstitems\" :key=\"index\" @click=\"item.menuAction(item.title)\">\r\n                    <v-list-item-title v-text=\"item.title\"></v-list-item-title>\r\n                </v-list-item>\r\n            </v-list>\r\n        </v-menu>\r\n        <v-dialog v-model=\"dialogDeleteProject\" persistent width=\"600\">\r\n            <v-card color=\"red accent-2\">\r\n                <v-card-title class=\"text-h6 white--text\" height=\"10px\"> \r\n                    <v-icon color=\"white lighten-1\">mdi-alert-outline</v-icon>\r\n                    warning \r\n                </v-card-title>\r\n                <v-card-text class=\"text-h5 text--primary text-center\">\r\n                    {{strDelete}}\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn class=\"d-inline-flex ml-3 mr-1\" color=\"white darken-1\" text  @click=\"okDelete()\" >\r\n                        Ok\r\n                    </v-btn>\r\n                    <v-btn class=\"d-inline-flex ml-3 mr-1\" color=\"white darken-1\" text @click=\"cancelDelete()\">\r\n                        Cancel\r\n                    </v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { EventBus } from '../main'\r\nimport constant from \"../store/constants.js\"\r\n\r\n\r\nexport default({\r\n    computed: {\r\n        SAHLProject () {\r\n            return this.$store.state.SAHLProject\r\n        },\r\n        openProjectIndex () {\r\n            return this.$store.state.openProjectIndex\r\n        },\r\n        navigatorList () {\r\n            return this.$store.state.navigatorList\r\n        },\r\n        activeUUID() {\r\n            return this.$store.state.activeUUID\r\n        },\r\n        ismakeProject() {\r\n            return this.$store.state.ismakeProject\r\n        },\r\n        elementLeft() {\r\n            return this.$store.state.elementLeft\r\n        },\r\n    },\r\n    watch:{\r\n        activeUUID(val) {\r\n            //console.log('activeUUID*** '+ val)\r\n            if (this.isCreatElementMain) {\r\n                this.isCreatElementMain = false\r\n                this.activenode = []\r\n                this.activenode.push(val)\r\n            } else {\r\n                this.checkValidation(val)\r\n            }\r\n        },\r\n        ismakeProject(val) {\r\n            if (!val) {\r\n                this.openIds = []\r\n            }\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            rules: { name:  [val => (val || '').length > 0 ],},\r\n            showMenu: false,\r\n            x: 0,\r\n            y: 0,\r\n            openlist: true,\r\n            ismenu: 0,\r\n            activenode: [],\r\n            openIds: [],\r\n            dialogDeleteProject: false,\r\n            strDelete: null,\r\n            deletActive: false, // mainiview에서 active시킨후 단축키로 element delete하면 deactive하면서 activenode값이 null로 바뀜\r\n            rename: { id: 0, name: null, parent: null},\r\n            isCreatElementMain: false,\r\n            isLoading: false,\r\n            menuElementitems: [\r\n                // { title: 'Rename', menuAction: action => { this.renameElement(action) } },\r\n                { title: 'Delete', menuAction: action => { this.deleteElement(action) } },\r\n                { title: 'Copy & Paste', menuAction: action => { this.copyElement(action) } },\r\n            ],\r\n            menuFirstitems: [\r\n                { title: 'New',    menuAction: action => { this.newGroupElement(action) } },\r\n                { title: 'Open',   menuAction: action => { this.openElement(action) } },\r\n                { title: 'Close',   menuAction: action => { this.closeElement(action) } },\r\n            ],\r\n            menuitems: [\r\n                { title: 'New',    menuAction: action => { this.newElement(action) } },\r\n                { title: 'Open',   menuAction: action => { this.openElement(action) } },\r\n                { title: 'Close',   menuAction: action => { this.closeElement(action) } },\r\n            ],\r\n            menuProjectitems: [\r\n                { title: 'Open All',   menuAction: action => { this.openAll(action) } },\r\n                { title: 'Close All',   menuAction: action => { this.closeAll(action) } },\r\n                { title: 'Delete Project', menuAction: action => { this.deleteProject(action) } },\r\n                { title: 'Save',           menuAction: action => { this.saveElement(action) } },\r\n            ],\r\n        }\r\n    },\r\n    mounted () {\r\n        EventBus.$on('add-element', (element) => { \r\n            if(!this.openIds.some(item => item === element)){\r\n                this.openIds.push(element)\r\n            }\r\n        })\r\n        EventBus.$on('active-element', (uuid) => {\r\n            if (!this.deletActive) {\r\n                this.activenode = []\r\n                if (uuid != null) {\r\n                    this.activenode.push(uuid)\r\n                }\r\n            }\r\n        })\r\n        EventBus.$on('new-file', () => {this.newElement()})\r\n        EventBus.$on('delete-file', () => {\r\n            this.ismenu = 2\r\n            this.deletActive = true\r\n            this.deleteElement()\r\n        })\r\n        EventBus.$on('delete-project', () => {\r\n            this.ismenu = 0\r\n            this.deleteProject()\r\n        })\r\n        EventBus.$on('copy-file', () => {this.copyElement()})\r\n        EventBus.$on('openAll-List', (uuid) => {\r\n            console.log('openAll-List')\r\n            if (uuid != null) {\r\n                this.isLoading = true\r\n                this.activenode.push(uuid)\r\n            }\r\n            this.openAll()\r\n        })\r\n    },\r\n\r\n    methods: {\r\n        show (e, isprojectmenu) {\r\n            e.preventDefault()\r\n            if (this.activenode[0] != null || isprojectmenu == 0) {\r\n                this.ismenu = 3\r\n                if (isprojectmenu == 0) {\r\n                    this.ismenu = isprojectmenu\r\n                } else if (this.activenode[0].indexOf('-') != -1) {\r\n                    this.ismenu = 2\r\n                } else if (!(this.activenode[0] == constant.DateType_str || this.activenode[0] == constant.Service_str || this.activenode[0] == constant.AdaptiveApplication_str\r\n                    || this.activenode[0] == constant.Machines_str || this.activenode[0] == constant.Platform_str ||\r\n                    this.activenode[0] == constant.PER_str || this.activenode[0] == constant.PHM_str || this.activenode[0] == constant.NM_str || this.activenode[0] == constant.Log_str\r\n                    || this.activenode[0] == constant.IAM_str || this.activenode[0] == constant.UCM_str)) {\r\n                    this.ismenu = isprojectmenu\r\n                }\r\n                this.showMenu = false\r\n                this.x = e.clientX\r\n                this.y = e.clientY\r\n                this.$nextTick(() => {\r\n                    this.showMenu = true\r\n                })\r\n            }\r\n        },\r\n        openNode() {\r\n            //alert(this.openIds)\r\n        },\r\n        newElement() {\r\n            if (this.activenode[0] != null && this.activenode[0].indexOf('-') === -1) {\r\n                this.isCreatElementMain = true\r\n                const elementX = this.$setPositionElementX+this.$store.state.elementLeft//-550//Array.from({length:4}, () => -550)//Array.from({length:4}, () => Math.floor(Math.random() * 500)) \r\n                //const elementY = -50//Array.from({length:4}, () => -50)//Array.from({length:4}, () => Math.floor(Math.random() * 500))\r\n                \r\n                if (this.activenode[0] == constant.CompuMethod_str) {\r\n                    this.$store.commit('addElementCompuMehtod', {\r\n                        name: this.$store.getters.getNameCompuMethod, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, category:'', attributeName: '', scales:[], icon:\"mdi-clipboard-outline\", validation: false\r\n                    })\r\n                } else if (this.activenode[0] == constant.DataConstr_str) {\r\n                    this.$store.commit('addElementDataConstr', {\r\n                        name: this.$store.getters.getNameDataConstr, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, lowerlimit:'', upperlimit:'', icon:\"mdi-clipboard-outline\", validation: false\r\n                    })\r\n                } else if (this.activenode[0] == constant.SWBaseType_str) {\r\n                    this.$store.commit('addElementSWBaseType', {\r\n                        name: this.$store.getters.getNameSWBaseType, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, category:'', encoding:'', icon:\"mdi-clipboard-outline\", validation: false\r\n                    })\r\n                } else if (this.activenode[0] == constant.ApplicationArray_str) {\r\n                    this.$store.commit('addElementApplicationArray', { // elehandling, elesemantics 는 select라서 초기값이 null이다.\r\n                        name: this.$store.getters.getNameApplicationArray,  path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        category:'', dynamicArrySize:'', elename: '', elehandling: null, elesemantics: null, elemaxnumber:'', \r\n                    })\r\n                } else if (this.activenode[0] == constant.Implementation_str) {\r\n                    this.$store.commit('addElementImplementation', { //typeref, templatetype  는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameImplementation, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10,  icon:\"mdi-clipboard-outline\", validation: false,\r\n                        category:'', namespace:'', arraysize:'', typeemitter:'', \r\n                        typeref: null, templatetype:[], desc:'', traceName: '', trace: [], ddpc:[], idtelement:[],\r\n                    })\r\n                } else if (this.activenode[0] == constant.Machine_str) {\r\n                    /*var nameMachine = this.$store.getters.getNameMachine\r\n                    this.$store.commit('addElementModeDeclarationGroup', {\r\n                        name: nameMachine+'_MachineState_ModeDeclarationGroup', path: '', isVisible : false,\r\n                        top: Array.from({length:4}, () => Math.floor(Math.random() * 3000)), left: Array.from({length:4}, () => Math.floor(Math.random() * 3000)), \r\n                        zindex: 10, modedeclaration:[{name: 'Off', value: ''},{name: 'Startup', Value: ''},{name: 'Running', Value: ''},{name: 'Shutdown', Value: ''}], initmode:'Off', icon:\"mdi-clipboard-outline\", validation: false\r\n                    })\r\n                    if(!this.openIds.some(item => item === constant.ModeDeclarationGroup_str)){\r\n                        this.openIds.push(constant.ModeDeclarationGroup_str)\r\n                    }\r\n                    this.$store.commit('addElementMachine', {\r\n                        name: nameMachine, path: '', isVisible : false,\r\n                        top: elementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        machinedesign:null, enterTimeout:'', exitTimeout:'', hwelement:[], executable:null, admin: '',\r\n                        functiongroup:[{name:'MachineState', type:'/'+nameMachine+'_MachineState_ModeDeclarationGroup'}], environ: [], processor: [], moduleinstant: [], ucm: [], iam: [], crypto: []\r\n                    })*/\r\n                    this.$store.commit('addElementMachine', {\r\n                        name: this.$store.getters.getNameMachine, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        machinedesign:null, enterTimeout:'', exitTimeout:'', hwelement:[], executable:null, admin: '',\r\n                        functiongroup:[], environ: [], processor: [], moduleinstant: [], ucm: [], iam: [], crypto: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.MachineDesigne_str) {\r\n                    this.$store.commit('addElementMachineDesign', {\r\n                        name: this.$store.getters.getNameMachineDesign, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, access: null, resettimer:'', connector:[], servicediscover:[], icon:\"mdi-clipboard-outline\", validation: false\r\n                    })\r\n                } else if (this.activenode[0] == constant.ModeDeclarationGroup_str) {\r\n                    this.$store.commit('addElementModeDeclarationGroup', {\r\n                        name: this.$store.getters.getNameModeDeclarationGroup,  path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, modedeclaration:[{name: 'Off', value: '', id: 0},{name: 'Startup', Value: '', id: 1}], initmode:'Off', icon:\"mdi-clipboard-outline\", validation: false\r\n                    })\r\n                } else if (this.activenode[0] == constant.HWElement_str) {\r\n                    this.$store.commit('addElementHWElement', { //category 는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameHWElement, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, category:null, attribute:[], icon:\"mdi-clipboard-outline\", validation: false\r\n                    })\r\n                } else if (this.activenode[0] == constant.HWCategory_str) {\r\n                    this.$store.commit('addElementHWCategory', { \r\n                        name: this.$store.getters.getNameHWCategory, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        attribute: []\r\n                    })\r\n                }else if (this.activenode[0] == constant.EthernetCluster_str) {\r\n                    this.$store.commit('addElementEthernetCluster', {\r\n                        name: this.$store.getters.getNameEthernetCluster, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, conditional:[], icon:\"mdi-clipboard-outline\", validation: false\r\n                    })\r\n                } else if (this.activenode[0] == constant.ProcesstoMachineMapping_str) {\r\n                    this.$store.commit('addElementProtoMachineMapping', { //ptmmMachine, ptmmProcess  는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameProcesstoMachineMapping, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        mapping: [],\r\n                    })\r\n                } else if (this.activenode[0] == constant.SWComponents_str) {\r\n                    this.$store.commit('addElementSWComponents', {\r\n                        name: this.$store.getters.getNameSWComponents, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        pport: [], rport: [], prport: [],\r\n                    })\r\n                } else if (this.activenode[0] == constant.Process_str) {\r\n                    this.$store.commit('addElementProcess', { //prodesign, determin, execut, machinetype  는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameProcess, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        logLevel: null, logPath: '', logProDesc: '', logProID: '', restart: '', preMapping: null, logMode: [],\r\n                        prodesign: null, determin: null, execut: null, machinname: '', machinetype: null, dependent: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.ProcessDesign_str) {\r\n                    this.$store.commit('addElementProcessDesign', { //executableref 는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameProcessDesign, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10,icon:\"mdi-clipboard-outline\", validation: false,\r\n                        executableref: null, determin: [],\r\n                    })\r\n                } else if (this.activenode[0] == constant.Executable_str) {\r\n                    this.$store.commit('addElementExecutable', { //applicationtyperef 는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameExecutable, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        version: '', category:'', buildType:null, loggingBehabior:null, reportingBehabior:null, swname:'', applicationtyperef: null,\r\n                    })\r\n                } else if (this.activenode[0] == constant.StartupConfig_str) {\r\n                    this.$store.commit('addElementStartupConfig', {\r\n                        name: this.$store.getters.getNameStartupConfig, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        config: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.DeterministicClient_str) {\r\n                    this.$store.commit('addElementDeterministicClien', {\r\n                        name: this.$store.getters.getNameDeterministicClient, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        cycletiem: '', numofworkers: '',\r\n                    })\r\n                } else if (this.activenode[0] == constant.SomeIPServiceInterfaceDeployment_str) {\r\n                    this.$store.commit('addElementSomeIPService', {\r\n                        name: this.$store.getters.getNameSomeIPService, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        service: null, majversion:'', minversion:'', id: '', eventG:[], eventD: [], methodD:[], fieldD:[],\r\n                    })\r\n                } else if (this.activenode[0] == constant.ServiceInterface_str) {\r\n                    this.$store.commit('addElementService', {\r\n                        name: this.$store.getters.getNameServiceInterface, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        versionMaj:'', versionMin:'', namespace:'', events:[], fields:[], methods:[], isservice: null,\r\n                    })\r\n                } else if (this.activenode[0] == constant.Client_str) {\r\n                    this.$store.commit('addElementClient', { \r\n                        name: this.$store.getters.getNameClient, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        retrydelay: '', retrymax: '', timetolive: '', delaymax: '', delaymin:''\r\n                    })\r\n                } else if (this.activenode[0] == constant.Server_str) {\r\n                    this.$store.commit('addElementServer', { \r\n                        name: this.$store.getters.getNameServer, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        delaymax: '', delaymin: '',\r\n                    })\r\n                } else if (this.activenode[0] == constant.SomeIPClient_str) {\r\n                    this.$store.commit('addElementSomeIPClient', { \r\n                        name: this.$store.getters.getNameSomeIPClient, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        findtime: '', inidelaymax: '', inidelaymin: '', inibasedelay: '', inirepetimax: '',\r\n                    })\r\n                } else if (this.activenode[0] == constant.SomeIPServer_str) {\r\n                    this.$store.commit('addElementSomeIPServer', { \r\n                        name: this.$store.getters.getNameSomeIPServer, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        inidelaymax: '', inidelaymin: '', inibasedelay: '', inirepetimax: '', delaymax: '', delaymin: '',\r\n                        offer: '', timetolive: '',\r\n                    })\r\n                } else if (this.activenode[0] == constant.SomeIPToMachineMapping_str) {\r\n                    this.$store.commit('addElementSomeIPtoMachine', { //ccref, siref  는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameSomeIPtoMachine, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        ccref: null, serviceI: [], tcp:'', udp: '',\r\n                    })\r\n                } else if (this.activenode[0] == constant.ToPortPrototypeMapping_str) {\r\n                    this.$store.commit('addElementToPortPrototype', { \r\n                        name: this.$store.getters.getNameToPortPrototype, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        selectPort:null, porttype: null, context: null, process:null, selectServiceIns: null, serviceIns: null,\r\n                    })\r\n                } else if (this.activenode[0] == constant.RequiredSomeIP_str) {\r\n                    this.$store.commit('addElementRequiredSomeIP', {  //deployref, clientref,ver는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameRequiredSomeIP, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        deployref: null, minorver: '', id: '', someipclient: null, ver: null, method: [], requiredevent: [], E2EEvent: [], E2EMethod: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.ProvidedSomeIP_str) {\r\n                    this.$store.commit('addElementProvidedSomeIP', {\r\n                        name: this.$store.getters.getNameProvidedSomeIP, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        deployref: null, someipserver: null, instanceid: '', loadPriority: '', loadWeight: '', eventP: [], method: [], eventG: [], E2EEvent: [], E2EMethod: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.E2EProfileConfig_str) {\r\n                    this.$store.commit('addElementE2EProfileConfig', {\r\n                        name: this.$store.getters.getNameE2EProfileConfig, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        profile: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.SDG_DEF_str) {\r\n                    this.$store.commit('addElementSDG_DEF', {\r\n                        name: this.$store.getters.getNameSDG_DEF, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        sdgClass: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.Error_str) {\r\n                    this.$store.commit('addElementError', { //errorDref 는 null해줘야한다. clearable하면 값이 null변하기 때문에 \r\n                        name: this.$store.getters.getNameError, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        desc: '', errorcode: '', errorDref: null\r\n                    })\r\n                } else if (this.activenode[0] == constant.Errorset_str) {\r\n                    this.$store.commit('addElementErrorSet', {\r\n                        name: this.$store.getters.getNameErrorSet, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        errorref: [],\r\n                    })\r\n                } else if (this.activenode[0] == constant.ErrorDomain_str) {\r\n                    this.$store.commit('addElementErrorDomain', {\r\n                        name: this.$store.getters.getNameErrorDomain, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        namespace: '', value: '',\r\n                    })\r\n                } else if (this.activenode[0] == constant.FileArray_str) {\r\n                    this.$store.commit('addElementPERFileArray', {\r\n                        name: this.$store.getters.getNamePERFileArray, path: '', isVisible : false, input: false,\r\n                        top:this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        sdgs: [], maxSize: '', miniSize: '', updateS: null, uri: '', files: [],\r\n                    })\r\n                } else if (this.activenode[0] == constant.FileProxyInterf_str) {\r\n                    this.$store.commit('addElementPERFileProxy', {\r\n                        name: this.$store.getters.getNamePERFileProxy, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        category: '', minisize: '', redundancy: null, updateS: null, encoding: '', proxy: [], maxfiles: ''\r\n                    })\r\n                } else if (this.activenode[0] == constant.KeyValueData_str) {\r\n                    this.$store.commit('addElementPERKeyValueD', {\r\n                        name: this.$store.getters.getNamePERKeyValueD, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        sdgs: [], maxSize: '', miniSize: '', updateS: null, uri: '', redundancy: [], keyValue: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.KeyValueDI_str) {\r\n                    this.$store.commit('addElementPERKeyValueDI', {\r\n                        name: this.$store.getters.getNamePERKeyValueDI, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        minisize: '', redundancy: null, updateS: null, data: [], serialization: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.PortProtoFileA_str) {\r\n                    this.$store.commit('addElementPERPPtoFileArray', {\r\n                        name: this.$store.getters.getNamePERPPtoFileArray, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        fileArray: null, port: null, process: null\r\n                    })\r\n                } else if (this.activenode[0] == constant.PortProtoKeyV_str) {\r\n                    this.$store.commit('addElementPERPPtoKeyValue', {\r\n                        name: this.$store.getters.getNamePERPPtoKeyValue, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        keyValue: null, port: null, process: null\r\n                    })\r\n                } else if (this.activenode[0] == constant.PlatformHealthManagC_str) {\r\n                    this.$store.commit('addElementPHMContribution', {\r\n                        name: this.$store.getters.getNamePHMContribution, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                    })\r\n                } else if (this.activenode[0] == constant.ContritoMachine_str) {\r\n                    this.$store.commit('addElementPHMtoMachine', {\r\n                        name: this.$store.getters.getNamePHMtoMachine, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        machine: null, contri: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.HealthChannel_str) {\r\n                    this.$store.commit('addElementPHMHealth', {\r\n                        name: this.$store.getters.getNamePHMHealth, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        status: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.RecoveryVA_str) {\r\n                    this.$store.commit('addElementPHMRecovery', {\r\n                        name: this.$store.getters.getNamePHMRecovery, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        reconame: '', faf: null\r\n                    })\r\n                } else if (this.activenode[0] == constant.PHMSupervised_str) {\r\n                    this.$store.commit('addElementPHMSupervised', {\r\n                        name: this.$store.getters.getNamePHMSupervised, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        checkpoint: []\r\n                    })\r\n                } else if (this.activenode[0] == constant.RecoveryActionInterf_str) {\r\n                    this.$store.commit('addElementRecoveryVia', {\r\n                        name: this.$store.getters.getNameRecoveryVia, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        process: null, swcomponent: null, port: null, phmRecovery: null\r\n                    })\r\n                } else if (this.activenode[0] == constant.ComMethodGDesign_str) {\r\n                    this.$store.commit('addElementMethodGD', {\r\n                        name: this.$store.getters.getNameMethodGD, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        processD: null, SIMethod: null,\r\n                    })\r\n                } else if (this.activenode[0] == constant.ComEventGDesign_str) {\r\n                    this.$store.commit('addElementEventGD', {\r\n                        name: this.$store.getters.getNameEventGD, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        processD: null, SIEvent: null,\r\n                    })\r\n                } else if (this.activenode[0] == constant.ComFieldGDesign_str) {\r\n                    this.$store.commit('addElementFieldGD', {\r\n                        name: this.$store.getters.getNameFieldGD, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        processD: null, SIField: null, role: null\r\n                    })\r\n                } else if (this.activenode[0] == constant.ComMethodGrant_str) {\r\n                    this.$store.commit('addElementMethodG', {\r\n                        name: this.$store.getters.getNameMethodG, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        methodD: null, provide: null,\r\n                    })\r\n                } else if (this.activenode[0] == constant.ComEventGrant_str) {\r\n                    this.$store.commit('addElementEventG', {\r\n                        name: this.$store.getters.getNameEventG, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        eventD: null, provide: null,\r\n                    })\r\n                } else if (this.activenode[0] == constant.ComFieldGrant_str) {\r\n                    this.$store.commit('addElementFieldG', {\r\n                        name: this.$store.getters.getNameFieldG, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        fieldD: null, provide: null, role: null\r\n                    })\r\n                } else if (this.activenode[0] == constant.SWCluster_str) {\r\n                    this.$store.commit('addElementSoftWareCluster', {\r\n                        name: this.$store.getters.getNameSoftWareCluster, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        category: '', idVendor: '', version: '', sdgs: [], executable: [], machineD: [], toMachine: [], process: [], sswc: [],\r\n                    })\r\n                } else if (this.activenode[0] == constant.SWPackage_str) {\r\n                    this.$store.commit('addElementSoftWarePackage', {\r\n                        name: this.$store.getters.getNameSoftWarePackage, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        action: null, activation: null, compSWPsize: '', deltaPakage: null, maximunVer: '', minimunVer: '',\r\n                        id: '', postReboot: null, preReboot: null, swcluster: null, uncompSWCsize: ''\r\n                    })\r\n                } else if (this.activenode[0] == constant.VehiclePackage_str) {\r\n                    this.$store.commit('addElementVehiclePackage', {\r\n                        name: this.$store.getters.getNameVehiclePackage, path: '', isVisible : false, input: false,\r\n                        top: this.$setPositionElementY, left: elementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                        reposi: '', sdgs: [], driver: [], rollout: [], ucms: [],\r\n                    })\r\n                }\r\n\r\n                if(!this.openIds.some(item => item === this.activenode[0])){\r\n                    this.openIds.push(this.activenode[0])\r\n                }\r\n            }\r\n        },\r\n        newGroupElement() {\r\n            //const elementX = -550//Array.from({length:4}, () => -550)//Array.from({length:4}, () => Math.floor(Math.random() * 500)) \r\n            //const elementY = -50//Array.from({length:4}, () => -50)//Array.from({length:4}, () => Math.floor(Math.random() * 500))\r\n\r\n            if (this.activenode[0] == constant.AdaptiveApplication_str) {\r\n                if(!this.openIds.some(item => item === constant.AdaptiveApplication_str)){\r\n                    this.openIds.push(constant.AdaptiveApplication_str)\r\n                }\r\n                this.$store.commit('addElementProtoMachineMapping', { \r\n                    name: this.$store.getters.getNameProcesstoMachineMapping, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX, zindex: 10, icon:\"mdi-clipboard-outline\", validation: false, \r\n                    mapping: [],\r\n                })\r\n                if(!this.openIds.some(item => item === constant.ProcesstoMachineMapping_str)){\r\n                    this.openIds.push(constant.ProcesstoMachineMapping_str)\r\n                }\r\n                this.$store.commit('addElementSWComponents', {\r\n                    name: this.$store.getters.getNameSWComponents, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX, \r\n                    zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                    pport: [], rport: [], prport: [],\r\n                })\r\n                if(!this.openIds.some(item => item === constant.SWComponents_str)){\r\n                    this.openIds.push(constant.SWComponents_str)\r\n                }\r\n                this.$store.commit('addElementProcess', { \r\n                    name: this.$store.getters.getNameProcess, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                    logLevel: null, logPath: '', logProDesc: '', logProID: '', restart: '', preMapping: null, logMode: [],\r\n                    prodesign: null, determin: null, execut: null, machinname: '', machinetype: null, dependent: []\r\n                })\r\n                if(!this.openIds.some(item => item === constant.Process_str)){\r\n                    this.openIds.push(constant.Process_str)\r\n                }\r\n                this.$store.commit('addElementProcessDesign', {\r\n                    name: this.$store.getters.getNameProcessDesign, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10,icon:\"mdi-clipboard-outline\", validation: false,\r\n                    executableref: null, determin: [],\r\n                })\r\n                if(!this.openIds.some(item => item === constant.ProcessDesign_str)){\r\n                    this.openIds.push(constant.ProcessDesign_str)\r\n                }\r\n                this.$store.commit('addElementExecutable', { \r\n                    name: this.$store.getters.getNameExecutable, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                    version: '', category:'', buildType:null, loggingBehabior:null, reportingBehabior:null, swname:'', applicationtyperef: null,\r\n                })\r\n                if(!this.openIds.some(item => item === constant.Executable_str)){\r\n                    this.openIds.push(constant.Executable_str)\r\n                }\r\n                this.$store.commit('addElementStartupConfig', {\r\n                    name: this.$store.getters.getNameStartupConfig, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                    config: []\r\n                })\r\n                if(!this.openIds.some(item => item === constant.StartupConfig_str)){\r\n                    this.openIds.push(constant.StartupConfig_str)\r\n                }\r\n                this.$store.commit('addElementDeterministicClien', {\r\n                    name: this.$store.getters.getNameDeterministicClient, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, icon:\"mdi-clipboard-outline\", validation: false,\r\n                    cycletiem: '', numofworkers: '',\r\n                })\r\n                if(!this.openIds.some(item => item === constant.DeterministicClient_str)){\r\n                    this.openIds.push(constant.DeterministicClient_str)\r\n                }\r\n            } else if (this.activenode[0] == constant.Machines_str) {\r\n                if(!this.openIds.some(item => item === constant.Machines_str)){\r\n                    this.openIds.push(constant.Machines_str)\r\n                }\r\n                /*var nameMachine = this.$store.getters.getNameMachine\r\n                this.$store.commit('addElementModeDeclarationGroup', {\r\n                    name: nameMachine+'_MachineState_ModeDeclarationGroup', path: '', isVisible : false,\r\n                    top: Array.from({length:4}, () => Math.floor(Math.random() * 3000)), left: Array.from({length:4}, () => Math.floor(Math.random() * 3000)), \r\n                    zindex: 10, modedeclaration:[{name: 'Off', value: ''},{name: 'Startup', Value: ''},{name: 'Running', Value: ''},{name: 'Shutdown', Value: ''}], initmode:'Off', icon:\"mdi-clipboard-outline\", validation: false\r\n                })\r\n                if(!this.openIds.some(item => item === constant.ModeDeclarationGroup_str)){\r\n                    this.openIds.push(constant.ModeDeclarationGroup_str)\r\n                }\r\n                this.$store.commit('addElementMachine', {\r\n                    name: nameMachine, path: '', isVisible : false,\r\n                    top: Array.from({length:4}, () => Math.floor(Math.random() * 3000)), left: Array.from({length:4}, () => Math.floor(Math.random() * 3000)), \r\n                    zindex: 10, machinedesign:null, enterTimeout:'', exitTimeout:'', hwelement:[], executable:null, admin: '',\r\n                    functiongroup:[{name:'MachineState', type:'/'+nameMachine+'_MachineState_ModeDeclarationGroup'}], environ: [], processor: [], moduleinstant: [], ucm: [], iam: [], crypto: [], icon:\"mdi-clipboard-outline\", validation: false\r\n                })*/\r\n                this.$store.commit('addElementMachine', {\r\n                    name: this.$store.getters.getNameMachine, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, machinedesign:null, enterTimeout:'', exitTimeout:'', hwelement:[], executable:null, admin: '',\r\n                    functiongroup:[], environ: [], processor: [], moduleinstant: [], ucm: [], iam: [], crypto: [], icon:\"mdi-clipboard-outline\", validation: false\r\n                })\r\n                if(!this.openIds.some(item => item === constant.Machine_str)){\r\n                    this.openIds.push(constant.Machine_str)\r\n                }\r\n                this.$store.commit('addElementMachineDesign', {\r\n                    name: this.$store.getters.getNameMachineDesign, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, access: null, resettimer:'', connector:[], servicediscover:[], icon:\"mdi-clipboard-outline\", validation: false\r\n                })\r\n                if(!this.openIds.some(item => item === constant.MachineDesigne_str)){\r\n                    this.openIds.push(constant.MachineDesigne_str)\r\n                }\r\n                this.$store.commit('addElementModeDeclarationGroup', {\r\n                    name: this.$store.getters.getNameModeDeclarationGroup, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, modedeclaration:[], initmode:'', icon:\"mdi-clipboard-outline\", validation: false\r\n                })\r\n                if(!this.openIds.some(item => item === constant.ModeDeclarationGroup_str)){\r\n                    this.openIds.push(constant.ModeDeclarationGroup_str)\r\n                }\r\n                this.$store.commit('addElementHWElement', {\r\n                    name: this.$store.getters.getNameHWElement, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, category:null, attribute:[], icon:\"mdi-clipboard-outline\", validation: false\r\n                })\r\n                if(!this.openIds.some(item => item === constant.HWElement_str)){\r\n                    this.openIds.push(constant.HWElement_str)\r\n                }\r\n                this.$store.commit('addElementHWCategory', {\r\n                    name: this.$store.getters.getNameHWCategory,  path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, icon:\"mdi-clipboard-outline\", validation: false, attribute: []\r\n                })\r\n                if(!this.openIds.some(item => item === constant.HWCategory_str)){\r\n                    this.openIds.push(constant.HWCategory_str)\r\n                }\r\n                this.$store.commit('addElementEthernetCluster', {\r\n                    name: this.$store.getters.getNameEthernetCluster, path: '', isVisible : false, input: false,\r\n                    top: this.$setPositionElementY, left: this.$setPositionElementX,\r\n                    zindex: 10, conditional:[], icon:\"mdi-clipboard-outline\", validation: false\r\n                })\r\n                if(!this.openIds.some(item => item === constant.EthernetCluster_str)){\r\n                    this.openIds.push(constant.EthernetCluster_str)\r\n                }\r\n            }\r\n        },\r\n        openElement() {\r\n            if(!this.openIds.some(item => item === this.activenode[0])){\r\n                this.openIds.push(this.activenode[0])\r\n            }\r\n        },\r\n        closeElement() {\r\n            this.openIds.forEach((ele,i) => {\r\n                if( ele == this.activenode[0]) {\r\n                    this.openIds.splice(i,1)\r\n                }\r\n            })\r\n        },\r\n        activeElement() {\r\n            //console.log('activeElement /  '+ this.activenode[0])\r\n            // 기존에 있던 선과 보여지는 element들 다 삭제\r\n            if (!this.isLoading) {\r\n                EventBus.$emit('delete-line', 'all')\r\n                this.$store.commit('deleteOpenElemnt', {uuid: '', isDeleteAll: true} )\r\n                //지금 activenode에 있는거 element보여주기 \r\n                console.log(this.$store.state.elementLeft)\r\n                if (this.activenode[0] != undefined && this.activenode[0].indexOf('-') !== -1) {\r\n                    var treeitem = Object.values(this.$store.getters.gettreeviewitems)\r\n                    var element = treeitem.find(data =>  data.uuid === this.activenode[0])\r\n                    EventBus.$emit('Element-open', true, element.uuid)\r\n                    this.$store.commit('setzIndexVisible', {parent:element.parent, uuid: element.uuid, top: this.$setPositionElementY, left: this.$setPositionElementX+this.$store.state.elementLeft, compo: 'drag'} )\r\n                    this.$store.commit('setzIndexVisible', {parent:element.parent, uuid: element.uuid, isVisible: true, compo: 'visible', startUUID: '1'} )\r\n\r\n                    if(element.validation) { \r\n                        //console.log('111111'+this.activenode[0])\r\n                        this.$store.commit('setValidation', {parent:element.parent, uuid:this.activenode[0]})\r\n                    }\r\n\r\n                }\r\n            } else {\r\n                this.isLoading = false\r\n            }\r\n            \r\n            //var treeitem\r\n            //var arrelement\r\n            //console.log('00 '+ this.$store.state.activeUUID)\r\n            /*if(this.activenode[0] != this.$store.state.activeUUID) {\r\n                \r\n                if(this.$store.state.activeUUID != null) {\r\n                    treeitem = Object.values(this.$store.getters.gettreeviewitems)\r\n                    arrelement = treeitem.find(data =>  data.uuid === this.$store.state.activeUUID)\r\n                    //console.log(arrelement)\r\n                    if (this.activenode[0] != undefined && this.activenode[0].indexOf('-') !== -1) {\r\n                        var actelement = treeitem.find(data =>  data.uuid === this.activenode[0])\r\n                        this.$store.commit('setzIndex', {parent:arrelement.parent, uuid: this.$store.state.activeUUID, zindex: 2} )\r\n                        EventBus.$emit('setLineActive', this.$store.state.activeUUID, false)\r\n                        if (this.$store.getters.getFindParentDrawWindow(actelement.parent)) {\r\n                            this.$store.commit('setzIndex', {parent:actelement.parent, uuid: this.activenode[0], zindex: 10} )\r\n                            EventBus.$emit('setLineActive', this.activenode[0], true)\r\n                            this.$store.commit('setuuid', {uuid: this.activenode[0]} )\r\n                             document.getElementById(this.activenode[0]+'1').scrollIntoView(true)\r\n\r\n                            if(actelement.validation) { \r\n                                //console.log('111111'+this.activenode[0])\r\n                                this.$store.commit('setValidation', {parent:actelement.parent, uuid:this.activenode[0]})\r\n                            }\r\n                        }\r\n\r\n                    } else {\r\n                        EventBus.$emit('setLineActive', this.$store.state.activeUUID, false)\r\n                        this.$store.commit('setzIndex', {parent:arrelement.parent, uuid: this.$store.state.activeUUID, zindex: 2} )\r\n                        this.$store.commit('setuuid', {uuid: null} )\r\n                    }\r\n                } else if (this.activenode[0] != undefined){\r\n                    //console.log('=====    '+ this.activenode[0])\r\n                    if (this.activenode[0].indexOf('-') !== -1) {\r\n                        treeitem = Object.values(this.$store.getters.gettreeviewitems)\r\n                        arrelement = treeitem.find(data =>  data.uuid === this.activenode[0])\r\n                        //console.log(arrelement)\r\n                        if (this.$store.getters.getFindParentDrawWindow(arrelement.parent)) {\r\n                            this.$store.commit('setzIndex', {parent:arrelement.parent, uuid: this.activenode[0], zindex: 10} )\r\n                            this.$store.commit('setuuid', {uuid: this.activenode[0]} )\r\n                            EventBus.$emit('setLineActive', this.activenode[0], true)\r\n                            document.getElementById(this.activenode[0]+'1').scrollIntoView(true)\r\n\r\n                            if(arrelement.validation) { \r\n                                this.$store.commit('setValidation', {parent:arrelement.parent, uuid:this.activenode[0]})\r\n                            }\r\n                        }\r\n                    }\r\n                } \r\n                \r\n                */\r\n                /*if (this.activenode[0] != undefined && this.activenode[0].indexOf('-') !== -1) {\r\n                    document.getElementById(this.activenode[0]+'1').scrollIntoView(true)\r\n                }*/\r\n            //}\r\n        },\r\n        deleteElement () {\r\n            if (this.activenode[0] != null && this.activenode[0].indexOf('-') !== -1) {\r\n                this.dialogDeleteProject = true\r\n                this.strDelete = \"Element를 삭제하시겠습니까?\"\r\n            }\r\n        },\r\n        checkValidation(uuid) {\r\n            console.log('checkValidation')\r\n            if (uuid != null) {\r\n                var treeitem = Object.values(this.$store.getters.gettreeviewitems)\r\n                var element = treeitem.find(data =>  data.uuid === uuid)\r\n\r\n                if(element.validation) { \r\n                    this.$store.commit('setValidation', {parent:element.parent, uuid:uuid})\r\n                }\r\n            }\r\n        },\r\n        renameElement() {\r\n            //console.log('renameElement')\r\n            if (this.rename.id == 0) {\r\n                this.rename.id = this.activenode[0]\r\n            }\r\n            this.showMenu = false\r\n            var treeitem = Object.values(this.$store.getters.gettreeviewitems)\r\n            var arrelement = treeitem.find(data =>  data.uuid === this.rename.id)\r\n            this.rename.name = arrelement.name\r\n            this.rename.parent = arrelement.parent\r\n        },\r\n        setRename() {\r\n            //console.log('setRename')\r\n            this.$store.commit('renameElement', {uuid: this.rename.id, parent: this.rename.parent, name: this.rename.name})\r\n            this.cancelRename()\r\n        },\r\n        cancelRename() {\r\n            this.rename = { id: 0, name: null, parent: null}\r\n        },\r\n        saveElement () {\r\n            EventBus.$emit('shortcut-keys', 'save')\r\n        },\r\n        openAll() {\r\n            this.$store.state.navigatorList[this.$store.state.openProjectIndex].children.forEach( fir => {\r\n                if(!this.openIds.some(item => item === fir.name)){\r\n                        this.openIds.push(fir.name)\r\n                }\r\n                fir.children.forEach(sec => {\r\n                    if(sec.children.length > 0) {\r\n                        if(!this.openIds.some(item => item === sec.name)){\r\n                            this.openIds.push(sec.name)\r\n                        }\r\n                    }\r\n                    if(fir.name == constant.Platform_str) {\r\n                        sec.children.forEach(thr => {\r\n                            if(thr.children.length > 0) {\r\n                                if(!this.openIds.some(item => item === thr.name)){\r\n                                    this.openIds.push(thr.name)\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        closeAll() {\r\n            this.openIds = []\r\n        },\r\n        deleteProject() {\r\n            this.dialogDeleteProject = true\r\n            this.strDelete = \"Project를 삭제하시겠습니까?\"\r\n        },\r\n        okDelete() {\r\n            if(this.ismenu == 0) { //project\r\n                this.$store.commit( 'deleteProject')\r\n            } else if (this.ismenu == 2) {\r\n                console.log(this.activenode[0])\r\n                var treeitem = Object.values(this.$store.getters.gettreeviewitems)\r\n                var arrelement = treeitem.find(data =>  data.uuid === this.activenode[0])\r\n                EventBus.$emit('delete-line', 'all')\r\n                this.$store.commit('deleteOpenElemnt', {uuid: '', isDeleteAll: true} )\r\n                this.$store.commit('deleteRefElement', {uuid:this.activenode[0]} ) // 내가 화살표의 끝인가?\r\n                this.$store.commit('deleteElementLine', {uuid:this.activenode[0]} ) // 내가 화살표의 시작인가?\r\n                this.$store.commit('deleteElement', {parent:arrelement.parent, uuid:this.activenode[0]} )\r\n            }\r\n            this.cancelDelete()\r\n        },\r\n        cancelDelete() {\r\n            this.dialogDeleteProject = false\r\n            this.deletActive = false\r\n            this.activenode = []\r\n        },\r\n        copyElement() {\r\n            if (this.activenode[0] != null && this.activenode[0].indexOf('-') !== -1) {\r\n                var treeitem = Object.values(this.$store.getters.gettreeviewitems)\r\n                var arrelement = treeitem.find(data =>  data.uuid === this.activenode[0])\r\n                this.$store.commit('copyElement', {parent:arrelement.parent, uuid: this.activenode[0]} )\r\n            }\r\n        },\r\n    },\r\n})\r\n</script>\r\n"]}]}