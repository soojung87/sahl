{"remainingRequest":"D:\\source\\service\\node_modules\\babel-loader\\lib\\index.js!D:\\source\\service\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\source\\service\\src\\store\\index.js","dependencies":[{"path":"D:\\source\\service\\src\\store\\index.js","mtime":1655273355078},{"path":"D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\source\\service\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tJ3Z1ZSc7aW1wb3J0IFZ1ZXggZnJvbSd2dWV4JzsvL2ltcG9ydCBjb25zdGFudCBmcm9tICIuL2NvbnN0YW50cy5qcyIKaW1wb3J0e3NhdmVBc31mcm9tJ2ZpbGUtc2F2ZXInOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKLy9pbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIi4uL21haW4uanMiCmltcG9ydCBnZXR0ZXJzIGZyb20iLi9nZXR0ZXJzIjtpbXBvcnQgbXV0YXRpb25zIGZyb20iLi9tdXRhdGlvbnMiO1Z1ZS51c2UoVnVleCk7ZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoe3N0YXRlOntvcGVuUHJvamVjdEluZGV4OjAsbmF2aWdhdG9yTGlzdDpbXSxTQUhMUHJvamVjdDpbXSxhY3RpdmVVVUlEOm51bGwsZGV0YWlsVmlld1VVSUQ6bnVsbCxjb25uZWN0aW9uTGluZTpbXSxpc21ha2VQcm9qZWN0OmZhbHNlLGRldGFpbFZpZXdlckxpc3Q6W10sLy8gcHJvamVjdOqwgCDrsJTrgJTrlYwg66eI64ukIHJlc2V07ZW07JW87ZWc64ukLgppZGV4RGV0YWlsVmlldzp1bmRlZmluZWQsZXJyb3JMaXN0OltdLGRldGFpbFZpZXdlcjp7dXVpZDonJyxlbGVtZW50OicnfSxzZXR0aW5nOnt6b29tTWFpbjowLjgsem9vbURldGFpbDowLjl9LHZpc2libGVEZXRhaWxWaWV3OnRydWUsdmlzaWJsZUxpbmU6dHJ1ZSxpc09wZW5DbG9zZVNlYXJjaDpmYWxzZSxpc09wZW5DbG9zZURldGFpbFZpZXc6dHJ1ZSxpc09wZW5DbG9zZU5hdmlnYXRpb25WaWV3OnRydWUsaXNQb3NpdGlvbkxpbmU6dHJ1ZSxpc0RyYWdnYWJsZTp0cnVlLHN0clNhdmVQYXRoOltdLC8vIFBhdGggTGlzdAppc0lucHV0RmlsZUNvbXBsYXRlOmZhbHNlLC8vaW5wdXQgZmlsZeqwkiDsoIDsnqXtm4Qg7ZmU66m07JeQIOq3uOumsCDrkqQgbGluZSDqt7jrpqzquLAg7JyE7ZW0CmlucHV0RmlsZUxpc3Q6W10sLy8gaW5wdXQgZmlsZSDqsJLsoIDsnqUg7ZuEIGxpbmUg6re466as6riwIOychO2VtCDslrTrlqTqsoPsnbQg65Ok7Ja07JmU64qU7KeAIOyVjOugpOqzoApudW1QYW5lczoxLC8v7ZmU66m067aE7ZWgIOuqh+qwnCDtlojripTsp4AKc2VsZWN0U2NyZWVuOjF9LGdldHRlcnM6Z2V0dGVycyxtdXRhdGlvbnM6bXV0YXRpb25zLC8vIG11dGF0aW9uczogewovLyAgICAgc2F2ZU9wZW5Qcm9qZWN0KHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgc3RhdGUgPSBwYXlsb2FkCi8vICAgICB9LAovLyAgICAgc2VsZWN0T3BlblByb2plY3Qoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICBzdGF0ZS5vcGVuUHJvamVjdEluZGV4ID0gcGF5bG9hZC5vcGVuUHJvamVjdEluZGV4Ci8vICAgICB9LAovLyAgICAgc2V0bWFrZVByb2plY3Qoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICBzdGF0ZS5pc21ha2VQcm9qZWN0ID0gcGF5bG9hZC5tYWtlcHJvamVjdAovLyAgICAgfSwKLy8gICAgIGFkZFByb2plY3Qoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0LnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIERhdGFUeXBlczogeyBDb21wdU1ldGhvZDogW10sIERhdGFDb25zdHI6IFtdLCBBcHBsaWNhdGlvbkFycmF5RGF0YVR5cGU6IFtdLCBJbXBsZW1lbnRhdGlvbkRhdGFUeXBlOiBbXSB9LAovLyAgICAgICAgICAgICBTZXJ2aWNlOiB7Ci8vICAgICAgICAgICAgICAgICBTb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudDogW10sCi8vICAgICAgICAgICAgICAgICBTZXJ2aWNlSW50ZXJmYWNlOiBbXSwKLy8gICAgICAgICAgICAgICAgIFNvbWVJUENsaWVudEV2ZW50OiBbXSwKLy8gICAgICAgICAgICAgICAgIFNvbWVJUFNlcnZlckV2ZW50OiBbXSwKLy8gICAgICAgICAgICAgICAgIEVycm9yOiBbXSwKLy8gICAgICAgICAgICAgICAgIEVycm9yU2V0OiBbXSwKLy8gICAgICAgICAgICAgICAgIEVycm9yRG9tYWluOiBbXSwKLy8gICAgICAgICAgICAgICAgIFNvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZTogW10sCi8vICAgICAgICAgICAgICAgICBTb21lSVBTZXJ2ZXJTZXJ2aWNlSW5zdGFuY2U6IFtdLAovLyAgICAgICAgICAgICAgICAgU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lOiBbXSwKLy8gICAgICAgICAgICAgICAgIFNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZTogW10sCi8vICAgICAgICAgICAgICAgICBSZXF1aXJlZFNvbWVJUDogW10sCi8vICAgICAgICAgICAgICAgICBQcm92aWRlZFNvbWVJUDogW10KLy8gICAgICAgICAgICAgfSwKLy8gICAgICAgICAgICAgTWFjaGluZTogeyBNYWNoaW5lOiBbXSwgTWFjaGluZURlc2lnbjogW10sIEV0aGVybmV0Q2x1c3RlcjogW10sIE1vZGVEZWNsYXJhdGlvbkdyb3VwOiBbXSwgSFdFbGVtZW50OiBbXSB9LAovLyAgICAgICAgICAgICBBZGFwdGl2ZUFwcGxpY2F0aW9uOiB7IFByb3RvTWFjaGluZU1hcHBpbmc6IFtdLCBTV0NvbXBvbmVudHM6IFtdLCBQcm9jZXNzOiBbXSwgRXhlY3V0YWJsZTogW10sIFN0YXJ0dXBDb25maWc6IFtdLCBEZXRlcm1pbmlzdGljQ2xpZW50OiBbXSwgUHJvY2Vzc0Rlc2lnbjogW10gfSwKLy8gICAgICAgICAgICAgUGVyOiB7IFBFUkZpbGVBcnJheTogW10sIFBFUkZpbGVQcm94eTogW10sIFBFUktleVZhbHVlRDogW10sIFBFUktleVZhbHVlREk6IFtdLCBQRVJQUHRvRmlsZUFycmF5OiBbXSwgUEVSUFB0b0tleVZhbHVlOiBbXSB9LAovLyAgICAgICAgICAgICBJYW1HOiB7IEZpZWxkRzogW10sIEV2ZW50RzogW10sIE1ldGhvZEc6IFtdLCBGaWVsZEdEOiBbXSwgRXZlbnRHRDogW10sIE1ldGhvZEdEOiBbXSB9Ci8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0LnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICBjaGlsZHJlbjogW3sKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5EYXRlVHlwZV9zdHIsCi8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuRGF0ZVR5cGVfc3RyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKLy8gICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKLy8gICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwovLyAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LkNvbXB1TWV0aG9kX3N0ciwgbmFtZTogY29uc3RhbnQuQ29tcHVNZXRob2Rfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuRGF0YUNvbnN0cl9zdHIsIG5hbWU6IGNvbnN0YW50LkRhdGFDb25zdHJfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuQXBwbGljYXRpb25BcnJheV9zdHIsIG5hbWU6IGNvbnN0YW50LkFwcGxpY2F0aW9uQXJyYXlfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuSW1wbGVtZW50YXRpb25fc3RyLCBuYW1lOiBjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICBdCi8vICAgICAgICAgICAgICAgICB9LAovLyAgICAgICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlNlcnZpY2Vfc3RyLAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlNlcnZpY2Vfc3RyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKLy8gICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKLy8gICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3sKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFt7IHV1aWQ6IGNvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X3N0ciwgbmFtZTogY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX3N0ciwgbmFtZTogY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5Tb21lSVBFdmVudHNfc3RyLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuU29tZUlQRXZlbnRzX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFt7IHV1aWQ6IGNvbnN0YW50LkNsaWVudF9zdHIsIG5hbWU6IGNvbnN0YW50LkNsaWVudF9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LlNlcnZlcl9zdHIsIG5hbWU6IGNvbnN0YW50LlNlcnZlcl9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19zdHIsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFt7IHV1aWQ6IGNvbnN0YW50LlNvbWVJUENsaWVudF9zdHIsIG5hbWU6IGNvbnN0YW50LlNvbWVJUENsaWVudF9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LlNvbWVJUFNlcnZlcl9zdHIsIG5hbWU6IGNvbnN0YW50LlNvbWVJUFNlcnZlcl9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfc3RyLCBuYW1lOiBjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19zdHIsIG5hbWU6IGNvbnN0YW50LlRvUG9ydFByb3RvdHlwZU1hcHBpbmdfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9zdHIsIG5hbWU6IGNvbnN0YW50LlJlcXVpcmVkU29tZUlQX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfc3RyLCBuYW1lOiBjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuRXJyb3JzX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LkVycm9yc19zdHIsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWZvbGRlciIsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbeyB1dWlkOiBjb25zdGFudC5FcnJvcl9zdHIsIG5hbWU6IGNvbnN0YW50LkVycm9yX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuRXJyb3JzZXRfc3RyLCBuYW1lOiBjb25zdGFudC5FcnJvcnNldF9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LkVycm9yRG9tYWluX3N0ciwgbmFtZTogY29uc3RhbnQuRXJyb3JEb21haW5fc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0sCi8vICAgICAgICAgICAgICAgICAgICAgXQovLyAgICAgICAgICAgICAgICAgfSwKLy8gICAgICAgICAgICAgICAgIHsKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWZvbGRlciIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5Qcm9jZXNzdG9NYWNoaW5lTWFwcGluZ19zdHIsIG5hbWU6IGNvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LlNXQ29tcG9uZW50c19zdHIsIG5hbWU6IGNvbnN0YW50LlNXQ29tcG9uZW50c19zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5Qcm9jZXNzX3N0ciwgbmFtZTogY29uc3RhbnQuUHJvY2Vzc19zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5Qcm9jZXNzRGVzaWduX3N0ciwgbmFtZTogY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5FeGVjdXRhYmxlX3N0ciwgbmFtZTogY29uc3RhbnQuRXhlY3V0YWJsZV9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5TdGFydHVwQ29uZmlnX3N0ciwgbmFtZTogY29uc3RhbnQuU3RhcnR1cENvbmZpZ19zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X3N0ciwgbmFtZTogY29uc3RhbnQuRGV0ZXJtaW5pc3RpY0NsaWVudF9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfQovLyAgICAgICAgICAgICAgICAgICAgIF0KLy8gICAgICAgICAgICAgICAgIH0sCi8vICAgICAgICAgICAgICAgICB7Ci8vICAgICAgICAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuTWFjaGluZXNfc3RyLAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50Lk1hY2hpbmVzX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWZvbGRlciIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5NYWNoaW5lX3N0ciwgbmFtZTogY29uc3RhbnQuTWFjaGluZV9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5NYWNoaW5lRGVzaWduZV9zdHIsIG5hbWU6IGNvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIsIG5hbWU6IGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5Nb2RlRGVjbGFyYXRpb25Hcm91cF9zdHIsIG5hbWU6IGNvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LkhXRWxlbWVudF9zdHIsIG5hbWU6IGNvbnN0YW50LkhXRWxlbWVudF9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICBdCi8vICAgICAgICAgICAgICAgICB9LAovLyAgICAgICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlBsYXRmb3JtX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb25zdGFudC5QbGF0Zm9ybV9zdHIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1mb2xkZXIiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuUEVSX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlBFUl9zdHIsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWZvbGRlciIsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbeyB1dWlkOiBjb25zdGFudC5GaWxlQXJyYXlfc3RyLCBuYW1lOiBjb25zdGFudC5GaWxlQXJyYXlfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5GaWxlUHJveHlJbnRlcmZfc3RyLCBuYW1lOiBjb25zdGFudC5GaWxlUHJveHlJbnRlcmZfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5LZXlWYWx1ZURhdGFfc3RyLCBuYW1lOiBjb25zdGFudC5LZXlWYWx1ZURhdGFfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5LZXlWYWx1ZURJX3N0ciwgbmFtZTogY29uc3RhbnQuS2V5VmFsdWVESV9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LlBvcnRQcm90b0ZpbGVBX3N0ciwgbmFtZTogY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5Qb3J0UHJvdG9LZXlWX3N0ciwgbmFtZTogY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuUEhNX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlBITV9zdHIsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWZvbGRlciIsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbeyB1dWlkOiBjb25zdGFudC5QbGF0Zm9ybUhlYWx0aE1hbmFnQ19zdHIsIG5hbWU6IGNvbnN0YW50LlBsYXRmb3JtSGVhbHRoTWFuYWdDX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuUEhNU3VwZXJ2aXNlZF9zdHIsIG5hbWU6IGNvbnN0YW50LlBITVN1cGVydmlzZWRfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5SZWNvdmVyeVZBX3N0ciwgbmFtZTogY29uc3RhbnQuUmVjb3ZlcnlWQV9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LkhlYWx0aENoYW5uZWxfc3RyLCBuYW1lOiBjb25zdGFudC5IZWFsdGhDaGFubmVsX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuUmVjb3ZlcnlBY3Rpb25JbnRlcmZfc3RyLCBuYW1lOiBjb25zdGFudC5SZWNvdmVyeUFjdGlvbkludGVyZl9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LkNvbnRyaXRvTWFjaGluZV9zdHIsIG5hbWU6IGNvbnN0YW50LkNvbnRyaXRvTWFjaGluZV9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuTk1fc3RyLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuTk1fc3RyLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1mb2xkZXIiLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3sgdXVpZDogY29uc3RhbnQuTk1JbnN0YW50aWF0aW9uX3N0ciwgbmFtZTogY29uc3RhbnQuTk1JbnN0YW50aWF0aW9uX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuTk1OZXRXb3JrSGFuZGxlX3N0ciwgbmFtZTogY29uc3RhbnQuTk1OZXRXb3JrSGFuZGxlX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuVURQTk1DbHVzdGVyX3N0ciwgbmFtZTogY29uc3RhbnQuVURQTk1DbHVzdGVyX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuVURQTk1OZXR3b3JrQ19zdHIsIG5hbWU6IGNvbnN0YW50LlVEUE5NTmV0d29ya0Nfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5VRFBOTU5vZGVfc3RyLCBuYW1lOiBjb25zdGFudC5VRFBOTU5vZGVfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5OTUNvbmZpZ19zdHIsIG5hbWU6IGNvbnN0YW50Lk5NQ29uZmlnX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5Mb2dfc3RyLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuTG9nX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFt7IHV1aWQ6IGNvbnN0YW50LkxvZ2FuZFRyYWNlX3N0ciwgbmFtZTogY29uc3RhbnQuTG9nYW5kVHJhY2Vfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5ETFRsb2dDaGFubmVsX3N0ciwgbmFtZTogY29uc3RhbnQuRExUbG9nQ2hhbm5lbF9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHV1aWQ6IGNvbnN0YW50LkRMVE1lc3NhZ2Vfc3RyLCBuYW1lOiBjb25zdGFudC5ETFRNZXNzYWdlX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuRExUTG9nQ2hhbm5lbHRvUHJvX3N0ciwgbmFtZTogY29uc3RhbnQuRExUTG9nQ2hhbm5lbHRvUHJvX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5JQU1fc3RyLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuSUFNX3N0ciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFt7IHV1aWQ6IGNvbnN0YW50LkNvbUZpZWxkR3JhbnRfc3RyLCBuYW1lOiBjb25zdGFudC5Db21GaWVsZEdyYW50X3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuQ29tRXZlbnRHcmFudF9zdHIsIG5hbWU6IGNvbnN0YW50LkNvbUV2ZW50R3JhbnRfc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB1dWlkOiBjb25zdGFudC5Db21NZXRob2RHcmFudF9zdHIsIG5hbWU6IGNvbnN0YW50LkNvbU1ldGhvZEdyYW50X3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX3N0ciwgbmFtZTogY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX3N0ciwgbmFtZTogY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuQ29tTWV0aG9kR0Rlc2lnbl9zdHIsIG5hbWU6IGNvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25fc3RyLCBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLCB2YWxpZGF0aW9uOiBmYWxzZSwgY2hpbGRyZW46IFtdIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0sCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlVDTV9zdHIsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb25zdGFudC5VQ01fc3RyLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1mb2xkZXIiLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3sgdXVpZDogY29uc3RhbnQuU1dDbHVzdGVyX3N0ciwgbmFtZTogY29uc3RhbnQuU1dDbHVzdGVyX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuU1dQYWNrYWdlX3N0ciwgbmFtZTogY29uc3RhbnQuU1dQYWNrYWdlX3N0ciwgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywgdmFsaWRhdGlvbjogZmFsc2UsIGNoaWxkcmVuOiBbXSB9LAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdXVpZDogY29uc3RhbnQuVmVoaWNsZVBhY2thZ2Vfc3RyLCBuYW1lOiBjb25zdGFudC5WZWhpY2xlUGFja2FnZV9zdHIsIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsIHZhbGlkYXRpb246IGZhbHNlLCBjaGlsZHJlbjogW10gfSwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSwKLy8gICAgICAgICAgICAgICAgICAgICBdCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIF0KLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLmNvbm5lY3Rpb25MaW5lLnB1c2goeyBzdGFydDogW10sIGVuZDogW10gfSkKLy8gICAgICAgICAgICAgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiU0FITFByb2plY3QiLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdCkpCi8vICAgICAgICAgICAgIC8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm5hdmlnYXRvckxpc3QiLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5uYXZpZ2F0b3JMaXN0KSkKLy8gICAgIH0sCi8vICAgICBkZWxldGVQcm9qZWN0KHN0YXRlKSB7Ci8vICAgICAgICAgc3RhdGUuaXNtYWtlUHJvamVjdCA9IGZhbHNlCi8vICAgICAgICAgc3RhdGUub3BlblByb2plY3RJbmRleCA9IDAKLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdCA9IFtdCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdCA9IFtdCi8vICAgICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmUgPSBbXQovLyAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdlckxpc3QgPSBbXQovLyAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdlciA9IHsgdXVpZDogJycsIGVsZW1lbnQ6ICcnIH0KLy8gICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbnVsbAovLyAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdVVUlEID0gbnVsbAovLyAgICAgICAgIHN0YXRlLmlkZXhEZXRhaWxWaWV3ID0gdW5kZWZpbmVkCi8vICAgICAgICAgc3RhdGUuc3RyU2F2ZVBhdGggPSBbXQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkZWxldGUtbGluZScsICdhbGwnKQovLyAgICAgICAgICAgICAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCJTQUhMUHJvamVjdCIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0KSkKLy8gICAgICAgICAgICAgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibmF2aWdhdG9yTGlzdCIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLm5hdmlnYXRvckxpc3QpKQovLyAgICAgfSwKLy8gICAgIHNldHV1aWQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gcGF5bG9hZC51dWlkCi8vICAgICB9LAovLyAgICAgY29weUVsZW1lbnQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlID0gbnVsbCwKLy8gICAgICAgICAgICAgY29weUVsZQovLyAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbXB1TWV0aG9kX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkNvbXB1TWV0aG9kW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVDb21wdU1ldGhvZAovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZC5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbXB1TWV0aG9kX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkRhdGFDb25zdHJfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0cltpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkRhdGFDb25zdHJbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZURhdGFDb25zdHIKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0ci5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGFDb25zdHJfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQXBwbGljYXRpb25BcnJheV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZVtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZVtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lQXBwbGljYXRpb25BcnJheQovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGUucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5BcHBsaWNhdGlvbkFycmF5X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkltcGxlbWVudGF0aW9uX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVJbXBsZW1lbnRhdGlvbgovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSW1wbGVtZW50YXRpb25faW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuTWFjaGluZV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lTWFjaGluZQovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuTWFjaGluZURlc2lnbmVfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbi5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeEVsZV0pKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ25baWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZU1hY2hpbmVEZXNpZ24KLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24ucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lRGVzaWduZV9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FdGhlcm5ldENsdXN0ZXJfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZUV0aGVybmV0Q2x1c3RlcgovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwW2lkeEVsZV0pKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVNb2RlRGVjbGFyYXRpb25Hcm91cAovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTW9kZURlY2xhcmF0aW9uR3JvdXAucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Nb2RlRGVjbGFyYXRpb25Hcm91cF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5IV0VsZW1lbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50LmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnRbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZUhXRWxlbWVudAovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50LnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSFdFbGVtZW50X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmcuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZ1tpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVQcm9jZXNzdG9NYWNoaW5lTWFwcGluZwovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZy5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc3RvTWFjaGluZU1hcHBpbmdfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU1dDb21wb25lbnRzX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHNbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVTV0NvbXBvbmVudHMKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU1dDb21wb25lbnRzX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlByb2Nlc3Nfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeEVsZV0pKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZVByb2Nlc3MKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NEZXNpZ25baWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbltpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lUHJvY2Vzc0Rlc2lnbgovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbi5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FeGVjdXRhYmxlX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkV4ZWN1dGFibGUuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZVtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVFeGVjdXRhYmxlCi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlLnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FeGVjdXRhYmxlX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlN0YXJ0dXBDb25maWdfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU3RhcnR1cENvbmZpZy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TdGFydHVwQ29uZmlnW2lkeEVsZV0pKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlN0YXJ0dXBDb25maWdbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZVN0YXJ0dXBDb25maWcKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlN0YXJ0dXBDb25maWcucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlN0YXJ0dXBDb25maWdfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRGV0ZXJtaW5pc3RpY0NsaWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5EZXRlcm1pbmlzdGljQ2xpZW50LmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkRldGVybWluaXN0aWNDbGllbnRbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRGV0ZXJtaW5pc3RpY0NsaWVudFtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lRGV0ZXJtaW5pc3RpY0NsaWVudAovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRGV0ZXJtaW5pc3RpY0NsaWVudC5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGV0ZXJtaW5pc3RpY0NsaWVudF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lU29tZUlQU2VydmljZQovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVTZXJ2aWNlSW50ZXJmYWNlCi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5DbGllbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50RXZlbnQuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50RXZlbnRbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50RXZlbnRbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZUNsaWVudAovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50RXZlbnQucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUEV2ZW50c19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ2xpZW50X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNlcnZlcl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudFtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lU2VydmVyCi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudC5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQRXZlbnRzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2ZXJfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQQ2xpZW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRTZXJ2aWNlSW5zdGFuY2VbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50U2VydmljZUluc3RhbmNlW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVTb21lSVBDbGllbnQKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZS5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQQ2xpZW50X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNvbWVJUFNlcnZlcl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJTZXJ2aWNlSW5zdGFuY2UuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmVyU2VydmljZUluc3RhbmNlW2lkeEVsZV0pKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlclNlcnZpY2VJbnN0YW5jZVtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lU29tZUlQU2VydmVyCi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJTZXJ2aWNlSW5zdGFuY2UucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZlcl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVTb21lSVB0b01hY2hpbmUKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZS5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQVG9NYWNoaW5lTWFwcGluZ19pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVUb1BvcnRQcm90b3R5cGUKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUFtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lUmVxdWlyZWRTb21lSVAKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lUHJvdmlkZWRTb21lSVAKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FcnJvcl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvci5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvcltpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvcltpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lRXJyb3IKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yLnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FcnJvcnNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkVycm9yc2V0X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0W2lkeEVsZV0pKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0W2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVFcnJvclNldAovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JTZXQucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JzZXRfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXJyb3JEb21haW5fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JEb21haW4uZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JEb21haW5baWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JEb21haW5baWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZUVycm9yRG9tYWluCi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvckRvbWFpbi5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FcnJvckRvbWFpbl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5GaWxlQXJyYXlfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXkuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXlbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXlbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZVBFUkZpbGVBcnJheQovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXkucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkZpbGVBcnJheV9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5GaWxlUHJveHlJbnRlcmZfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlUHJveHkuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlUHJveHlbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlUHJveHlbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZVBFUkZpbGVQcm94eQovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlUHJveHkucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkZpbGVQcm94eUludGVyZl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5LZXlWYWx1ZURhdGFfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZUQuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZURbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZURbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZVBFUktleVZhbHVlRAovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZUQucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LktleVZhbHVlRGF0YV9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5LZXlWYWx1ZURJX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSS2V5VmFsdWVESS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUktleVZhbHVlRElbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZURJW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVQRVJLZXlWYWx1ZURJCi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUktleVZhbHVlREkucHVzaChjb3B5RWxlKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LktleVZhbHVlRElfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5LmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheVtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXlbaWR4RWxlXS56aW5kZXggPSAyCi8vICAgICAgICAgICAgIGNvcHlFbGUudXVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICBjb3B5RWxlLm5hbWUgPSB0aGlzLmdldHRlcnMuZ2V0TmFtZVBFUlBQdG9GaWxlQXJyYXkKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheS5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZVtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZVtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lUEVSUFB0b0tleVZhbHVlCi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZS5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21GaWVsZEdyYW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkRy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVGaWVsZEcKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkRy5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHcmFudF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21FdmVudEdyYW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50Ry5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVFdmVudEcKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50Ry5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRXZlbnRHcmFudF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IGNvcHlFbGUudXVpZCwgbmFtZTogY29weUVsZS5uYW1lLCBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21NZXRob2RHcmFudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBjb3B5RWxlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdbaWR4RWxlXSkpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR1tpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lTWV0aG9kRwovLyAgICAgICAgICAgICBjb3B5RWxlLmxlZnQgPSBlbGVtZW50WAovLyAgICAgICAgICAgICBjb3B5RWxlLnRvcCA9IGVsZW1lbnRZCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kRy5wdXNoKGNvcHlFbGUpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tTWV0aG9kR3JhbnRfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHRFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdEW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVGaWVsZEdECi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdELnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21GaWVsZEdEZXNpZ25faW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R0QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGNvcHlFbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHRFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdEW2lkeEVsZV0uemluZGV4ID0gMgovLyAgICAgICAgICAgICBjb3B5RWxlLnV1aWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgY29weUVsZS5uYW1lID0gdGhpcy5nZXR0ZXJzLmdldE5hbWVFdmVudEdECi8vICAgICAgICAgICAgIGNvcHlFbGUubGVmdCA9IGVsZW1lbnRYCi8vICAgICAgICAgICAgIGNvcHlFbGUudG9wID0gZWxlbWVudFkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdELnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21FdmVudEdEZXNpZ25faW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBjb3B5RWxlLnV1aWQsIG5hbWU6IGNvcHlFbGUubmFtZSwgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tTWV0aG9kR0Rlc2lnbl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgY29weUVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRFtpZHhFbGVdKSkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRFtpZHhFbGVdLnppbmRleCA9IDIKLy8gICAgICAgICAgICAgY29weUVsZS51dWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIGNvcHlFbGUubmFtZSA9IHRoaXMuZ2V0dGVycy5nZXROYW1lTWV0aG9kR0QKLy8gICAgICAgICAgICAgY29weUVsZS5sZWZ0ID0gZWxlbWVudFgKLy8gICAgICAgICAgICAgY29weUVsZS50b3AgPSBlbGVtZW50WQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdELnB1c2goY29weUVsZSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21NZXRob2RHRGVzaWduX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogY29weUVsZS51dWlkLCBuYW1lOiBjb3B5RWxlLm5hbWUsIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IGNvcHlFbGUudXVpZAovLyAgICAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7IC8vIOyEoCDtlZjrgpjslKkg6re466Ck7KO86riwIOuVjOusuOyXkCDrgZ3rgqDrlYwgYWN0aXZlIGxpbmUg7ZW07KSY7JW87ZWc64ukLgovLyAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2V0TGluZUFjdGl2ZScsIHBheWxvYWQudXVpZCwgZmFsc2UpCi8vICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIGNvcHlFbGUudXVpZCkKLy8gICAgICAgICAgICAgVnVlLm5leHRUaWNrKCgpID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBhY3RpdmVMaW5lID0gdGhpcy5nZXR0ZXJzLmdldGFjdGl2ZUxpbmUocGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICAgICAgYWN0aXZlTGluZS5mb3JFYWNoKChpLCBuKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaSkKLy8gICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRVVUlEID0gc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uc3RhcnRbaV0uc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZUxpbmUgPSBzdGFydFVVSURbMV0uc3BsaXQoJy0nKQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFVVSURbMF0gPT0gcGF5bG9hZC51dWlkKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXJ0VVVJRFsxXSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgVnVlLm5leHRUaWNrKCgpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGNvcHlFbGUudXVpZCArICcvJyArIHN0YXJ0VVVJRFsxXSwgZW5kOiBzdGF0ZS5jb25uZWN0aW9uTGluZVtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5lbmRbaV0gfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgVnVlLm5leHRUaWNrKCgpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFuZ1RhYiA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSWQgPSBudWxsIC8vdGFi7JeQ7IScIOyEoOydgCDrlLDroZzrlLDroZwg6re466as6riwIOuVjOusuOyXkCDtlZjrgpjslKkg64Sj7Ja07JW87ZWc64ukLgovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmxlTGluZVswXSA9PSAnZmllbGQnIHx8IHRhYmxlTGluZVswXSA9PSAnZXZlbnQnIHx8IHRhYmxlTGluZVswXSA9PSAnYXJndGFibGUnIHx8IHRhYmxlTGluZVswXSA9PSAnbWV0aG9kZXJyb3JzJyB8fCB0YWJsZUxpbmVbMF0gPT0gJ21ldGhvZGVycm9yJyB8fAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlTGluZVswXSA9PSAncHJvdmlkRXZlbnRHJyB8fCB0YWJsZUxpbmVbMF0gPT0gJ3Byb3ZpZFNlcnZlcicgfHwgdGFibGVMaW5lWzBdID09ICdyZXF1aXJlZEV2ZW50RycgfHwgdGFibGVMaW5lWzBdID09ICdyZXF1aXJlZENsaWVudCcgfHwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUxpbmVbMF0gPT0gJ2ZnY29udGV4dCcgfHwgdGFibGVMaW5lWzBdID09ICdmZ3RhcmdldCcgfHwgdGFibGVMaW5lWzBdID09ICdwcm9jZXNzcmVzb3JjZScgfHwgdGFibGVMaW5lWzBdID09ICdwcm9jZXNzc3RhcnR1cCcgfHwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUxpbmVbMF0gPT0gJ2NvbWNvbmV0JykgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nVGFiID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2FyZ3RhYmxlJyB8fCB0YWJsZUxpbmVbMF0gPT0gJ21ldGhvZGVycm9ycycgfHwgdGFibGVMaW5lWzBdID09ICdtZXRob2RlcnJvcicpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSWQgPSAnbWV0aG9kcycKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJvdmlkRXZlbnRHJyB8fCB0YWJsZUxpbmVbMF0gPT0gJ3Byb3ZpZFNlcnZlcicpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSWQgPSAncHJvdmlkRScKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncmVxdWlyZWRFdmVudEcnIHx8IHRhYmxlTGluZVswXSA9PSAncmVxdWlyZWRDbGllbnQnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYklkID0gJ3JlcXVpcmVkRScKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnZmdjb250ZXh0JyB8fCB0YWJsZUxpbmVbMF0gPT0gJ2ZndGFyZ2V0JyB8fCB0YWJsZUxpbmVbMF0gPT0gJ3Byb2Nlc3NyZXNvcmNlJyB8fCB0YWJsZUxpbmVbMF0gPT0gJ3Byb2Nlc3NzdGFydHVwJykgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJZCA9ICdwcm9jZXNzU3RhcnVwQycKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnY29tY29uZXQnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYklkID0gJ2NvbmRpdGlvbmFsJwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYklkID0gdGFibGVMaW5lWzBdCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2NvcHktbGluZScsIGNvcHlFbGUudXVpZCwgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uZW5kW2ldLCBpLCBjaGFuZ1RhYiwgdGFiSWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA9PSBhY3RpdmVMaW5lLmxlbmd0aCAtIDEpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWdWUubmV4dFRpY2soKCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHN0YXRlLnZpc2libGVMaW5lKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUudmlzaWJsZUxpbmUpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzZXRMaW5lQWN0aXZlJywgY29weUVsZS51dWlkLCB0cnVlKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgIH0pCi8vICAgICB9LAovLyAgICAgc2V0Q29ubmVjdGlvbmxpbmUoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICAvL2NvbnNvbGUubG9nKCdzZXRDb25uZWN0aW9ubGluZSAnICsgcGF5bG9hZC5zdGFydCArICcgLy8vICcgKyBwYXlsb2FkLmVuZCkKLy8gICAgICAgICBzdGF0ZS5jb25uZWN0aW9uTGluZVtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5zdGFydC5wdXNoKHBheWxvYWQuc3RhcnQpCi8vICAgICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uZW5kLnB1c2gocGF5bG9hZC5lbmQpCi8vICAgICB9LAovLyAgICAgZGVsZXRDb25uZWN0aW9ubGluZShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnN0YXJ0LnNwbGljZShwYXlsb2FkLnN0YXJ0bnVtLCAxKQovLyAgICAgICAgIHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmVuZC5zcGxpY2UocGF5bG9hZC5zdGFydG51bSwgMSkKLy8gICAgIH0sCi8vICAgICBzZXREZXRhaWxWaWV3KHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgY29uc29sZS5sb2coJ3NldERldGFpbFZpZXcqKicgKyBzdGF0ZS5kZXRhaWxWaWV3ZXIudXVpZCArICcvLycgKyBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHN0YXRlLmRldGFpbFZpZXdlci51dWlkICE9IHBheWxvYWQudXVpZCkgewovLyAgICAgICAgICAgICBjb25zb2xlLmxvZygnLi4uJyArIHN0YXRlLmlkZXhEZXRhaWxWaWV3ICsgJysnICsgc3RhdGUuZGV0YWlsVmlld2VyTGlzdC5sZW5ndGgpCi8vICAgICAgICAgICAgIGlmIChzdGF0ZS5pZGV4RGV0YWlsVmlldyA8IHN0YXRlLmRldGFpbFZpZXdlckxpc3QubGVuZ3RoIC0gMSkgewovLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy4jIy4nICsgc3RhdGUuZGV0YWlsVmlld2VyTGlzdFtzdGF0ZS5pZGV4RGV0YWlsVmlldyArIDFdLnV1aWQgKyAnKycgKyBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuZGV0YWlsVmlld2VyTGlzdFtzdGF0ZS5pZGV4RGV0YWlsVmlldyArIDFdLnV1aWQgIT0gcGF5bG9hZC51dWlkKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuZGV0YWlsVmlld2VyTGlzdC5zcGxpY2Uoc3RhdGUuaWRleERldGFpbFZpZXcgKyAxKQovLyAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzcGxpY2UnICsgc3RhdGUuaWRleERldGFpbFZpZXcpCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRmcm9udERldGFpbFZpZXcnKQovLyAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzcGxpY2UgZWxzZSAnICsgc3RhdGUuaWRleERldGFpbFZpZXcpCi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgc3RhdGUuZGV0YWlsVmlld2VyID0geyB1dWlkOiBwYXlsb2FkLnV1aWQsIGVsZW1lbnQ6IHBheWxvYWQuZWxlbWVudCB9Ci8vICAgICAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdlckxpc3QucHVzaCh7IHV1aWQ6IHBheWxvYWQudXVpZCwgZWxlbWVudDogcGF5bG9hZC5lbGVtZW50IH0pCi8vICAgICAgICAgICAgIHN0YXRlLmlkZXhEZXRhaWxWaWV3ID0gc3RhdGUuZGV0YWlsVmlld2VyTGlzdC5sZW5ndGggLSAxCi8vICAgICAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdVVUlEID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXQvLycgKyBzdGF0ZS5pZGV4RGV0YWlsVmlldyArICcvLycgKyBzdGF0ZS5kZXRhaWxWaWV3ZXIuZWxlbWVudCArICcvLycgKyBzdGF0ZS5kZXRhaWxWaWV3ZXIudXVpZCkKLy8gICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUuZGV0YWlsVmlld2VyTGlzdCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0LnNwbGljZShzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0Lmxlbmd0aCAtIDEsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdlciA9IHsgdXVpZDogcGF5bG9hZC51dWlkLCBlbGVtZW50OiBwYXlsb2FkLmVsZW1lbnQgfQovLyAgICAgICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0LnB1c2goeyB1dWlkOiBwYXlsb2FkLnV1aWQsIGVsZW1lbnQ6IHBheWxvYWQuZWxlbWVudCB9KQovLyAgICAgICAgICAgICBzdGF0ZS5pZGV4RGV0YWlsVmlldyA9IHN0YXRlLmRldGFpbFZpZXdlckxpc3QubGVuZ3RoIC0gMQovLyAgICAgICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3VVVJRCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBzZXRCYWNrRGV0YWlsVmlldyhzdGF0ZSkgewovLyAgICAgICAgIGlmIChzdGF0ZS5pZGV4RGV0YWlsVmlldyA9PSAwKSB7Ci8vICAgICAgICAgICAgIHJldHVybgovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5pZGV4RGV0YWlsVmlldyAtPSAxCi8vICAgICAgICAgc3RhdGUuZGV0YWlsVmlld2VyID0geyB1dWlkOiBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0W3N0YXRlLmlkZXhEZXRhaWxWaWV3XS51dWlkLCBlbGVtZW50OiBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0W3N0YXRlLmlkZXhEZXRhaWxWaWV3XS5lbGVtZW50IH0KLy8gICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3VVVJRCA9IHN0YXRlLmRldGFpbFZpZXdlckxpc3Rbc3RhdGUuaWRleERldGFpbFZpZXddLnV1aWQKLy8gICAgICAgICBjb25zb2xlLmxvZygnYmFjaycgKyBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0W3N0YXRlLmlkZXhEZXRhaWxWaWV3XS5lbGVtZW50ICsgJy8vJyArIHN0YXRlLmRldGFpbFZpZXdlci51dWlkKQovLyAgICAgfSwKLy8gICAgIHNldGZyb250RGV0YWlsVmlldyhzdGF0ZSkgewovLyAgICAgICAgIGlmIChzdGF0ZS5pZGV4RGV0YWlsVmlldyA9PSBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0Lmxlbmd0aCAtIDEpIHsKLy8gICAgICAgICAgICAgcmV0dXJuCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLmlkZXhEZXRhaWxWaWV3ICs9IDEKLy8gICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3ZXIgPSB7IHV1aWQ6IHN0YXRlLmRldGFpbFZpZXdlckxpc3Rbc3RhdGUuaWRleERldGFpbFZpZXddLnV1aWQsIGVsZW1lbnQ6IHN0YXRlLmRldGFpbFZpZXdlckxpc3Rbc3RhdGUuaWRleERldGFpbFZpZXddLmVsZW1lbnQgfQovLyAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdVVUlEID0gc3RhdGUuZGV0YWlsVmlld2VyTGlzdFtzdGF0ZS5pZGV4RGV0YWlsVmlld10udXVpZAovLyAgICAgICAgIGNvbnNvbGUubG9nKCdmcm9udCcgKyBzdGF0ZS5kZXRhaWxWaWV3ZXIuZWxlbWVudCArICcvLycgKyBzdGF0ZS5kZXRhaWxWaWV3ZXIudXVpZCkKLy8gICAgIH0sCi8vICAgICBzZXRWaXNpYmxlRGV0YWlsVmlldyhzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHN0YXRlLnZpc2libGVEZXRhaWxWaWV3ID0gcGF5bG9hZC52aXNpYmxlCi8vICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInZpc2libGVEZXRhaWxWaWV3IiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUudmlzaWJsZURldGFpbFZpZXcpKQovLyAgICAgfSwKLy8gICAgIHNldFZpc2libGVMaW5lKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgc3RhdGUudmlzaWJsZUxpbmUgPSBwYXlsb2FkLmlzdmlzaWJsZQovLyAgICAgfSwKLy8gICAgIHNldEV4aXQoKSB7Ci8vICAgICAgICAgY29uc29sZS5sb2coJ3NldEV4aXQnKQovLyAgICAgICAgICAgICAvLywgSlNPTi5zdHJpbmdpZnkoc3RhdGUuU0FITFByb2plY3QpKQovLyAgICAgICAgICAgICAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCJuYXZpZ2F0b3JMaXN0IiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUubmF2aWdhdG9yTGlzdCkpCi8vICAgICB9LAovLyAgICAgZGVsZXRlRGV0YWlsVmlld2VyTGlzdChzdGF0ZSkgewovLyAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdlckxpc3QgPSBbXQovLyAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdlciA9IHsgdXVpZDogJycsIGVsZW1lbnQ6ICcnIH0KLy8gICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3VVVJRCA9IG51bGwKLy8gICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0KQovLyAgICAgfSwKLy8gICAgIHNldFBhbmVzTnVtKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgc3RhdGUubnVtUGFuZXMgPSBwYXlsb2FkLnBhbmVzCi8vICAgICB9LAovLyAgICAgc2V0U2VsZWN0U2NyZWVuKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgc3RhdGUuc2VsZWN0U2NyZWVuID0gcGF5bG9hZC5udW0KLy8gICAgIH0sCi8vICAgICBzZXRab29tSW5PdXQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICBpZiAocGF5bG9hZC52YWx1ZURldGFpbCA9PSBudWxsKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLnNldHRpbmcgPSB7IHpvb21NYWluOiBwYXlsb2FkLnZhbHVlTWFpbiwgem9vbURldGFpbDogc3RhdGUuc2V0dGluZy56b29tRGV0YWlsIH0KLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBzdGF0ZS5zZXR0aW5nID0geyB6b29tTWFpbjogcGF5bG9hZC52YWx1ZU1haW4sIHpvb21EZXRhaWw6IHBheWxvYWQudmFsdWVEZXRhaWwgfQovLyAgICAgICAgIH0KLy8gICAgICAgICAvLyDsnbTroIfqsowg67OA6rK97ZW07JW87KeAIHdhdGNo7JeQ7IScIOuzgOqyveuQmOyXiOuKlOyngCDslYzsiJjsnojri6QhISEhCi8vICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInNldHRpbmciLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5zZXR0aW5nKSkKLy8gICAgIH0sCi8vICAgICBzZXRPcGVuQ2xvc2VTZWFyY2goc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICBzdGF0ZS5pc09wZW5DbG9zZVNlYXJjaCA9IHBheWxvYWQuaXNvcGVuCi8vICAgICB9LAovLyAgICAgc2V0T3BlbkNsb3NlRGV0YWlsVmlldyhzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHN0YXRlLmlzT3BlbkNsb3NlRGV0YWlsVmlldyA9IHBheWxvYWQuaXNvcGVuCi8vICAgICB9LAovLyAgICAgc2V0T3BlbkNsb3NlTmF2aWdhdGlvblZpZXcoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICBzdGF0ZS5pc09wZW5DbG9zZU5hdmlnYXRpb25WaWV3ID0gcGF5bG9hZC5pc29wZW4KLy8gICAgIH0sCi8vICAgICBzZXRQb3NpdGlvbm9mTGluZShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHN0YXRlLmlzUG9zaXRpb25MaW5lID0gcGF5bG9hZC51cAovLyAgICAgfSwKLy8gICAgIHNldERyYWdnYWJsZShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHN0YXRlLmlzRHJhZ2dhYmxlID0gcGF5bG9hZC5kcmFnCi8vICAgICB9LAovLyAgICAgc2V0U2F2ZVZhbGlkYXRlKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgY29uc29sZS5sb2coJ3NldFNhdmVWYWxpZGF0ZScpCi8vICAgICAgICAgc3RhdGUuZXJyb3JMaXN0ID0gW10KLy8gICAgICAgICBmb3IgKHZhciBkYXRhIGluIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdKSB7Ci8vICAgICAgICAgICAgIGlmIChkYXRhICE9ICd1dWlkJyAmJiBkYXRhICE9ICduYW1lJykgewovLyAgICAgICAgICAgICAgICAgZm9yICh2YXIgZGF0YXR5cGUgaW4gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF1bZGF0YV0pIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XVtkYXRhXVtkYXRhdHlwZV0uZm9yRWFjaCgoZWxlLCBlbGlkeCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnNhdmVsaXN0LmZvckVhY2gobGlzdCA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNhdmVGaWxlLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udXVpZCA9PSBlbGUudXVpZCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLm5hbWUgPT0gJycpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVycm9yTGlzdC5wdXNoKHsgdXVpZDogZWxlLnV1aWQsIG5hbWU6IGVsZS5uYW1lLCBwYXJlbnQ6IGRhdGEsIHBhdGg6IGVsZS5wYXRoLCBlcnJvcjogJ25hbWUnIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5wYXRoID09ICcnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lcnJvckxpc3QucHVzaCh7IHV1aWQ6IGVsZS51dWlkLCBuYW1lOiBlbGUubmFtZSwgcGFyZW50OiBkYXRhLCBwYXRoOiBlbGUucGF0aCwgZXJyb3I6ICdwYXRoJyB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUubmFtZSA9PSAnJyB8fCBlbGUucGF0aCA9PSAnJykgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2NoZWNrVmFpbGRhdGlvbkVsZW1lbnQnLCB7IGRhdGF0eXBlOiBkYXRhdHlwZSwgZWxpZHg6IGVsaWR4IH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgc2V0Q2hlY2tWYWxpZGF0ZShzdGF0ZSkgewovLyAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRDaGVja1ZhbGlkYXRlJykKLy8gICAgICAgICBzdGF0ZS5lcnJvckxpc3QgPSBbXQovLyAgICAgICAgIGZvciAodmFyIGRhdGEgaW4gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0pIHsKLy8gICAgICAgICAgICAgaWYgKGRhdGEgIT0gJ3V1aWQnICYmIGRhdGEgIT0gJ25hbWUnKSB7Ci8vICAgICAgICAgICAgICAgICBmb3IgKHZhciBkYXRhdHlwZSBpbiBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XVtkYXRhXSkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdW2RhdGFdW2RhdGF0eXBlXS5mb3JFYWNoKChlbGUsIGVsaWR4KSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVja05hbWVTcGFjZSA9IGZhbHNlCi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUubmFtZSA9PSAnJykgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuZXJyb3JMaXN0LnB1c2goeyB1dWlkOiBlbGUudXVpZCwgbmFtZTogZWxlLm5hbWUsIHBhcmVudDogZGF0YSwgcGF0aDogZWxlLnBhdGgsIGVycm9yOiAnbmFtZScgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLnBhdGggPT0gJycpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVycm9yTGlzdC5wdXNoKHsgdXVpZDogZWxlLnV1aWQsIG5hbWU6IGVsZS5uYW1lLCBwYXJlbnQ6IGRhdGEsIHBhdGg6IGVsZS5wYXRoLCBlcnJvcjogJ3BhdGgnIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5uYW1lc3BhY2UgIT0gdW5kZWZpbmVkKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gZWxlLm5hbWVzcGFjZS5zcGxpdCgnLCcpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuYW1lc3BhY2UpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UuZm9yRWFjaCgoaXRlbSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGl0ZW0gPT0gJycgJiYgaSA9PSBuYW1lc3BhY2UubGVuZ3RoIC0gMSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0clN5bWJsZSA9IGl0ZW0uc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdHJTeW1ibGUpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJTeW1ibGUubGVuZ3RoICE9IDIgfHwgc3RyU3ltYmxlWzBdID09ICcnIHx8IHN0clN5bWJsZVswXSA9PSB1bmRlZmluZWQgfHwgc3RyU3ltYmxlWzFdID09ICcnIHx8IHN0clN5bWJsZVsxXSA9PSB1bmRlZmluZWQpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja05hbWVTcGFjZSA9PSBmYWxzZSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVycm9yTGlzdC5wdXNoKHsgdXVpZDogZWxlLnV1aWQsIG5hbWU6IGVsZS5uYW1lLCBwYXJlbnQ6IGRhdGEsIHBhdGg6IGVsZS5wYXRoLCBlcnJvcjogJ05hbWUgU3BhY2UnIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja05hbWVTcGFjZSA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5uYW1lID09ICcnIHx8IGVsZS5wYXRoID09ICcnIHx8IGNoZWNrTmFtZVNwYWNlID09IHRydWUpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdjaGVja1ZhaWxkYXRpb25FbGVtZW50JywgeyBkYXRhdHlwZTogZGF0YXR5cGUsIGVsaWR4OiBlbGlkeCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfQovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBjaGVja1ZhaWxkYXRpb25FbGVtZW50KHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeGNoaWxkID0gbnVsbCwKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IG51bGwsCi8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBudWxsCi8vICAgICAgICAgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ0NvbXB1TWV0aG9kJykgewovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LkRhdGVUeXBlX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Db21wdU1ldGhvZF9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnRGF0YUNvbnN0cicpIHsKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5EYXRlVHlwZV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRGF0YUNvbnN0cl9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnQXBwbGljYXRpb25BcnJheURhdGFUeXBlJykgewovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LkRhdGVUeXBlX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5BcHBsaWNhdGlvbkFycmF5X2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdJbXBsZW1lbnRhdGlvbkRhdGFUeXBlJykgewovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LkRhdGVUeXBlX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnTWFjaGluZScpIHsKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5NYWNoaW5lc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuTWFjaGluZV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnTWFjaGluZURlc2lnbicpIHsKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5NYWNoaW5lc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ0V0aGVybmV0Q2x1c3RlcicpIHsKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5NYWNoaW5lc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdNb2RlRGVjbGFyYXRpb25Hcm91cCcpIHsKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5NYWNoaW5lc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ0hXRWxlbWVudCcpIHsKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5NYWNoaW5lc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuSFdFbGVtZW50X2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdQcm90b01hY2hpbmVNYXBwaW5nJykgewovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdTV0NvbXBvbmVudHMnKSB7Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuU1dDb21wb25lbnRzX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdQcm9jZXNzJykgewovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlByb2Nlc3NfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ0V4ZWN1dGFibGUnKSB7Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRXhlY3V0YWJsZV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnU3RhcnR1cENvbmZpZycpIHsKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5TdGFydHVwQ29uZmlnX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdEZXRlcm1pbmlzdGljQ2xpZW50JykgewovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkRldGVybWluaXN0aWNDbGllbnRfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ1Byb2Nlc3NEZXNpZ24nKSB7Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LlNlcnZpY2VfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdTZXJ2aWNlSW50ZXJmYWNlJykgewovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5TZXJ2aWNlX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdTb21lSVBDbGllbnRFdmVudCcpIHsKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlNvbWVJUEV2ZW50c19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LlNlcnZpY2VfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkNsaWVudF9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnU29tZUlQU2VydmVyRXZlbnQnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5Tb21lSVBFdmVudHNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5TZXJ2aWNlX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5TZXJ2ZXJfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ0Vycm9yJykgewovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuRXJyb3JzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRXJyb3JfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ0Vycm9yU2V0JykgewovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuRXJyb3JzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRXJyb3JzZXRfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ0Vycm9yRG9tYWluJykgewovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuRXJyb3JzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRXJyb3JEb21haW5faW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ1NvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZScpIHsKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5TZXJ2aWNlX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Tb21lSVBDbGllbnRfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ1NvbWVJUFNlcnZlclNlcnZpY2VJbnN0YW5jZScpIHsKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5TZXJ2aWNlX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Tb21lSVBTZXJ2ZXJfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ1NvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZScpIHsKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5TZXJ2aWNlX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdTZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGUnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnUmVxdWlyZWRTb21lSVAnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuUmVxdWlyZWRTb21lSVBfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ1Byb3ZpZGVkU29tZUlQJykgewovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LlNlcnZpY2VfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdQRVJGaWxlQXJyYXknKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5QRVJfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRmlsZUFycmF5X2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdQRVJGaWxlUHJveHknKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5QRVJfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRmlsZVByb3h5SW50ZXJmX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdQRVJLZXlWYWx1ZUQnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5QRVJfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuS2V5VmFsdWVEYXRhX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdQRVJLZXlWYWx1ZURJJykgewovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuUEVSX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuUGxhdGZvcm1faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LktleVZhbHVlRElfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ1BFUlBQdG9GaWxlQXJyYXknKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5QRVJfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ1BFUlBQdG9LZXlWYWx1ZScpIHsKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlBFUl9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LlBsYXRmb3JtX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Qb3J0UHJvdG9LZXlWX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdGaWVsZEcnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5JQU1faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuQ29tRmllbGRHcmFudF9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnRXZlbnRHJykgewovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuSUFNX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuUGxhdGZvcm1faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkNvbUV2ZW50R3JhbnRfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ01ldGhvZEcnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5JQU1faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuQ29tTWV0aG9kR3JhbnRfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGF0YXR5cGUgPT0gJ0ZpZWxkR0QnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5JQU1faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRhdGF0eXBlID09ICdFdmVudEdEJykgewovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuSUFNX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuUGxhdGZvcm1faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkNvbUV2ZW50R0Rlc2lnbl9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kYXRhdHlwZSA9PSAnTWV0aG9kR0QnKSB7Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5JQU1faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuQ29tTWV0aG9kR0Rlc2lnbl9pbmRleAovLyAgICAgICAgIH0KLy8gICAgICAgICBpZiAoaWR4Y2hpbGQgPT0gY29uc3RhbnQuU2VydmljZV9pbmRleCkgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2lkeGNoaWxkXS5jaGlsZHJlbltpZHhTZXJ2aWNlXS5jaGlsZHJlbltpZHhjaGlsZGNoaWxkXS5jaGlsZHJlbltwYXlsb2FkLmVsaWR4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2lkeGNoaWxkXS5jaGlsZHJlbltpZHhTZXJ2aWNlXS5jaGlsZHJlbltpZHhjaGlsZGNoaWxkXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2lkeGNoaWxkXS5jaGlsZHJlbltpZHhTZXJ2aWNlXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2lkeGNoaWxkXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltpZHhjaGlsZF0uY2hpbGRyZW5baWR4Y2hpbGRjaGlsZF0uY2hpbGRyZW5bcGF5bG9hZC5lbGlkeF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltpZHhjaGlsZF0uY2hpbGRyZW5baWR4Y2hpbGRjaGlsZF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltpZHhjaGlsZF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBzZXRTYXZlUGF0aChzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHN0YXRlLnN0clNhdmVQYXRoLnB1c2gocGF5bG9hZC5zdHJQYXRoKQovLyAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzYXZlUGF0aCIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLnN0clNhdmVQYXRoKSkKLy8gICAgIH0sCi8vICAgICBkZWxldGVTYXZlUGF0aChzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHN0YXRlLnN0clNhdmVQYXRoID0gc3RhdGUuc3RyU2F2ZVBhdGguZmlsdGVyKGl0ZW0gPT4gewovLyAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZC5kZWxldGVQYXRoLmluZGV4T2YoaXRlbSkgPCAwCi8vICAgICAgICAgfSkKLy8gICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic2F2ZVBhdGgiLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5zdHJTYXZlUGF0aCkpCi8vICAgICB9LAovLyAgICAgc2V0ekluZGV4KHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgLy9jb25zb2xlLmxvZygnc2V0ekluZGV4LyAgJyArIHBheWxvYWQuemluZGV4KQovLyAgICAgICAgIC8vY29uc29sZS5sb2cocGF5bG9hZC5wYXJlbnQpCi8vICAgICAgICAgLy9jb25zb2xlLmxvZyhwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbXB1TWV0aG9kX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdENvbXB1TWVodG9kJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkRhdGFDb25zdHJfc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0RGF0YUNvbnN0cicsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5BcHBsaWNhdGlvbkFycmF5X3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdEFwcGxpY2F0aW9uQXJyYXknLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuSW1wbGVtZW50YXRpb25fc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0SW1wbGVtZW50YXRpb24nLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0U29tZUlQU2VydmljZScsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdFNlcnZpY2VJbnRlcmZhY2UnLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ2xpZW50X3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdENsaWVudCcsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5TZXJ2ZXJfc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0U2VydmVyJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNvbWVJUENsaWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRTb21lSVBDbGllbnQnLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQU2VydmVyX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdFNvbWVJUFNlcnZlcicsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdFNvbWVJUHRvTWFjaGluZScsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdFRvUG9ydFByb3RvdHlwZScsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRSZXF1aXJlZFNvbWVJUCcsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRQcm92aWRlZFNvbWVJUCcsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FcnJvcl9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRFcnJvcicsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FcnJvcnNldF9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRFcnJvclNldCcsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FcnJvckRvbWFpbl9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRFcnJvckRvbWFpbicsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qcm9jZXNzdG9NYWNoaW5lTWFwcGluZ19zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRQcm90b01hY2hpbmVNYXBwaW5nJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNXQ29tcG9uZW50c19zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRTV0NvbXBvbmVudHMnLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUHJvY2Vzc19zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRQcm9jZXNzJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlByb2Nlc3NEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0UHJvY2Vzc0Rlc2lnbicsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FeGVjdXRhYmxlX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdEV4ZWN1dGFibGUnLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU3RhcnR1cENvbmZpZ19zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRTdGFydHVwQ29uZmlnJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkRldGVybWluaXN0aWNDbGllbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0RGV0ZXJtaW5pc3RpY0NsaWVuJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50Lk1hY2hpbmVfc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0TWFjaGluZScsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lRGVzaWduZV9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRNYWNoaW5lRGVzaWduJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRFdGhlcm5ldENsdXN0ZXInLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0TW9kZURlY2xhcmF0aW9uR3JvdXAnLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuSFdFbGVtZW50X3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdEhXRWxlbWVudCcsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5GaWxlQXJyYXlfc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0UEVSRmlsZUFycmF5JywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkZpbGVQcm94eUludGVyZl9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRQRVJGaWxlUHJveHknLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuS2V5VmFsdWVEYXRhX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdFBFUktleVZhbHVlRCcsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5LZXlWYWx1ZURJX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdFBFUktleVZhbHVlREknLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfc3RyKSB7Ci8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdlZGl0UEVSUFB0b0ZpbGVBcnJheScsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qb3J0UHJvdG9LZXlWX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdFBFUlBQdG9LZXlWYWx1ZScsIHsgY29tcG86ICJ6IiwgdXVpZDogcGF5bG9hZC51dWlkLCB6aW5kZXg6IHBheWxvYWQuemluZGV4IH0pCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21NZXRob2RHRGVzaWduX3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdE1ldGhvZEdEJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbUV2ZW50R0Rlc2lnbl9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRFdmVudEdEJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbUZpZWxkR0Rlc2lnbl9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRGaWVsZEdEJywgeyBjb21wbzogInoiLCB1dWlkOiBwYXlsb2FkLnV1aWQsIHppbmRleDogcGF5bG9hZC56aW5kZXggfSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbU1ldGhvZEdyYW50X3N0cikgewovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZWRpdE1ldGhvZEcnLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRXZlbnRHcmFudF9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRFdmVudEcnLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRmllbGRHcmFudF9zdHIpIHsKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2VkaXRGaWVsZEcnLCB7IGNvbXBvOiAieiIsIHV1aWQ6IHBheWxvYWQudXVpZCwgemluZGV4OiBwYXlsb2FkLnppbmRleCB9KQovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBzYXZlSW5wdXRmaWxlKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgY29uc3QgZ2V0RWRpdFBhdGggPSAoZWxlLCBwYXRoKSA9PiB7Ci8vICAgICAgICAgICAgIGlmIChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLm5vZGVOYW1lID09ICdBUi1QQUNLQUdFJykgewovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUgKyAnLycgKyBwYXRoCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHJldHVybiBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJy8nICsgaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSArICcvJyArIHBhdGgKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDAsIHBhdGgubGVuZ3RoIC0gMSkKLy8gICAgICAgICAgICAgcmV0dXJuIHBhdGgKLy8gICAgICAgICB9Ci8vICAgICAgICAgLy8vIENPTVBVLU1FVEhPRAovLyAgICAgICAgIHZhciBjb21wdSA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdDT01QVS1NRVRIT0QnKQovLyAgICAgICAgIGNvbXB1LmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBjb21wdU5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpLAovLyAgICAgICAgICAgICAgICAgICAgIGNvbXB1Q2F0ZSA9ICcnCi8vICAgICAgICAgICAgICAgICB2YXIgc2NhbGVzSXRlbSA9IFtdCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdU5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJDQVRFR09SWSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHVDYXRlID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiQ09NUFUtSU5URVJOQUwtVE8tUEhZUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjYWxlcyA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlcy5mb3JFYWNoKChzY2FsZSwgcykgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdFNjYWxlSXRlbSA9IHsgY29uc3Q6ICcnLCBzeW1ib2w6ICcnLCBsb3dlcmxpbWl0OiAnJywgdXBwZXJsaW1pdDogJycsIGRlc2M6ICcnIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZS5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJDT01QVS1DT05TVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0U2NhbGVJdGVtLmNvbnN0ID0gZGF0YS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU1lNQk9MIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRTY2FsZUl0ZW0uc3ltYm9sID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkxPV0VSLUxJTUlUIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRTY2FsZUl0ZW0ubG93ZXJsaW1pdCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJVUFBFUi1MSU1JVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0U2NhbGVJdGVtLnVwcGVybGltaXQgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiREVTQyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0U2NhbGVJdGVtLmRlc2MgPSBkYXRhLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdFNjYWxlSXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZXNJdGVtLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50Q29tcHVNZWh0b2QnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXB1TmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRYLAovLyAgICAgICAgICAgICAgICAgICAgIHppbmRleDogMiwKLy8gICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogY29tcHVDYXRlLAovLyAgICAgICAgICAgICAgICAgICAgIHNjYWxlczogc2NhbGVzSXRlbSwKLy8gICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBjb21wdU5hbWUsIHBhcmVudDogY29uc3RhbnQuQ29tcHVNZXRob2Rfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5EYXRlVHlwZV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5Db21wdU1ldGhvZF9zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vLyBEYXRhLUNvbnN0cgovLyAgICAgICAgIHZhciBkYXRhY29uID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0RBVEEtQ09OU1RSJykKLy8gICAgICAgICBkYXRhY29uLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBkYXRhY29uTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCksCi8vICAgICAgICAgICAgICAgICAgICAgZGF0YWNvbkxvdyA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGRhdGFjb25VcHBlciA9ICcnCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhY29uTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkRBVEEtQ09OU1RSLVJVTEVTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZXMgPSBpdGVtLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzLmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiTE9XRVItTElNSVQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWNvbkxvdyA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJVUFBFUi1MSU1JVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhY29uVXBwZXIgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkRhdGFDb25zdHIuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudERhdGFDb25zdHInLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGRhdGFjb25OYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGxvd2VybGltaXQ6IGRhdGFjb25Mb3csCi8vICAgICAgICAgICAgICAgICAgICAgdXBwZXJsaW1pdDogZGF0YWNvblVwcGVyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlCi8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIGRhdGFjb25OYW1lLCBwYXJlbnQ6IGNvbnN0YW50LkRhdGFDb25zdHJfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5EYXRlVHlwZV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5EYXRhQ29uc3RyX3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8vIEFQUExJQ0FUSU9OLUFSUkFZLURBVEEtVFlQRQovLyAgICAgICAgIHZhciBhcHBsaWNhdGlvbiA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdBUFBMSUNBVElPTi1BUlJBWS1EQVRBLVRZUEUnKQovLyAgICAgICAgIGFwcGxpY2F0aW9uLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBhcHBsaU5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpLAovLyAgICAgICAgICAgICAgICAgICAgIGFwcGxpQ2F0ZWdvcnkgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBhcHBsaUR5bmFtaWNBcnJ5U2l6ZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGFwcGxpRWxlbmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGFwcGxpRWxlaGFuZGxpbmcgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIGFwcGxpRWxlc2VtYW50aWNzID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBhcHBsaUVsZW1heG51bWJlciA9ICcnCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaU5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJDQVRFR09SWSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGlDYXRlZ29yeSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkRZTkFNSUMtQVJSQVktU0laRS1QUk9GSUxFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaUR5bmFtaWNBcnJ5U2l6ZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkVMRU1FTlQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKGRhdGEgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGlFbGVuYW1lID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkFSUkFZLVNJWkUtSEFORExJTkciKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGlFbGVoYW5kbGluZyA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJBUlJBWS1TSVpFLVNFTUFOVElDUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaUVsZXNlbWFudGljcyA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJNQVgtTlVNQkVSLU9GLUVMRU1FTlRTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpRWxlbWF4bnVtYmVyID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudEFwcGxpY2F0aW9uQXJyYXknLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGFwcGxpTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRYLAovLyAgICAgICAgICAgICAgICAgICAgIHppbmRleDogMiwKLy8gICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogYXBwbGlDYXRlZ29yeSwKLy8gICAgICAgICAgICAgICAgICAgICBkeW5hbWljQXJyeVNpemU6IGFwcGxpRHluYW1pY0FycnlTaXplLAovLyAgICAgICAgICAgICAgICAgICAgIGVsZW5hbWU6IGFwcGxpRWxlbmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBlbGVoYW5kbGluZzogYXBwbGlFbGVoYW5kbGluZywKLy8gICAgICAgICAgICAgICAgICAgICBlbGVzZW1hbnRpY3M6IGFwcGxpRWxlc2VtYW50aWNzLAovLyAgICAgICAgICAgICAgICAgICAgIGVsZW1heG51bWJlcjogYXBwbGlFbGVtYXhudW1iZXIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgYXBwbGlOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LkFwcGxpY2F0aW9uQXJyYXlfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5EYXRlVHlwZV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5BcHBsaWNhdGlvbkFycmF5X3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy9TVEQtQ1BQLUlNUExFTUVOVEFUSU9OLURBVEEtVFlQRQovLyAgICAgICAgIHZhciBpbXBsZW1lbnQgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnU1RELUNQUC1JTVBMRU1FTlRBVElPTi1EQVRBLVRZUEUnKQovLyAgICAgICAgIGltcGxlbWVudC5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgaW1wTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCksCi8vICAgICAgICAgICAgICAgICAgICAgaW1wY2F0ZWdvcnkgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBpbXBuYW1lc3BhY2UgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBpbXBhcnJheXNpemUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBpbXB0eXBlZW1pdHRlciA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGltcHR5cGVyZWYgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIGltcHRlbXBsYXRldHlwZSA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgaW1wZGVzYyA9ICcnCi8vICAgICAgICAgICAgICAgICB2YXIgRERQQ0l0ZW0gPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICBJRFRFbGVtZW50SXRlbSA9IFtdCi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlbGUuY2hpbGROb2RlcykKLy8gICAgICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGltcE5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJDQVRFR09SWSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaW1wY2F0ZWdvcnkgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJOQU1FU1BBQ0VTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgoc3ltYm9sLCBzKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG5hbWVzcGFjZSArPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBuYW1lc3BhY2UgKz0gJy8nCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG5hbWVzcGFjZSA9IGltcG5hbWVzcGFjZS5zdWJzdHIoMCwgaW1wbmFtZXNwYWNlLmxlbmd0aCAtIDEpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wbmFtZXNwYWNlICs9ICcsJwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiQVJSQVktU0laRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaW1wYXJyYXlzaXplID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiVFlQRS1FTUlUVEVSIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpbXB0eXBlZW1pdHRlciA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlRZUEUtUkVGRVJFTkNFLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaW1wdHlwZXJlZiA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlRFTVBMQVRFLUFSR1VNRU5UUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaW1wdGVtcGxhdGV0eXBlID0gaXRlbS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkRFU0MiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGltcGRlc2MgPSBpdGVtLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNXLURBVEEtREVGLVBST1BTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3dkYXRhID0gaXRlbS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXMKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc3dkYXRhLmZvckVhY2goKGNvbmRpLCBjKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdEREUENJdGVtID0geyBjb21wdW1ldGhvZDogbnVsbCwgZGF0YWNvbnN0cjogbnVsbCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkNPTVBVLU1FVEhPRC1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEREUENJdGVtLmNvbXB1bWV0aG9kID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkRBVEEtQ09OU1RSLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RERQQ0l0ZW0uZGF0YWNvbnN0ciA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdEREUENJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEREUENJdGVtLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU1VCLUVMRU1FTlRTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgoY3BwSW1wLCBjKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdElEVEVsZW1lbnRJdGVtID0geyBuYW1lOiAnJywgdHlwZXJlZjogbnVsbCwgaW5wbGFjZTogZmFsc2UsIGRlc2M6ICcnIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BwSW1wLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdElEVEVsZW1lbnRJdGVtLm5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiREVTQyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SURURWxlbWVudEl0ZW0uZGVzYyA9IGRhdGEuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlRZUEUtUkVGRVJFTkNFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY2hpbGROb2Rlcy5mb3JFYWNoKCh0eXBlUiwgdCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVSLm5vZGVOYW1lID09ICJJTlBMQUNFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJRFRFbGVtZW50SXRlbS5pbnBsYWNlID0gdHlwZVIuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlUi5ub2RlTmFtZSA9PSAiVFlQRS1SRUZFUkVOQ0UtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJRFRFbGVtZW50SXRlbS50eXBlcmVmID0gdHlwZVIuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRJRFRFbGVtZW50SXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJRFRFbGVtZW50SXRlbS5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50SW1wbGVtZW50YXRpb24nLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGltcE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGltcGNhdGVnb3J5LAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogaW1wbmFtZXNwYWNlLAovLyAgICAgICAgICAgICAgICAgICAgIGFycmF5c2l6ZTogaW1wYXJyYXlzaXplLAovLyAgICAgICAgICAgICAgICAgICAgIHR5cGVlbWl0dGVyOiBpbXB0eXBlZW1pdHRlciwKLy8gICAgICAgICAgICAgICAgICAgICB0eXBlcmVmOiBpbXB0eXBlcmVmLAovLyAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRldHlwZTogaW1wdGVtcGxhdGV0eXBlLAovLyAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGltcGRlc2MsCi8vICAgICAgICAgICAgICAgICAgICAgZGRwYzogRERQQ0l0ZW0sCi8vICAgICAgICAgICAgICAgICAgICAgaWR0ZWxlbWVudDogSURURWxlbWVudEl0ZW0sCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgaW1wTmFtZSwgcGFyZW50OiBjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9zdHIgfSkKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkRhdGVUeXBlX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkltcGxlbWVudGF0aW9uX3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gTUFDSElORQovLyAgICAgICAgIHZhciBtYWNoaW5lID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ01BQ0hJTkUnKQovLyAgICAgICAgIG1hY2hpbmUuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpLAovLyAgICAgICAgICAgICAgICAgICAgIG1hY2hpbmVEZXNpZ24gPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBleGVsYXVuY2ggPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIGFkbWluID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgaHdlbGUgPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbkcgPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICBwcm9jZXNzb3IgPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICBtb2R1bGUgPSBbXQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIk1BQ0hJTkUtREVTSUdOLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgbWFjaGluZURlc2lnbiA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkRFRkFVTFQtQVBQTElDQVRJT04tVElNRU9VVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiVFJVU1RFRC1QTEFURk9STS1FWEVDVVRBQkxFLUxBVU5DSC1CRUhBVklPUiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZXhlbGF1bmNoID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiQURNSU4tREFUQSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW4gPSBpdGVtLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJIVy1FTEVNRU5ULVJFRlMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdEhXSXRlbSA9IHsgaHdlbGVtZW50OiBudWxsIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkhXLUVMRU1FTlQtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SFdJdGVtLmh3ZWxlbWVudCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdEhXSXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdlbGUucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiRlVOQ1RJT04tR1JPVVBTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgobW9kZSwgbSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRGdW5jdGlvbkl0ZW0gPSB7IG5hbWU6ICcnLCB0eXBlOiBudWxsLCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RnVuY3Rpb25JdGVtLm5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiVFlQRS1UUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRGdW5jdGlvbkl0ZW0udHlwZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdEZ1bmN0aW9uSXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbkcucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJQUk9DRVNTT1JTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgocHJvcywgcCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRQcm8gPSB7IG5hbWU6ICcnLCBjb3JlOiBbXSB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3MuY2hpbGROb2Rlcy5mb3JFYWNoKChwcm8sIHIpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm8ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdFByby5uYW1lID0gcHJvLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvLm5vZGVOYW1lID09ICJDT1JFUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm8uY2hpbGROb2Rlcy5mb3JFYWNoKChwcm9jb3IsIG8pID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0Q29yZUl0ZW0gPSB7IG5hbWU6ICcnLCBpZDogJycgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY29yLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdENvcmVJdGVtLm5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkNPUkUtSUQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0Q29yZUl0ZW0uaWQgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqUmVzID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdENvcmVJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdFByby5jb3JlLnB1c2goYWRkT2JqUmVzKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdFBybykKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzb3IucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJNT0RVTEUtSU5TVEFOVElBVElPTlMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChvcywgbykgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRNb2R1bGUgPSB7IG5hbWU6ICcnLCByZXNvdXJjZTogW10gfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcy5jaGlsZE5vZGVzLmZvckVhY2goKG9zbW9kdWwsIHMpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvc21vZHVsLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNb2R1bGUubmFtZSA9IG9zbW9kdWwuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvc21vZHVsLm5vZGVOYW1lID09ICJSRVNPVVJDRS1HUk9VUFMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Ntb2R1bC5jaGlsZE5vZGVzLmZvckVhY2goKGdyb3VwLCBnKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0TW9kdWxlSW5zSXRlbSA9IHsgbmFtZTogJycsIGNwdVVzYWdlOiAnJywgbWVtb3J5VXNhZ2U6ICcnIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGcgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1vZHVsZUluc0l0ZW0ubmFtZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiQ1BVLVVTQUdFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1vZHVsZUluc0l0ZW0uY3B1VXNhZ2UgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk1FTS1VU0FHRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNb2R1bGVJbnNJdGVtLm1lbW9yeVVzYWdlID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9ialJlcyA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRNb2R1bGVJbnNJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1vZHVsZS5yZXNvdXJjZS5wdXNoKGFkZE9ialJlcykKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRNb2R1bGUpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50TWFjaGluZScsIHsKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRYLAovLyAgICAgICAgICAgICAgICAgICAgIHppbmRleDogMiwKLy8gICAgICAgICAgICAgICAgICAgICBtYWNoaW5lZGVzaWduOiBtYWNoaW5lRGVzaWduLAovLyAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRpbWVvdXQsCi8vICAgICAgICAgICAgICAgICAgICAgaHdlbGVtZW50OiBod2VsZSwKLy8gICAgICAgICAgICAgICAgICAgICBleGVjdXRhYmxlOiBleGVsYXVuY2gsCi8vICAgICAgICAgICAgICAgICAgICAgYWRtaW46IGFkbWluLAovLyAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uZ3JvdXA6IGZ1bmN0aW9uRywKLy8gICAgICAgICAgICAgICAgICAgICBwcm9jZXNzb3I6IHByb2Nlc3NvciwKLy8gICAgICAgICAgICAgICAgICAgICBtb2R1bGVpbnN0YW50OiBtb2R1bGUsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgbmFtZSwgcGFyZW50OiBjb25zdGFudC5NYWNoaW5lX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuTWFjaGluZXNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuTWFjaGluZV9zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIE1BQ0hJTkUtREVTSUdOCi8vICAgICAgICAgdmFyIG1hY2hpbmVEZXNpZ24gPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnTUFDSElORS1ERVNJR04nKQovLyAgICAgICAgIG1hY2hpbmVEZXNpZ24uZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpLAovLyAgICAgICAgICAgICAgICAgICAgIGFjY2VzcyA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgcG50aW1lciA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGNvbW11bmkgPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlID0gW10KLy8gICAgICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJBQ0NFU1MtQ09OVFJPTCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUE4tUkVTRVQtVElNRVIiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHBudGltZXIgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJDT01NVU5JQ0FUSU9OLUNPTk5FQ1RPUlMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChldGhlcm5ldCwgZSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRlZEl0ZW1DQyA9IHsgbmFtZTogJycsIG10dTogJycsIG10dWVuYWJsZTogbnVsbCwgdGltZW91dDogJycsIGVuZHBvaW50OiBudWxsLCBtYXNrOiAnJyB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV0aGVybmV0LmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGVkSXRlbUNDLm5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiTUFYSU1VTS1UUkFOU01JU1NJT04tVU5JVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0ZWRJdGVtQ0MubXR1ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlBBVEgtTVRVLUVOQUJMRUQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGVkSXRlbUNDLm10dWVuYWJsZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJQQVRILU1UVS1USU1FT1VUIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRlZEl0ZW1DQy50aW1lb3V0ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlVOSUNBU1QtTkVUV09SSy1FTkRQT0lOVC1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGVkSXRlbUNDLmVuZHBvaW50ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlBOQy1GSUxURVItREFUQS1NQVNLIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRlZEl0ZW1DQy5tYXNrID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0ZWRJdGVtQ0MpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuaS5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNFUlZJQ0UtRElTQ09WRVItQ09ORklHUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKHNvbWVJUCwgcykgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRlZEl0ZW1TREMgPSB7IG1zaWE6IG51bGwsIHNzZHA6ICcnIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29tZUlQLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk1VTFRJQ0FTVC1TRC1JUC1BRERSRVNTLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0ZWRJdGVtU0RDLm1zaWEgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU09NRUlQLVNFUlZJQ0UtRElTQ09WRVJZLVBPUlQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGVkSXRlbVNEQy5zc2RwID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0ZWRJdGVtU0RDKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRNYWNoaW5lRGVzaWduJywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGFjY2VzczogYWNjZXNzLAovLyAgICAgICAgICAgICAgICAgICAgIHJlc2V0dGltZXI6IHBudGltZXIsCi8vICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yOiBjb21tdW5pLAovLyAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VkaXNjb3Zlcjogc2VydmljZSwKLy8gICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuTWFjaGluZXNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuTWFjaGluZURlc2lnbmVfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBFVEhFUk5FVC1DTFVTVEVSCi8vICAgICAgICAgdmFyIGV0aGVybmV0Q2x1c3RlciA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdFVEhFUk5FVC1DTFVTVEVSJykKLy8gICAgICAgICBldGhlcm5ldENsdXN0ZXIuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpLAovLyAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbiA9IFtdCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiRVRIRVJORVQtQ0xVU1RFUi1WQVJJQU5UUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKGV0aGVybmV0LCBlKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0ZWRFdGhlcm5ldCA9IHsgbmFtZTogJycsIHZlcnNpb246ICcnLCBjaGFubmVsOiBbXSB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXRoZXJuZXQuY2hpbGROb2Rlcy5mb3JFYWNoKChwcm90b2NvbCwgcCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvY29sLm5vZGVOYW1lID09ICJQUk9UT0NPTC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRlZEV0aGVybmV0Lm5hbWUgPSBwcm90b2NvbC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvY29sLm5vZGVOYW1lID09ICJQUk9UT0NPTC1WRVJTSU9OIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRlZEV0aGVybmV0LnZlcnNpb24gPSBwcm90b2NvbC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvY29sLm5vZGVOYW1lID09ICJQSFlTSUNBTC1DSEFOTkVMUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm90b2NvbC5jaGlsZE5vZGVzLmZvckVhY2goKGNoYW5uZWxzLCBjKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdENoYW5uZWwgPSB7IG5hbWU6ICcnLCBjb21jb25uZWN0OiBbXSwgZW5kcG9pbnQ6IFtdIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLmNoaWxkTm9kZXMuZm9yRWFjaCgoY2hhbm5lbCwgaCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdENoYW5uZWwubmFtZSA9IGNoYW5uZWwuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbC5ub2RlTmFtZSA9PSAiQ09NTS1DT05ORUNUT1JTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jaGlsZE5vZGVzLmZvckVhY2goKGNvbW0sIG8pID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobyAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdENDSXRlbSA9IHsgY29ubmVjdG9yOiBudWxsIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbS5jaGlsZE5vZGVzLmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiQ09NTVVOSUNBVElPTi1DT05ORUNUT1ItUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRDQ0l0ZW0uY29ubmVjdG9yID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0Q0NJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0Q2hhbm5lbC5jb21jb25uZWN0LnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwubm9kZU5hbWUgPT0gIk5FVFdPUkstRU5EUE9JTlRTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jaGlsZE5vZGVzLmZvckVhY2goKG5ldHdvcmssIG4pID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobiAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdE5ldHdvcmsgPSB7IG5hbWU6ICcnLCBkb21haW5uYW1lOiAnJywgaXA0YWRkcmVzczogW10sIGlwNmFkZHJlc3M6IFtdLCBwcmlvcml0eTogJycgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrLmNoaWxkTm9kZXMuZm9yRWFjaCgoZW5kcG9pbnQsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZHBvaW50Lm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TmV0d29yay5uYW1lID0gZW5kcG9pbnQuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZHBvaW50Lm5vZGVOYW1lID09ICJGVUxMWS1RVUFMSUZJRUQtRE9NQUlOLU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXROZXR3b3JrLmRvbWFpbm5hbWUgPSBlbmRwb2ludC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kcG9pbnQubm9kZU5hbWUgPT0gIlBSSU9SSVRZIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TmV0d29yay5wcmlvcml0eSA9IGVuZHBvaW50LmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRwb2ludC5ub2RlTmFtZSA9PSAiTkVUV09SSy1FTkRQT0lOVC1BRERSRVNTRVMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50LmNoaWxkTm9kZXMuZm9yRWFjaCgoY29uZmlnLCBmKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZiAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0SVA0SXRlbSA9IHsgZ2F0ZXdheTogJycsIGJlaGF2aW9yOiBudWxsLCBhZGRyZXNzOiAnJywgYWRkcmVzc3NvcmNlOiBudWxsLCBtYXNrOiAnJywgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0SVA2SXRlbSA9IHsgcHJpb3JpdHk6ICcnLCBiZWhhdmlvcjogbnVsbCwgcHJlbGVuZ3RoOiAnJywgYWRkcmVzczogJycsIGFkZHJlc3Nzb3VyY2U6IG51bGwsIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm5vZGVOYW1lID09ICJJUFYtNC1DT05GSUdVUkFUSU9OIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBhKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJERUZBVUxULUdBVEVXQVkiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJUDRJdGVtLmdhdGV3YXkgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJJUC1BRERSRVNTLUtFRVAtQkVIQVZJT1IiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJUDRJdGVtLmJlaGF2aW9yID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSVBWLTQtQUREUkVTUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdElQNEl0ZW0uYWRkcmVzcyA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIklQVi00LUFERFJFU1MtU09VUkNFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SVA0SXRlbS5hZGRyZXNzc29yY2UgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJORVRXT1JLLU1BU0siKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJUDRJdGVtLm1hc2sgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0SVA0SXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE5ldHdvcmsuaXA0YWRkcmVzcy5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5ub2RlTmFtZSA9PSAiSVBWLTYtQ09ORklHVVJBVElPTiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgdCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiQVNTSUdOTUVOVC1QUklPUklUWSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdElQNkl0ZW0ucHJpb3JpdHkgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJJUC1BRERSRVNTLUtFRVAtQkVIQVZJT1IiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJUDZJdGVtLmJlaGF2aW9yID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSVAtQUREUkVTUy1QUkVGSVgtTEVOR1RIIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SVA2SXRlbS5wcmVsZW5ndGggPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJJUFYtNi1BRERSRVNTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SVA2SXRlbS5hZGRyZXNzID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSVBWLTYtQUREUkVTUy1TT1VSQ0UiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJUDZJdGVtLmFkZHJlc3Nzb3VyY2UgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0SVA2SXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE5ldHdvcmsuaXA2YWRkcmVzcy5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0TmV0d29yaykKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdENoYW5uZWwuZW5kcG9pbnQucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmpSZXMgPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0Q2hhbm5lbCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRlZEV0aGVybmV0LmNoYW5uZWwucHVzaChhZGRPYmpSZXMpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0ZWRFdGhlcm5ldCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24ucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXIuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudEV0aGVybmV0Q2x1c3RlcicsIHsKLy8gICAgICAgICAgICAgICAgICAgICBuYW1lOiBOYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB0cnVlLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHN0clBhdGgsCi8vICAgICAgICAgICAgICAgICAgICAgdXVpZDogVVVJRCwKLy8gICAgICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRYLAovLyAgICAgICAgICAgICAgICAgICAgIHppbmRleDogMiwKLy8gICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25hbDogY29uZGl0aW9uLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlCi8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuTWFjaGluZXNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gTU9ERS1ERUNMQVJBVElPTi1HUk9VUAovLyAgICAgICAgIHZhciBtb2RlRGVjbGF0YXRpb24gPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnTU9ERS1ERUNMQVJBVElPTi1HUk9VUCcpCi8vICAgICAgICAgbW9kZURlY2xhdGF0aW9uLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKSwKLy8gICAgICAgICAgICAgICAgICAgICBtb2RlID0gW10sCi8vICAgICAgICAgICAgICAgICAgICAgaW5pdG1vZGUgPSBudWxsCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiSU5JVElBTC1NT0RFLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaW5pdG1vZGUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJNT0RFLURFQ0xBUkFUSU9OUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKG1vZGVkZSwgbSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0gJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlZGUuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlLnB1c2goZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50TW9kZURlY2xhcmF0aW9uR3JvdXAnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgbW9kZWRlY2xhcmF0aW9uOiBtb2RlLAovLyAgICAgICAgICAgICAgICAgICAgIGluaXRtb2RlOiBpbml0bW9kZSwKLy8gICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuTWFjaGluZXNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBIVy1FTEVNRU5UCi8vICAgICAgICAgdmFyIEhXRWxlbWVudCA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdIVy1FTEVNRU5UJykKLy8gICAgICAgICBIV0VsZW1lbnQuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpLAovLyAgICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgYXR0cmkgPSBbXQovLyAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJIVy1DQVRFR09SWS1SRUZTIikgewovLyAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gaXRlbS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiSFctQVRUUklCVVRFLVZBTFVFUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgodmFsdWUsIHYpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0QXR0cmlidXRlSXRlbSA9IHsgYXR0cjogbnVsbCwgdnQ6ICcnLCB2OiAnJyB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSFctQVRUUklCVVRFLURFRi1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0QXR0cmlidXRlSXRlbS5hdHRyID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJWVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRBdHRyaWJ1dGVJdGVtLnZ0ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJWIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEF0dHJpYnV0ZUl0ZW0udiA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0QXR0cmlidXRlSXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgfQovLyAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRIV0VsZW1lbnQnLCB7Ci8vICAgICAgICAgICAgICAgICBuYW1lOiBOYW1lLAovLyAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgdXVpZDogVVVJRCwKLy8gICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgIHppbmRleDogMiwKLy8gICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSwKLy8gICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogYXR0cmksCi8vICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LkhXRWxlbWVudF9zdHIgfSkKLy8gICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuTWFjaGluZXNfc3RyKQovLyAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5IV0VsZW1lbnRfc3RyKQovLyAgICAgICAgIH0pCi8vICAgICAgICAgLy8gUFJPQ0VTUy1UTy1NQUNISU5FLU1BUFBJTkctU0VUCi8vICAgICAgICAgdmFyIHByb2Nlc3N0b01hY2hpbmUgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnUFJPQ0VTUy1UTy1NQUNISU5FLU1BUFBJTkctU0VUJykKLy8gICAgICAgICBwcm9jZXNzdG9NYWNoaW5lLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcHRtbW5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpLAovLyAgICAgICAgICAgICAgICAgICAgIG1hY2hpbmUgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MgPSBudWxsCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUFJPQ0VTUy1UTy1NQUNISU5FLU1BUFBJTkdTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgobWFwcGluZywgbSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0gJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwaW5nLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHRtbW5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiTUFDSElORS1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFjaGluZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJQUk9DRVNTLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudFByb3RvTWFjaGluZU1hcHBpbmcnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgcHRtbW5hbWU6IHB0bW1uYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIHB0bW1NYWNoaW5lOiBtYWNoaW5lLAovLyAgICAgICAgICAgICAgICAgICAgIHB0bW1Qcm9jZXNzOiBwcm9jZXNzLAovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5Qcm9jZXNzdG9NYWNoaW5lTWFwcGluZ19zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIEFEQVBUSVZFLUFQUExJQ0FUSU9OLVNXLUNPTVBPTkVOVC1UWVBFCi8vICAgICAgICAgdmFyIFNXQ29tcG9uZW50ID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0FEQVBUSVZFLUFQUExJQ0FUSU9OLVNXLUNPTVBPTkVOVC1UWVBFJykKLy8gICAgICAgICBTV0NvbXBvbmVudC5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCksCi8vICAgICAgICAgICAgICAgICAgICAgcFBvcnQgPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICByUG9ydCA9IFtdLAovLyAgICAgICAgICAgICAgICAgICAgIHByUG9ydCA9IFtdCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUE9SVFMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChwb3J0LCBwKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3J0Lm5vZGVOYW1lID09ICJQLVBPUlQtUFJPVE9UWVBFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdFBQb3J0SXRlbSA9IHsgbmFtZTogJycsIGludGVyZmFjZTogbnVsbCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0UFBvcnRJdGVtLm5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJQUk9WSURFRC1JTlRFUkZBQ0UtVFJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdFBQb3J0SXRlbS5pbnRlcmZhY2UgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0UFBvcnRJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwUG9ydC5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcnQubm9kZU5hbWUgPT0gIlBSLVBPUlQtUFJPVE9UWVBFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdFBSUG9ydEl0ZW0gPSB7IG5hbWU6ICcnLCBpbnRlcmZhY2U6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0LmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdFBSUG9ydEl0ZW0ubmFtZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlBST1ZJREVELVJFUVVJUkVELUlOVEVSRkFDRS1UUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0UFJQb3J0SXRlbS5pbnRlcmZhY2UgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0UFJQb3J0SXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJQb3J0LnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9ydC5ub2RlTmFtZSA9PSAiUi1QT1JULVBST1RPVFlQRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRSUG9ydEl0ZW0gPSB7IG5hbWU6ICcnLCBpbnRlcmZhY2U6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0LmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdFJQb3J0SXRlbS5uYW1lID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiUkVRVUlSRUQtSU5URVJGQUNFLVRSRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRSUG9ydEl0ZW0uaW50ZXJmYWNlID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdFJQb3J0SXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgclBvcnQucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRTV0NvbXBvbmVudHMnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgcHBvcnQ6IHBQb3J0LAovLyAgICAgICAgICAgICAgICAgICAgIHJwb3J0OiByUG9ydCwKLy8gICAgICAgICAgICAgICAgICAgICBwcnBvcnQ6IHByUG9ydCwKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5TV0NvbXBvbmVudHNfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNXQ29tcG9uZW50c19zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIFBST0NFU1MKLy8gICAgICAgICB2YXIgcHJvY2VzcyA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdQUk9DRVNTJykKLy8gICAgICAgICBwcm9jZXNzLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgZGVzaWduID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBkZXRlcm1pbiA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgZXhlID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBwcm9uYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKSwKLy8gICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBbXQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkRFU0lHTi1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2lnbiA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkRFVEVSTUlOSVNUSUMtQ0xJRU5ULVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGV0ZXJtaW4gPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJFWEVDVVRBQkxFLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZXhlID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUFJPQ0VTUy1TVEFURS1NQUNISU5FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaChtYWNoaW5lID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYWNoaW5lLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb25hbWUgPSBtYWNoaW5lLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFjaGluZS5ub2RlTmFtZSA9PSAiVFlQRS1UUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtYWNoaW5lLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTVEFURS1ERVBFTkRFTlQtU1RBUlRVUC1DT05GSUdTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgoc3RhdGUsIHMpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0SXRlbSA9IHsgZnVuY3Rpb25JdGVtOiBbXSwgcmVzb3VyY2VSZWY6IG51bGwsIHN0YXJ0dXBDb25maWdSZWY6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jaGlsZE5vZGVzLmZvckVhY2goKGNvbiwgYykgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbi5ub2RlTmFtZSA9PSAiUkVTT1VSQ0UtR1JPVVAtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLnJlc291cmNlUmVmID0gY29uLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uLm5vZGVOYW1lID09ICJTVEFSVFVQLUNPTkZJRy1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uc3RhcnR1cENvbmZpZ1JlZiA9IGNvbi5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbi5ub2RlTmFtZSA9PSAiRlVOQ1RJT04tR1JPVVAtU1RBVEUtSVJFRlMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uLmNoaWxkTm9kZXMuZm9yRWFjaCgoaXJlZiwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdEZ1bmN0aW9uR0l0ZW0gPSB7IGNvbnRleHRNb2RlOiBudWxsLCB0YXJnZXRNb2RlOiBudWxsIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlyZWYuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkNPTlRFWFQtTU9ERS1ERUNMQVJBVElPTi1HUk9VUC1QUk9UT1RZUEUtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEZ1bmN0aW9uR0l0ZW0uY29udGV4dE1vZGUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlRBUkdFVC1NT0RFLURFQ0xBUkFUSU9OLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRGdW5jdGlvbkdJdGVtLnRhcmdldE1vZGUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdEZ1bmN0aW9uR0l0ZW0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5mdW5jdGlvbkl0ZW0ucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0SXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRQcm9jZXNzJywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIHByb2Rlc2lnbjogZGVzaWduLAovLyAgICAgICAgICAgICAgICAgICAgIGRldGVybWluOiBkZXRlcm1pbiwKLy8gICAgICAgICAgICAgICAgICAgICBleGVjdXQ6IGV4ZSwKLy8gICAgICAgICAgICAgICAgICAgICBtYWNoaW5uYW1lOiBwcm9uYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIG1hY2hpbmV0eXBlOiB0eXBlLAovLyAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVudDogY29uZmlnCi8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuUHJvY2Vzc19zdHIgfSkKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25fc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuUHJvY2Vzc19zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIFBST0NFU1MtREVTSUdOCi8vICAgICAgICAgdmFyIHByb2Nlc3NEZXNpZ24gPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnUFJPQ0VTUy1ERVNJR04nKQovLyAgICAgICAgIHByb2Nlc3NEZXNpZ24uZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBkZXRlcm1pbmluaXN0aWMgPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICBleGUgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCkKLy8gICAgICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJFWEVDVVRBQkxFLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZXhlID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiREVURVJNSU5JU1RJQy1DTElFTlQtUkVTT1VSQ0UtTkVFRFNTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgobmVlZCwgbikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRJdGVtID0gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3bmFtZTogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVQOiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0bm9maW5zdHJ1Y3Rpb246ICcnLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRzZXF1ZW50aWFsYmVnaW46ICcnLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRzZXF1ZW50aWFsZW5kOiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0c3BlZWR1cDogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVubm9maW5zdHJ1Y3Rpb246ICcnLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnNlcXVlbnRpYWxiZWdpbjogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuc2VxdWVudGlhbGVuZDogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuc3BlZWR1cDogJycKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZC5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLnN3bmFtZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJIQVJEV0FSRS1QTEFURk9STSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5oYXJkd2FyZVAgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSU5JVC1SRVNPVVJDRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNoaWxkTm9kZXMuZm9yRWFjaCgoaW5pdCwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXQubm9kZU5hbWUgPT0gIk5VTUJFUi1PRi1JTlNUUlVDVElPTlMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uaW5pdG5vZmluc3RydWN0aW9uID0gaW5pdC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXQubm9kZU5hbWUgPT0gIlNFUVVFTlRJQUwtSU5TVFJVQ1RJT05TLUJFR0lOIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLmluaXRzZXF1ZW50aWFsYmVnaW4gPSBpbml0LmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdC5ub2RlTmFtZSA9PSAiU0VRVUVOVElBTC1JTlNUUlVDVElPTlMtRU5EIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLmluaXRzZXF1ZW50aWFsZW5kID0gaW5pdC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXQubm9kZU5hbWUgPT0gIlNQRUVEVVAiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uaW5pdHNwZWVkdXAgPSBpbml0LmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlJVTi1SRVNPVVJDRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNoaWxkTm9kZXMuZm9yRWFjaCgocnVuLCByKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVuLm5vZGVOYW1lID09ICJOVU1CRVItT0YtSU5TVFJVQ1RJT05TIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLnJ1bm5vZmluc3RydWN0aW9uID0gcnVuLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVuLm5vZGVOYW1lID09ICJTRVFVRU5USUFMLUlOU1RSVUNUSU9OUy1CRUdJTiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5ydW5zZXF1ZW50aWFsYmVnaW4gPSBydW4uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydW4ubm9kZU5hbWUgPT0gIlNFUVVFTlRJQUwtSU5TVFJVQ1RJT05TLUVORCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5ydW5zZXF1ZW50aWFsZW5kID0gcnVuLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVuLm5vZGVOYW1lID09ICJTUEVFRFVQIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLnJ1bnNwZWVkdXAgPSBydW4uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGVybWluaW5pc3RpYy5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NEZXNpZ24uZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudFByb2Nlc3NEZXNpZ24nLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgZXhlY3V0YWJsZXJlZjogZXhlLAovLyAgICAgICAgICAgICAgICAgICAgIGRldGVybWluOiBkZXRlcm1pbmluaXN0aWMKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5Qcm9jZXNzRGVzaWduX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5Qcm9jZXNzRGVzaWduX3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gRVhFQ1VUQUJMRQovLyAgICAgICAgIHZhciBleGVjdXRhYmxlID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0VYRUNVVEFCTEUnKQovLyAgICAgICAgIGV4ZWN1dGFibGUuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBsb2cgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIGJ1aWxkID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICByZXBvcnQgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHN3bmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGFwcGxpID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiQ0FURUdPUlkiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiQlVJTEQtVFlQRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGQgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJMT0dHSU5HLUJFSEFWSU9SIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBsb2cgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJSRVBPUlRJTkctQkVIQVZJT1IiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlZFUlNJT04iKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb24gPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJST09ULVNXLUNPTVBPTkVOVC1QUk9UT1RZUEUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd25hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJBUFBMSUNBVElPTi1UWVBFLVRSRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkV4ZWN1dGFibGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudEV4ZWN1dGFibGUnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbiwKLy8gICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksCi8vICAgICAgICAgICAgICAgICAgICAgYnVpbGRUeXBlOiBidWlsZCwKLy8gICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQmVoYWJpb3I6IGxvZywKLy8gICAgICAgICAgICAgICAgICAgICByZXBvcnRpbmdCZWhhYmlvcjogcmVwb3J0LAovLyAgICAgICAgICAgICAgICAgICAgIHN3bmFtZTogc3duYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9udHlwZXJlZjogYXBwbGksCi8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuRXhlY3V0YWJsZV9zdHIgfSkKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25fc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuRXhlY3V0YWJsZV9zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIFNUQVJUVVAtQ09ORklHLVNFVAovLyAgICAgICAgIHZhciBzdGFydHVwID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1NUQVJUVVAtQ09ORklHLVNFVCcpCi8vICAgICAgICAgc3RhcnR1cC5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ05hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwb2xpY3kgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgZW50ZXIgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBleGl0ID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNUQVJUVVAtQ09ORklHUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKGNvbmZpZ3MsIGMpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlncy5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ05hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU0NIRURVTElORy1QT0xJQ1kiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9saWN5ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNDSEVEVUxJTkctUFJJT1JJVFkiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiVElNRU9VVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNoaWxkTm9kZXMuZm9yRWFjaCh0aW1lID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUubm9kZU5hbWUgPT0gIkVOVEVSLVRJTUVPVVQtVkFMVUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRlciA9IHRpbWUuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZS5ub2RlTmFtZSA9PSAiRVhJVC1USU1FT1VULVZBTFVFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdCA9IHRpbWUuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU3RhcnR1cENvbmZpZy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50U3RhcnR1cENvbmZpZycsIHsKLy8gICAgICAgICAgICAgICAgICAgICBuYW1lOiBOYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB0cnVlLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHN0clBhdGgsCi8vICAgICAgICAgICAgICAgICAgICAgdXVpZDogVVVJRCwKLy8gICAgICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRYLAovLyAgICAgICAgICAgICAgICAgICAgIHppbmRleDogMiwKLy8gICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKLy8gICAgICAgICAgICAgICAgICAgICBjb25maWduYW1lOiBjb25maWdOYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIHBvbGljeTogcG9saWN5LAovLyAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eSwKLy8gICAgICAgICAgICAgICAgICAgICBlbnRlcnRpbWVvdXQ6IGVudGVyLAovLyAgICAgICAgICAgICAgICAgICAgIGV4aXR0aW1lb3V0OiBleGl0Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuU3RhcnR1cENvbmZpZ19zdHIgfSkKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25fc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU3RhcnR1cENvbmZpZ19zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIERFVEVSTUlOSVNUSUMtQ0xJRU5UCi8vICAgICAgICAgdmFyIGRldGVybWluaXN0aWMgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnREVURVJNSU5JU1RJQy1DTElFTlQnKQovLyAgICAgICAgIGRldGVybWluaXN0aWMuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBjeWNsZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIG51bWJlciA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCkKLy8gICAgICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJDWUNMRS1USU1FLVZBTFVFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBjeWNsZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIk5VTUJFUi1PRi1XT1JLRVJTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5EZXRlcm1pbmlzdGljQ2xpZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnREZXRlcm1pbmlzdGljQ2xpZW4nLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgY3ljbGV0aWVtOiBjeWNsZSwKLy8gICAgICAgICAgICAgICAgICAgICBudW1vZndvcmtlcnM6IG51bWJlciwKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gU09NRUlQLVNFUlZJQ0UtSU5URVJGQUNFLURFUExPWU1FTlQKLy8gICAgICAgICB2YXIgc29tZUlQU2VydmljZSA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdTT01FSVAtU0VSVklDRS1JTlRFUkZBQ0UtREVQTE9ZTUVOVCcpCi8vICAgICAgICAgc29tZUlQU2VydmljZS5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIG1hanZlcnNpb24gPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBtaW52ZXJzaW9uID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgaWQgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpLAovLyAgICAgICAgICAgICAgICAgICAgIGV2ZW50RyA9IFtdLAovLyAgICAgICAgICAgICAgICAgICAgIGV2ZW50RCA9IFtdLAovLyAgICAgICAgICAgICAgICAgICAgIG1ldGhvZEQgPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICBmaWVsZEQgPSBbXQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkVWRU5ULURFUExPWU1FTlRTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgoZXZlLCBlKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdEV2ZW50RCA9IHsgbmFtZTogJycsIGV2ZW50OiBudWxsLCBpZDogJycsIG1heGxlbmd0aDogJycsIHRpbWU6ICcnLCBzZXJpYWxpemVyOiBudWxsLCBwcm90b2NhbDogbnVsbCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZS5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRFdmVudEQubmFtZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJFVkVOVC1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEV2ZW50RC5ldmVudCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJFVkVOVC1JRCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RXZlbnRELmlkID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk1BWElNVU0tU0VHTUVOVC1MRU5HVEgiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEV2ZW50RC5tYXhsZW5ndGggPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiRVZFTlQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEV2ZW50RC50aW1lID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNFUEFSQVRJT04tVElNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RXZlbnRELnNlcmlhbGl6ZXIgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiVFJBTlNQT1JULVBST1RPQ09MIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRFdmVudEQucHJvdG9jYWwgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRFdmVudEQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRELnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0VSVklDRS1JTlRFUkZBQ0UtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiRVZFTlQtR1JPVVBTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgoZXZlLCBlKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdEl0ZW0gPSB7IG5hbWU6ICcnLCBpZDogJycsIGV2ZW50OiBbXSB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZS5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLm5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiRVZFTlQtR1JPVVAtSUQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uaWQgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiRVZFTlQtUkVGUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdEV2ZW50ID0geyBldmVudDogbnVsbCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jaGlsZE5vZGVzLmZvckVhY2goKGV2ZW50cmVmLCB2KSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRyZWYubm9kZU5hbWUgPT0gIkVWRU5ULVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RXZlbnQuZXZlbnQgPSBldmVudHJlZi5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmpPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0RXZlbnQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uZXZlbnQucHVzaChhZGRPYmpPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Ry5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNFUlZJQ0UtSU5URVJGQUNFLUlEIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNFUlZJQ0UtSU5URVJGQUNFLVZFUlNJT04iKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJNQUpPUi1WRVJTSU9OIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWp2ZXJzaW9uID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiTUlOT1ItVkVSU0lPTiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWludmVyc2lvbiA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJGSUVMRC1ERVBMT1lNRU5UUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKGZpZSwgZikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRJdGVtID0gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldG5hbWU6ICcnLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldGlkOiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRtYXhyZXE6ICcnLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldG1heHJlczogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGltZXJlcTogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGltZXJlczogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0cHJvdG86IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bmFtZTogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0aWQ6ICcnLAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldG1heHJlcTogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0bWF4cmVzOiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW1lcmVxOiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW1lcmVzOiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRwcm90bzogbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RuYW1lOiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZDogJycsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90bWF4OiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3R0aW1lOiAnJywKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RzZXJpYWw6IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90cHJvdG86IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0ubmFtZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJGSUVMRC1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uZmllbGQgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiR0VUIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY2hpbGROb2Rlcy5mb3JFYWNoKChnZXRmaWVsZCwgZykgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZyAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldGZpZWxkLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLmdldG5hbWUgPSBnZXRmaWVsZC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldGZpZWxkLm5vZGVOYW1lID09ICJNRVRIT0QtSUQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uZ2V0aWQgPSBnZXRmaWVsZC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldGZpZWxkLm5vZGVOYW1lID09ICJNQVhJTVVNLVNFR01FTlQtTEVOR1RILVJFUVVFU1QiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uZ2V0bWF4cmVxID0gZ2V0ZmllbGQuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRmaWVsZC5ub2RlTmFtZSA9PSAiTUFYSU1VTS1TRUdNRU5ULUxFTkdUSC1SRVNQT05TRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5nZXRtYXhyZXMgPSBnZXRmaWVsZC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldGZpZWxkLm5vZGVOYW1lID09ICJTRVBBUkFUSU9OLVRJTUUtUkVRVUVTVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5nZXR0aW1lcmVxID0gZ2V0ZmllbGQuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRmaWVsZC5ub2RlTmFtZSA9PSAiU0VQQVJBVElPTi1USU1FLVJFU1BPTlNFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLmdldHRpbWVyZXMgPSBnZXRmaWVsZC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldGZpZWxkLm5vZGVOYW1lID09ICJUUkFOU1BPUlQtUFJPVE9DT0wiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uZ2V0cHJvdG8gPSBnZXRmaWVsZC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTRVQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jaGlsZE5vZGVzLmZvckVhY2goKHNldGZpZWxkLCBzKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0ZmllbGQubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uc2V0bmFtZSA9IHNldGZpZWxkLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0ZmllbGQubm9kZU5hbWUgPT0gIk1FVEhPRC1JRCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5zZXRpZCA9IHNldGZpZWxkLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0ZmllbGQubm9kZU5hbWUgPT0gIk1BWElNVU0tU0VHTUVOVC1MRU5HVEgtUkVRVUVTVCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5zZXRtYXhyZXEgPSBzZXRmaWVsZC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldGZpZWxkLm5vZGVOYW1lID09ICJNQVhJTVVNLVNFR01FTlQtTEVOR1RILVJFU1BPTlNFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLnNldG1heHJlcyA9IHNldGZpZWxkLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0ZmllbGQubm9kZU5hbWUgPT0gIlNFUEFSQVRJT04tVElNRS1SRVFVRVNUIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLnNldHRpbWVyZXEgPSBzZXRmaWVsZC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldGZpZWxkLm5vZGVOYW1lID09ICJTRVBBUkFUSU9OLVRJTUUtUkVTUE9OU0UiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uc2V0dGltZXJlcyA9IHNldGZpZWxkLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0ZmllbGQubm9kZU5hbWUgPT0gIlRSQU5TUE9SVC1QUk9UT0NPTCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5zZXRwcm90byA9IHNldGZpZWxkLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk5PVElGSUVSIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY2hpbGROb2Rlcy5mb3JFYWNoKChub3RpLCBuKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90aS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5ub3RuYW1lID0gbm90aS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGkubm9kZU5hbWUgPT0gIkVWRU5ULUlEIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLm5vdGlkID0gbm90aS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGkubm9kZU5hbWUgPT0gIk1BWElNVU0tU0VHTUVOVC1MRU5HVEgiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0ubm90bWF4ID0gbm90aS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGkubm9kZU5hbWUgPT0gIlNFUEFSQVRJT04tVElNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5ub3R0aW1lID0gbm90aS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGkubm9kZU5hbWUgPT0gIlNFUklBTElaRVIiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0ubm90c2VyaWFsID0gbm90aS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGkubm9kZU5hbWUgPT0gIlRSQU5TUE9SVC1QUk9UT0NPTCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5ub3Rwcm90byA9IG5vdGkuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRC5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIk1FVEhPRC1ERVBMT1lNRU5UUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKG1ldCwgbSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRNZXRob2REID0geyBuYW1lOiAnJywgbWV0aG9kOiBudWxsLCBpZDogJycsIG1heHJlcXVlc3Q6ICcnLCBtYXhyZXNwb25zZTogJycsIHRpbWVyZXF1ZXN0OiAnJywgdGltZXJlc3BvbnNlOiAnJywgcHJvdG9jYWw6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0gJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXQuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TWV0aG9kRC5uYW1lID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk1FVEhPRC1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1ldGhvZEQubWV0aG9kID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk1FVEhPRC1JRCIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TWV0aG9kRC5pZCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJNQVhJTVVNLVNFR01FTlQtTEVOR1RILVJFUVVFU1QiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1ldGhvZEQubWF4cmVxdWVzdCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJNQVhJTVVNLVNFR01FTlQtTEVOR1RILVJFU1BPTlNFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNZXRob2RELm1heHJlc3BvbnNlID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNFUEFSQVRJT04tVElNRS1SRVFVRVNUIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNZXRob2RELnRpbWVyZXF1ZXN0ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlNFUEFSQVRJT04tVElNRS1SRVNQT05TRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TWV0aG9kRC50aW1lcmVzcG9uc2UgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiVFJBTlNQT1JULVBST1RPQ09MIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNZXRob2RELnByb3RvY2FsID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0TWV0aG9kRCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RELnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudFNvbWVJUFNlcnZpY2UnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgc2VydmljZTogc2VydmljZSwKLy8gICAgICAgICAgICAgICAgICAgICBtYWp2ZXJzaW9uOiBtYWp2ZXJzaW9uLAovLyAgICAgICAgICAgICAgICAgICAgIG1pbnZlcnNpb246IG1pbnZlcnNpb24sCi8vICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLAovLyAgICAgICAgICAgICAgICAgICAgIGV2ZW50RzogZXZlbnRHLAovLyAgICAgICAgICAgICAgICAgICAgIGV2ZW50RDogZXZlbnRELAovLyAgICAgICAgICAgICAgICAgICAgIG1ldGhvZEQ6IG1ldGhvZEQsCi8vICAgICAgICAgICAgICAgICAgICAgZmllbGREOiBmaWVsZEQsCi8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5TZXJ2aWNlX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gU0VSVklDRS1JTlRFUkZBQ0UKLy8gICAgICAgICB2YXIgc2VydmljZUludGVyZmFjZSA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdTRVJWSUNFLUlOVEVSRkFDRScpCi8vICAgICAgICAgc2VydmljZUludGVyZmFjZS5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIG1heCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIG1pbiA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGlzc2VydmljZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCksCi8vICAgICAgICAgICAgICAgICAgICAgZXZlbnRzID0gW10sCi8vICAgICAgICAgICAgICAgICAgICAgZmllbGRzID0gW10sCi8vICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcyA9IFtdCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiTkFNRVNQQUNFUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKHN5bWJvbCwgcykgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UgKz0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlICs9ICcvJwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UgPSBuYW1lc3BhY2Uuc3Vic3RyKDAsIG5hbWVzcGFjZS5sZW5ndGggLSAxKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSArPSAnLCcKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIklTLVNFUlZJQ0UiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlzc2VydmljZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIk1BSk9SLVZFUlNJT04iKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIk1JTk9SLVZFUlNJT04iKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkVWRU5UUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKGV2ZSwgZSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRFdmVudCA9IHsgbmFtZTogJycsIHR5cGU6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmUuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RXZlbnQubmFtZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJUWVBFLVRSRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEV2ZW50LnR5cGUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRFdmVudCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHMucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJGSUVMRFMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChmaWUsIGYpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0RmllbGQgPSB7IG5hbWU6ICcnLCB0eXBlOiBudWxsLCBnZXR0ZXI6IG51bGwsIHNldHRlcjogbnVsbCwgbm90aWZpZXI6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWUuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RmllbGQubmFtZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJUWVBFLVRSRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEZpZWxkLnR5cGUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSEFTLUdFVFRFUiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RmllbGQuZ2V0dGVyID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkhBUy1TRVRURVIiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEZpZWxkLnNldHRlciA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJIQVMtTk9USUZJRVIiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEZpZWxkLm5vdGlmaWVyID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0RmllbGQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiTUVUSE9EUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKG1ldCwgbSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRlZEl0ZW0gPSB7IG5hbWU6ICcnLCBmaXJlZm9yZ2V0OiBudWxsLCBhcmd1bWVudDogW10sIGVycm9yU2V0OiBbXSwgZXJyb3I6IFtdLCBkZXNjcmlwOiAnJyB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldC5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRlZEl0ZW0ubmFtZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJBUkdVTUVOVFMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jaGlsZE5vZGVzLmZvckVhY2goKGFyZywgYSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdEFyZ0l0ZW0gPSB7IG5hbWU6ICcnLCB0eXBlOiBudWxsLCBkaXI6IG51bGwsIGRlc2NyaXA6ICcnIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZy5jaGlsZE5vZGVzLmZvckVhY2gocHJvdG8gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm90by5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEFyZ0l0ZW0ubmFtZSA9IHByb3RvLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm90by5ub2RlTmFtZSA9PSAiVFlQRS1UUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0QXJnSXRlbS50eXBlID0gcHJvdG8uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvLm5vZGVOYW1lID09ICJESVJFQ1RJT04iKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRBcmdJdGVtLmRpciA9IHByb3RvLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm90by5ub2RlTmFtZSA9PSAiREVTQyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEFyZ0l0ZW0uZGVzY3JpcCA9IHByb3RvLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdEFyZ0l0ZW0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0ZWRJdGVtLmFyZ3VtZW50LnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJGSVJFLUFORC1GT1JHRVQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGVkSXRlbS5maXJlZm9yZ2V0ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIlBPU1NJQkxFLUFQLUVSUk9SLVNFVC1SRUZTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0RXJyb3JTZXRJdGVtID0geyBlcnJvcjogbnVsbCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jaGlsZE5vZGVzLmZvckVhY2goKGVyciwgZSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5ub2RlTmFtZSA9PSAiUE9TU0lCTEUtQVAtRVJST1ItU0VULVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0RXJyb3JTZXRJdGVtLmVycm9yID0gZXJyLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRFcnJvclNldEl0ZW0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGVkSXRlbS5lcnJvclNldC5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJQT1NTSUJMRS1BUC1FUlJPUi1SRUZTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0RXJyb3JJdGVtID0geyBlcnJvcjogbnVsbCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jaGlsZE5vZGVzLmZvckVhY2goKGVyciwgZSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5ub2RlTmFtZSA9PSAiUE9TU0lCTEUtQVAtRVJST1ItUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRFcnJvckl0ZW0uZXJyb3IgPSBlcnIuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdEVycm9ySXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0ZWRJdGVtLmVycm9yLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkRFU0MiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGVkSXRlbS5kZXNjcmlwID0gZGF0YS5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRlZEl0ZW0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKGFkZE9iaikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudFNlcnZpY2UnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbk1hajogbWF4LAovLyAgICAgICAgICAgICAgICAgICAgIHZlcnNpb25NaW46IG1pbiwKLy8gICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IG5hbWVzcGFjZSwKLy8gICAgICAgICAgICAgICAgICAgICBpc3NlcnZpY2U6IGlzc2VydmljZSwKLy8gICAgICAgICAgICAgICAgICAgICBldmVudHM6IGV2ZW50cywKLy8gICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkcywKLy8gICAgICAgICAgICAgICAgICAgICBtZXRob2RzOiBtZXRob2RzCi8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9zdHIgfSkKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNlcnZpY2Vfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIFNPTUVJUC1TRC1DTElFTlQtRVZFTlQtR1JPVVAtVElNSU5HLUNPTkZJRwovLyAgICAgICAgIHZhciBjbGllbnQgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnU09NRUlQLVNELUNMSUVOVC1FVkVOVC1HUk9VUC1USU1JTkctQ09ORklHJykKLy8gICAgICAgICBjbGllbnQuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBtYXggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBtaW4gPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICB0aW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcmV0cnlEID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKSwKLy8gICAgICAgICAgICAgICAgICAgICByZXRyeU0gPSAnJwovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNVQlNDUklCRS1FVkVOVEdST1VQLVJFVFJZLURFTEFZIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeUQgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTVUJTQ1JJQkUtRVZFTlRHUk9VUC1SRVRSWS1NQVgiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5TSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlRJTUUtVE8tTElWRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlJFUVVFU1QtUkVTUE9OU0UtREVMQVkiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKGRhdGEgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk1BWC1WQUxVRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiTUlOLVZBTFVFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudEV2ZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRDbGllbnQnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IHJldHJ5RCwKLy8gICAgICAgICAgICAgICAgICAgICBtYXg6IHJldHJ5TSwKLy8gICAgICAgICAgICAgICAgICAgICB0aW1ldG9saXZlOiB0aW1lLAovLyAgICAgICAgICAgICAgICAgICAgIGRlbGF5bWF4OiBtYXgsCi8vICAgICAgICAgICAgICAgICAgICAgZGVsYXltaW46IG1pbiwKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5DbGllbnRfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5TZXJ2aWNlX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNvbWVJUEV2ZW50c19zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5DbGllbnRfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBTT01FSVAtU0QtU0VSVkVSLUVWRU5ULUdST1VQLVRJTUlORy1DT05GSUcKLy8gICAgICAgICB2YXIgc2VydmVyID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1NPTUVJUC1TRC1TRVJWRVItRVZFTlQtR1JPVVAtVElNSU5HLUNPTkZJRycpCi8vICAgICAgICAgc2VydmVyLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgbWF4ID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKSwKLy8gICAgICAgICAgICAgICAgICAgICBtaW4gPSAnJwovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlJFUVVFU1QtUkVTUE9OU0UtREVMQVkiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKGRhdGEgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk1BWC1WQUxVRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiTUlOLVZBTFVFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlckV2ZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRTZXJ2ZXInLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgZGVsYXltYXg6IG1heCwKLy8gICAgICAgICAgICAgICAgICAgICBkZWxheW1pbjogbWluLAovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LlNlcnZlcl9zdHIgfSkKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNlcnZpY2Vfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU29tZUlQRXZlbnRzX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNlcnZlcl9zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIFNPTUVJUC1TRC1DTElFTlQtU0VSVklDRS1JTlNUQU5DRS1DT05GSUcKLy8gICAgICAgICB2YXIgc29tZUlQQ2xpZW50ID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1NPTUVJUC1TRC1DTElFTlQtU0VSVklDRS1JTlNUQU5DRS1DT05GSUcnKQovLyAgICAgICAgIHNvbWVJUENsaWVudC5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBkZWxheU1heCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGRlbGF5TWluID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBtYXggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0VSVklDRS1GSU5ELVRJTUUtVE8tTElWRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIklOSVRJQUwtRklORC1CRUhBVklPUiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSU5JVElBTC1ERUxBWS1NQVgtVkFMVUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXlNYXggPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSU5JVElBTC1ERUxBWS1NSU4tVkFMVUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXlNaW4gPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSU5JVElBTC1SRVBFVElUSU9OUy1CQVNFLURFTEFZIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIklOSVRJQUwtUkVQRVRJVElPTlMtTUFYIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50U29tZUlQQ2xpZW50JywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIGZpbmR0aW1lOiB0aW1lLAovLyAgICAgICAgICAgICAgICAgICAgIGluaWRlbGF5bWF4OiBkZWxheU1heCwKLy8gICAgICAgICAgICAgICAgICAgICBpbmlkZWxheW1pbjogZGVsYXlNaW4sCi8vICAgICAgICAgICAgICAgICAgICAgaW5pYmFzZWRlbGF5OiBkZWxheSwKLy8gICAgICAgICAgICAgICAgICAgICBpbmlyZXBldGltYXg6IG1heCwKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5Tb21lSVBDbGllbnRfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5TZXJ2aWNlX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU29tZUlQQ2xpZW50X3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gU09NRUlQLVNELVNFUlZFUi1TRVJWSUNFLUlOU1RBTkNFLUNPTkZJRwovLyAgICAgICAgIHZhciBzb21lSVBTZXJ2ZXIgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnU09NRUlQLVNELVNFUlZFUi1TRVJWSUNFLUlOU1RBTkNFLUNPTkZJRycpCi8vICAgICAgICAgc29tZUlQU2VydmVyLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgdGltZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGRlbGF5TWF4ID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgZGVsYXlNaW4gPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBkZWxheSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIG1heCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGN5Y2xpYyA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIG1heHZhbHVlID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKSwKLy8gICAgICAgICAgICAgICAgICAgICBtaW52YWx1ZSA9ICcnCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiSU5JVElBTC1PRkZFUi1CRUhBVklPUiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSU5JVElBTC1ERUxBWS1NQVgtVkFMVUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXlNYXggPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSU5JVElBTC1ERUxBWS1NSU4tVkFMVUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXlNaW4gPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSU5JVElBTC1SRVBFVElUSU9OUy1CQVNFLURFTEFZIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIklOSVRJQUwtUkVQRVRJVElPTlMtTUFYIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIk9GRkVSLUNZQ0xJQy1ERUxBWSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgY3ljbGljID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUkVRVUVTVC1SRVNQT05TRS1ERUxBWSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiTUFYLVZBTFVFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heHZhbHVlID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIk1JTi1WQUxVRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW52YWx1ZSA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNFUlZJQ0UtT0ZGRVItVElNRS1UTy1MSVZFIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmVyU2VydmljZUluc3RhbmNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRTb21lSVBTZXJ2ZXInLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgaW5pZGVsYXltYXg6IGRlbGF5TWF4LAovLyAgICAgICAgICAgICAgICAgICAgIGluaWRlbGF5bWluOiBkZWxheU1pbiwKLy8gICAgICAgICAgICAgICAgICAgICBpbmliYXNlZGVsYXk6IGRlbGF5LAovLyAgICAgICAgICAgICAgICAgICAgIGluaXJlcGV0aW1heDogbWF4LAovLyAgICAgICAgICAgICAgICAgICAgIGRlbGF5bWF4OiBtYXh2YWx1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBkZWxheW1pbjogbWludmFsdWUsCi8vICAgICAgICAgICAgICAgICAgICAgb2ZmZXI6IGN5Y2xpYywKLy8gICAgICAgICAgICAgICAgICAgICB0aWVtdG9saXZlOiB0aW1lLAovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LlNvbWVJUFNlcnZlcl9zdHIgfSkKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNlcnZpY2Vfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5Tb21lSVBTZXJ2ZXJfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBTT01FSVAtU0VSVklDRS1JTlNUQU5DRS1UTy1NQUNISU5FLU1BUFBJTkcKLy8gICAgICAgICB2YXIgc29tZUlQdG9NYWNoaW5lID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1NPTUVJUC1TRVJWSUNFLUlOU1RBTkNFLVRPLU1BQ0hJTkUtTUFQUElORycpCi8vICAgICAgICAgc29tZUlQdG9NYWNoaW5lLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgY29ubmVjdCA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgc2VydmljZSA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgdWRwID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgdGNwID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkNPTU1VTklDQVRJT04tQ09OTkVDVE9SLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNFUlZJQ0UtSU5TVEFOQ0UtUkVGUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZSA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiVURQLVBPUlQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHVkcCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlRDUC1QT1JUIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICB0Y3AgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudFNvbWVJUHRvTWFjaGluZScsIHsKLy8gICAgICAgICAgICAgICAgICAgICBuYW1lOiBOYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB0cnVlLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHN0clBhdGgsCi8vICAgICAgICAgICAgICAgICAgICAgdXVpZDogVVVJRCwKLy8gICAgICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRYLAovLyAgICAgICAgICAgICAgICAgICAgIHppbmRleDogMiwKLy8gICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKLy8gICAgICAgICAgICAgICAgICAgICBjY3JlZjogY29ubmVjdCwKLy8gICAgICAgICAgICAgICAgICAgICB1ZHA6IHVkcCwKLy8gICAgICAgICAgICAgICAgICAgICB0Y3A6IHRjcCwKLy8gICAgICAgICAgICAgICAgICAgICBzaXJlZjogc2VydmljZSwKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBTRVJWSUNFLUlOU1RBTkNFLVRPLVBPUlQtUFJPVE9UWVBFLU1BUFBJTkcKLy8gICAgICAgICB2YXIgdG9Qcm90UHJvdG8gPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnU0VSVklDRS1JTlNUQU5DRS1UTy1QT1JULVBST1RPVFlQRS1NQVBQSU5HJykKLy8gICAgICAgICB0b1Byb3RQcm90by5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCksCi8vICAgICAgICAgICAgICAgICAgICAgc2VsZWN0UG9ydCA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgcG9ydHR5cGUgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFNlcnZpY2VJbnMgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VJbnMgPSBudWxsCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUE9SVC1QUk9UT1RZUEUtSVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0UG9ydCA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5nZXRBdHRyaWJ1dGUoIkRFU1QiKQovLyAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0dHlwZSA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUFJPQ0VTUy1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTRVJWSUNFLUlOU1RBTkNFLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U2VydmljZUlucyA9IGl0ZW0uZ2V0QXR0cmlidXRlKCJERVNUIikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZUlucyA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50VG9Qb3J0UHJvdG90eXBlJywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFBvcnQ6IHNlbGVjdFBvcnQsCi8vICAgICAgICAgICAgICAgICAgICAgcG9ydHR5cGU6IHBvcnR0eXBlLAovLyAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3M6IHByb2Nlc3MsCi8vICAgICAgICAgICAgICAgICAgICAgc2VsZWN0U2VydmljZUluczogc2VsZWN0U2VydmljZUlucywKLy8gICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSW5zOiBzZXJ2aWNlSW5zLAovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LlRvUG9ydFByb3RvdHlwZU1hcHBpbmdfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5TZXJ2aWNlX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIFJFUVVJUkVELVNPTUVJUC1TRVJWSUNFLUlOU1RBTkNFCi8vICAgICAgICAgdmFyIHJlcXVpcmVkID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1JFUVVJUkVELVNPTUVJUC1TRVJWSUNFLUlOU1RBTkNFJykKLy8gICAgICAgICByZXF1aXJlZC5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGRlcGxveXJlZiA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgbWlub3J2ZXIgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBpZCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCksCi8vICAgICAgICAgICAgICAgICAgICAgY2xpZW50cmVmID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICB2ZXIgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIG1ldGhvZFAgPSBbXSwKLy8gICAgICAgICAgICAgICAgICAgICByZXF1aXJlZGV2ZW50ID0gW10KLy8gICAgICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTRVJWSUNFLUlOVEVSRkFDRS1ERVBMT1lNRU5ULVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95cmVmID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUkVRVUlSRUQtTUlOT1ItVkVSU0lPTiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgbWlub3J2ZXIgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJSRVFVSVJFRC1TRVJWSUNFLUlOU1RBTkNFLUlEIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNELUNMSUVOVC1DT05GSUctUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRyZWYgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJWRVJTSU9OLURSSVZFTi1GSU5ELUJFSEFWSU9SIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICB2ZXIgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJNRVRIT0QtUkVRVUVTVC1QUk9QU1MiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChwcm9wLCBwKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdE1ldGhvZEl0ZW0gPSB7IG1ldGhvZDogbnVsbCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3AuY2hpbGROb2Rlcy5mb3JFYWNoKChkYXRhLCBkKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiTUVUSE9ELVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TWV0aG9kSXRlbS5tZXRob2QgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRNZXRob2RJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZFAucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJSRVFVSVJFRC1FVkVOVC1HUk9VUFMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChncm91cCwgZykgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRJdGVtID0geyBuYW1lOiAnJywgZXZlbnRHOiBudWxsLCBjbGllbnQ6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGcgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cC5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLm5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiRVZFTlQtR1JPVVAtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLmV2ZW50RyA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTRC1DTElFTlQtRVZFTlQtR1JPVVAtVElNSU5HLUNPTkZJRy1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uY2xpZW50ID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0SXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZGV2ZW50LnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudFJlcXVpcmVkU29tZUlQJywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIGRlcGxveXJlZjogZGVwbG95cmVmLAovLyAgICAgICAgICAgICAgICAgICAgIG1pbm92ZXI6IG1pbm9ydmVyLAovLyAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCwKLy8gICAgICAgICAgICAgICAgICAgICBjbGllbnRyZWY6IGNsaWVudHJlZiwKLy8gICAgICAgICAgICAgICAgICAgICB2ZXI6IHZlciwKLy8gICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZFAsCi8vICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRldmVudDogcmVxdWlyZWRldmVudAovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LlJlcXVpcmVkU29tZUlQX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlJlcXVpcmVkU29tZUlQX3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gUFJPVklERUQtU09NRUlQLVNFUlZJQ0UtSU5TVEFOQ0UKLy8gICAgICAgICB2YXIgcHJvdmlkZWQgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnUFJPVklERUQtU09NRUlQLVNFUlZJQ0UtSU5TVEFOQ0UnKQovLyAgICAgICAgIHByb3ZpZGVkLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgZGVwbG95cmVmID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBzb21laXBzID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBpZCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCksCi8vICAgICAgICAgICAgICAgICAgICAgZXZlbnRQID0gW10sCi8vICAgICAgICAgICAgICAgICAgICAgbWV0aG9kID0gW10sCi8vICAgICAgICAgICAgICAgICAgICAgZXZlbnRHID0gW10KLy8gICAgICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTRVJWSUNFLUlOVEVSRkFDRS1ERVBMT1lNRU5ULVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95cmVmID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0QtU0VSVkVSLUNPTkZJRy1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvbWVpcHMgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTRVJWSUNFLUlOU1RBTkNFLUlEIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkVWRU5ULVBST1BTUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKHByb3AsIHApID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0SXRlbSA9IHsgZXZlbnQ6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIkVWRU5ULVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0SXRlbS5ldmVudCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdEl0ZW0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRQLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiTUVUSE9ELVJFU1BPTlNFLVBST1BTUyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZE5vZGVzLmZvckVhY2goKHByb3AsIHApID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0TWV0aG9kSXRlbSA9IHsgbWV0aG9kOiBudWxsIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJNRVRIT0QtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRNZXRob2RJdGVtLm1ldGhvZCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgZWRpdE1ldGhvZEl0ZW0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUFJPVklERUQtRVZFTlQtR1JPVVBTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoaWxkTm9kZXMuZm9yRWFjaCgoZ3JvdXAsIGcpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0SXRlbSA9IHsgbmFtZTogJycsIGV2ZW50RzogbnVsbCwgdWRwOiAnJywgaXB2NDogJycsIGlwdjY6ICcnLCB0aHJlc2hvbGQ6ICcnLCBzZXJ2ZXI6IG51bGwgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGcgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cC5jaGlsZE5vZGVzLmZvckVhY2goKGRhdGEsIGQpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgJSAyICE9IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLm5hbWUgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiRVZFTlQtR1JPVVAtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLmV2ZW50RyA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJFVkVOVC1NVUxUSUNBU1QtVURQLVBPUlQiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0udWRwID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9kZU5hbWUgPT0gIklQVi00LU1VTFRJQ0FTVC1JUC1BRERSRVNTIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLmlwdjQgPSBkYXRhLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiSVBWLTYtTVVMVElDQVNULUlQLUFERFJFU1MiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uaXB2NiA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJNVUxUSUNBU1QtVEhSRVNIT0xEIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLnRocmVzaG9sZCA9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vZGVOYW1lID09ICJTRC1TRVJWRVItRVZFTlQtR1JPVVAtVElNSU5HLUNPTkZJRy1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdEl0ZW0uc2VydmVyID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBlZGl0SXRlbSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEcucHVzaChhZGRPYmopCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50UHJvdmlkZWRTb21lSVAnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgZGVwbG95cmVmOiBkZXBsb3lyZWYsCi8vICAgICAgICAgICAgICAgICAgICAgc29tZWlwczogc29tZWlwcywKLy8gICAgICAgICAgICAgICAgICAgICBpZDogaWQsCi8vICAgICAgICAgICAgICAgICAgICAgZXZlbnRQOiBldmVudFAsCi8vICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsCi8vICAgICAgICAgICAgICAgICAgICAgZXZlbnRHOiBldmVudEcKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9zdHIgfSkKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LlNlcnZpY2Vfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIEFQLUFQUExJQ0FUSU9OLUVSUk9SCi8vICAgICAgICAgdmFyIGVycm9yID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0FQLUFQUExJQ0FUSU9OLUVSUk9SJykKLy8gICAgICAgICBlcnJvci5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGRlc2MgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBjb2RlID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgZG9tYWluID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiREVTQyIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGVzYyA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiRVJST1ItQ09ERSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkVSUk9SLURPTUFJTi1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbiA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRFcnJvcicsIHsKLy8gICAgICAgICAgICAgICAgICAgICBuYW1lOiBOYW1lLAovLyAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB0cnVlLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHN0clBhdGgsCi8vICAgICAgICAgICAgICAgICAgICAgdXVpZDogVVVJRCwKLy8gICAgICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRYLAovLyAgICAgICAgICAgICAgICAgICAgIHppbmRleDogMiwKLy8gICAgICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKLy8gICAgICAgICAgICAgICAgICAgICBkZXNjOiBkZXNjLAovLyAgICAgICAgICAgICAgICAgICAgIGVycm9yY29kZTogY29kZSwKLy8gICAgICAgICAgICAgICAgICAgICBlcnJvckRyZWY6IGRvbWFpbgovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LkVycm9yX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5FcnJvcnNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuRXJyb3Jfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBBUC1BUFBMSUNBVElPTi1FUlJPUi1TRVQKLy8gICAgICAgICB2YXIgZXJyb3JTZXQgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQVAtQVBQTElDQVRJT04tRVJST1ItU0VUJykKLy8gICAgICAgICBlcnJvclNldC5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIGVycm9ycmVmID0gW10sCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkFQLUFQUExJQ0FUSU9OLUVSUk9SLVJFRlMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKGRhdGEgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRJdGVtID0geyBlcnJvcjogbnVsbCB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub2RlTmFtZSA9PSAiQVAtQVBQTElDQVRJT04tRVJST1ItUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJdGVtLmVycm9yID0gZGF0YS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRJdGVtKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycmVmLnB1c2goYWRkT2JqKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JTZXQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudEVycm9yU2V0JywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIGVycm9ycmVmOiBlcnJvcnJlZgovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LkVycm9yc2V0X3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5FcnJvcnNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuRXJyb3JzZXRfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBBUC1BUFBMSUNBVElPTi1FUlJPUi1ET01BSU4KLy8gICAgICAgICB2YXIgZXJyb3JEb21haW4gPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQVAtQVBQTElDQVRJT04tRVJST1ItRE9NQUlOJykKLy8gICAgICAgICBlcnJvckRvbWFpbi5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIk5BTUVTUEFDRVMiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGROb2Rlcy5mb3JFYWNoKChzeW1ib2wsIHMpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzICUgMiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sLmNoaWxkTm9kZXMuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAlIDIgIT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlICs9IGRhdGEuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSArPSAnLycKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlID0gbmFtZXNwYWNlLnN1YnN0cigwLCBuYW1lc3BhY2UubGVuZ3RoIC0gMSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UgKz0gJywnCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJWQUxVRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvckRvbWFpbi5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50RXJyb3JEb21haW4nLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLAovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LkVycm9yRG9tYWluX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuU2VydmljZV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5FcnJvcnNfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuRXJyb3JEb21haW5fc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBQRVJTSVNURU5DWS1QT1JULVBST1RPVFlQRS1UTy1GSUxFLUFSUkFZLU1BUFBJTkcKLy8gICAgICAgICB2YXIgcGVyUFB0b0ZpbGVBcnJheSA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdQRVJTSVNURU5DWS1QT1JULVBST1RPVFlQRS1UTy1GSUxFLUFSUkFZLU1BUFBJTkcnKQovLyAgICAgICAgIHBlclBQdG9GaWxlQXJyYXkuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBmaWxlQXJyYXkgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHBvcnQgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCkKLy8gICAgICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJQRVJTSVNURU5DWS1GSUxFLUFSUkFZLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUFycmF5ID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUE9SVC1QUk9UT1RZUEUtSVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgcG9ydCA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUFJPQ0VTUy1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudFBFUlBQdG9GaWxlQXJyYXknLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgZmlsZUFycmF5OiBmaWxlQXJyYXksCi8vICAgICAgICAgICAgICAgICAgICAgcG9ydDogcG9ydCwKLy8gICAgICAgICAgICAgICAgICAgICBwcm9jZXNzOiBwcm9jZXNzCi8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5QbGF0Zm9ybV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5QRVJfc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBQRVJTSVNURU5DWS1QT1JULVBST1RPVFlQRS1UTy1LRVktVkFMVUUtREFUQUJBU0UtTUFQUElORwovLyAgICAgICAgIHZhciBwZXJQUHRvS2V5VmFsdWUgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnUEVSU0lTVEVOQ1ktUE9SVC1QUk9UT1RZUEUtVE8tS0VZLVZBTFVFLURBVEFCQVNFLU1BUFBJTkcnKQovLyAgICAgICAgIHBlclBQdG9LZXlWYWx1ZS5mb3JFYWNoKGVsZSA9PiB7Ci8vICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICBrZXlWYWx1ZSA9IG51bGwsCi8vICAgICAgICAgICAgICAgICBwb3J0ID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgIHByb2Nlc3MgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpCi8vICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIktFWS1WQUxVRS1TVE9SQUdFLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICBrZXlWYWx1ZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJQT1JULVBST1RPVFlQRS1JUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgIHBvcnQgPSBpdGVtLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJQUk9DRVNTLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICBwcm9jZXNzID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICB2YXIgVVVJRCA9IGVsZS5nZXRBdHRyaWJ1dGUoIlVVSUQiKQovLyAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50UEVSUFB0b0tleVZhbHVlJywgewovLyAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgIGlucHV0OiB0cnVlLAovLyAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAga2V5VmFsdWU6IGtleVZhbHVlLAovLyAgICAgICAgICAgICAgICAgcG9ydDogcG9ydCwKLy8gICAgICAgICAgICAgICAgIHByb2Nlc3M6IHByb2Nlc3MKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9zdHIgfSkKLy8gICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuUGxhdGZvcm1fc3RyKQovLyAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5QRVJfc3RyKQovLyAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5Qb3J0UHJvdG9LZXlWX3N0cikKLy8gICAgICAgICB9KQovLyAgICAgICAgIC8vIENPTS1GSUVMRC1HUkFOVAovLyAgICAgICAgIHZhciBmaWVsZEcgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ09NLUZJRUxELUdSQU5UJykKLy8gICAgICAgICBmaWVsZEcuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBkZXNpZ25SID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBwcm92aWRlID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICByb2xlID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiREVTSUdOLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGVzaWduUiA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNFUlZJQ0UtSU5TVEFOQ0UtUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUk9MRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgcm9sZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkRy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50RmllbGRHJywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIGZpZWxkRDogZGVzaWduUiwKLy8gICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBwcm92aWRlLAovLyAgICAgICAgICAgICAgICAgICAgIHJvbGU6IHJvbGUKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5Db21GaWVsZEdyYW50X3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuUGxhdGZvcm1fc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuSUFNX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkNvbUZpZWxkR3JhbnRfc3RyKQovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAvLyBDT00tRVZFTlQtR1JBTlQKLy8gICAgICAgICB2YXIgZXZlbnRHID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0NPTS1FVkVOVC1HUkFOVCcpCi8vICAgICAgICAgZXZlbnRHLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgZGVzaWduUiA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZSA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkRFU0lHTi1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2lnblIgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTRVJWSUNFLUlOU1RBTkNFLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50Ry5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IFVVSUQpCi8vICAgICAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgIFVVSUQgPSB1dWlkLnYxKCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwIC0gNikpICsgNSkKLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdhZGRFbGVtZW50RXZlbnRHJywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIGV2ZW50RDogZGVzaWduUiwKLy8gICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBwcm92aWRlLAovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LkNvbUV2ZW50R3JhbnRfc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5QbGF0Zm9ybV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5JQU1fc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuQ29tRXZlbnRHcmFudF9zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIENPTS1NRVRIT0QtR1JBTlQKLy8gICAgICAgICB2YXIgbWV0aG9kRyA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdDT00tTUVUSE9ELUdSQU5UJykKLy8gICAgICAgICBtZXRob2RHLmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgZGVzaWduUiA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZSA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aCA9ICcnLAovLyAgICAgICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKQovLyAgICAgICAgICAgICAgICAgZWxlLmNoaWxkTm9kZXMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiU0hPUlQtTkFNRSIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIkRFU0lHTi1SRUYiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2lnblIgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTRVJWSUNFLUlOU1RBTkNFLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICAgICAgaWYgKFVVSUQgPT0gbnVsbCB8fCBpZHhFbGUgIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICBVVUlEID0gdXVpZC52MSgpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE0MDAgLSAxMSkpICsgMTApIC8vIChtYXggLSBtaW4pICsgbWluCi8vICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50WSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDIwMCAtIDYpKSArIDUpCi8vICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudE1ldGhvZEcnLCB7Ci8vICAgICAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoOiBzdHJQYXRoLAovLyAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50WSwKLy8gICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlbGVtZW50WCwKLy8gICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICAgICAgaWNvbjogIm1kaS1jbGlwYm9hcmQtb3V0bGluZSIsCi8vICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCi8vICAgICAgICAgICAgICAgICAgICAgbWV0aG9kRDogZGVzaWduUiwKLy8gICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBwcm92aWRlLAovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmlucHV0RmlsZUxpc3QucHVzaCh7IHV1aWQ6IFVVSUQsIHBhdGg6IHN0clBhdGggKyAnLycgKyBOYW1lLCBwYXJlbnQ6IGNvbnN0YW50LkNvbU1ldGhvZEdyYW50X3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuUGxhdGZvcm1fc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuSUFNX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkNvbU1ldGhvZEdyYW50X3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gQ09NLUZJRUxELUdSQU5ULURFU0lHTgovLyAgICAgICAgIHZhciBmaWVsZEdEID0gcGF5bG9hZC54bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0NPTS1GSUVMRC1HUkFOVC1ERVNJR04nKQovLyAgICAgICAgIGZpZWxkR0QuZm9yRWFjaChlbGUgPT4gewovLyAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSSA9IG51bGwsCi8vICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0QgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHJvbGUgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgICAgICBzdHJQYXRoID0gZ2V0RWRpdFBhdGgoZWxlLnBhcmVudE5vZGUucGFyZW50Tm9kZSwgcGF0aCkKLy8gICAgICAgICAgICAgICAgIGVsZS5jaGlsZE5vZGVzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJGSUVMRC1JUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSSA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiUFJPQ0VTUy1ERVNJR04tUkVGIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlJPTEUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGUgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRGaWVsZEdEJywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEOiBwcm9jZXNzRCwKLy8gICAgICAgICAgICAgICAgICAgICBTSUZpZWxkOiBzZXJ2aWNlSSwKLy8gICAgICAgICAgICAgICAgICAgICByb2xlOiByb2xlCi8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRGaWxlTGlzdC5wdXNoKHsgdXVpZDogVVVJRCwgcGF0aDogc3RyUGF0aCArICcvJyArIE5hbWUsIHBhcmVudDogY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX3N0ciB9KQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuUGxhdGZvcm1fc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuSUFNX3N0cikKLy8gICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkNvbUZpZWxkR0Rlc2lnbl9zdHIpCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIC8vIENPTS1FVkVOVC1HUkFOVC1ERVNJR04KLy8gICAgICAgICB2YXIgZXZlbnRHRCA9IHBheWxvYWQueG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdDT00tRVZFTlQtR1JBTlQtREVTSUdOJykKLy8gICAgICAgICBldmVudEdELmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgICAgIHZhciBOYW1lID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc2VydmljZUkgPSBudWxsLAovLyAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgICAgICBwYXRoID0gJycsCi8vICAgICAgICAgICAgICAgICAgICAgc3RyUGF0aCA9IGdldEVkaXRQYXRoKGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUsIHBhdGgpCi8vICAgICAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJTSE9SVC1OQU1FIikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gaXRlbS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ub2RlTmFtZSA9PSAiRVZFTlQtSVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZUkgPSBpdGVtLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlBST0NFU1MtREVTSUdOLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0QgPSBpdGVtLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIHZhciBVVUlEID0gZWxlLmdldEF0dHJpYnV0ZSgiVVVJRCIpCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gVVVJRCkKLy8gICAgICAgICAgICAgICAgIGlmIChVVUlEID09IG51bGwgfHwgaWR4RWxlICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNDAwIC0gMTEpKSArIDEwKSAvLyAobWF4IC0gbWluKSArIG1pbgovLyAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2FkZEVsZW1lbnRFdmVudEdEJywgewovLyAgICAgICAgICAgICAgICAgICAgIG5hbWU6IE5hbWUsCi8vICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRydWUsCi8vICAgICAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgICAgICB1dWlkOiBVVUlELAovLyAgICAgICAgICAgICAgICAgICAgIHRvcDogZWxlbWVudFksCi8vICAgICAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICAgICAgemluZGV4OiAyLAovLyAgICAgICAgICAgICAgICAgICAgIGljb246ICJtZGktY2xpcGJvYXJkLW91dGxpbmUiLAovLyAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEOiBwcm9jZXNzRCwKLy8gICAgICAgICAgICAgICAgICAgICBTSUV2ZW50OiBzZXJ2aWNlSSwKLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5Db21FdmVudEdEZXNpZ25fc3RyIH0pCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5QbGF0Zm9ybV9zdHIpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5JQU1fc3RyKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FkZC1lbGVtZW50JywgY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX3N0cikKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgLy8gQ09NLU1FVEhPRC1HUkFOVC1ERVNJR04KLy8gICAgICAgICB2YXIgbWV0aG9kR0QgPSBwYXlsb2FkLnhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ09NLU1FVEhPRC1HUkFOVC1ERVNJR04nKQovLyAgICAgICAgIG1ldGhvZEdELmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgdmFyIE5hbWUgPSAnJywKLy8gICAgICAgICAgICAgICAgIHNlcnZpY2VJID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgIHByb2Nlc3NEID0gbnVsbCwKLy8gICAgICAgICAgICAgICAgIHBhdGggPSAnJywKLy8gICAgICAgICAgICAgICAgIHN0clBhdGggPSBnZXRFZGl0UGF0aChlbGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBwYXRoKQovLyAgICAgICAgICAgICBlbGUuY2hpbGROb2Rlcy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlNIT1JULU5BTUUiKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChpdGVtLm5vZGVOYW1lID09ICJNRVRIT0QtSVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSSA9IGl0ZW0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUgPT0gIlBST0NFU1MtREVTSUdOLVJFRiIpIHsKLy8gICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRCA9IGl0ZW0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgdmFyIFVVSUQgPSBlbGUuZ2V0QXR0cmlidXRlKCJVVUlEIikKLy8gICAgICAgICAgICAgdmFyIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBVVUlEKQovLyAgICAgICAgICAgICBpZiAoVVVJRCA9PSBudWxsIHx8IGlkeEVsZSAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgVVVJRCA9IHV1aWQudjEoKQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRYID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTQwMCAtIDExKSkgKyAxMCkgLy8gKG1heCAtIG1pbikgKyBtaW4KLy8gICAgICAgICAgICAgY29uc3QgZWxlbWVudFkgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sICgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyMDAgLSA2KSkgKyA1KQovLyAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnYWRkRWxlbWVudE1ldGhvZEdEJywgewovLyAgICAgICAgICAgICAgICAgbmFtZTogTmFtZSwKLy8gICAgICAgICAgICAgICAgIGlucHV0OiB0cnVlLAovLyAgICAgICAgICAgICAgICAgcGF0aDogc3RyUGF0aCwKLy8gICAgICAgICAgICAgICAgIHV1aWQ6IFVVSUQsCi8vICAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRZLAovLyAgICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFgsCi8vICAgICAgICAgICAgICAgICB6aW5kZXg6IDIsCi8vICAgICAgICAgICAgICAgICBpY29uOiAibWRpLWNsaXBib2FyZC1vdXRsaW5lIiwKLy8gICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAovLyAgICAgICAgICAgICAgICAgcHJvY2Vzc0Q6IHByb2Nlc3NELAovLyAgICAgICAgICAgICAgICAgU0lNZXRob2Q6IHNlcnZpY2VJLAovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LnB1c2goeyB1dWlkOiBVVUlELCBwYXRoOiBzdHJQYXRoICsgJy8nICsgTmFtZSwgcGFyZW50OiBjb25zdGFudC5Db21NZXRob2RHRGVzaWduX3N0ciB9KQovLyAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWRkLWVsZW1lbnQnLCBjb25zdGFudC5QbGF0Zm9ybV9zdHIpCi8vICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LklBTV9zdHIpCi8vICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdhZGQtZWxlbWVudCcsIGNvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25fc3RyKQovLyAgICAgICAgIH0pCi8vICAgICB9LAovLyAgICAgc2V0SW5wdXRGaWxlQ29tcGxhdGUoc3RhdGUpIHsgLy/rsJTroZwg65287J24IOq3uOumrOuptCBlbGVtZW506rCAIOuLpCDqt7jroKTsp4DquLAg7KCE7J206528IOyEoOydmCBpZOqwkuydhCDssL7sp4Ag66q77ZWc64ukLgovLyAgICAgICAgIHN0YXRlLmlzSW5wdXRGaWxlQ29tcGxhdGUgPSBmYWxzZSAvLyBlbGVtZW5065Ok7J20IOuLpCDqt7jroKTsoYzri6TripTqsbgg7JWM66CkIOyjvOuKlOqyg+yehAovLyAgICAgfSwKLy8gICAgIGNoZWNrTGluZUlucHV0WG1sKHN0YXRlKSB7Ci8vICAgICAgICAgY29uc29sZS5sb2coc3RhdGUuaW5wdXRGaWxlTGlzdCkKLy8gICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0LmZvckVhY2goZWxlID0+IHsKLy8gICAgICAgICAgICAgdmFyIGlkeGVsZW1lbnQgPSBudWxsCi8vICAgICAgICAgICAgIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LkltcGxlbWVudGF0aW9uX3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4ZWxlbWVudF0udHlwZXJlZiAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeGVsZW1lbnRdLnR5cGVyZWYgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy90eXBlcmVmJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy90eXBlcmVmJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhlbGVtZW50XS50ZW1wbGF0ZXR5cGUgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeGVsZW1lbnRdLnRlbXBsYXRldHlwZSArICcgPT09PSAnICsgaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKQovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4ZWxlbWVudF0udGVtcGxhdGV0eXBlID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvdGVtcGxhdGVUeXBlJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy90ZW1wbGF0ZVR5cGUnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeGVsZW1lbnRdLmRkcGMubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeGVsZW1lbnRdLmRkcGMuZm9yRWFjaCgoZGF0YSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb21wdW1ldGhvZCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb21wdW1ldGhvZCA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvZGRwY2NvbXB1LScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvRERQQycsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGFjb25zdHIgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkRhdGFDb25zdHIuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhY29uc3RyID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9kZHBjZGF0YS0nICsgaSwgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL0REUEMnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4ZWxlbWVudF0uaWR0ZWxlbWVudC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4ZWxlbWVudF0uaWR0ZWxlbWVudC5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGVyZWYgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlcmVmID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9pZHRldGFibGUtJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9pZHRldGFibGUnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lX3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhlbGVtZW50XS5tYWNoaW5lZGVzaWduICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24uZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhlbGVtZW50XS5tYWNoaW5lZGVzaWduID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvbWFjaGluZWRlc2lnbicsIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvbWFjaGluZWRlc2lnbicsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeGVsZW1lbnRdLmh3ZWxlbWVudC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeGVsZW1lbnRdLmh3ZWxlbWVudC5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmh3ZWxlbWVudCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudC5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmh3ZWxlbWVudCA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvaHdlbGVtZW50LScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvaHdlbGVtZW50JywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhlbGVtZW50XS5mdW5jdGlvbmdyb3VwICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4ZWxlbWVudF0uZnVuY3Rpb25ncm91cC5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cC5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL2Z1bmN0aW9udGFibGUtJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9mdW5jdGlvbnRhYmxlJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZS5wYXJlbnQgPT0gY29uc3RhbnQuTWFjaGluZURlc2lnbmVfc3RyKSB7Ci8vICAgICAgICAgICAgICAgICBpZHhlbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeGVsZW1lbnRdLmNvbm5lY3Rvci5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeGVsZW1lbnRdLmNvbm5lY3Rvci5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmVuZHBvaW50ICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uY29uZGl0aW9uYWwubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbmRpdGlvbmFsLmZvckVhY2goY29uZGkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmRpLmNoYW5uZWwgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpLmNoYW5uZWwuZm9yRWFjaChjaGFubmVsID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwuZW5kcG9pbnQgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5lbmRwb2ludC5mb3JFYWNoKGVuZCA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZW5kcG9pbnQgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSArICcvJyArIGNvbmRpLm5hbWUgKyAnLycgKyBjaGFubmVsLm5hbWUgKyAnLycgKyBlbmQubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL2NjdGFibGUtJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9jY3RhYmxlJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbltpZHhlbGVtZW50XS5zZXJ2aWNlZGlzY292ZXIubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbltpZHhlbGVtZW50XS5zZXJ2aWNlZGlzY292ZXIuZm9yRWFjaCgoZGF0YSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5tc2lhICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uY29uZGl0aW9uYWwubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbmRpdGlvbmFsLmZvckVhY2goY29uZGkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmRpLmNoYW5uZWwgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpLmNoYW5uZWwuZm9yRWFjaChjaGFubmVsID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwuZW5kcG9pbnQgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5lbmRwb2ludC5mb3JFYWNoKGVuZCA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubXNpYSA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lICsgJy8nICsgY29uZGkubmFtZSArICcvJyArIGNoYW5uZWwubmFtZSArICcvJyArIGVuZC5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvc2RjdGFibGUtJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9zZGN0YWJsZScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3Rlci5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2lkeGVsZW1lbnRdLmNvbmRpdGlvbmFsLmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpZHhlbGVtZW50XS5jb25kaXRpb25hbC5mb3JFYWNoKChjb25kaSwgbikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZGkuY2hhbm5lbCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaS5jaGFubmVsLmZvckVhY2goKGNoYW5uZWwsIHYpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbC5jb21jb25uZWN0ICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jb21jb25uZWN0LmZvckVhY2goKGNvbm5lY3QsIGMpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0LmNvbm5lY3RvciAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY29ubmVjdG9yLmZvckVhY2goY29uID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0LmNvbm5lY3RvciA9PSAoZGF0YS5wYXRoICsgJy8nICsgZGF0YS5uYW1lICsgJy8nICsgY29uLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL2NvbWNvbmV0LScgKyBjICsgJy0nICsgdiArICctJyArIG4sIGVuZDogZGF0YS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4gPT0gMCAmJiB2ID09IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL2NvbWNvbmV0LScgKyBjaGFubmVsLm5hbWUgKyAnLScgKyBjb25kaS5uYW1lLCBkYXRhLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuID09IDAgJiYgdiAhPSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9jaGFubmVsJyArIGNvbmRpLm5hbWUsIGRhdGEudXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvY29uZGl0aW9uYWwnLCBkYXRhLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5Qcm9jZXNzdG9NYWNoaW5lTWFwcGluZ19zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmcuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBlbGUudXVpZCkKLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmdbaWR4ZWxlbWVudF0ucHRtbU1hY2hpbmUgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nW2lkeGVsZW1lbnRdLnB0bW1NYWNoaW5lID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvbWFjaGluZWZyb21wdG1tJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9tYWNoaW5lZnJvbXB0bW0nLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZ1tpZHhlbGVtZW50XS5wdG1tUHJvY2VzcyAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmdbaWR4ZWxlbWVudF0ucHRtbVByb2Nlc3MgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9wcm9jZXNzZnJvbXB0bW0nLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb2Nlc3Nmcm9tcHRtbScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5TV0NvbXBvbmVudHNfc3RyKSB7Ci8vICAgICAgICAgICAgICAgICBpZHhlbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBlbGUudXVpZCkKLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50c1tpZHhlbGVtZW50XS5wcG9ydC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHNbaWR4ZWxlbWVudF0ucHBvcnQuZm9yRWFjaCgoZGF0YSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5pbnRlcmZhY2UgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaW50ZXJmYWNlID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9wcG9ydHRhYmxlLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHBvcnR0YWJsZScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50c1tpZHhlbGVtZW50XS5ycG9ydC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHNbaWR4ZWxlbWVudF0ucnBvcnQuZm9yRWFjaCgoZGF0YSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5pbnRlcmZhY2UgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaW50ZXJmYWNlID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9ycG9ydHRhYmxlLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcnBvcnR0YWJsZScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50c1tpZHhlbGVtZW50XS5wcnBvcnQubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzW2lkeGVsZW1lbnRdLnBycG9ydC5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmludGVyZmFjZSAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5pbnRlcmZhY2UgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL3BycG9ydHRhYmxlLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHJwb3J0dGFibGUnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5Qcm9jZXNzX3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhlbGVtZW50XS5wcm9kZXNpZ24gIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbi5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeGVsZW1lbnRdLnByb2Rlc2lnbiA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL3Byb2Nlc3Nwcm9kZXNpZ24nLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb2Nlc3Nwcm9kZXNpZ24nLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhlbGVtZW50XS5kZXRlcm1pbiAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5EZXRlcm1pbmlzdGljQ2xpZW50LmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4ZWxlbWVudF0uZGV0ZXJtaW4gPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9wcm9jZXNzZGV0ZXJtaW4nLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb2Nlc3NkZXRlcm1pbicsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeGVsZW1lbnRdLmV4ZWN1dCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4ZWxlbWVudF0uZXhlY3V0ID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvcHJvY2Vzc2V4ZWN1dCcsIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHJvY2Vzc2V4ZWN1dCcsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeGVsZW1lbnRdLm1hY2hpbmV0eXBlICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4ZWxlbWVudF0ubWFjaGluZXR5cGUgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9wcm9jZXNzbW9kZWRlY2xhcicsIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHJvY2Vzc21vZGVkZWNsYXInLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeGVsZW1lbnRdLmRlcGVuZGVudC5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucmVzb3VyY2VSZWYgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUuZm9yRWFjaChtYWNoaW5lID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hY2hpbmUubW9kdWxlaW5zdGFudC5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlc291cmNlUmVmID09IChtYWNoaW5lLnBhdGggKyAnLycgKyBtYWNoaW5lLm5hbWUgKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9wcm9jZXNzcmVzb3JjZS0nICsgaSwgZW5kOiBtYWNoaW5lLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb2Nlc3NyZXNvcmNlJyArIGksIG1hY2hpbmUudXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9wcm9jZXNzU3RhcnVwQycsIG1hY2hpbmUudXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXJ0dXBDb25maWdSZWYgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlN0YXJ0dXBDb25maWcuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXJ0dXBDb25maWdSZWYgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvcHJvY2Vzc3N0YXJ0dXAtJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb2Nlc3NzdGFydHVwJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb2Nlc3NyZXNvcmNlJyArIGksIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHJvY2Vzc1N0YXJ1cEMnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5mdW5jdGlvbkl0ZW0gIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZ1bmN0aW9uSXRlbS5mb3JFYWNoKChmdW5jLCBmKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVuYy5jb250ZXh0TW9kZSAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZnVuY3Rpb25ncm91cC5mb3JFYWNoKGdyb3VwID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmdW5jLmNvbnRleHRNb2RlID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUgKyAnLycgKyBncm91cC5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9mZ2NvbnRleHQtJyArIGYgKyAnLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL2ZndGFibGUnICsgaSwgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9wcm9jZXNzU3RhcnVwQycsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmdW5jLnRhcmdldE1vZGUgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTW9kZURlY2xhcmF0aW9uR3JvdXAuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tb2RlZGVjbGFyYXRpb24uZm9yRWFjaChtb2RlID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmdW5jLnRhcmdldE1vZGUgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSArICcvJyArIG1vZGUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL2ZndGFyZ2V0LScgKyBmICsgJy0nICsgaSwgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9mZ3RhYmxlJyArIGksIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHJvY2Vzc1N0YXJ1cEMnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LlByb2Nlc3NEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgICAgICBpZHhlbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduW2lkeGVsZW1lbnRdLmV4ZWN1dGFibGVyZWYgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZS5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduW2lkeGVsZW1lbnRdLmV4ZWN1dGFibGVyZWYgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9wcm9kZXNpZ25leGVjdXRhYmxlJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9wcm9kZXNpZ25leGVjdXRhYmxlJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LkV4ZWN1dGFibGVfc3RyKSB7Ci8vICAgICAgICAgICAgICAgICBpZHhlbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlW2lkeGVsZW1lbnRdLmFwcGxpY2F0aW9udHlwZXJlZiAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHMuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZVtpZHhlbGVtZW50XS5hcHBsaWNhdGlvbnR5cGVyZWYgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9hcHBsaWNhdGlvbnR5cGVyZWYnLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL2FwcGxpY2F0aW9udHlwZXJlZicsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhlbGVtZW50XS5zZXJ2aWNlICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4ZWxlbWVudF0uc2VydmljZSA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL3NlcnZpY2UnLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3NlcnZpY2UnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4ZWxlbWVudF0uZmllbGRELmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50W2lkeGVsZW1lbnRdLmZpZWxkRC5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpZWxkICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZmllbGRzLmZvckVhY2goc2VydmljZSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpZWxkID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUgKyAnLycgKyBzZXJ2aWNlLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvZmllbGQtJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL2ZpZWxkdGFiJyArIGRhdGEubmFtZSwgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvZmllbGQnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhlbGVtZW50XS5ldmVudEcubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4ZWxlbWVudF0uZXZlbnRHLmZvckVhY2goKGV2ZSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlLmV2ZW50ICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZS5ldmVudC5mb3JFYWNoKChncm91cCwgZykgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncm91cC5ldmVudCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmV2ZW50RC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5ldmVudEQuZm9yRWFjaChkYXRhID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwLmV2ZW50ID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUgKyAnLycgKyBkYXRhLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvZXZlbnQtJyArIGcgKyAnLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9ldmVudHRhYicgKyBldmUubmFtZSwgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvZXZlbnQnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4ZWxlbWVudF0uZXZlbnRELmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50W2lkeGVsZW1lbnRdLmV2ZW50RC5mb3JFYWNoKChldmUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZS5ldmVudCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ldmVudHMubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmV2ZW50cy5mb3JFYWNoKGRhdGEgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZS5ldmVudCA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lICsgJy8nICsgZGF0YS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9zZXJ2aWNlRXZlbnRELScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9zZXJ2aWNlRXZlbnREJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4ZWxlbWVudF0ubWV0aG9kRC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhlbGVtZW50XS5tZXRob2RELmZvckVhY2goKG1ldGhvZCwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLm1ldGhvZCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5tZXRob2RzLmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tZXRob2RzLmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLm1ldGhvZCA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lICsgJy8nICsgZGF0YS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9zZXJ2aWNlTWV0aG9kRC0nICsgaSwgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvc2VydmljZU1ldGhvZEQnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhlbGVtZW50XS5ldmVudHMubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhlbGVtZW50XS5ldmVudHMuZm9yRWFjaCgoZXZlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmUudHlwZSAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZS5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmUudHlwZSA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvRXZlbnR0YWJsZS0nICsgaSwgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL0V2ZW50dGFibGUnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeGVsZW1lbnRdLmZpZWxkcy5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeGVsZW1lbnRdLmZpZWxkcy5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9GaWVsZHRhYmxlLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvRmllbGR0YWJsZScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4ZWxlbWVudF0ubWV0aG9kcy5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeGVsZW1lbnRdLm1ldGhvZHMuZm9yRWFjaCgoZGF0YSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5hcmd1bWVudCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmFyZ3VtZW50LmZvckVhY2goKGFyZywgYSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmcudHlwZSAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnLnR5cGUgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvYXJndGFibGUtJyArIGEgKyAnLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL2FyZ3RhYmxlJyArIGRhdGEubmFtZSwgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9tZXRob2RzJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmVycm9yU2V0ICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZXJyb3JTZXQuZm9yRWFjaCgoZXJyb3IsIGUpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IuZXJyb3IgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0LmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IuZXJyb3IgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvbWV0aG9kZXJyb3JzLScgKyBlICsgJy0nICsgaSwgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9tZXRob2RlcnJvcnMnICsgZGF0YS5uYW1lLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL21ldGhvZHMnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZXJyb3IgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5lcnJvci5mb3JFYWNoKChlcnIsIGUpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmVycm9yICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvci5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5lcnJvciA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9tZXRob2RlcnJvci0nICsgZSArICctJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvbWV0aG9kZXJyb3InICsgZGF0YS5uYW1lLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL21ldGhvZHMnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZS5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQVG9NYWNoaW5lTWFwcGluZ19zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lW2lkeGVsZW1lbnRdLmNjcmVmICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24uZm9yRWFjaChkYXRhID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jb25uZWN0b3IuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZVtpZHhlbGVtZW50XS5jY3JlZiA9PSBkYXRhLnBhdGggKyAnLycgKyBkYXRhLm5hbWUgKyAnLycgKyBpdGVtLm5hbWUpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvdG9tYWNoaW5DQycsIGVuZDogZGF0YS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3RvbWFjaGluQ0MnLCBkYXRhLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZVtpZHhlbGVtZW50XS5zaXJlZiAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5mb3JFYWNoKGRhdGEgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4ZWxlbWVudF0uc2lyZWYgPT0gZGF0YS5wYXRoICsgJy8nICsgZGF0YS5uYW1lKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvdG9tYWNoaW5TZXJ2aWNlSW5zJywgZW5kOiBkYXRhLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy90b21hY2hpblNlcnZpY2VJbnMnLCBkYXRhLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZS5wYXJlbnQgPT0gY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeGVsZW1lbnRdLnBvcnR0eXBlICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4ZWxlbWVudF0uc2VsZWN0UG9ydCA9PSAnUC1QT1JULVBST1RPVFlQRScpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucHBvcnQuZm9yRWFjaChkYXRhID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4ZWxlbWVudF0ucG9ydHR5cGUgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSArICcvJyArIGRhdGEubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL3RvcG9ydHBvcnQnLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvdG9wb3J0cG9ydCcsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeGVsZW1lbnRdLnNlbGVjdFBvcnQgPT0gJ1ItUE9SVC1QUk9UT1RZUEUnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJwb3J0LmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeGVsZW1lbnRdLnBvcnR0eXBlID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUgKyAnLycgKyBkYXRhLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy90b3BvcnRwb3J0JywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3RvcG9ydHBvcnQnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhlbGVtZW50XS5zZWxlY3RQb3J0ID09ICdQUi1QT1JULVBST1RPVFlQRScpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucHJwb3J0LmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeGVsZW1lbnRdLnBvcnR0eXBlID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUgKyAnLycgKyBkYXRhLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy90b3BvcnRwb3J0JywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3RvcG9ydHBvcnQnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4ZWxlbWVudF0ucHJvY2VzcyAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhlbGVtZW50XS5wcm9jZXNzID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvdG9wb3J0cHJvY2VzcycsIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvdG9wb3J0cHJvY2VzcycsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4ZWxlbWVudF0uc2VydmljZUlucyAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeGVsZW1lbnRdLnNlbGVjdFNlcnZpY2VJbnMgPT0gJ1BST1ZJREVELVNPTUVJUC1TRVJWSUNFLUlOU1RBTkNFJykgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4ZWxlbWVudF0uc2VydmljZUlucyA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy90b3BvcnRzZXJ2aWNlJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvdG9wb3J0c2VydmljZScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeGVsZW1lbnRdLnNlbGVjdFNlcnZpY2VJbnMgPT0gJ1JFUVVJUkVELVNPTUVJUC1TRVJWSUNFLUlOU1RBTkNFJykgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4ZWxlbWVudF0uc2VydmljZUlucyA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy90b3BvcnRzZXJ2aWNlJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvdG9wb3J0c2VydmljZScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUFtpZHhlbGVtZW50XS5kZXBsb3lyZWYgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4ZWxlbWVudF0uZGVwbG95cmVmID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvcmVxdWlyZWREZXBsb3knLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3JlcXVpcmVkRGVwbG95JywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeGVsZW1lbnRdLnNvbWVpcGNsaWVudCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRTZXJ2aWNlSW5zdGFuY2UuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4ZWxlbWVudF0uc29tZWlwY2xpZW50ID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvcmVxdWlyZWRTb21lSVBDJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9yZXF1aXJlZFNvbWVJUEMnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4ZWxlbWVudF0ubWV0aG9kLmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeGVsZW1lbnRdLm1ldGhvZC5mb3JFYWNoKChtZXRob2QsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZC5tZXRob2QgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm1ldGhvZEQubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm1ldGhvZEQuZm9yRWFjaChkYXRhID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QubWV0aG9kID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUgKyAnLycgKyBkYXRhLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL3JlcXVpcmVkTWV0aG9kLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9yZXF1aXJlZE1ldGhvZCcsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4ZWxlbWVudF0ucmVxdWlyZWRldmVudC5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZXZlbnRHICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5mb3JFYWNoKGV2ZSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmUuZXZlbnRHLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZXZlbnRHID09IChldmUucGF0aCArICcvJyArIGV2ZS5uYW1lICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvcmVxdWlyZWRFdmVudEctJyArIGksIGVuZDogZXZlLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3JlcXVpcmVkRXZlbnRHJyArIGRhdGEubmFtZSwgZXZlLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcmVxdWlyZWRFJywgZXZlLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jbGllbnQgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudEV2ZW50LmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jbGllbnQgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvcmVxdWlyZWRDbGllbnQtJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcmVxdWlyZWRDbGllbnQnICsgZGF0YS5uYW1lLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3JlcXVpcmVkRScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LlByb3ZpZGVkU29tZUlQX3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBlbGUudXVpZCkKLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeGVsZW1lbnRdLmRlcGxveXJlZiAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhlbGVtZW50XS5kZXBsb3lyZWYgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9wcm92aWREZXBsb3knLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb3ZpZERlcGxveScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhlbGVtZW50XS5zb21laXBzZXJ2ZXIgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmVyU2VydmljZUluc3RhbmNlLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeGVsZW1lbnRdLnNvbWVpcHNlcnZlciA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL3Byb3ZpZFNvbWVJUFMnLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb3ZpZFNvbWVJUFMnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVBbaWR4ZWxlbWVudF0uZXZlbnRQLmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeGVsZW1lbnRdLmV2ZW50UC5mb3JFYWNoKChldmVudHAsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50cC5ldmVudCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXZlbnRELmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5ldmVudEQuZm9yRWFjaChkYXRhID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudHAuZXZlbnQgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSArICcvJyArIGRhdGEubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvcHJvdmllZEV2ZW50UC0nICsgaSwgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHJvdmllZEV2ZW50UCcsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeGVsZW1lbnRdLm1ldGhvZCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhlbGVtZW50XS5tZXRob2QuZm9yRWFjaCgobWV0aG9kLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QubWV0aG9kICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5tZXRob2RELmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tZXRob2RELmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLm1ldGhvZCA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lICsgJy8nICsgZGF0YS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9wcm92aWVkTWV0aG9kLScgKyBpLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9wcm92aWVkTWV0aG9kJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhlbGVtZW50XS5ldmVudEcuZm9yRWFjaCgoZGF0YSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmV2ZW50RyAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZm9yRWFjaChldmUgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlLmV2ZW50Ry5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmV2ZW50RyA9PSAoZXZlLnBhdGggKyAnLycgKyBldmUubmFtZSArICcvJyArIGl0ZW0ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL3Byb3ZpZEV2ZW50Ry0nICsgaSwgZW5kOiBldmUudXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHJvdmlkRXZlbnRHJyArIGRhdGEubmFtZSwgZXZlLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvcHJvdmlkRScsIGV2ZS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc2VydmVyICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudC5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc2VydmVyID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL3Byb3ZpZFNlcnZlci0nICsgaSwgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9wcm92aWRTZXJ2ZXInICsgZGF0YS5uYW1lLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL3Byb3ZpZEUnLCBpdGVtLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5FcnJvcl9zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvcltpZHhlbGVtZW50XS5lcnJvckRyZWYgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JEb21haW4uZm9yRWFjaChkb21haW4gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvcltpZHhlbGVtZW50XS5lcnJvckRyZWYgPT0gKGRvbWFpbi5wYXRoICsgJy8nICsgZG9tYWluLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvZXJyb3Jkb21haW4nLCBlbmQ6IGRvbWFpbi51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvZXJyb3Jkb21haW4nLCBkb21haW4udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5FcnJvcnNldF9zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvclNldFtpZHhlbGVtZW50XS5lcnJvcnJlZi5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvclNldFtpZHhlbGVtZW50XS5lcnJvcnJlZi5mb3JFYWNoKChkYXRhLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmVycm9yICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3IuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5lcnJvciA9PSAoaXRlbS5wYXRoICsgJy8nICsgaXRlbS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvZXJyb3ItJyArIGksIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9lcnJvcicsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LlBvcnRQcm90b0ZpbGVBX3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5LmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXlbaWR4ZWxlbWVudF0uZmlsZUFycmF5ICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSRmlsZUFycmF5LmZvckVhY2goZGF0YSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheVtpZHhlbGVtZW50XS5maWxlQXJyYXkgPT0gKGRhdGEucGF0aCArICcvJyArIGRhdGEubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9QUFB0b0ZpbGVBcnJheScsIGVuZDogZGF0YS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvUFBQdG9GaWxlQXJyYXknLCBkYXRhLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5W2lkeGVsZW1lbnRdLnBvcnQgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnBycG9ydC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnBycG9ydC5mb3JFYWNoKGRhdGEgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheVtpZHhlbGVtZW50XS5wb3J0ID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUgKyAnLycgKyBkYXRhLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9QUFB0b0ZpbGVQUlBvcnQnLCBlbmQ6IGl0ZW0udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvUFBQdG9GaWxlUFJQb3J0JywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5W2lkeGVsZW1lbnRdLnByb2Nlc3MgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5mb3JFYWNoKHBybyA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheVtpZHhlbGVtZW50XS5wcm9jZXNzID09IChwcm8ucGF0aCArICcvJyArIHByby5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL1BQUHRvRmlsZVByb2Nlc3MnLCBlbmQ6IHByby51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvUFBQdG9GaWxlUHJvY2VzcycsIHByby51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LlBvcnRQcm90b0tleVZfc3RyKSB7Ci8vICAgICAgICAgICAgICAgICBpZHhlbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWVbaWR4ZWxlbWVudF0ua2V5VmFsdWUgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZUQuZm9yRWFjaChkYXRhID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWVbaWR4ZWxlbWVudF0ua2V5VmFsdWUgPT0gKGRhdGEucGF0aCArICcvJyArIGRhdGEubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9QUFB0b0tleVZhbHVlJywgZW5kOiBkYXRhLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9QUFB0b0tleVZhbHVlJywgZGF0YS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlW2lkeGVsZW1lbnRdLnBvcnQgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnBycG9ydC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnBycG9ydC5mb3JFYWNoKGRhdGEgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlW2lkeGVsZW1lbnRdLnBvcnQgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSArICcvJyArIGRhdGEubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL1BQUHRvS2V5UFJQb3J0JywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL1BQUHRvS2V5UFJQb3J0JywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWVbaWR4ZWxlbWVudF0ucHJvY2VzcyAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZvckVhY2gocHJvID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWVbaWR4ZWxlbWVudF0ucHJvY2VzcyA9PSAocHJvLnBhdGggKyAnLycgKyBwcm8ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9QUFB0b0tleVByb2Nlc3MnLCBlbmQ6IHByby51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvUFBQdG9LZXlQcm9jZXNzJywgcHJvLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZS5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRmllbGRHcmFudF9zdHIpIHsKLy8gICAgICAgICAgICAgICAgIGlkeGVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkRy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHW2lkeGVsZW1lbnRdLmZpZWxkRCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdELmZvckVhY2goZGVzaWduID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHW2lkeGVsZW1lbnRdLmZpZWxkRCA9PSAoZGVzaWduLnBhdGggKyAnLycgKyBkZXNpZ24ubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9GaWVsZEdEJywgZW5kOiBkZXNpZ24udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL0ZpZWxkR0QnLCBkZXNpZ24udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdbaWR4ZWxlbWVudF0ucHJvdmlkZSAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5mb3JFYWNoKHBybyA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR1tpZHhlbGVtZW50XS5wcm92aWRlID09IChwcm8ucGF0aCArICcvJyArIHByby5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL0ZHUHJvdmlkZScsIGVuZDogcHJvLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9GR1Byb3ZpZGUnLCBwcm8udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5Db21FdmVudEdyYW50X3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdbaWR4ZWxlbWVudF0uZXZlbnREICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R0QuZm9yRWFjaChkZXNpZ24gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdbaWR4ZWxlbWVudF0uZXZlbnREID09IChkZXNpZ24ucGF0aCArICcvJyArIGRlc2lnbi5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL0V2ZW50R0QnLCBlbmQ6IGRlc2lnbi51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvRXZlbnRHRCcsIGRlc2lnbi51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R1tpZHhlbGVtZW50XS5wcm92aWRlICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLmZvckVhY2gocHJvID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHW2lkeGVsZW1lbnRdLnByb3ZpZGUgPT0gKHByby5wYXRoICsgJy8nICsgcHJvLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0OiBlbGUudXVpZCArICcvRUdQcm92aWRlJywgZW5kOiBwcm8udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL0VHUHJvdmlkZScsIHByby51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LkNvbU1ldGhvZEdyYW50X3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kRy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR1tpZHhlbGVtZW50XS5tZXRob2REICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdELmZvckVhY2goZGVzaWduID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR1tpZHhlbGVtZW50XS5tZXRob2REID09IChkZXNpZ24ucGF0aCArICcvJyArIGRlc2lnbi5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL01ldGhvZEdEJywgZW5kOiBkZXNpZ24udXVpZCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL01ldGhvZEdEJywgZGVzaWduLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR1tpZHhlbGVtZW50XS5wcm92aWRlICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLmZvckVhY2gocHJvID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR1tpZHhlbGVtZW50XS5wcm92aWRlID09IChwcm8ucGF0aCArICcvJyArIHByby5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL01HUHJvdmlkZScsIGVuZDogcHJvLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9NR1Byb3ZpZGUnLCBwcm8udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlLnBhcmVudCA9PSBjb25zdGFudC5Db21GaWVsZEdEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgICAgICBpZHhlbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdELmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gZWxlLnV1aWQpCi8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdEW2lkeGVsZW1lbnRdLnByb2Nlc3NEICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NEZXNpZ24uZm9yRWFjaChwcm9jZSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0RbaWR4ZWxlbWVudF0ucHJvY2Vzc0QgPT0gKHByb2NlLnBhdGggKyAnLycgKyBwcm9jZS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL0ZHRHByb0QnLCBlbmQ6IHByb2NlLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9GR0Rwcm9EJywgcHJvY2UudXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdEW2lkeGVsZW1lbnRdLlNJRmllbGQgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5maWVsZHMubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5maWVsZHMuZm9yRWFjaChzZXJ2aWNlID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdEW2lkeGVsZW1lbnRdLlNJRmllbGQgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSArICcvJyArIHNlcnZpY2UubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL0ZHRHNlcnZpY2VJJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL0ZHRHNlcnZpY2VJJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZS5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX3N0cikgewovLyAgICAgICAgICAgICAgICAgaWR4ZWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHRC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHRFtpZHhlbGVtZW50XS5wcm9jZXNzRCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduLmZvckVhY2gocHJvY2UgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdEW2lkeGVsZW1lbnRdLnByb2Nlc3NEID09IChwcm9jZS5wYXRoICsgJy8nICsgcHJvY2UubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9FR0Rwcm9EJywgZW5kOiBwcm9jZS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWxpbmUnLCBlbGUudXVpZCArICcvRUdEcHJvRCcsIHByb2NlLnV1aWQpCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHRFtpZHhlbGVtZW50XS5TSUV2ZW50ICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXZlbnRzLmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZXZlbnRzLmZvckVhY2goc2VydmljZSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHRFtpZHhlbGVtZW50XS5TSUV2ZW50ID09IChpdGVtLnBhdGggKyAnLycgKyBpdGVtLm5hbWUgKyAnLycgKyBzZXJ2aWNlLm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnQ6IGVsZS51dWlkICsgJy9FR0RzZXJ2aWNlSScsIGVuZDogaXRlbS51dWlkIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9FR0RzZXJ2aWNlSScsIGl0ZW0udXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChlbGUucGFyZW50ID09IGNvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgICAgICBpZHhlbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGVsZS51dWlkKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0RbaWR4ZWxlbWVudF0ucHJvY2Vzc0QgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbi5mb3JFYWNoKHByb2NlID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0RbaWR4ZWxlbWVudF0ucHJvY2Vzc0QgPT0gKHByb2NlLnBhdGggKyAnLycgKyBwcm9jZS5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL01HRHByb0QnLCBlbmQ6IHByb2NlLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctbGluZScsIGVsZS51dWlkICsgJy9NR0Rwcm9EJywgcHJvY2UudXVpZCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRFtpZHhlbGVtZW50XS5TSU1ldGhvZCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm1ldGhvZHMubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tZXRob2RzLmZvckVhY2goc2VydmljZSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0RbaWR4ZWxlbWVudF0uU0lNZXRob2QgPT0gKGl0ZW0ucGF0aCArICcvJyArIGl0ZW0ubmFtZSArICcvJyArIHNlcnZpY2UubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldENvbm5lY3Rpb25saW5lJywgeyBzdGFydDogZWxlLnV1aWQgKyAnL01HRHNlcnZpY2VJJywgZW5kOiBpdGVtLnV1aWQgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1saW5lJywgZWxlLnV1aWQgKyAnL01HRHNlcnZpY2VJJywgaXRlbS51dWlkKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5pbnB1dEZpbGVMaXN0ID0gW10KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50Q29tcHVNZWh0b2Qoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIGNhdGVnb3J5OiBwYXlsb2FkLmNhdGVnb3J5LAovLyAgICAgICAgICAgICBzY2FsZXM6IHBheWxvYWQuc2NhbGVzLAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tcHVNZXRob2RfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdENvbXB1TWVodG9kKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbXB1TWV0aG9kX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZFtpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZFtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZFtpZHhFbGVtZW50XS50b3BbcGF5bG9hZC5sb2NhdGlvbl0gPSBwYXlsb2FkLnRvcAovLyAgICAgICAgICAgICAgICAgLy9zdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2RbaWR4RWxlbWVudF0ubGVmdFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQubGVmdAovLyAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2RbaWR4RWxlbWVudF0udG9wW3BheWxvYWQubG9jYXRpb25dICsgJyAvICcgKyBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2RbaWR4RWxlbWVudF0ubGVmdFtwYXlsb2FkLmxvY2F0aW9uXSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZFtpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50RGF0YUNvbnN0cihzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBsb3dlcmxpbWl0OiBwYXlsb2FkLmxvd2VybGltaXQsCi8vICAgICAgICAgICAgIHVwcGVybGltaXQ6IHBheWxvYWQudXBwZXJsaW1pdCwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGFDb25zdHJfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdERhdGFDb25zdHIoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRhQ29uc3RyX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkRhdGFDb25zdHJbaWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgICAgICAgICAgLy9zdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0cltpZHhFbGVtZW50XS50b3BbcGF5bG9hZC5sb2NhdGlvbl0gPSBwYXlsb2FkLnRvcAovLyAgICAgICAgICAgICAgICAgLy9zdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0cltpZHhFbGVtZW50XS5sZWZ0W3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC5sZWZ0Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0cltpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50QXBwbGljYXRpb25BcnJheShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGUucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIGNhdGVnb3J5OiBwYXlsb2FkLmNhdGVnb3J5LAovLyAgICAgICAgICAgICBkeW5hbWljQXJyeVNpemU6IHBheWxvYWQuZHluYW1pY0FycnlTaXplLAovLyAgICAgICAgICAgICBlbGVuYW1lOiBwYXlsb2FkLmVsZW5hbWUsCi8vICAgICAgICAgICAgIGVsZWhhbmRsaW5nOiBwYXlsb2FkLmVsZWhhbmRsaW5nLAovLyAgICAgICAgICAgICBlbGVzZW1hbnRpY3M6IHBheWxvYWQuZWxlc2VtYW50aWNzLAovLyAgICAgICAgICAgICBlbGVtYXhudW1iZXI6IHBheWxvYWQuZWxlbWF4bnVtYmVyLAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQXBwbGljYXRpb25BcnJheV9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0QXBwbGljYXRpb25BcnJheShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQXBwbGljYXRpb25BcnJheV9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQXBwbGljYXRpb25BcnJheURhdGFUeXBlW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZVtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGVbaWR4RWxlbWVudF0udG9wW3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC50b3AKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZVtpZHhFbGVtZW50XS5sZWZ0W3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC5sZWZ0Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQXBwbGljYXRpb25BcnJheURhdGFUeXBlW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRJbXBsZW1lbnRhdGlvbihzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIC8vY29uc29sZS5sb2coJyEhISBVVUlEICEhIScgKyBuZXdVVWlkKQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBjYXRlZ29yeTogcGF5bG9hZC5jYXRlZ29yeSwKLy8gICAgICAgICAgICAgbmFtZXNwYWNlOiBwYXlsb2FkLm5hbWVzcGFjZSwKLy8gICAgICAgICAgICAgYXJyYXlzaXplOiBwYXlsb2FkLmFycmF5c2l6ZSwKLy8gICAgICAgICAgICAgdHlwZWVtaXR0ZXI6IHBheWxvYWQudHlwZWVtaXR0ZXIsCi8vICAgICAgICAgICAgIHR5cGVyZWY6IHBheWxvYWQudHlwZXJlZiwKLy8gICAgICAgICAgICAgdGVtcGxhdGV0eXBlOiBwYXlsb2FkLnRlbXBsYXRldHlwZSwKLy8gICAgICAgICAgICAgZGVzYzogcGF5bG9hZC5kZXNjLAovLyAgICAgICAgICAgICBkZHBjOiBwYXlsb2FkLmRkcGMsCi8vICAgICAgICAgICAgIGlkdGVsZW1lbnQ6IHBheWxvYWQuaWR0ZWxlbWVudCwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkltcGxlbWVudGF0aW9uX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogbmV3VVVpZCwgbmFtZTogcGF5bG9hZC5uYW1lLCBpY29uOiBwYXlsb2FkLmljb24sIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWVsZW1lbnQnLCBuZXdVVWlkKQovLyAgICAgfSwKLy8gICAgIGVkaXRJbXBsZW1lbnRhdGlvbihzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkltcGxlbWVudGF0aW9uX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgICAgICAgICAgLy9zdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS50b3BbcGF5bG9hZC5sb2NhdGlvbl0gPSBwYXlsb2FkLnRvcAovLyAgICAgICAgICAgICAgICAgLy9zdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS5sZWZ0W3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC5sZWZ0Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50TWFjaGluZShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgbWFjaGluZWRlc2lnbjogcGF5bG9hZC5tYWNoaW5lZGVzaWduLAovLyAgICAgICAgICAgICB0aW1lb3V0OiBwYXlsb2FkLnRpbWVvdXQsCi8vICAgICAgICAgICAgIGh3ZWxlbWVudDogcGF5bG9hZC5od2VsZW1lbnQsCi8vICAgICAgICAgICAgIGV4ZWN1dGFibGU6IHBheWxvYWQuZXhlY3V0YWJsZSwKLy8gICAgICAgICAgICAgYWRtaW46IHBheWxvYWQuYWRtaW4sCi8vICAgICAgICAgICAgIGZ1bmN0aW9uZ3JvdXA6IHBheWxvYWQuZnVuY3Rpb25ncm91cCwKLy8gICAgICAgICAgICAgcHJvY2Vzc29yOiBwYXlsb2FkLnByb2Nlc3NvciwKLy8gICAgICAgICAgICAgbW9kdWxlaW5zdGFudDogcGF5bG9hZC5tb2R1bGVpbnN0YW50LAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0TWFjaGluZShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVtZW50XS50b3BbcGF5bG9hZC5sb2NhdGlvbl0gPSBwYXlsb2FkLnRvcAovLyAgICAgICAgICAgICAgICAgLy9zdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4RWxlbWVudF0ubGVmdFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQubGVmdAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRIV0VsZW1lbnQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudC5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgY2F0ZWdvcnk6IHBheWxvYWQuY2F0ZWdvcnksCi8vICAgICAgICAgICAgIGF0dHJpYnV0ZTogcGF5bG9hZC5hdHRyaWJ1dGUsCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5IV0VsZW1lbnRfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdEhXRWxlbWVudChzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkhXRWxlbWVudF9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudFtpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50W2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnRbaWR4RWxlbWVudF0udG9wW3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC50b3AKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnRbaWR4RWxlbWVudF0ubGVmdFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQubGVmdAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnRbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudE1hY2hpbmVEZXNpZ24oc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24ucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIGFjY2VzczogcGF5bG9hZC5hY2Nlc3MsCi8vICAgICAgICAgICAgIHJlc2V0dGltZXI6IHBheWxvYWQucmVzZXR0aW1lciwKLy8gICAgICAgICAgICAgY29ubmVjdG9yOiBwYXlsb2FkLmNvbm5lY3RvciwKLy8gICAgICAgICAgICAgc2VydmljZWRpc2NvdmVyOiBwYXlsb2FkLnNlcnZpY2VkaXNjb3ZlcgovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdE1hY2hpbmVEZXNpZ24oc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbi5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeEVsZW1lbnRdLnRvcFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQudG9wCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbltpZHhFbGVtZW50XS5sZWZ0W3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC5sZWZ0Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ25baWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudE1vZGVEZWNsYXJhdGlvbkdyb3VwKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cC5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgbW9kZWRlY2xhcmF0aW9uOiBwYXlsb2FkLm1vZGVkZWNsYXJhdGlvbiwKLy8gICAgICAgICAgICAgaW5pdG1vZGU6IHBheWxvYWQuaW5pdG1vZGUsCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Nb2RlRGVjbGFyYXRpb25Hcm91cF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0TW9kZURlY2xhcmF0aW9uR3JvdXAoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTW9kZURlY2xhcmF0aW9uR3JvdXAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTW9kZURlY2xhcmF0aW9uR3JvdXBbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cFtpZHhFbGVtZW50XS50b3BbcGF5bG9hZC5sb2NhdGlvbl0gPSBwYXlsb2FkLnRvcAovLyAgICAgICAgICAgICAgICAgLy9zdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwW2lkeEVsZW1lbnRdLmxlZnRbcGF5bG9hZC5sb2NhdGlvbl0gPSBwYXlsb2FkLmxlZnQKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTW9kZURlY2xhcmF0aW9uR3JvdXBbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudEV0aGVybmV0Q2x1c3RlcihzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBjb25kaXRpb25hbDogcGF5bG9hZC5jb25kaXRpb25hbCwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0RXRoZXJuZXRDbHVzdGVyKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgLy9jb25zb2xlLmxvZygnZWRpdEV0aGVybmV0Q2x1c3RlcicgKyBwYXlsb2FkLnV1aWQgKyAnLy8vJyArIHBheWxvYWQuemluZGV4KQovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXIuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlbWVudF0udG9wW3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC50b3AKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlbWVudF0ubGVmdFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQubGVmdAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFByb3RvTWFjaGluZU1hcHBpbmcoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmcucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIHB0bW1uYW1lOiBwYXlsb2FkLnB0bW1uYW1lLAovLyAgICAgICAgICAgICBwdG1tTWFjaGluZTogcGF5bG9hZC5wdG1tTWFjaGluZSwKLy8gICAgICAgICAgICAgcHRtbVByb2Nlc3M6IHBheWxvYWQucHRtbVByb2Nlc3MsCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogbmV3VVVpZCwgbmFtZTogcGF5bG9hZC5uYW1lLCBpY29uOiBwYXlsb2FkLmljb24sIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWVsZW1lbnQnLCBuZXdVVWlkKQovLyAgICAgfSwKLy8gICAgIGVkaXRQcm90b01hY2hpbmVNYXBwaW5nKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc3RvTWFjaGluZU1hcHBpbmdfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nW2lkeEVsZW1lbnRdLnRvcFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQudG9wCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZ1tpZHhFbGVtZW50XS5sZWZ0W3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC5sZWZ0Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmdbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFNXQ29tcG9uZW50cyhzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBwcG9ydDogcGF5bG9hZC5wcG9ydCwKLy8gICAgICAgICAgICAgcnBvcnQ6IHBheWxvYWQucnBvcnQsCi8vICAgICAgICAgICAgIHBycG9ydDogcGF5bG9hZC5wcnBvcnQsCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNXQ29tcG9uZW50c19pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0U1dDb21wb25lbnRzKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TV0NvbXBvbmVudHNfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHNbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50c1tpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzW2lkeEVsZW1lbnRdLnRvcFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQudG9wCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzW2lkeEVsZW1lbnRdLmxlZnRbcGF5bG9hZC5sb2NhdGlvbl0gPSBwYXlsb2FkLmxlZnQKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRQcm9jZXNzKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBwcm9kZXNpZ246IHBheWxvYWQucHJvZGVzaWduLAovLyAgICAgICAgICAgICBkZXRlcm1pbjogcGF5bG9hZC5kZXRlcm1pbiwKLy8gICAgICAgICAgICAgZXhlY3V0OiBwYXlsb2FkLmV4ZWN1dCwKLy8gICAgICAgICAgICAgbWFjaGlubmFtZTogcGF5bG9hZC5tYWNoaW5uYW1lLAovLyAgICAgICAgICAgICBtYWNoaW5ldHlwZTogcGF5bG9hZC5tYWNoaW5ldHlwZSwKLy8gICAgICAgICAgICAgZGVwZW5kZW50OiBwYXlsb2FkLmRlcGVuZGVudCwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc19pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0UHJvY2VzcyhzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeEVsZW1lbnRdLnRvcFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQudG9wCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5sZWZ0W3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC5sZWZ0Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFByb2Nlc3NEZXNpZ24oc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NEZXNpZ24ucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIGV4ZWN1dGFibGVyZWY6IHBheWxvYWQuZXhlY3V0YWJsZXJlZiwKLy8gICAgICAgICAgICAgZGV0ZXJtaW46IHBheWxvYWQuZGV0ZXJtaW4KLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0UHJvY2Vzc0Rlc2lnbihzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NEZXNpZ25faW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICAgICAgICAgIC8vc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduW2lkeEVsZW1lbnRdLnRvcFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQudG9wCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbltpZHhFbGVtZW50XS5sZWZ0W3BheWxvYWQubG9jYXRpb25dID0gcGF5bG9hZC5sZWZ0Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NEZXNpZ25baWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudEV4ZWN1dGFibGUoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkV4ZWN1dGFibGUucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIHZlcnNpb246IHBheWxvYWQudmVyc2lvbiwKLy8gICAgICAgICAgICAgY2F0ZWdvcnk6IHBheWxvYWQuY2F0ZWdvcnksCi8vICAgICAgICAgICAgIGJ1aWxkVHlwZTogcGF5bG9hZC5idWlsZFR5cGUsCi8vICAgICAgICAgICAgIGxvZ2dpbmdCZWhhYmlvcjogcGF5bG9hZC5sb2dnaW5nQmVoYWJpb3IsCi8vICAgICAgICAgICAgIHJlcG9ydGluZ0JlaGFiaW9yOiBwYXlsb2FkLnJlcG9ydGluZ0JlaGFiaW9yLAovLyAgICAgICAgICAgICBzd25hbWU6IHBheWxvYWQuc3duYW1lLAovLyAgICAgICAgICAgICBhcHBsaWNhdGlvbnR5cGVyZWY6IHBheWxvYWQuYXBwbGljYXRpb250eXBlcmVmCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkV4ZWN1dGFibGVfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdEV4ZWN1dGFibGUoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FeGVjdXRhYmxlX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZVtpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZVtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgICAgICAgICAvL3N0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZVtpZHhFbGVtZW50XS50b3BbcGF5bG9hZC5sb2NhdGlvbl0gPSBwYXlsb2FkLnRvcAovLyAgICAgICAgICAgICAgICAgLy9zdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkV4ZWN1dGFibGVbaWR4RWxlbWVudF0ubGVmdFtwYXlsb2FkLmxvY2F0aW9uXSA9IHBheWxvYWQubGVmdAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRTdGFydHVwQ29uZmlnKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TdGFydHVwQ29uZmlnLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBjb25maWduYW1lOiBwYXlsb2FkLmNvbmZpZ25hbWUsCi8vICAgICAgICAgICAgIHBvbGljeTogcGF5bG9hZC5wb2xpY3ksCi8vICAgICAgICAgICAgIHByaW9yaXR5OiBwYXlsb2FkLnByaW9yaXR5LAovLyAgICAgICAgICAgICBlbnRlcnRpbWVvdXQ6IHBheWxvYWQuZW50ZXJ0aW1lb3V0LAovLyAgICAgICAgICAgICBleGl0dGltZW91dDogcGF5bG9hZC5leGl0dGltZW91dCwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU3RhcnR1cENvbmZpZ19pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0U3RhcnR1cENvbmZpZyhzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TdGFydHVwQ29uZmlnLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlN0YXJ0dXBDb25maWdfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TdGFydHVwQ29uZmlnW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TdGFydHVwQ29uZmlnW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU3RhcnR1cENvbmZpZ1tpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50RGV0ZXJtaW5pc3RpY0NsaWVuKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5EZXRlcm1pbmlzdGljQ2xpZW50LnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBjeWNsZXRpZW06IHBheWxvYWQuY3ljbGV0aWVtLAovLyAgICAgICAgICAgICBudW1vZndvcmtlcnM6IHBheWxvYWQubnVtb2Z3b3JrZXJzLAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogbmV3VVVpZCwgbmFtZTogcGF5bG9hZC5uYW1lLCBpY29uOiBwYXlsb2FkLmljb24sIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWVsZW1lbnQnLCBuZXdVVWlkKQovLyAgICAgfSwKLy8gICAgIGVkaXREZXRlcm1pbmlzdGljQ2xpZW4oc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRGV0ZXJtaW5pc3RpY0NsaWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRGV0ZXJtaW5pc3RpY0NsaWVudFtpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRGV0ZXJtaW5pc3RpY0NsaWVudFtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkRldGVybWluaXN0aWNDbGllbnRbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFNvbWVJUFNlcnZpY2Uoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBzZXJ2aWNlOiBwYXlsb2FkLnNlcnZpY2UsCi8vICAgICAgICAgICAgIG1hanZlcnNpb246IHBheWxvYWQubWFqdmVyc2lvbiwKLy8gICAgICAgICAgICAgbWludmVyc2lvbjogcGF5bG9hZC5taW52ZXJzaW9uLAovLyAgICAgICAgICAgICBpZDogcGF5bG9hZC5pZCwKLy8gICAgICAgICAgICAgZXZlbnRHOiBwYXlsb2FkLmV2ZW50RywKLy8gICAgICAgICAgICAgZXZlbnREOiBwYXlsb2FkLmV2ZW50RCwKLy8gICAgICAgICAgICAgbWV0aG9kRDogcGF5bG9hZC5tZXRob2RELAovLyAgICAgICAgICAgICBmaWVsZEQ6IHBheWxvYWQuZmllbGRELAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdFNvbWVJUFNlcnZpY2Uoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50W2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFNlcnZpY2Uoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIG1hanZlcnNpb246IHBheWxvYWQudmVyc2lvbk1haiwKLy8gICAgICAgICAgICAgbWludmVyc2lvbjogcGF5bG9hZC52ZXJzaW9uTWluLAovLyAgICAgICAgICAgICBuYW1lc3BhY2U6IHBheWxvYWQubmFtZXNwYWNlLAovLyAgICAgICAgICAgICBpc3NlcnZpY2U6IHBheWxvYWQuaXNzZXJ2aWNlLAovLyAgICAgICAgICAgICBldmVudHM6IHBheWxvYWQuZXZlbnRzLAovLyAgICAgICAgICAgICBmaWVsZHM6IHBheWxvYWQuZmllbGRzLAovLyAgICAgICAgICAgICBtZXRob2RzOiBwYXlsb2FkLm1ldGhvZHMKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdFNlcnZpY2VJbnRlcmZhY2Uoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRDbGllbnQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudEV2ZW50LnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICByZXRyeWRlbGF5OiBwYXlsb2FkLmRlbGF5LAovLyAgICAgICAgICAgICByZXRyeW1heDogcGF5bG9hZC5tYXgsCi8vICAgICAgICAgICAgIHRpbWV0b2xpdmU6IHBheWxvYWQudGltZXRvbGl2ZSwKLy8gICAgICAgICAgICAgZGVsYXltYXg6IHBheWxvYWQuZGVsYXltYXgsCi8vICAgICAgICAgICAgIGRlbGF5bWluOiBwYXlsb2FkLmRlbGF5bWluLAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBFdmVudHNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNsaWVudF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0Q2xpZW50KHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudEV2ZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUEV2ZW50c19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ2xpZW50X2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50RXZlbnRbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudEV2ZW50W2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50RXZlbnRbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFNlcnZlcihzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmVyRXZlbnQucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIGRlbGF5bWF4OiBwYXlsb2FkLmRlbGF5bWF4LAovLyAgICAgICAgICAgICBkZWxheW1pbjogcGF5bG9hZC5kZWxheW1pbiwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQRXZlbnRzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2ZXJfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdFNlcnZlcihzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBFdmVudHNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZlcl9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlckV2ZW50W2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudFtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlckV2ZW50W2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRTb21lSVBDbGllbnQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZS5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgZmluZHRpbWU6IHBheWxvYWQuZmluZHRpbWUsCi8vICAgICAgICAgICAgIGluaWRlbGF5bWF4OiBwYXlsb2FkLmluaWRlbGF5bWF4LAovLyAgICAgICAgICAgICBpbmlkZWxheW1pbjogcGF5bG9hZC5pbmlkZWxheW1pbiwKLy8gICAgICAgICAgICAgaW5pYmFzZWRlbGF5OiBwYXlsb2FkLmluaWJhc2VkZWxheSwKLy8gICAgICAgICAgICAgaW5pcmVwZXRpbWF4OiBwYXlsb2FkLmluaXJlcGV0aW1heCwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQQ2xpZW50X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogbmV3VVVpZCwgbmFtZTogcGF5bG9hZC5uYW1lLCBpY29uOiBwYXlsb2FkLmljb24sIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWVsZW1lbnQnLCBuZXdVVWlkKQovLyAgICAgfSwKLy8gICAgIGVkaXRTb21lSVBDbGllbnQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50U2VydmljZUluc3RhbmNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUENsaWVudF9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZVtpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50U2VydmljZUluc3RhbmNlW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50U2VydmljZUluc3RhbmNlW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRTb21lSVBTZXJ2ZXIoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlclNlcnZpY2VJbnN0YW5jZS5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgaW5pZGVsYXltYXg6IHBheWxvYWQuaW5pZGVsYXltYXgsCi8vICAgICAgICAgICAgIGluaWRlbGF5bWluOiBwYXlsb2FkLmluaWRlbGF5bWluLAovLyAgICAgICAgICAgICBpbmliYXNlZGVsYXk6IHBheWxvYWQuaW5pYmFzZWRlbGF5LAovLyAgICAgICAgICAgICBpbmlyZXBldGltYXg6IHBheWxvYWQuaW5pcmVwZXRpbWF4LAovLyAgICAgICAgICAgICBkZWxheW1heDogcGF5bG9hZC5kZWxheW1heCwKLy8gICAgICAgICAgICAgZGVsYXltaW46IHBheWxvYWQuZGVsYXltaW4sCi8vICAgICAgICAgICAgIG9mZmVyOiBwYXlsb2FkLm9mZmVyLAovLyAgICAgICAgICAgICB0aW1ldG9saXZlOiBwYXlsb2FkLnRpZW10b2xpdmUsCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZlcl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0U29tZUlQU2VydmVyKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlclNlcnZpY2VJbnN0YW5jZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2ZXJfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJTZXJ2aWNlSW5zdGFuY2VbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlclNlcnZpY2VJbnN0YW5jZVtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlclNlcnZpY2VJbnN0YW5jZVtpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50U29tZUlQdG9NYWNoaW5lKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmUucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIGNjcmVmOiBwYXlsb2FkLmNjcmVmLAovLyAgICAgICAgICAgICB1ZHA6IHBheWxvYWQudWRwLAovLyAgICAgICAgICAgICB0Y3A6IHBheWxvYWQudGNwLAovLyAgICAgICAgICAgICBzaXJlZjogcGF5bG9hZC5zaXJlZiwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQVG9NYWNoaW5lTWFwcGluZ19pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0U29tZUlQdG9NYWNoaW5lKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFRvUG9ydFByb3RvdHlwZShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBzZWxlY3RQb3J0OiBwYXlsb2FkLnNlbGVjdFBvcnQsCi8vICAgICAgICAgICAgIHBvcnR0eXBlOiBwYXlsb2FkLnBvcnR0eXBlLAovLyAgICAgICAgICAgICBwcm9jZXNzOiBwYXlsb2FkLnByb2Nlc3MsCi8vICAgICAgICAgICAgIHNlbGVjdFNlcnZpY2VJbnM6IHBheWxvYWQuc2VsZWN0U2VydmljZUlucywKLy8gICAgICAgICAgICAgc2VydmljZUluczogcGF5bG9hZC5zZXJ2aWNlSW5zLAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogbmV3VVVpZCwgbmFtZTogcGF5bG9hZC5uYW1lLCBpY29uOiBwYXlsb2FkLmljb24sIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWVsZW1lbnQnLCBuZXdVVWlkKQovLyAgICAgfSwKLy8gICAgIGVkaXRUb1BvcnRQcm90b3R5cGUoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlRvUG9ydFByb3RvdHlwZU1hcHBpbmdfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50UmVxdWlyZWRTb21lSVAoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBkZXBsb3lyZWY6IHBheWxvYWQuZGVwbG95cmVmLAovLyAgICAgICAgICAgICBtaW5vcnZlcjogcGF5bG9hZC5taW5vdmVyLAovLyAgICAgICAgICAgICBzZXJ2aWNlSW5zaWQ6IHBheWxvYWQuaWQsCi8vICAgICAgICAgICAgIHNvbWVpcGNsaWVudDogcGF5bG9hZC5jbGllbnRyZWYsCi8vICAgICAgICAgICAgIHZlcnNpb246IHBheWxvYWQudmVyLAovLyAgICAgICAgICAgICBtZXRob2Q6IHBheWxvYWQubWV0aG9kLAovLyAgICAgICAgICAgICByZXF1aXJlZGV2ZW50OiBwYXlsb2FkLnJlcXVpcmVkZXZlbnQKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUmVxdWlyZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdFJlcXVpcmVkU29tZUlQKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlJlcXVpcmVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFByb3ZpZGVkU29tZUlQKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgZGVwbG95cmVmOiBwYXlsb2FkLmRlcGxveXJlZiwKLy8gICAgICAgICAgICAgc29tZWlwc2VydmVyOiBwYXlsb2FkLnNvbWVpcHMsCi8vICAgICAgICAgICAgIGluc3RhbmNlaWQ6IHBheWxvYWQuaWQsCi8vICAgICAgICAgICAgIGV2ZW50UDogcGF5bG9hZC5ldmVudFAsCi8vICAgICAgICAgICAgIG1ldGhvZDogcGF5bG9hZC5tZXRob2QsCi8vICAgICAgICAgICAgIGV2ZW50RzogcGF5bG9hZC5ldmVudEcKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdFByb3ZpZGVkU29tZUlQKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVBbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVBbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudEVycm9yKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvci5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgZGVzYzogcGF5bG9hZC5kZXNjLAovLyAgICAgICAgICAgICBlcnJvcmNvZGU6IHBheWxvYWQuZXJyb3Jjb2RlLAovLyAgICAgICAgICAgICBlcnJvckRyZWY6IHBheWxvYWQuZXJyb3JEcmVmCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdEVycm9yKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvcltpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JbaWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvcltpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50RXJyb3JTZXQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0LnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBlcnJvcnJlZjogcGF5bG9hZC5lcnJvcnJlZgovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FcnJvcnNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc2V0X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogbmV3VVVpZCwgbmFtZTogcGF5bG9hZC5uYW1lLCBpY29uOiBwYXlsb2FkLmljb24sIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWVsZW1lbnQnLCBuZXdVVWlkKQovLyAgICAgfSwKLy8gICAgIGVkaXRFcnJvclNldChzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvclNldC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FcnJvcnNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc2V0X2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JTZXRbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0W2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JTZXRbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudEVycm9yRG9tYWluKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvckRvbWFpbi5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgbmFtZXNwYWNlOiBwYXlsb2FkLm5hbWVzcGFjZSwKLy8gICAgICAgICAgICAgdmFsdWU6IHBheWxvYWQudmFsdWUsCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JEb21haW5faW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdEVycm9yRG9tYWluKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yRG9tYWluLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JEb21haW5faW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvckRvbWFpbltpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JEb21haW5baWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvckRvbWFpbltpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KLy8gICAgIGFkZEVsZW1lbnRQRVJGaWxlQXJyYXkoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSRmlsZUFycmF5LnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5GaWxlQXJyYXlfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdFBFUkZpbGVBcnJheUQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRmlsZUFycmF5X2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXlbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSRmlsZUFycmF5W2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXlbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFBFUktleVZhbHVlRChzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZUQucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LktleVZhbHVlRGF0YV9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0UEVSUFBLZXlWYWx1ZUQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZUQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuS2V5VmFsdWVEYXRhX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZURbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSS2V5VmFsdWVEW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZURbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFBFUlBQdG9GaWxlQXJyYXkoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheS5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgZmlsZUFycmF5OiBwYXlsb2FkLmZpbGVBcnJheSwKLy8gICAgICAgICAgICAgcG9ydDogcGF5bG9hZC5wb3J0LAovLyAgICAgICAgICAgICBwcm9jZXNzOiBwYXlsb2FkLnByb2Nlc3MKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdFBFUlBQdG9GaWxlQXJyYXkoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBvcnRQcm90b0ZpbGVBX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5W2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXlbaWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXlbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXgKLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgYWRkRWxlbWVudFBFUlBQdG9LZXlWYWx1ZShzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWUucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIGtleVZhbHVlOiBwYXlsb2FkLmtleVZhbHVlLAovLyAgICAgICAgICAgICBwb3J0OiBwYXlsb2FkLnBvcnQsCi8vICAgICAgICAgICAgIHByb2Nlc3M6IHBheWxvYWQucHJvY2VzcwovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9LZXlWX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogbmV3VVVpZCwgbmFtZTogcGF5bG9hZC5uYW1lLCBpY29uOiBwYXlsb2FkLmljb24sIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWVsZW1lbnQnLCBuZXdVVWlkKQovLyAgICAgfSwKLy8gICAgIGVkaXRQRVJQUHRvS2V5VmFsdWUoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZVtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRNZXRob2RHRChzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0QucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIHByb2Nlc3NEOiBwYXlsb2FkLnByb2Nlc3NELAovLyAgICAgICAgICAgICBTSU1ldGhvZDogcGF5bG9hZC5TSU1ldGhvZCwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tTWV0aG9kR0Rlc2lnbl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0TWV0aG9kR0Qoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tTWV0aG9kR0Rlc2lnbl9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdEW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRFtpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdEW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRFdmVudEdEKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdELnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBwcm9jZXNzRDogcGF5bG9hZC5wcm9jZXNzRCwKLy8gICAgICAgICAgICAgU0lFdmVudDogcGF5bG9hZC5TSUV2ZW50LAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21FdmVudEdEZXNpZ25faW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdEV2ZW50R0Qoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHRC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21FdmVudEdEZXNpZ25faW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdEW2lkeEVsZW1lbnRdLnRvcCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC50b3ApCi8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdEW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHRFtpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50RmllbGRHRChzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBuZXdVVWlkCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSB1dWlkLnYxKCkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gcGF5bG9hZC51dWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHRC5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgcHJvY2Vzc0Q6IHBheWxvYWQucHJvY2Vzc0QsCi8vICAgICAgICAgICAgIFNJRmllbGQ6IHBheWxvYWQuU0lGaWVsZCwKLy8gICAgICAgICAgICAgcm9sZTogcGF5bG9hZC5yb2xlCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUZpZWxkR0Rlc2lnbl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7IHV1aWQ6IG5ld1VVaWQsIG5hbWU6IHBheWxvYWQubmFtZSwgaWNvbjogcGF5bG9hZC5pY29uLCB2YWxpZGF0aW9uOiBmYWxzZSwgfSkKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ25ldy1lbGVtZW50JywgbmV3VVVpZCkKLy8gICAgIH0sCi8vICAgICBlZGl0RmllbGRHRChzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUZpZWxkR0Rlc2lnbl9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0RbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0RbaWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdEW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRNZXRob2RHKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHLnB1c2goewovLyAgICAgICAgICAgICB1dWlkOiBuZXdVVWlkLAovLyAgICAgICAgICAgICBwYXRoOiBwYXlsb2FkLnBhdGgsCi8vICAgICAgICAgICAgIHRvcDogcGF5bG9hZC50b3AsCi8vICAgICAgICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKLy8gICAgICAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKLy8gICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAovLyAgICAgICAgICAgICBtZXRob2REOiBwYXlsb2FkLm1ldGhvZEQsCi8vICAgICAgICAgICAgIHByb3ZpZGU6IHBheWxvYWQucHJvdmlkZSwKLy8gICAgICAgICB9KQovLyAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tTWV0aG9kR3JhbnRfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdE1ldGhvZEcoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kRy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21NZXRob2RHcmFudF9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdbaWR4RWxlbWVudF0ubGVmdCwgcGF5bG9hZC5sb2NhdGlvbiwgcGF5bG9hZC5sZWZ0KQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGFkZEVsZW1lbnRFdmVudEcoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgbmV3VVVpZAovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBuZXdVVWlkID0gdXVpZC52MSgpCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHBheWxvYWQudXVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50Ry5wdXNoKHsKLy8gICAgICAgICAgICAgdXVpZDogbmV3VVVpZCwKLy8gICAgICAgICAgICAgcGF0aDogcGF5bG9hZC5wYXRoLAovLyAgICAgICAgICAgICB0b3A6IHBheWxvYWQudG9wLAovLyAgICAgICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCi8vICAgICAgICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCi8vICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKLy8gICAgICAgICAgICAgZXZlbnREOiBwYXlsb2FkLmV2ZW50RCwKLy8gICAgICAgICAgICAgcHJvdmlkZTogcGF5bG9hZC5wcm92aWRlLAovLyAgICAgICAgIH0pCi8vICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21FdmVudEdyYW50X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsgdXVpZDogbmV3VVVpZCwgbmFtZTogcGF5bG9hZC5uYW1lLCBpY29uOiBwYXlsb2FkLmljb24sIHZhbGlkYXRpb246IGZhbHNlLCB9KQovLyAgICAgICAgIGlmICghcGF5bG9hZC5pbnB1dCkgewovLyAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZAovLyAgICAgICAgIH0KLy8gICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbmV3LWVsZW1lbnQnLCBuZXdVVWlkKQovLyAgICAgfSwKLy8gICAgIGVkaXRFdmVudEcoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUV2ZW50R3JhbnRfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7Ci8vICAgICAgICAgICAgIFZ1ZS5zZXQoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdbaWR4RWxlbWVudF0udG9wLCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLnRvcCkKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R1tpZHhFbGVtZW50XS5sZWZ0LCBwYXlsb2FkLmxvY2F0aW9uLCBwYXlsb2FkLmxlZnQpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R1tpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleAovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBhZGRFbGVtZW50RmllbGRHKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIG5ld1VVaWQKLy8gICAgICAgICBpZiAoIXBheWxvYWQuaW5wdXQpIHsKLy8gICAgICAgICAgICAgbmV3VVVpZCA9IHV1aWQudjEoKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIG5ld1VVaWQgPSBwYXlsb2FkLnV1aWQKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEcucHVzaCh7Ci8vICAgICAgICAgICAgIHV1aWQ6IG5ld1VVaWQsCi8vICAgICAgICAgICAgIHBhdGg6IHBheWxvYWQucGF0aCwKLy8gICAgICAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKLy8gICAgICAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAovLyAgICAgICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAovLyAgICAgICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCi8vICAgICAgICAgICAgIGZpZWxkRDogcGF5bG9hZC5maWVsZEQsCi8vICAgICAgICAgICAgIHByb3ZpZGU6IHBheWxvYWQucHJvdmlkZSwKLy8gICAgICAgICAgICAgcm9sZTogcGF5bG9hZC5yb2xlCi8vICAgICAgICAgfSkKLy8gICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUZpZWxkR3JhbnRfaW5kZXhdLmNoaWxkcmVuLnB1c2goeyB1dWlkOiBuZXdVVWlkLCBuYW1lOiBwYXlsb2FkLm5hbWUsIGljb246IHBheWxvYWQuaWNvbiwgdmFsaWRhdGlvbjogZmFsc2UsIH0pCi8vICAgICAgICAgaWYgKCFwYXlsb2FkLmlucHV0KSB7Ci8vICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkCi8vICAgICAgICAgfQovLyAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCduZXctZWxlbWVudCcsIG5ld1VVaWQpCi8vICAgICB9LAovLyAgICAgZWRpdEZpZWxkRyhzdGF0ZSwgcGF5bG9hZCkgewovLyAgICAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHcmFudF9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKLy8gICAgICAgICAgICAgVnVlLnNldChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR1tpZHhFbGVtZW50XS50b3AsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQudG9wKQovLyAgICAgICAgICAgICBWdWUuc2V0KHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHW2lkeEVsZW1lbnRdLmxlZnQsIHBheWxvYWQubG9jYXRpb24sIHBheWxvYWQubGVmdCkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7Ci8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIHJlbmFtZUVsZW1lbnQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlLCBlbGUsIGVkaXRtZXRob2QKLy8gICAgICAgICBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tcHVNZXRob2Rfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkNvbXB1TWV0aG9kW2lkeEVsZV0KLy8gICAgICAgICAgICAgZWRpdG1ldGhvZCA9ICdlZGl0Q29tcHVNZWh0b2QnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5EYXRhQ29uc3RyX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0ci5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkRhdGFDb25zdHJbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXREYXRhQ29uc3RyJwovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQXBwbGljYXRpb25BcnJheV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZVtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdEFwcGxpY2F0aW9uQXJyYXknCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeEVsZV0KLy8gICAgICAgICAgICAgZWRpdG1ldGhvZCA9ICdlZGl0SW1wbGVtZW50YXRpb24nCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdE1hY2hpbmUnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lRGVzaWduZV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBlbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ25baWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRNYWNoaW5lRGVzaWduJwovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3Rlci5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRFdGhlcm5ldENsdXN0ZXInCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Nb2RlRGVjbGFyYXRpb25Hcm91cF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cFtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdE1vZGVEZWNsYXJhdGlvbkdyb3VwJwovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuSFdFbGVtZW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnRbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRIV0VsZW1lbnQnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qcm9jZXNzdG9NYWNoaW5lTWFwcGluZ19zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBlbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb3RvTWFjaGluZU1hcHBpbmdbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRQcm90b01hY2hpbmVNYXBwaW5nJwovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU1dDb21wb25lbnRzX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHNbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRTV0NvbXBvbmVudHMnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qcm9jZXNzX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFByb2Nlc3MnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qcm9jZXNzRGVzaWduX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NEZXNpZ24uZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbltpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFByb2Nlc3NEZXNpZ24nCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FeGVjdXRhYmxlX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkV4ZWN1dGFibGUuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZVtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdEV4ZWN1dGFibGUnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5TdGFydHVwQ29uZmlnX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlN0YXJ0dXBDb25maWcuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU3RhcnR1cENvbmZpZ1tpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFN0YXJ0dXBDb25maWcnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkRldGVybWluaXN0aWNDbGllbnQuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRGV0ZXJtaW5pc3RpY0NsaWVudFtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdERldGVybWluaXN0aWNDbGllbicKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBlbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50W2lkeEVsZV0KLy8gICAgICAgICAgICAgZWRpdG1ldGhvZCA9ICdlZGl0U29tZUlQU2VydmljZScKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2Vfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeEVsZV0KLy8gICAgICAgICAgICAgZWRpdG1ldGhvZCA9ICdlZGl0U2VydmljZUludGVyZmFjZScKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNsaWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRFdmVudC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRFdmVudFtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdENsaWVudCcKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNlcnZlcl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJFdmVudFtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFNlcnZlcicKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNvbWVJUENsaWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRTZXJ2aWNlSW5zdGFuY2UuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50U2VydmljZUluc3RhbmNlW2lkeEVsZV0KLy8gICAgICAgICAgICAgZWRpdG1ldGhvZCA9ICdlZGl0U29tZUlQQ2xpZW50JwovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQU2VydmVyX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlclNlcnZpY2VJbnN0YW5jZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJTZXJ2aWNlSW5zdGFuY2VbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRTb21lSVBTZXJ2ZXInCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRTb21lSVB0b01hY2hpbmUnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRUb1BvcnRQcm90b3R5cGUnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUFtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFJlcXVpcmVkU29tZUlQJwovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVBbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRQcm92aWRlZFNvbWVJUCcKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkVycm9yX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBlbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yW2lkeEVsZV0KLy8gICAgICAgICAgICAgZWRpdG1ldGhvZCA9ICdlZGl0RXJyb3InCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FcnJvcnNldF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvclNldC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvclNldFtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdEVycm9yU2V0JwovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXJyb3JEb21haW5fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JEb21haW4uZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JEb21haW5baWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRFcnJvckRvbWFpbicKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkZpbGVBcnJheV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUkZpbGVBcnJheS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUkZpbGVBcnJheVtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFBFUkZpbGVBcnJheScKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkZpbGVQcm94eUludGVyZl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUkZpbGVQcm94eS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUkZpbGVQcm94eVtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFBFUkZpbGVQcm94eScKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LktleVZhbHVlRGF0YV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUktleVZhbHVlRC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUktleVZhbHVlRFtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFBFUktleVZhbHVlRCcKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LktleVZhbHVlRElfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZURJLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBlbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSS2V5VmFsdWVESVtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdFBFUktleVZhbHVlREknCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qb3J0UHJvdG9GaWxlQV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXkuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5W2lkeEVsZV0KLy8gICAgICAgICAgICAgZWRpdG1ldGhvZCA9ICdlZGl0UEVSUFB0b0ZpbGVBcnJheScKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlBvcnRQcm90b0tleVZfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWUuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWVbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRQRVJQUHRvS2V5VmFsdWUnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21GaWVsZEdyYW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkRy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRGaWVsZEcnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21FdmVudEdyYW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50Ry5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRFdmVudEcnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21NZXRob2RHcmFudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBlbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRNZXRob2RHJwovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHRFtpZHhFbGVdCi8vICAgICAgICAgICAgIGVkaXRtZXRob2QgPSAnZWRpdEZpZWxkR0QnCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21FdmVudEdEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHRC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgZWxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdEW2lkeEVsZV0KLy8gICAgICAgICAgICAgZWRpdG1ldGhvZCA9ICdlZGl0RXZlbnRHRCcKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGVsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0RbaWR4RWxlXQovLyAgICAgICAgICAgICBlZGl0bWV0aG9kID0gJ2VkaXRNZXRob2RHRCcKLy8gICAgICAgICB9Ci8vICAgICAgICAgZWxlLm5hbWUgPSBwYXlsb2FkLm5hbWUKLy8gICAgICAgICB0aGlzLmNvbW1pdChlZGl0bWV0aG9kLCB7IGNvbXBvOiAiTmFtZSIsIHV1aWQ6IHBheWxvYWQudXVpZCwgbmFtZTogcGF5bG9hZC5uYW1lIH0pCi8vICAgICAgICAgdGhpcy5jb21taXQoJ2NoYW5nZVBhdGhFbGVtZW50JywgeyB1dWlkOiBwYXlsb2FkLnV1aWQsIHBhdGg6IGVsZS5wYXRoLCBuYW1lOiBlbGUubmFtZSB9KQovLyAgICAgfSwKLy8gICAgIGNoYW5nZVBhdGhFbGVtZW50KHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIGluZGljZXMgPSB0aGlzLmdldHRlcnMuZ2V0Y2hhbmdlbmFtZWxpc3QocGF5bG9hZC51dWlkKQovLyAgICAgICAgIGluZGljZXMuZm9yRWFjaChpZHggPT4gewovLyAgICAgICAgICAgICB2YXIgc3RhcnRVVUlEID0gc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uc3RhcnRbaWR4XS5zcGxpdCgnLycpCi8vICAgICAgICAgICAgIHZhciB0YWJsZUxpbmUgPSBzdGFydFVVSURbMV0uc3BsaXQoJy0nKQovLyAgICAgICAgICAgICB2YXIgaWR4RWxlbWVudCA9IG51bGwsCi8vICAgICAgICAgICAgICAgICBpbnRhYmxlbmFtZSA9IG51bGwKLy8gICAgICAgICAgICAgaWYgKHRhYmxlTGluZVswXSA9PSAnZGRwY2NvbXB1JykgeyAvLyBjb21wdSBtZXRob2Qg67OA6rK97IucID0+IGltcGxlbWVudGF0aW9uIOyXkOyEnCBjb21wdSBtZXRob2QgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS5kZHBjW3RhYmxlTGluZVsxXV0uY29tcHVtZXRob2QgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2RkcGNkYXRhJykgeyAvLyBkYXRhIGNvbnN0cuuzgOqyveyLnCA9PiBpbXBsZW1lbnRhdGlvbiDsl5DshJwgZGF0YSBjb25zdHIgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS5kZHBjW3RhYmxlTGluZVsxXV0uZGF0YWNvbnN0ciA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAndHlwZXJlZicpIHsgLy9pbXBsZW1lbnRhdGlvbiDrs4Dqsr3si5wgPT4gIGltcGxlbWVudGF0aW9uIOyXkOyEnCBpbXBsZW1lbnRhdGlvbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeEVsZW1lbnRdLnR5cGVyZWYgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3RlbXBsYXRlVHlwZScpIHsgLy9pbXBsZW1lbnRhdGlvbiDrs4Dqsr3si5wgPT4gICBpbXBsZW1lbnRhdGlvbiDsl5DshJwgaW1wbGVtZW50YXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS50ZW1wbGF0ZXR5cGUgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2lkdGV0YWJsZScpIHsgLy9pbXBsZW1lbnRhdGlvbiDrs4Dqsr3si5wgPT4gICBpbXBsZW1lbnRhdGlvbiDsl5DshJwgaW1wbGVtZW50YXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS5pZHRlbGVtZW50W3RhYmxlTGluZVsxXV0udHlwZXJlZiA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnRXZlbnR0YWJsZScpIHsgLy9pbXBsZW1lbnRhdGlvbiDrs4Dqsr3si5wgPT4gICBTZXJ2aWNlSW50ZXJmYWNlIOyXkOyEnCBJbXBsZW1lbnRhdGlvbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4RWxlbWVudF0uZXZlbnRzW3RhYmxlTGluZVsxXV0udHlwZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnRmllbGR0YWJsZScpIHsgLy9pbXBsZW1lbnRhdGlvbiDrs4Dqsr3si5wgPT4gICBTZXJ2aWNlSW50ZXJmYWNlIOyXkOyEnCBJbXBsZW1lbnRhdGlvbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4RWxlbWVudF0uZmllbGRzW3RhYmxlTGluZVsxXV0udHlwZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnYXJndGFibGUnKSB7IC8vaW1wbGVtZW50YXRpb24g67OA6rK97IucID0+ICAgU2VydmljZUludGVyZmFjZSDsl5DshJwgSW1wbGVtZW50YXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeEVsZW1lbnRdLm1ldGhvZHNbdGFibGVMaW5lWzJdXS5hcmd1bWVudFt0YWJsZUxpbmVbMV1dLnR5cGUgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ21hY2hpbmVmcm9tcHRtbScpIHsgLy8gTWFjaGluZSDrs4Dqsr3si5wgPT4gUHJvY2VzcyB0byBNYWNoaW5lIE1hcHBpbmcgc2V0IOyXkOyEnCBNYWNoaW5lIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZ1tpZHhFbGVtZW50XS5wdG1tTWFjaGluZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJvY2Vzc3Jlc29yY2UnKSB7IC8vTWFjaGluZSDrs4Dqsr3si5wgPT4gIFByb2Nlc3Mg7JeQ7IScIE1hY2hpbmUgLT4gTW9kdWxlIEluc3RhbnRpYXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnTW9kdWxlSW5zJykgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5kZXBlbmRlbnRbdGFibGVMaW5lWzFdXS5yZXNvdXJjZVJlZiA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4RWxlbWVudF0uZGVwZW5kZW50W3RhYmxlTGluZVsxXV0ucmVzb3VyY2VSZWYuc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5kZXBlbmRlbnRbdGFibGVMaW5lWzFdXS5yZXNvdXJjZVJlZiA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGludGFibGVuYW1lW2ludGFibGVuYW1lLmxlbmd0aCAtIDFdCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdmZ2NvbnRleHQnKSB7IC8vTWFjaGluZSDrs4Dqsr3si5wgPT4gIFByb2Nlc3Mg7JeQ7IScIE1hY2hpbmUgLT4gRnVuY3Rpb24gR3JvdXAgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnZnVuY3Rpb25HJykgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5kZXBlbmRlbnRbdGFibGVMaW5lWzJdXS5mdW5jdGlvbkl0ZW1bdGFibGVMaW5lWzFdXS5jb250ZXh0TW9kZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4RWxlbWVudF0uZGVwZW5kZW50W3RhYmxlTGluZVsyXV0uZnVuY3Rpb25JdGVtW3RhYmxlTGluZVsxXV0uY29udGV4dE1vZGUuc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5kZXBlbmRlbnRbdGFibGVMaW5lWzJdXS5mdW5jdGlvbkl0ZW1bdGFibGVMaW5lWzFdXS5jb250ZXh0TW9kZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGludGFibGVuYW1lW2ludGFibGVuYW1lLmxlbmd0aCAtIDFdCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdtYWNoaW5lZGVzaWduJykgeyAvL01hY2hpbmVEZXNpZ24g67OA6rK97IucID0+ICBtYWNoaW7sl5DshJwgbWFjaGluRGVzaWduIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVtZW50XS5tYWNoaW5lZGVzaWduID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdjb21jb25ldCcpIHsgLy9NYWNoaW5lRGVzaWduIOuzgOqyveyLnCA9PiAgIEV0aGVybmV0Q2x1c3RlcuyXkOyEnCBNYWNoaW5lRGVzaWduIC0+IENvbW11bmljYXRpb24gQ29ubmVjdG9yIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnQ29tbXVuaWNhdGlvbkMnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlbWVudF0uY29uZGl0aW9uYWxbdGFibGVMaW5lWzNdXS5jaGFubmVsW3RhYmxlTGluZVsyXV0uY29tY29ubmVjdFt0YWJsZUxpbmVbMV1dLmNvbm5lY3RvciA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpZHhFbGVtZW50XS5jb25kaXRpb25hbFt0YWJsZUxpbmVbM11dLmNoYW5uZWxbdGFibGVMaW5lWzJdXS5jb21jb25uZWN0W3RhYmxlTGluZVsxXV0uY29ubmVjdG9yLnNwbGl0KCcvJykKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpZHhFbGVtZW50XS5jb25kaXRpb25hbFt0YWJsZUxpbmVbM11dLmNoYW5uZWxbdGFibGVMaW5lWzJdXS5jb21jb25uZWN0W3RhYmxlTGluZVsxXV0uY29ubmVjdG9yID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgaW50YWJsZW5hbWVbaW50YWJsZW5hbWUubGVuZ3RoIC0gMV0KLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3RvbWFjaGluQ0MnKSB7IC8vTWFjaGluZURlc2lnbiDrs4Dqsr3si5wgPT4gICBTb21lSVB0b01hY2hpbmVNYXBwaW5nIOyXkOyEnCBNYWNoaW5lRGVzZ2lu7J2YIENvbW11bmljYXRpb24gQ29ubmVjdGVkIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnQ29tbXVuaWNhdGlvbkMnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4RWxlbWVudF0uY2NyZWYgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLmxpc3RuYW1lCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIGludGFibGVuYW1lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4RWxlbWVudF0uY2NyZWYuc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lW2lkeEVsZW1lbnRdLmNjcmVmID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgaW50YWJsZW5hbWVbaW50YWJsZW5hbWUubGVuZ3RoIC0gMV0KLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2NjdGFibGUnKSB7IC8vRXRoZXJuZXRDbHVzdGVyIOuzgOqyveyLnCA9PiBtYWNoaW5EZXNpZ27sl5DshJwgRXRoZXJuZXRDbHVzdGVyIEVuZHBvaW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbi5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbltpZHhFbGVtZW50XS5jb25uZWN0b3JbdGFibGVMaW5lWzFdXS5lbmRwb2ludCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQuY29uZGkgKyAnLycgKyBwYXlsb2FkLmNoYW5ubCArICcvJyArIHBheWxvYWQuZW5kcG9pbnQKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3NkY3RhYmxlJykgeyAvL0V0aGVybmV0Q2x1c3RlciDrs4Dqsr3si5wgPT4gIG1hY2hpbkRlc2lnbuyXkOyEnCBFdGhlcm5ldENsdXN0ZXIgRW5kcG9pbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeEVsZW1lbnRdLnNlcnZpY2VkaXNjb3Zlclt0YWJsZUxpbmVbMV1dLm1zaWEgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLmNvbmRpICsgJy8nICsgcGF5bG9hZC5jaGFubmwgKyAnLycgKyBwYXlsb2FkLmVuZHBvaW50Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdmdW5jdGlvbnRhYmxlJykgeyAvL01vZGUgRGVjbGFyYXRpb24gIOuzgOqyveyLnCA9PiAgbWFjaGlu7JeQ7IScIE1vZGUgRGVjbGFyYXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeEVsZW1lbnRdLmZ1bmN0aW9uZ3JvdXBbdGFibGVMaW5lWzFdXS50eXBlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm9jZXNzbW9kZWRlY2xhcicpIHsgLy9Nb2RlIERlY2xhcmF0aW9uICDrs4Dqsr3si5wgPT4gIFByb2Nlc3Mg7JeQ7IScIE1vZGUgRGVjbGFyYXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeEVsZW1lbnRdLm1hY2hpbmV0eXBlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdmZ3RhcmdldCcpIHsgLy9Nb2RlIERlY2xhcmF0aW9uICDrs4Dqsr3si5wgPT4gIFByb2Nlc3Mg7JeQ7IScICBNb2R1bGUgRGVjbGFyYXRpb24tPiBtb2RlIERlY2xhcmF0aW9ucyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBpbnRhYmxlbmFtZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5kZXBlbmRlbnRbdGFibGVMaW5lWzJdXS5mdW5jdGlvbkl0ZW1bdGFibGVMaW5lWzFdXS50YXJnZXRNb2RlLnNwbGl0KCcvJykKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5kZXBlbmRlbnRbdGFibGVMaW5lWzJdXS5mdW5jdGlvbkl0ZW1bdGFibGVMaW5lWzFdXS50YXJnZXRNb2RlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgaW50YWJsZW5hbWVbaW50YWJsZW5hbWUubGVuZ3RoIC0gMV0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2h3ZWxlbWVudCcpIHsgLy9IVyBFbGVtZW50IOuzgOqyveyLnCA9PiAgbWFjaGlu7JeQ7IScIEhXRWxlbWVudCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4RWxlbWVudF0uaHdlbGVtZW50W3RhYmxlTGluZVsxXV0uaHdlbGVtZW50ID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdhcHBsaWNhdGlvbnR5cGVyZWYnKSB7IC8vU1cgQ29tcG9uZW50IOuzgOqyveyLnCA9PiAgRXhlY3V0YWJsZSDsl5DshJwgU1cgQ29tcG9uZW50cyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkV4ZWN1dGFibGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLkV4ZWN1dGFibGVbaWR4RWxlbWVudF0uYXBwbGljYXRpb250eXBlcmVmID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICd0b3BvcnRwb3J0JykgeyAvL1NXIENvbXBvbmVudCDrs4Dqsr3si5wgPT4gICBTZXJ2aWNlIEluc3RhbmNlIHRvIHBvcnQgcHJvdG90eXBlIOyXkOyEnCBTV0NvbXBvbmVudCBwb3J0IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAncFBvcnQnICYmIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeEVsZW1lbnRdLnNlbGVjdFBvcnQgPT0gJ1AtUE9SVC1QUk9UT1RZUEUnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4RWxlbWVudF0ucG9ydHR5cGUgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLmxpc3RuYW1lCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAncHJQb3J0JyAmJiBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhFbGVtZW50XS5zZWxlY3RQb3J0ID09ICdQUi1QT1JULVBST1RPVFlQRScpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhFbGVtZW50XS5wb3J0dHlwZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jaGFuZ2VOYW1lID09ICdyUG9ydCcgJiYgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4RWxlbWVudF0uc2VsZWN0UG9ydCA9PSAnUi1QT1JULVBST1RPVFlQRScpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhFbGVtZW50XS5wb3J0dHlwZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhFbGVtZW50XS5wb3J0dHlwZS5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4RWxlbWVudF0ucG9ydHR5cGUgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBpbnRhYmxlbmFtZVtpbnRhYmxlbmFtZS5sZW5ndGggLSAxXQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnUFBQdG9GaWxlUFJQb3J0JykgeyAvL1NXIENvbXBvbmVudCDrs4Dqsr3si5wgPT4gIFBQUCB0byBGaWxlIEFycmF5IOyXkOyEnCBTVyBDb21wb25lbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jaGFuZ2VOYW1lID09ICdwclBvcnQnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXlbaWR4RWxlbWVudF0ucG9ydCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jaGFuZ2VOYW1lID09IHVuZGVmaW5lZCkgewovLyAgICAgICAgICAgICAgICAgICAgIGludGFibGVuYW1lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXlbaWR4RWxlbWVudF0ucG9ydC5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXlbaWR4RWxlbWVudF0ucG9ydCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGludGFibGVuYW1lW2ludGFibGVuYW1lLmxlbmd0aCAtIDFdCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdQUFB0b0tleVBSUG9ydCcpIHsgLy9TVyBDb21wb25lbnQg67OA6rK97IucID0+ICBQUFAgdG8gS2V5IFZhbHVlIOyXkOyEnCBTVyBDb21wb25lbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNoYW5nZU5hbWUgPT0gJ3ByUG9ydCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlW2lkeEVsZW1lbnRdLnBvcnQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLmxpc3RuYW1lCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSB1bmRlZmluZWQpIHsKLy8gICAgICAgICAgICAgICAgICAgICBpbnRhYmxlbmFtZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWVbaWR4RWxlbWVudF0ucG9ydC5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZVtpZHhFbGVtZW50XS5wb3J0ID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgaW50YWJsZW5hbWVbaW50YWJsZW5hbWUubGVuZ3RoIC0gMV0KLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb2Nlc3Nmcm9tcHRtbScpIHsgLy9Qcm9jZXNzIOuzgOqyvSDsi5wgID0+ICBQcm9jZXNzIHRvIE1hY2hpbmUgTWFwcGluZyBzZXQg7JeQ7IScIFByb2Nlc3MgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nW2lkeEVsZW1lbnRdLnB0bW1Qcm9jZXNzID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdQUFB0b0ZpbGVQcm9jZXNzJykgeyAvL1Byb2Nlc3Mg67OA6rK97IucID0+ICBQUFAgdG8gRmlsZSBBcnJheSDsl5DshJwgUHJvY2VzcyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5W2lkeEVsZW1lbnRdLnByb2Nlc3MgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ1BQUHRvS2V5UHJvY2VzcycpIHsgLy9Qcm9jZXNzIOuzgOqyveyLnCA9PiAgUFBQIHRvIEtleSBWYWx1ZSDsl5DshJwgUHJvY2VzcyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZVtpZHhFbGVtZW50XS5wcm9jZXNzID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm9jZXNzcHJvZGVzaWduJykgeyAvL1Byb2Nlc3NEZXNpZ24g67OA6rK9IOyLnCAgPT4gICBQcm9jZXNzIOyXkOyEnCBQcm9jZXNzIERlc2lnbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4RWxlbWVudF0ucHJvZGVzaWduID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICd0b3BvcnRwcm9jZXNzJykgeyAvL1Byb2Nlc3NEZXNpZ24g67OA6rK9IOyLnCAgPT4gICBTZXJ2aWNlIEluc3RhbmNlIHRvIHBvcnQgcHJvdG90eXBlIOyXkOyEnCBwcm9jZXNzIGRlc2lnbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeEVsZW1lbnRdLnByb2Nlc3MgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ01HRHByb0QnKSB7IC8vUHJvY2Vzc0Rlc2lnbiDrs4Dqsr0g7IucICA9PiAgIE1ldGhvZEdEIOyXkOyEnCBwcm9jZXNzIGRlc2lnbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRFtpZHhFbGVtZW50XS5wcm9jZXNzRCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnRUdEcHJvRCcpIHsgLy9Qcm9jZXNzRGVzaWduIOuzgOqyvSDsi5wgID0+ICAgRXZlbnRHRCDsl5DshJwgcHJvY2VzcyBkZXNpZ24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdEW2lkeEVsZW1lbnRdLnByb2Nlc3NEID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdGR0Rwcm9EJykgeyAvL1Byb2Nlc3NEZXNpZ24g67OA6rK9IOyLnCAgPT4gICBGaWVsZEdEIOyXkOyEnCBwcm9jZXNzIGRlc2lnbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0RbaWR4RWxlbWVudF0ucHJvY2Vzc0QgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb2Rlc2lnbmV4ZWN1dGFibGUnKSB7IC8vRXhlY3V0YWJsZSDrs4Dqsr3si5wgPT4gIFByb2Nlc3NEZXNpZ24g7JeQ7IScICBFeGVjdXRhYmxlIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbi5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbltpZHhFbGVtZW50XS5leGVjdXRhYmxlcmVmID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm9jZXNzZXhlY3V0JykgeyAvL0V4ZWN1dGFibGUg67OA6rK97IucID0+ICBQcm9jZXNzIOyXkOyEnCBFeGVjdXRhYmxlIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5leGVjdXQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb2Nlc3NzdGFydHVwJykgeyAvLyBTdGFydHVwIENvbmZpZyDrs4Dqsr3si5wgPT4gIFByb2Nlc3Mg7JeQ7IScIFN0YXJ0dXAgQ29uZmlnIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhFbGVtZW50XS5kZXBlbmRlbnRbdGFibGVMaW5lWzFdXS5zdGFydHVwQ29uZmlnUmVmID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm9jZXNzZGV0ZXJtaW4nKSB7IC8vRGV0ZXJtaW5pc3RyaWMgIOuzgOqyveyLnCA9PiAgUHJvY2VzcyDsl5DshJwgRGV0ZXJtaW5pc3RyaWMgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeEVsZW1lbnRdLmRldGVybWluID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdldmVudCcpIHsgLy9TZXJ2aWNlIERlcGxveW1lbnQg67OA6rK97IucID0+ICBTZXJ2aWNlSW50ZXJmYWNlIERlcGxveW1hbnTsl5DshJzsl5DshJwgc2VydmljZWludGVyZmFjZSBEZXBsb3ltYW50IEV2ZW50IERlcGxveW1lbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNoYW5nZU5hbWUgPT0gJ0V2ZW50RCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50W2lkeEVsZW1lbnRdLmV2ZW50R1t0YWJsZUxpbmVbMl1dLmV2ZW50W3RhYmxlTGluZVsxXV0uZXZlbnQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLmxpc3RuYW1lCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIGludGFibGVuYW1lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVtZW50XS5ldmVudEdbdGFibGVMaW5lWzJdXS5ldmVudFt0YWJsZUxpbmVbMV1dLmV2ZW50LnNwbGl0KCcvJykKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50W2lkeEVsZW1lbnRdLmV2ZW50R1t0YWJsZUxpbmVbMl1dLmV2ZW50W3RhYmxlTGluZVsxXV0uZXZlbnQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBpbnRhYmxlbmFtZVtpbnRhYmxlbmFtZS5sZW5ndGggLSAxXQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncmVxdWlyZWREZXBsb3knKSB7IC8vU2VydmljZSBEZXBsb3ltZW50IOuzgOqyveyLnCA9PiBSZXF1aXJlZCBTb21lSVAgU2VydmljZSBJbnN0YW5jZSDsl5DshJwgU2VydmljZSBEZXBsb3ltZW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeEVsZW1lbnRdLmRlcGxveXJlZiA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncmVxdWlyZWRNZXRob2QnKSB7IC8vU2VydmljZSBEZXBsb3ltZW50IOuzgOqyveyLnCA9PiAgUmVxdWlyZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNlcnZpY2UgRGVwbG95bWVudCBNZXRob2QgRGVwbG95bWVudCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnTWV0aG9kRCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeEVsZW1lbnRdLm1ldGhvZFt0YWJsZUxpbmVbMV1dLm1ldGhvZCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeEVsZW1lbnRdLm1ldGhvZFt0YWJsZUxpbmVbMV1dLm1ldGhvZC5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUFtpZHhFbGVtZW50XS5tZXRob2RbdGFibGVMaW5lWzFdXS5tZXRob2QgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBpbnRhYmxlbmFtZVtpbnRhYmxlbmFtZS5sZW5ndGggLSAxXQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncmVxdWlyZWRFdmVudEcnKSB7IC8vU2VydmljZSBEZXBsb3ltZW50IOuzgOqyveyLnCA9PiAgUmVxdWlyZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNlcnZpY2UgRGVwbG95bWVudCBFdmVudCBHcm91cCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnRXZlbnRHJykgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4RWxlbWVudF0ucmVxdWlyZWRldmVudFt0YWJsZUxpbmVbMV1dLmV2ZW50RyA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeEVsZW1lbnRdLnJlcXVpcmVkZXZlbnRbdGFibGVMaW5lWzFdXS5ldmVudEcuc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4RWxlbWVudF0ucmVxdWlyZWRldmVudFt0YWJsZUxpbmVbMV1dLmV2ZW50RyA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGludGFibGVuYW1lW2ludGFibGVuYW1lLmxlbmd0aCAtIDFdCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm92aWREZXBsb3knKSB7IC8vU2VydmljZSBEZXBsb3ltZW50IOuzgOqyveyLnCA9PiAgUHJvdmlkZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNlcnZpY2UgRGVwbG95bWVudCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhFbGVtZW50XS5kZXBsb3lyZWYgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb3ZpZWRFdmVudFAnKSB7IC8vU2VydmljZSBEZXBsb3ltZW50IOuzgOqyveyLnCA9PiAgUHJvdmlkZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNlcnZpY2UgRGVwbG9tZW507J2YICBldmVudEQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNoYW5nZU5hbWUgPT0gJ0V2ZW50RCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeEVsZW1lbnRdLmV2ZW50UFt0YWJsZUxpbmVbMV1dLmV2ZW50ID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgcGF5bG9hZC5saXN0bmFtZQovLyAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICBpbnRhYmxlbmFtZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVBbaWR4RWxlbWVudF0uZXZlbnRQW3RhYmxlTGluZVsxXV0uZXZlbnQuc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVBbaWR4RWxlbWVudF0uZXZlbnRQW3RhYmxlTGluZVsxXV0uZXZlbnQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBpbnRhYmxlbmFtZVtpbnRhYmxlbmFtZS5sZW5ndGggLSAxXQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJvdmllZE1ldGhvZCcpIHsgLy9TZXJ2aWNlIERlcGxveW1lbnQg67OA6rK97IucID0+ICBQcm92aWRlZCBTb21lSVAgU2VydmljZSBJbnN0YW5jZSDsl5DshJwgU2VydmljZSBEZXBsb21lbnTsnZggTWV0aG9kRCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnTWV0aG9kRCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeEVsZW1lbnRdLm1ldGhvZFt0YWJsZUxpbmVbMV1dLm1ldGhvZCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeEVsZW1lbnRdLm1ldGhvZFt0YWJsZUxpbmVbMV1dLm1ldGhvZC5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhFbGVtZW50XS5tZXRob2RbdGFibGVMaW5lWzFdXS5tZXRob2QgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBpbnRhYmxlbmFtZVtpbnRhYmxlbmFtZS5sZW5ndGggLSAxXQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJvdmlkRXZlbnRHJykgeyAvL1NlcnZpY2UgRGVwbG95bWVudCDrs4Dqsr3si5wgPT4gIFByb3ZpZGVkIFNvbWVJUCBTZXJ2aWNlIEluc3RhbmNlIOyXkOyEnCBTZXJ2aWNlIERlcGxvbWVudOydmCBldmVudEcgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNoYW5nZU5hbWUgPT0gJ0V2ZW50RycpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeEVsZW1lbnRdLmV2ZW50R1t0YWJsZUxpbmVbMV1dLmV2ZW50RyA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeEVsZW1lbnRdLmV2ZW50R1t0YWJsZUxpbmVbMV1dLmV2ZW50Ry5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhFbGVtZW50XS5ldmVudEdbdGFibGVMaW5lWzFdXS5ldmVudEcgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBpbnRhYmxlbmFtZVtpbnRhYmxlbmFtZS5sZW5ndGggLSAxXQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHBvcnR0YWJsZScpIHsgLy9TZXJ2aWNlSW50ZXJmYWNlIOuzgOqyvSDsi5wgPT4gIFNXIENvbXBvbmVudHMg7JeQ7IScIFNlcnZpY2VJbnRlcmZhY2UgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHMuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50c1tpZHhFbGVtZW50XS5wcG9ydFt0YWJsZUxpbmVbMV1dLmludGVyZmFjZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJwb3J0dGFibGUnKSB7IC8vU2VydmljZUludGVyZmFjZSDrs4Dqsr0g7IucID0+ICBTVyBDb21wb25lbnRzIOyXkOyEnCBTZXJ2aWNlSW50ZXJmYWNlIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHNbaWR4RWxlbWVudF0ucHJwb3J0W3RhYmxlTGluZVsxXV0uaW50ZXJmYWNlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdycG9ydHRhYmxlJykgeyAvL1NlcnZpY2VJbnRlcmZhY2Ug67OA6rK9IOyLnCA9PiAgU1cgQ29tcG9uZW50cyDsl5DshJwgU2VydmljZUludGVyZmFjZSByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzW2lkeEVsZW1lbnRdLnJwb3J0W3RhYmxlTGluZVsxXV0uaW50ZXJmYWNlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdzZXJ2aWNlJykgeyAvL1NlcnZpY2VJbnRlcmZhY2Ug67OA6rK9IOyLnCA9PiAgU2VydmljZUludGVyZmFjZSBEZXBsb3ltYW507JeQ7IScIHNlcnZpY2VJbnRlcmZhY2UgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4RWxlbWVudF0uc2VydmljZSA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnc2VydmljZUV2ZW50RCcpIHsgLy9TZXJ2aWNlSW50ZXJmYWNlIOuzgOqyvSDsi5wgPT4gIFNlcnZpY2VJbnRlcmZhY2UgRGVwbG95bWFudOyXkOyEnCBzZXJ2aWNlaW50ZXJmYWNlIEV2ZW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jaGFuZ2VOYW1lID09ICdzZXJ2aWNlRXZlbnREJykgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4RWxlbWVudF0uZXZlbnREW3RhYmxlTGluZVsxXV0uZXZlbnQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLmxpc3RuYW1lCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIGludGFibGVuYW1lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVtZW50XS5ldmVudERbdGFibGVMaW5lWzFdXS5ldmVudC5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVtZW50XS5ldmVudERbdGFibGVMaW5lWzFdXS5ldmVudCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGludGFibGVuYW1lW2ludGFibGVuYW1lLmxlbmd0aCAtIDFdCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdzZXJ2aWNlTWV0aG9kRCcpIHsgLy9TZXJ2aWNlSW50ZXJmYWNlIOuzgOqyvSDsi5wgPT4gIFNlcnZpY2VJbnRlcmZhY2UgRGVwbG95bWFudOyXkOyEnCBzZXJ2aWNlaW50ZXJmYWNlIE1ldGhvZCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnc2VydmljZU1ldGhvZEQnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVtZW50XS5tZXRob2REW3RhYmxlTGluZVsxXV0ubWV0aG9kID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgcGF5bG9hZC5saXN0bmFtZQovLyAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICBpbnRhYmxlbmFtZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4RWxlbWVudF0ubWV0aG9kRFt0YWJsZUxpbmVbMV1dLm1ldGhvZC5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVtZW50XS5tZXRob2REW3RhYmxlTGluZVsxXV0ubWV0aG9kID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgaW50YWJsZW5hbWVbaW50YWJsZW5hbWUubGVuZ3RoIC0gMV0KLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2ZpZWxkJykgeyAvL1NlcnZpY2VJbnRlcmZhY2Ug67OA6rK9IOyLnCA9PiAgU2VydmljZUludGVyZmFjZSBEZXBsb3ltYW507JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgRmllbGQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmNoYW5nZU5hbWUgPT0gJ2ZpZWxkJykgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4RWxlbWVudF0uZmllbGREW3RhYmxlTGluZVsxXV0uZmllbGQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLmxpc3RuYW1lCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIGludGFibGVuYW1lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVtZW50XS5maWVsZERbdGFibGVMaW5lWzFdXS5maWVsZC5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhFbGVtZW50XS5maWVsZERbdGFibGVMaW5lWzFdXS5maWVsZCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGludGFibGVuYW1lW2ludGFibGVuYW1lLmxlbmd0aCAtIDFdCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdNR0RzZXJ2aWNlSScpIHsgLy9TZXJ2aWNlSW50ZXJmYWNlIOuzgOqyvSDsi5wgPT4gIE1ldGhvZEdE7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgTWV0aG9kIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jaGFuZ2VOYW1lID09ICdzZXJ2aWNlTWV0aG9kRCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdEW2lkeEVsZW1lbnRdLlNJTWV0aG9kID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgcGF5bG9hZC5saXN0bmFtZQovLyAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICBpbnRhYmxlbmFtZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0RbaWR4RWxlbWVudF0uU0lNZXRob2Quc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR0RbaWR4RWxlbWVudF0uU0lNZXRob2QgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBpbnRhYmxlbmFtZVtpbnRhYmxlbmFtZS5sZW5ndGggLSAxXQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnRUdEc2VydmljZUknKSB7IC8vU2VydmljZUludGVyZmFjZSDrs4Dqsr0g7IucID0+ICBFdmVudEdE7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgRXZlbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnc2VydmljZUV2ZW50RCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R0RbaWR4RWxlbWVudF0uU0lFdmVudCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQubGlzdG5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICAgaW50YWJsZW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R0RbaWR4RWxlbWVudF0uU0lFdmVudC5zcGxpdCgnLycpCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdEW2lkeEVsZW1lbnRdLlNJRXZlbnQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBpbnRhYmxlbmFtZVtpbnRhYmxlbmFtZS5sZW5ndGggLSAxXQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnRkdEc2VydmljZUknKSB7IC8vU2VydmljZUludGVyZmFjZSDrs4Dqsr0g7IucID0+ICBGaWVsZEdE7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgRmllbGQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2hhbmdlTmFtZSA9PSAnZmllbGQnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdEW2lkeEVsZW1lbnRdLlNJRmllbGQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLmxpc3RuYW1lCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIGludGFibGVuYW1lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEdEW2lkeEVsZW1lbnRdLlNJRmllbGQuc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHRFtpZHhFbGVtZW50XS5TSUZpZWxkID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgaW50YWJsZW5hbWVbaW50YWJsZW5hbWUubGVuZ3RoIC0gMV0KLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3JlcXVpcmVkQ2xpZW50JykgeyAvL0NsaWVudCBldmVudCDrs4Dqsr3si5wgPT4gUmVxdWlyZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIENsaWVudCBldmVudCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUFtpZHhFbGVtZW50XS5yZXF1aXJlZGV2ZW50W3RhYmxlTGluZVsxXV0uY2xpZW50ID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm92aWRTZXJ2ZXInKSB7IC8vU2VydmVyIGV2ZW50IOuzgOqyveyLnCA9PiAgUHJvdmlkZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNlcnZlciByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhFbGVtZW50XS5ldmVudEdbdGFibGVMaW5lWzFdXS5zZXJ2ZXIgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3JlcXVpcmVkU29tZUlQQycpIHsgLy9Tb21lSVAgQ2xpZW50IOuzgOqyveyLnCA9PiBSZXF1aXJlZCBTb21lSVAgU2VydmljZSBJbnN0YW5jZSDsl5DshJwgU29tZUlQIENsaWVudCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUFtpZHhFbGVtZW50XS5zb21laXBjbGllbnQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb3ZpZFNvbWVJUFMnKSB7IC8vU29tZUlQIFNlcnZlciDrs4Dqsr3si5wgPT4gIFByb3ZpZGVkIFNvbWVJUCBTZXJ2aWNlIEluc3RhbmNlIOyXkOyEnCBTb21JUCBTZXJ2ZXIgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVBbaWR4RWxlbWVudF0uc29tZWlwc2VydmVyID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICd0b21hY2hpblNlcnZpY2VJbnMnKSB7IC8vUmVxdWlyZWQgU29tZUlQIOuzgOqyveyLnCA9PiAgU29tZUlQdG9NYWNoaW5lTWFwcGluZyDsl5DshJwgUmVxdWlyZWQgU29tZUlQIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4RWxlbWVudF0uc2lyZWYgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3RvcG9ydHNlcnZpY2UnKSB7IC8vUmVxdWlyZWQgUHJvdmlkZWQg67OA6rK97IucID0+IFNlcnZpY2UgSW5zdGFuY2UgdG8gcG9ydCBwcm90b3R5cGUg7JeQ7IScIHByb3ZpZGVkLHJlcXVpcmVkIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeEVsZW1lbnRdLnNlbGVjdFNlcnZpY2VJbnMgPT0gIlBST1ZJREVELVNPTUVJUC1TRVJWSUNFLUlOU1RBTkNFIiAmJiBwYXlsb2FkLnJlcSA9PSBmYWxzZSkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeEVsZW1lbnRdLnNlcnZpY2VJbnMgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4RWxlbWVudF0uc2VsZWN0U2VydmljZUlucyA9PSAiUkVRVUlSRUQtU09NRUlQLVNFUlZJQ0UtSU5TVEFOQ0UiICYmIHBheWxvYWQucmVxID09IHRydWUpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHhFbGVtZW50XS5zZXJ2aWNlSW5zID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdGR1Byb3ZpZGUnKSB7IC8vUHJvdmlkZWQg67OA6rK97IucID0+ICBGaWVsZCBHcmFudCDsl5DshJwgUHJvdmlkZWQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR1tpZHhFbGVtZW50XS5wcm92aWRlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdFR1Byb3ZpZGUnKSB7IC8vUHJvdmlkZWQg67OA6rK97IucID0+ICBFdmVudCBHcmFudCDsl5DshJwgUHJvdmlkZWQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R1tpZHhFbGVtZW50XS5wcm92aWRlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdNR1Byb3ZpZGUnKSB7IC8vUHJvdmlkZWQg67OA6rK97IucID0+ICBNZXRob2QgR3JhbnQg7JeQ7IScIFByb3ZpZGVkIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kRy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kR1tpZHhFbGVtZW50XS5wcm92aWRlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdtZXRob2RlcnJvcnMnKSB7IC8vIEVycm9yIOuzgOqyveyLnCA9PiBTZXJ2aWNlSW50ZXJmYWNlIOyXkOyEnCBFcnJvciByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4RWxlbWVudF0ubWV0aG9kc1t0YWJsZUxpbmVbMl1dLmVycm9yU2V0W3RhYmxlTGluZVsxXV0uZXJyb3IgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2Vycm9yJykgeyAvL0Vycm9yIOuzgOqyveyLnCA9PiAgRXJyb3IgU2V0IOyXkOyEnCBFcnJvciAgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvclNldC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JTZXRbaWR4RWxlbWVudF0uZXJyb3JyZWZbdGFibGVMaW5lWzFdXS5lcnJvciA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnbWV0aG9kZXJyb3InKSB7IC8vIEVycm9yIHNldCDrs4Dqsr3si5wgPT4gIFNlcnZpY2VJbnRlcmZhY2Ug7JeQ7IScIEVycm9yU2V0IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhFbGVtZW50XS5tZXRob2RzW3RhYmxlTGluZVsyXV0uZXJyb3JbdGFibGVMaW5lWzFdXS5lcnJvciA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnZXJyb3Jkb21haW4nKSB7IC8vRXJyb3JEb21haW4g67OA6rK97IucID0+ICBFcnJvciDsl5DshJwgRXJyb3IgRG9tYWluIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3IuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yW2lkeEVsZW1lbnRdLmVycm9yRHJlZiA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnUFBQdG9GaWxlQXJyYXknKSB7IC8vUGVyIEZpbGUgQXJyYXkg67OA6rK97IucID0+ICBQUFAgdG8gRmlsZSBBcnJheSDsl5DshJwgUGVyIEZpbGUgQXJyYXkgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheVtpZHhFbGVtZW50XS5maWxlQXJyYXkgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ1BQUHRvS2V5VmFsdWUnKSB7IC8vcGVyIEtleSBWYWx1ZSBEYXRhIOuzgOqyveyLnCA9PiAgUFBQIHRvIEtleSBWYWx1ZSDsl5DshJwgcGVyIEtleSBWYWx1ZSBEYXRhIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlW2lkeEVsZW1lbnRdLmtleVZhbHVlID0gcGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdGaWVsZEdEJykgeyAvL0ZpZWxkIEdyYW50IERlc2lnbiDrs4Dqsr3si5wgPT4gIEZpZWxkIEdyYW50IOyXkOyEnCBGaWVsZCBHcmFudCBEZXNpZ24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR1tpZHhFbGVtZW50XS5maWVsZEQgPSBwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ0V2ZW50R0QnKSB7IC8vRXZlbnQgR3JhbnQgRGVzaWduIOuzgOqyveyLnCA9PiAgRXZlbnQgR3JhbnQg7JeQ7IScIEV2ZW50IEdyYW50IERlc2lnbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50Ry5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHW2lkeEVsZW1lbnRdLmV2ZW50RCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnTWV0aG9kR0QnKSB7IC8vTWV0aG9kIEdyYW50IERlc2lnbiDrs4Dqsr3si5wgPT4gIE1ldGhvZCBHcmFudCDsl5DshJwgTWV0aG9kIEdyYW50IERlc2lnbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdbaWR4RWxlbWVudF0ubWV0aG9kRCA9IHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgfSkKLy8gICAgIH0sCi8vICAgICBpc2ludG9FcnJvckxpc3Qoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICBzdGF0ZS5lcnJvckxpc3QuZm9yRWFjaCgoaXRlbSwgaSkgPT4gewovLyAgICAgICAgICAgICBpZiAoaXRlbS51dWlkID09IHBheWxvYWQudXVpZCkgewovLyAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXJyb3IgPT0gJ25hbWUnICYmIHBheWxvYWQubmFtZSAhPSAnJykgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVycm9yTGlzdC5zcGxpY2UoaSwgMSkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGlmIChpdGVtLmVycm9yID09ICdwYXRoJyAmJiBwYXlsb2FkLnBhdGggIT0gJycpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5lcnJvckxpc3Quc3BsaWNlKGksIDEpCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICBpZiAoaXRlbS5lcnJvciA9PSAnTmFtZSBTcGFjZScpIHsKLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gcGF5bG9hZC5uYW1lc3BhY2Uuc3BsaXQoJywnKQovLyAgICAgICAgICAgICAgICAgICAgIHZhciBpc1RydWUgPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlLmZvckVhY2goKGl0ZW0sIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaXRlbSA9PSAnJyAmJiBpID09IG5hbWVzcGFjZS5sZW5ndGggLSAxKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0clN5bWJsZSA9IGl0ZW0uc3BsaXQoJy8nKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RyU3ltYmxlKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0clN5bWJsZS5sZW5ndGggIT0gMiB8fCBzdHJTeW1ibGVbMF0gPT0gJycgfHwgc3RyU3ltYmxlWzBdID09IHVuZGVmaW5lZCB8fCBzdHJTeW1ibGVbMV0gPT0gJycgfHwgc3RyU3ltYmxlWzFdID09IHVuZGVmaW5lZCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJ1ZSA9IGZhbHNlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpc1RydWUpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuZXJyb3JMaXN0LnNwbGljZShpLCAxKQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfQovLyAgICAgICAgIH0pCi8vICAgICB9LAovLyAgICAgZGVsZXRlUmVmVGFibGUoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICAvL2NvbnNvbGUubG9nKHBheWxvYWQuZGVsZXRJdGVtTGlzdCkKLy8gICAgICAgICBpZiAocGF5bG9hZC5kZWxldGVUYWIpIHsKLy8gICAgICAgICAgICAgaWYgKHBheWxvYWQuZGVsZXRlTmFtZSA9PSAnTW9kdWxlSW5zJykgeyAvL01hY2hpbmUg67OA6rK97IucID0+ICBQcm9jZXNzIOyXkOyEnCBNYWNoaW5lIC0+IE1vZHVsZSBJbnN0YW50aWF0aW9uIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZvckVhY2goKGVsZSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuZGVwZW5kZW50Lmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZWxlLmRlcGVuZGVudC5mb3JFYWNoKChkYXRhLCBuKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXNvdXJjZVJlZiA9PSAocGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgcGF5bG9hZC50YWJOYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL3Byb2Nlc3NyZXNvcmNlLScgKyBuKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmVzb3VyY2VSZWYgPSBudWxsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXRlLWxpbmUnLCBpZHgpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdkZWxldENvbm5lY3Rpb25saW5lJywgeyBzdGFydG51bTogaWR4IH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc19pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGVsZXRlTmFtZSA9PSAnbW9kZURlY2xhcicpIHsgLy9Nb2RlIERlY2xhcmF0aW9uICDrs4Dqsr3si5wgPT4gIFByb2Nlc3Mg7JeQ7IScICBNb2R1bGUgRGVjbGFyYXRpb24tPiBtb2RlIERlY2xhcmF0aW9ucyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5mb3JFYWNoKChlbGUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLmRlcGVuZGVudC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5kZXBlbmRlbnQuZm9yRWFjaCgoZGF0YSwgbikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZnVuY3Rpb25JdGVtICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZ1bmN0aW9uSXRlbS5mb3JFYWNoKChpdGVtLCBmKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRhcmdldE1vZGUgPT0gKHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQudGFiTmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL2ZndGFyZ2V0LScgKyBmICsgJy0nICsgbikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udGFyZ2V0TW9kZSA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXRlLWxpbmUnLCBpZHgpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0bnVtOiBpZHggfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc19pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ21ldGhvZFNJJykgewovLyAgICAgICAgICAgICAgICAgLy9TZXJ2aWNlSW50ZXJmYWNlIOuzgOqyvSDsi5wgPT4gIFNlcnZpY2VJbnRlcmZhY2UgRGVwbG95bWFudOyXkOyEnOyXkOyEnCBzZXJ2aWNlaW50ZXJmYWNlIE1ldGhvZCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUubWV0aG9kRC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUubWV0aG9kRC5mb3JFYWNoKChpdGVtLCBuKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubWV0aG9kID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLnRhYk5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL3NlcnZpY2VNZXRob2RELScgKyBuKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm1ldGhvZCA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0bnVtOiBpZHggfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIC8vU2VydmljZUludGVyZmFjZSDrs4Dqsr0g7IucID0+ICBNZXRob2RHROyXkOyEnOyXkOyEnCBzZXJ2aWNlaW50ZXJmYWNlIEV2ZW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRC5mb3JFYWNoKChlbGUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLlNJTWV0aG9kID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLnRhYk5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL01HRHNlcnZpY2VJJykKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZWxlLlNJTWV0aG9kID0gbnVsbAovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXRlLWxpbmUnLCBpZHgpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZGVsZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnRudW06IGlkeCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tTWV0aG9kR0Rlc2lnbl9pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21NZXRob2RHRGVzaWduX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGVsZXRlTmFtZSA9PSAnZXZlbnRHJykgewovLyAgICAgICAgICAgICAgICAgLy9TZXJ2aWNlIERlcGxveW1lbnQg67OA6rK97IucID0+ICBSZXF1aXJlZCBTb21lSVAgU2VydmljZSBJbnN0YW5jZSDsl5DshJwgU2VydmljZSBEZXBsb3ltZW50IEV2ZW50IEdyb3VwIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5mb3JFYWNoKChlbGUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5yZXF1aXJlZGV2ZW50Lmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5yZXF1aXJlZGV2ZW50LmZvckVhY2goKGl0ZW0sIG4pID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ldmVudEcgPT0gKHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQudGFiTmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShlbGUudXVpZCArICcvcmVxdWlyZWRFdmVudEctJyArIG4pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZXZlbnRHID0gbnVsbAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXRlLWxpbmUnLCBpZHgpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZGVsZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnRudW06IGlkeCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUmVxdWlyZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuW2ldLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUmVxdWlyZWRTb21lSVBfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgLy9TZXJ2aWNlIERlcGxveW1lbnQg67OA6rK97IucID0+ICBQcm92aWRlZCBTb21lSVAgU2VydmljZSBJbnN0YW5jZSDsl5DshJwgU2VydmljZSBEZXBsb21lbnTsnZggZXZlbnRHIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5mb3JFYWNoKChlbGUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLmV2ZW50Ry5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5ldmVudEcuZm9yRWFjaCgoaXRlbSwgbikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZXZlbnRHID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBwYXlsb2FkLnRhYk5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShlbGUudXVpZCArICcvcHJvdmlkRXZlbnRHLScgKyBuKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZXZlbnRHID0gbnVsbAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZGVsZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnRudW06IGlkeCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ21hY2hpbmVEJykgeyAvL0V0aGVybmV0Q2x1c3RlciDrs4Dqsr3quLAgPT4gTWFjaGluZURlc2lnbuyXkOyEnCBjb21tdW5pY2F0aW9uLUMsIHNlcnZpY2UgZGlzY292ZXIgLT4gZW5kcG9pbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24uZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5jb25uZWN0b3IubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBlbGUuY29ubmVjdG9yLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5lbmRwb2ludCAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYk5hbWUgPSBpdGVtLmVuZHBvaW50LnNwbGl0KCcvJykKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGl0ZW0uZW5kcG9pbnQgPT0gKHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIHBheWxvYWQudGFiTmFtZSkgJiYgcGF5bG9hZC5kZWxldFRhYiA9PSAnMycpIHx8Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgodGFiTmFtZVswXSArICcvJyArIHRhYk5hbWVbMV0pID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUpICYmIHBheWxvYWQuZGVsZXRUYWIgPT0gJzInICYmICh0YWJOYW1lWzJdICsgJy8nICsgdGFiTmFtZVszXSA9PSBwYXlsb2FkLnRhYk5hbWUpKSB8fAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKHRhYk5hbWVbMF0gKyAnLycgKyB0YWJOYW1lWzFdKSA9PSAocGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lKSAmJiBwYXlsb2FkLmRlbGV0VGFiID09ICcxJyAmJiAodGFiTmFtZVsyXSA9PSBwYXlsb2FkLnRhYk5hbWUpKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVuZHBvaW50ID0gbnVsbAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lRGVzaWduZV9pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuc2VydmljZWRpc2NvdmVyLmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgZWxlLnNlcnZpY2VkaXNjb3Zlci5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubXNpYSAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYk5hbWUgPSBpdGVtLm1zaWFzLnNwbGl0KCcvJykKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGl0ZW0ubXNpYSA9PSAocGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgcGF5bG9hZC50YWJOYW1lKSAmJiBwYXlsb2FkLmRlbGV0VGFiID09ICczJykgfHwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCh0YWJOYW1lWzBdICsgJy8nICsgdGFiTmFtZVsxXSkgPT0gKHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSkgJiYgcGF5bG9hZC5kZWxldFRhYiA9PSAnMicgJiYgKHRhYk5hbWVbMl0gKyAnLycgKyB0YWJOYW1lWzNdID09IHBheWxvYWQudGFiTmFtZSkpIHx8Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgodGFiTmFtZVswXSArICcvJyArIHRhYk5hbWVbMV0pID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUpICYmIHBheWxvYWQuZGVsZXRUYWIgPT0gJzEnICYmICh0YWJOYW1lWzJdID09IHBheWxvYWQudGFiTmFtZSkpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubXNpYSA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLmNoaWxkcmVuW2ldLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICBwYXlsb2FkLmRlbGV0SXRlbUxpc3QuZm9yRWFjaChkZWxldGVMaXN0ID0+IHsKLy8gICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ2Z1bmN0aW9uRycpIHsgLy9NYWNoaW5lIOuzgOqyveyLnCA9PiAgUHJvY2VzcyDsl5DshJwgTWFjaGluZSAtPiBGdW5jdGlvbiBHcm91cCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MuZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuZGVwZW5kZW50Lmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5kZXBlbmRlbnQuZm9yRWFjaCgoZGF0YSwgbikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmZ1bmN0aW9uSXRlbSAhPSBudWxsKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZnVuY3Rpb25JdGVtLmZvckVhY2goKGl0ZW0sIGYpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmNvbnRleHRNb2RlID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBkZWxldGVMaXN0Lm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShlbGUudXVpZCArICcvZmdjb250ZXh0LScgKyBmICsgJy0nICsgbikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnRleHRNb2RlID0gbnVsbAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZGVsZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnRudW06IGlkeCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLmNoaWxkcmVuW2ldLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGVsZXRlTmFtZSA9PSAnQ29tbXVuaWNhdGlvbkMnKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgLy9NYWNoaW5lRGVzaWduIOuzgOqyveyLnCA9PiAgIEV0aGVybmV0Q2x1c3RlcuyXkOyEnCBNYWNoaW5lRGVzaWduIC0+IENvbW11bmljYXRpb24gQ29ubmVjdG9yIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLmZvckVhY2goKGVsZSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5jb25kaXRpb25hbC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLmNvbmRpdGlvbmFsLmZvckVhY2goKGNvbmRpLCBjKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25kaS5jaGFubmVsICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpLmNoYW5uZWwuZm9yRWFjaCgoY2hhbm5lbCwgbikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLmNvbWNvbm5lY3QgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNvbWNvbm5lY3QuZm9yRWFjaCgoY29tLCB2KSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tLmNvbm5lY3RvciA9PSAocGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgZGVsZXRlTGlzdC5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL2NvbWNvbmV0LScgKyB2ICsgJy0nICsgbiArICctJyArIGMpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tLmNvbm5lY3RvciA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkZWxldGUtbGluZScsIGlkeCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0bnVtOiBpZHggfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4XS5jaGlsZHJlbltpXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgLy9NYWNoaW5lRGVzaWduIOuzgOqyveyLnCA9PiAgIFNvbWVJUHRvTWFjaGluZU1hcHBpbmcg7JeQ7IScIE1hY2hpbmVEZXNnaW7snZggQ29tbXVuaWNhdGlvbiBDb25uZWN0ZWQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmUuZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLmNjcmVmID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBkZWxldGVMaXN0Lm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShlbGUudXVpZCArICcvdG9tYWNoaW5DQycpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLmNjcmVmID0gbnVsbAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZGVsZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnRudW06IGlkeCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfaW5kZXhdLmNoaWxkcmVuW2ldLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KSAvL1NXIENvbXBvbmVudCDrs4Dqsr3si5wgPT4gICBTZXJ2aWNlIEluc3RhbmNlIHRvIHBvcnQgcHJvdG90eXBlIOyXkOyEnCBTV0NvbXBvbmVudCBwb3J0IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ3BQb3J0JyB8fCBwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ3ByUG9ydCcgfHwgcGF5bG9hZC5kZWxldGVOYW1lID09ICdyUG9ydCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5mb3JFYWNoKChlbGUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlbGUuc2VsZWN0UG9ydCA9PSAnUC1QT1JULVBST1RPVFlQRScgJiYgcGF5bG9hZC5kZWxldGVOYW1lID09ICdwUG9ydCcgJiYgZWxlLnBvcnR0eXBlID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBkZWxldGVMaXN0Lm5hbWUpKSB8fAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVsZS5zZWxlY3RQb3J0ID09ICdSLVBPUlQtUFJPVE9UWVBFJyAmJiBwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ3JQb3J0JyAmJiBlbGUucG9ydHR5cGUgPT0gKHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGRlbGV0ZUxpc3QubmFtZSkpIHx8Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZWxlLnNlbGVjdFBvcnQgPT0gJ1BSLVBPUlQtUFJPVE9UWVBFJyAmJiBwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ3ByUG9ydCcgJiYgZWxlLnBvcnR0eXBlID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBkZWxldGVMaXN0Lm5hbWUpKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShlbGUudXVpZCArICcvdG9wb3J0cG9ydCcpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUucG9ydHR5cGUgPSBudWxsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdkZWxldENvbm5lY3Rpb25saW5lJywgeyBzdGFydG51bTogaWR4IH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlRvUG9ydFByb3RvdHlwZU1hcHBpbmdfaW5kZXhdLmNoaWxkcmVuW2ldLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlRvUG9ydFByb3RvdHlwZU1hcHBpbmdfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ3ByUG9ydCcpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgLy9TV0NvbXBvbmVtdCDrs4Dqsr0g7IucID0+ICBQRVJQUHRvRmlsZUFycmF57JeQ7IScIFNXQ29tcG9uZW10IFBSIHBvcnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5LmZvckVhY2goKGVsZSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUucG9ydCA9PSAocGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgZGVsZXRlTGlzdC5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4ID0gdGhpcy5nZXR0ZXJzLmdldGNvbm5lY3RMaW5lTnVtKGVsZS51dWlkICsgJy9QUFB0b0ZpbGVQUlBvcnQnKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUucG9ydCA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0bnVtOiBpZHggfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBvcnRQcm90b0ZpbGVBX2luZGV4XS5jaGlsZHJlbltpXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBvcnRQcm90b0ZpbGVBX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9TV0NvbXBvbmVtdCDrs4Dqsr0g7IucID0+ICBQRVJQUHRvS2V5VmFsdWXsl5DshJwgU1dDb21wb25lbXQgUFIgcG9ydCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZS5mb3JFYWNoKChlbGUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUucG9ydCA9PSAocGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgZGVsZXRlTGlzdC5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL1BQUHRvS2V5UFJQb3J0JykKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUucG9ydCA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkZWxldGUtbGluZScsIGlkeCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0bnVtOiBpZHggfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9LZXlWX2luZGV4XS5jaGlsZHJlbltpXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmRlbGV0ZU5hbWUgPT0gJ2V2ZW50U0knKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgLy9TZXJ2aWNlSW50ZXJmYWNlIOuzgOqyvSDsi5wgPT4gIFNlcnZpY2VJbnRlcmZhY2UgRGVwbG95bWFudOyXkOyEnOyXkOyEnCBzZXJ2aWNlaW50ZXJmYWNlIEV2ZW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLmV2ZW50RC5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLmV2ZW50RC5mb3JFYWNoKChpdGVtLCBuKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmV2ZW50ID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBkZWxldGVMaXN0Lm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4ID0gdGhpcy5nZXR0ZXJzLmdldGNvbm5lY3RMaW5lTnVtKGVsZS51dWlkICsgJy9zZXJ2aWNlRXZlbnRELScgKyBuKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5ldmVudCA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXRlLWxpbmUnLCBpZHgpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0bnVtOiBpZHggfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X2luZGV4XS5jaGlsZHJlbltpXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgLy9TZXJ2aWNlSW50ZXJmYWNlIOuzgOqyvSDsi5wgPT4gIEV2ZW50R0Tsl5DshJzsl5DshJwgc2VydmljZWludGVyZmFjZSBFdmVudCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R0QuZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuU0lFdmVudCA9PSAocGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgZGVsZXRlTGlzdC5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShlbGUudXVpZCArICcvRUdEc2VydmljZUknKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLlNJRXZlbnQgPSBudWxsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdkZWxldENvbm5lY3Rpb25saW5lJywgeyBzdGFydG51bTogaWR4IH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUV2ZW50R0Rlc2lnbl9pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGVsZXRlTmFtZSA9PSAnZmllbGRTSScpIHsKLy8gICAgICAgICAgICAgICAgICAgICAvL1NlcnZpY2VJbnRlcmZhY2Ug67OA6rK9IOyLnCA9PiAgU2VydmljZUludGVyZmFjZSBEZXBsb3ltYW507JeQ7ISc7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgRmllbGQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5mb3JFYWNoKChlbGUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuZmllbGRELmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUuZmllbGRELmZvckVhY2goKGl0ZW0sIG4pID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZmllbGQgPT0gKHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGRlbGV0ZUxpc3QubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL2ZpZWxkLScgKyBuKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5maWVsZCA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXRlLWxpbmUnLCBpZHgpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0bnVtOiBpZHggfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X2luZGV4XS5jaGlsZHJlbltpXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgLy9TZXJ2aWNlSW50ZXJmYWNlIOuzgOqyvSDsi5wgPT4gIEZpZWxkR0Tsl5DshJzsl5DshJwgc2VydmljZWludGVyZmFjZSBGaWVsZCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0QuZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuU0lGaWVsZCA9PSAocGF5bG9hZC5wYXRoICsgJy8nICsgcGF5bG9hZC5uYW1lICsgJy8nICsgZGVsZXRlTGlzdC5uYW1lKSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRoaXMuZ2V0dGVycy5nZXRjb25uZWN0TGluZU51bShlbGUudXVpZCArICcvRkdEc2VydmljZUknKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLlNJRmllbGQgPSBudWxsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdkZWxldENvbm5lY3Rpb25saW5lJywgeyBzdGFydG51bTogaWR4IH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUZpZWxkR0Rlc2lnbl9pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZGVsZXRlTmFtZSA9PSAnZXZlbnREJykgewovLyAgICAgICAgICAgICAgICAgICAgIC8vU2VydmljZSBEZXBsb3ltZW50IOuzgOqyveyLnCA9PiAgU2VydmljZUludGVyZmFjZSBEZXBsb3ltYW507JeQ7ISc7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgRGVwbG95bWFudCBFdmVudCBEZXBsb3ltZW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLmV2ZW50Ry5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLmV2ZW50Ry5mb3JFYWNoKChpdGVtLCBuKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmV2ZW50ICE9IG51bGwpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZXZlbnQuZm9yRWFjaCgoZGF0YSwgZCkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmV2ZW50ID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBkZWxldGVMaXN0Lm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL2V2ZW50LScgKyBkICsgJy0nICsgbikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5ldmVudCA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCAhPSAtMSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2RlbGV0Q29ubmVjdGlvbmxpbmUnLCB7IHN0YXJ0bnVtOiBpZHggfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAvL1NlcnZpY2UgRGVwbG95bWVudCDrs4Dqsr3si5wgPT4gIFByb3ZpZGVkIFNvbWVJUCBTZXJ2aWNlIEluc3RhbmNlIOyXkOyEnCBTZXJ2aWNlIERlcGxvbWVudOydmCAgZXZlbnREIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZm9yRWFjaCgoZWxlLCBpKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUuZXZlbnRQLmxlbmd0aCA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5ldmVudFAuZm9yRWFjaCgoaXRlbSwgbikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmV2ZW50ID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBkZWxldGVMaXN0Lm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL3Byb3ZpZWRFdmVudFAtJyArIG4pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZXZlbnQgPSBudWxsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkZWxldGUtbGluZScsIGlkeCkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdkZWxldENvbm5lY3Rpb25saW5lJywgeyBzdGFydG51bTogaWR4IH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9pbmRleF0uY2hpbGRyZW5baV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5kZWxldGVOYW1lID09ICdtZXRob2REJykgewovLyAgICAgICAgICAgICAgICAgICAgIC8vU2VydmljZSBEZXBsb3ltZW50IOuzgOqyveyLnCA9PiAgUmVxdWlyZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNlcnZpY2UgRGVwbG95bWVudCBNZXRob2QgRGVwbG95bWVudCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQLmZvckVhY2goKGVsZSwgaSkgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5tZXRob2QubGVuZ3RoID4gMCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5tZXRob2QuZm9yRWFjaCgoaXRlbSwgbikgPT4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5tZXRob2QgPT0gKHBheWxvYWQucGF0aCArICcvJyArIHBheWxvYWQubmFtZSArICcvJyArIGRlbGV0ZUxpc3QubmFtZSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL3JlcXVpcmVkTWV0aG9kLScgKyBuKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tZXRob2QgPSBudWxsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaWR4KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdkZWxldENvbm5lY3Rpb25saW5lJywgeyBzdGFydG51bTogaWR4IH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlJlcXVpcmVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICAgICAgICAgIC8vU2VydmljZSBEZXBsb3ltZW50IOuzgOqyveyLnCA9PiAgUHJvdmlkZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNlcnZpY2UgRGVwbG9tZW507J2YIE1ldGhvZEQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5mb3JFYWNoKChlbGUsIGkpID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5tZXRob2QgIT0gbnVsbCkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLm1ldGhvZC5mb3JFYWNoKChpdGVtLCBuKSA9PiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubWV0aG9kID09IChwYXlsb2FkLnBhdGggKyAnLycgKyBwYXlsb2FkLm5hbWUgKyAnLycgKyBkZWxldGVMaXN0Lm5hbWUpKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oZWxlLnV1aWQgKyAnL3Byb3ZpZWRNZXRob2QtJyArIG4pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubWV0aG9kID0gbnVsbAovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ICE9IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXRlLWxpbmUnLCBpZHgpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnZGVsZXRDb25uZWN0aW9ubGluZScsIHsgc3RhcnRudW06IGlkeCB9KQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuW2ldLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGRlbGV0ZVJlZkVsZW1lbnQoc3RhdGUsIHBheWxvYWQpIHsgLy8g7KeA7Jq4IGVsZW1lbnTrpbwgIHJlZu2VmOuKlOqzsyDssL7quLAgPT4g7ZmU7IK07ZGc7J2YIOuBnQovLyAgICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5nZXR0ZXJzLmdldGNoYW5nZW5hbWVsaXN0KHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnPT1kZWxldGVSZWZFbGVtZW50PT0nICsgaW5kaWNlcykKLy8gICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGljZXMubGVuZ3RoOyBpKyspIHsKLy8gICAgICAgICAgICAgdmFyIHN0YXJ0VVVJRCA9IHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnN0YXJ0W2luZGljZXNbaV1dLnNwbGl0KCcvJykKLy8gICAgICAgICAgICAgdmFyIHRhYmxlTGluZSA9IHN0YXJ0VVVJRFsxXS5zcGxpdCgnLScpCi8vICAgICAgICAgICAgIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2RkcGNjb21wdScpIHsgLy8gaW1wbGVtZW50YXRpb24g7JeQ7IScIGNvbXB1IG1ldGhvZCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhJbXBsZUNvbSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4SW1wbGVDb21dLmRkcGNbdGFibGVMaW5lWzFdXS5jb21wdW1ldGhvZCA9ICcnCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0uY2hpbGRyZW5baWR4SW1wbGVDb21dLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdkZHBjZGF0YScpIHsgLy8gaW1wbGVtZW50YXRpb24g7JeQ7IScIGRhdGEgY29uc3RyIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEltcGxlRGEgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeEltcGxlRGFdLmRkcGNbdGFibGVMaW5lWzFdXS5kYXRhY29uc3RyID0gJycKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkltcGxlbWVudGF0aW9uX2luZGV4XS5jaGlsZHJlbltpZHhJbXBsZURhXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSW1wbGVtZW50YXRpb25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAndHlwZXJlZicpIHsgLy8gaW1wbGVtZW50YXRpb24g7JeQ7IScIGltcGxlbWVudGF0aW9uIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEltcGxldHlwZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQudXVpZCAhPSBzdGFydFVVSURbMF0pIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhJbXBsZXR5cGVdLnR5cGVyZWYgPSBudWxsCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSW1wbGVtZW50YXRpb25faW5kZXhdLmNoaWxkcmVuW2lkeEltcGxldHlwZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3RlbXBsYXRlVHlwZScpIHsgLy8gaW1wbGVtZW50YXRpb24g7JeQ7IScIGltcGxlbWVudGF0aW9uIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEltcGxldGVtcCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQudXVpZCAhPSBzdGFydFVVSURbMF0pIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhJbXBsZXRlbXBdLnRlbXBsYXRldHlwZSA9IG51bGwKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0uY2hpbGRyZW5baWR4SW1wbGV0ZW1wXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkltcGxlbWVudGF0aW9uX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnaWR0ZXRhYmxlJykgeyAvLyBpbXBsZW1lbnRhdGlvbiDsl5DshJwgaW1wbGVtZW50YXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4SW1wbGVJbXBsZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQudXVpZCAhPSBzdGFydFVVSURbMF0pIHsKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhJbXBsZUltcGxlXS5pZHRlbGVtZW50W3RhYmxlTGluZVsxXV0udHlwZXJlZiA9ICcnCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSW1wbGVtZW50YXRpb25faW5kZXhdLmNoaWxkcmVuW2lkeEltcGxlSW1wbGVdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSW1wbGVtZW50YXRpb25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdtYWNoaW5lZGVzaWduJykgeyAvLyBtYWNoaW7sl5DshJwgbWFjaGluRGVzaWduIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeE1hY2hpbmVEID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeE1hY2hpbmVEXS5tYWNoaW5lZGVzaWduID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0uY2hpbGRyZW5baWR4TWFjaGluZURdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2h3ZWxlbWVudCcpIHsgLy8gbWFjaGlu7JeQ7IScIEhXRWxlbWVudCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhNYWNoaW5lSFdFID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeE1hY2hpbmVIV0VdLmh3ZWxlbWVudFt0YWJsZUxpbmVbMV1dLmh3ZWxlbWVudCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVfaW5kZXhdLmNoaWxkcmVuW2lkeE1hY2hpbmVIV0VdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2Z1bmN0aW9udGFibGUnKSB7IC8vIG1hY2hpbuyXkOyEnCBNb2RlIERlY2xhcmF0aW9uIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeE1hY2hpbmVNRCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhNYWNoaW5lTURdLmZ1bmN0aW9uZ3JvdXBbdGFibGVMaW5lWzFdXS50eXBlID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0uY2hpbGRyZW5baWR4TWFjaGluZU1EXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdjY3RhYmxlJykgeyAvLyBtYWNoaW5EZXNpZ27sl5DshJwgRXRoZXJuZXRDbHVzdGVyIEVuZHBvaW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeE1hY2hpbmVEQ0MgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24uZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ25baWR4TWFjaGluZURDQ10uY29ubmVjdG9yW3RhYmxlTGluZVsxXV0uZW5kcG9pbnQgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lRGVzaWduZV9pbmRleF0uY2hpbGRyZW5baWR4TWFjaGluZURDQ10udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3NkY3RhYmxlJykgeyAvLyBtYWNoaW5EZXNpZ27sl5DshJwgRXRoZXJuZXRDbHVzdGVyIEVuZHBvaW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeE1hY2hpbmVEU0RDID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeE1hY2hpbmVEU0RDXS5zZXJ2aWNlZGlzY292ZXJbdGFibGVMaW5lWzFdXS5tc2lhID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLmNoaWxkcmVuW2lkeE1hY2hpbmVEU0RDXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnY29tY29uZXQnKSB7IC8vIEV0aGVybmV0Q2x1c3RlcuyXkOyEnCBNYWNoaW5lRGVzaWduIC0+IENvbW11bmljYXRpb24gQ29ubmVjdG9yIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeEV0aGVybmV0ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXIuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpZHhFdGhlcm5ldF0uY29uZGl0aW9uYWxbdGFibGVMaW5lWzNdXS5jaGFubmVsW3RhYmxlTGluZVsyXV0uY29tY29ubmVjdFt0YWJsZUxpbmVbMV1dLmNvbm5lY3RvciA9ICcnCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FdGhlcm5ldENsdXN0ZXJfaW5kZXhdLmNoaWxkcmVuW2lkeEV0aGVybmV0XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ21hY2hpbmVmcm9tcHRtbScpIHsgLy8gUHJvY2VzcyB0byBNYWNoaW5lIE1hcHBpbmcgc2V0IOyXkOyEnCBNYWNoaW5lIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFBUTU1NYWNoaW5lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nW2lkeFBUTU1NYWNoaW5lXS5wdG1tTWFjaGluZSA9ICcnCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX2luZGV4XS5jaGlsZHJlbltpZHhQVE1NTWFjaGluZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc3RvTWFjaGluZU1hcHBpbmdfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm9jZXNzZnJvbXB0bW0nKSB7IC8vIFByb2Nlc3MgdG8gTWFjaGluZSBNYXBwaW5nIHNldCDsl5DshJwgUHJvY2VzcyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQVE1NUHJvY2VzcyA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZ1tpZHhQVE1NUHJvY2Vzc10ucHRtbVByb2Nlc3MgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX2luZGV4XS5jaGlsZHJlbltpZHhQVE1NUHJvY2Vzc10udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc3RvTWFjaGluZU1hcHBpbmdfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcG9ydHRhYmxlJykgeyAvLyBTVyBDb21wb25lbnRzIOyXkOyEnCBTZXJ2aWNlSW50ZXJmYWNlIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeHBwb3J0ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TV0NvbXBvbmVudHMuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50c1tpZHhwcG9ydF0ucHBvcnRbdGFibGVMaW5lWzFdXS5pbnRlcmZhY2UgPSAnJwovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TV0NvbXBvbmVudHNfaW5kZXhdLmNoaWxkcmVuW2lkeHBwb3J0XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TV0NvbXBvbmVudHNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcnBvcnR0YWJsZScpIHsgLy8gU1cgQ29tcG9uZW50cyDsl5DshJwgU2VydmljZUludGVyZmFjZSByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhwcnBvcnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzW2lkeHBycG9ydF0ucHJwb3J0W3RhYmxlTGluZVsxXV0uaW50ZXJmYWNlID0gJycKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU1dDb21wb25lbnRzX2luZGV4XS5jaGlsZHJlbltpZHhwcnBvcnRdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNXQ29tcG9uZW50c19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Jwb3J0dGFibGUnKSB7IC8vIFNXIENvbXBvbmVudHMg7JeQ7IScIFNlcnZpY2VJbnRlcmZhY2UgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4cnBvcnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzW2lkeHJwb3J0XS5ycG9ydFt0YWJsZUxpbmVbMV1dLmludGVyZmFjZSA9ICcnCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNXQ29tcG9uZW50c19pbmRleF0uY2hpbGRyZW5baWR4cnBvcnRdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNXQ29tcG9uZW50c19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2FwcGxpY2F0aW9udHlwZXJlZicpIHsgLy8gRXhlY3V0YWJsZSDsl5DshJwgU1cgQ29tcG9uZW50cyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFeGVjdXRhYmxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlW2lkeEV4ZWN1dGFibGVdLmFwcGxpY2F0aW9udHlwZXJlZiA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXhlY3V0YWJsZV9pbmRleF0uY2hpbGRyZW5baWR4RXhlY3V0YWJsZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXhlY3V0YWJsZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb2Rlc2lnbmV4ZWN1dGFibGUnKSB7IC8vIFByb2Nlc3NEZXNpZ24g7JeQ7IScICBFeGVjdXRhYmxlIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFByb0RFeGVjdXRhYmxlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduW2lkeFByb0RFeGVjdXRhYmxlXS5leGVjdXRhYmxlcmVmID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzRGVzaWduX2luZGV4XS5jaGlsZHJlbltpZHhQcm9ERXhlY3V0YWJsZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb2Nlc3Nwcm9kZXNpZ24nKSB7IC8vIFByb2Nlc3Mg7JeQ7IScIFByb2Nlc3MgRGVzaWduIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFByb1Byb0Rlc2lnbiA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhQcm9Qcm9EZXNpZ25dLnByb2Rlc2lnbiA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc19pbmRleF0uY2hpbGRyZW5baWR4UHJvUHJvRGVzaWduXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJvY2Vzc2RldGVybWluJykgeyAvLyBQcm9jZXNzIOyXkOyEnCBEZXRlcm1pbmlzdHJpYyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQcm9EZXRlcm1pbiA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhQcm9EZXRlcm1pbl0uZGV0ZXJtaW4gPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLmNoaWxkcmVuW2lkeFByb0RldGVybWluXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJvY2Vzc2V4ZWN1dCcpIHsgLy8gUHJvY2VzcyDsl5DshJwgRXhlY3V0YWJsZSByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQcm9FeGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4UHJvRXhlXS5leGVjdXQgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLmNoaWxkcmVuW2lkeFByb0V4ZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb2Nlc3Ntb2RlZGVjbGFyJykgeyAvLyBQcm9jZXNzIOyXkOyEnCBNb2RlIERlY2xhcmF0aW9uIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFByb01vZCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhQcm9Nb2RdLm1hY2hpbmV0eXBlID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzX2luZGV4XS5jaGlsZHJlbltpZHhQcm9Nb2RdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm9jZXNzc3RhcnR1cCcpIHsgLy8gUHJvY2VzcyDsl5DshJwgU3RhcnR1cCBDb25maWcgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4UHJvU3RhcnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4UHJvU3RhcnRdLmRlcGVuZGVudFt0YWJsZUxpbmVbMV1dLnN0YXJ0dXBDb25maWdSZWYgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLmNoaWxkcmVuW2lkeFByb1N0YXJ0XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJvY2Vzc3Jlc29yY2UnKSB7IC8vIFByb2Nlc3Mg7JeQ7IScIE1hY2hpbmUgLT4gTW9kdWxlIEluc3RhbnRpYXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4UHJvTUkgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3NbaWR4UHJvTUldLmRlcGVuZGVudFt0YWJsZUxpbmVbMV1dLnJlc291cmNlUmVmID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzX2luZGV4XS5jaGlsZHJlbltpZHhQcm9NSV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2ZnY29udGV4dCcpIHsgLy8gUHJvY2VzcyDsl5DshJwgTWFjaGluZSAtPiBGdW5jdGlvbiBHcm91cCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQcm9NYWNoaW5lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzW2lkeFByb01hY2hpbmVdLmRlcGVuZGVudFt0YWJsZUxpbmVbMl1dLmZ1bmN0aW9uSXRlbVt0YWJsZUxpbmVbMV1dLmNvbnRleHRNb2RlID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzX2luZGV4XS5jaGlsZHJlbltpZHhQcm9NYWNoaW5lXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm9jZXNzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnZmd0YXJnZXQnKSB7IC8vIFByb2Nlc3Mg7JeQ7IScICBNb2R1bGUgRGVjbGFyYXRpb24tPiBtb2RlIERlY2xhcmF0aW9ucyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQcm9NRCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc1tpZHhQcm9NRF0uZGVwZW5kZW50W3RhYmxlTGluZVsyXV0uZnVuY3Rpb25JdGVtW3RhYmxlTGluZVsxXV0udGFyZ2V0TW9kZSA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvY2Vzc19pbmRleF0uY2hpbGRyZW5baWR4UHJvTURdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdlcnJvcmRvbWFpbicpIHsgLy8gRXJyb3Ig7JeQ7IScIEVycm9yIERvbWFpbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFcnJvckQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvcltpZHhFcnJvckRdLmVycm9yRHJlZiA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FcnJvcl9pbmRleF0uY2hpbGRyZW5baWR4RXJyb3JEXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FcnJvcnNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FcnJvcnNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdlcnJvcicpIHsgLy8gRXJyb3IgU2V0IOyXkOyEnCBFcnJvciAgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RXJyb3IgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvclNldFtpZHhFcnJvcl0uZXJyb3JyZWZbdGFibGVMaW5lWzFdXS5lcnJvciA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FcnJvcnNldF9pbmRleF0uY2hpbGRyZW5baWR4RXJyb3JdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JzZXRfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3NlcnZpY2UnKSB7IC8vIFNlcnZpY2VJbnRlcmZhY2UgRGVwbG95bWFudOyXkOyEnCBzZXJ2aWNlSW50ZXJmYWNlIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFNJRHNlcnZpY2UgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhTSURzZXJ2aWNlXS5zZXJ2aWNlID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfaW5kZXhdLmNoaWxkcmVuW2lkeFNJRHNlcnZpY2VdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdldmVudCcpIHsgLy8gU2VydmljZUludGVyZmFjZSBEZXBsb3ltYW507JeQ7ISc7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgRGVwbG95bWFudCBFdmVudCBEZXBsb3ltZW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFNJRGV2ZW50RyA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC51dWlkICE9IHN0YXJ0VVVJRFswXSkgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4U0lEZXZlbnRHXS5ldmVudEdbdGFibGVMaW5lWzJdXS5ldmVudFt0YWJsZUxpbmVbMV1dLmV2ZW50ID0gbnVsbAovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X2luZGV4XS5jaGlsZHJlbltpZHhTSURldmVudEddLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnc2VydmljZUV2ZW50RCcpIHsgLy8gU2VydmljZUludGVyZmFjZSBEZXBsb3ltYW507JeQ7ISc7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgRXZlbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4U0lEZXZlbnREID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4U0lEZXZlbnREXS5ldmVudERbdGFibGVMaW5lWzFdXS5ldmVudCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X2luZGV4XS5jaGlsZHJlbltpZHhTSURldmVudERdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdzZXJ2aWNlTWV0aG9kRCcpIHsgLy8gU2VydmljZUludGVyZmFjZSBEZXBsb3ltYW507JeQ7ISc7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgTWV0aG9kIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFNJRE1ldGhvZEQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudFtpZHhTSURNZXRob2REXS5tZXRob2REW3RhYmxlTGluZVsxXV0ubWV0aG9kID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfaW5kZXhdLmNoaWxkcmVuW2lkeFNJRE1ldGhvZERdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdmaWVsZCcpIHsgLy8gU2VydmljZUludGVyZmFjZSBEZXBsb3ltYW507JeQ7ISc7JeQ7IScIHNlcnZpY2VpbnRlcmZhY2UgRmllbGQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4U0lERmllbGREID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRbaWR4U0lERmllbGREXS5maWVsZERbdGFibGVMaW5lWzFdXS5maWVsZCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X2luZGV4XS5jaGlsZHJlbltpZHhTSURGaWVsZERdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdFdmVudHRhYmxlJykgeyAvLyBTZXJ2aWNlSW50ZXJmYWNlIOyXkOyEnCBJbXBsZW1lbnRhdGlvbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhTSWV2ZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeFNJZXZlbnRdLmV2ZW50c1t0YWJsZUxpbmVbMV1dLnR5cGUgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX2luZGV4XS5jaGlsZHJlbltpZHhTSWV2ZW50XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdGaWVsZHRhYmxlJykgeyAvLyBTZXJ2aWNlSW50ZXJmYWNlIOyXkOyEnCBJbXBsZW1lbnRhdGlvbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhTSWZpZWxkID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeFNJZmllbGRdLmZpZWxkc1t0YWJsZUxpbmVbMV1dLnR5cGUgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX2luZGV4XS5jaGlsZHJlbltpZHhTSWZpZWxkXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdhcmd0YWJsZScpIHsgLy8gU2VydmljZUludGVyZmFjZSDsl5DshJwgSW1wbGVtZW50YXRpb24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4U0lJbXAgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4U0lJbXBdLm1ldGhvZHNbdGFibGVMaW5lWzJdXS5hcmd1bWVudFt0YWJsZUxpbmVbMV1dLnR5cGUgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX2luZGV4XS5jaGlsZHJlbltpZHhTSUltcF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnbWV0aG9kZXJyb3JzJykgeyAvLyBTZXJ2aWNlSW50ZXJmYWNlIOyXkOyEnCBFcnJvciByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhTSUVycm9yID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeFNJRXJyb3JdLm1ldGhvZHNbdGFibGVMaW5lWzJdXS5lcnJvclNldFt0YWJsZUxpbmVbMV1dLmVycm9yID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9pbmRleF0uY2hpbGRyZW5baWR4U0lFcnJvcl0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnbWV0aG9kZXJyb3InKSB7IC8vIFNlcnZpY2VJbnRlcmZhY2Ug7JeQ7IScIEVycm9yU2V0IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFNJRXJyb3JTID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeFNJRXJyb3JTXS5tZXRob2RzW3RhYmxlTGluZVsyXV0uZXJyb3JbdGFibGVMaW5lWzFdXS5lcnJvciA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VfaW5kZXhdLmNoaWxkcmVuW2lkeFNJRXJyb3JTXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICd0b21hY2hpbkNDJykgeyAvLyBTb21lSVB0b01hY2hpbmVNYXBwaW5nIOyXkOyEnCBNYWNoaW5lRGVzZ2lu7J2YIENvbW11bmljYXRpb24gQ29ubmVjdGVkIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFNJTU1DQyA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4U0lNTUNDXS5jY3JlZiA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU29tZUlQVG9NYWNoaW5lTWFwcGluZ19pbmRleF0uY2hpbGRyZW5baWR4U0lNTUNDXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAndG9tYWNoaW5TZXJ2aWNlSW5zJykgeyAvLyBTb21lSVB0b01hY2hpbmVNYXBwaW5nIOyXkOyEnCBSZXF1aXJlZCBTb21lSVAgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4U0lSZXF1aXJlZCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmVbaWR4U0lSZXF1aXJlZF0uc2lyZWYgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfaW5kZXhdLmNoaWxkcmVuW2lkeFNJUmVxdWlyZWRdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICd0b3BvcnRwb3J0JykgeyAvLyBTZXJ2aWNlIEluc3RhbmNlIHRvIHBvcnQgcHJvdG90eXBlIOyXkOyEnCBTV0NvbXBvbmVudCBwb3J0IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeHRvcG9ydHBvcnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlW2lkeHRvcG9ydHBvcnRdLnNlbGVjdFBvcnQgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHh0b3BvcnRwb3J0XS5wb3J0dHlwZSA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19pbmRleF0uY2hpbGRyZW5baWR4dG9wb3J0cG9ydF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3RvcG9ydHByb2Nlc3MnKSB7IC8vIFNlcnZpY2UgSW5zdGFuY2UgdG8gcG9ydCBwcm90b3R5cGUg7JeQ7IScIHByb2Nlc3MgZGVzaWduIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeHRvcG9ydHByb2VzcyA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4dG9wb3J0cHJvZXNzXS5wcm9jZXNzID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX2luZGV4XS5jaGlsZHJlbltpZHh0b3BvcnRwcm9lc3NdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlRvUG9ydFByb3RvdHlwZU1hcHBpbmdfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICd0b3BvcnRzZXJ2aWNlJykgeyAvLyBTZXJ2aWNlIEluc3RhbmNlIHRvIHBvcnQgcHJvdG90eXBlIOyXkOyEnCBwcm92aWRlZCxyZXF1aXJlZCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHh0b3BvcnRzZXJ2aWNlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZVtpZHh0b3BvcnRzZXJ2aWNlXS5zZWxlY3RTZXJ2aWNlSW5zID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGVbaWR4dG9wb3J0c2VydmljZV0uc2VydmljZUlucyA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19pbmRleF0uY2hpbGRyZW5baWR4dG9wb3J0c2VydmljZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3JlcXVpcmVkRGVwbG95JykgeyAvLyBSZXF1aXJlZCBTb21lSVAgU2VydmljZSBJbnN0YW5jZSDsl5DshJwgU2VydmljZSBEZXBsb3ltZW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFJlcXVpcmVkRCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeFJlcXVpcmVkRF0uZGVwbG95cmVmID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9pbmRleF0uY2hpbGRyZW5baWR4UmVxdWlyZWREXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3JlcXVpcmVkU29tZUlQQycpIHsgLy8gUmVxdWlyZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNvbWVJUCBDbGllbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4UmVxdWlyZWRTID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4UmVxdWlyZWRTXS5zb21laXBjbGllbnQgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlJlcXVpcmVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpZHhSZXF1aXJlZFNdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlJlcXVpcmVkU29tZUlQX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncmVxdWlyZWRNZXRob2QnKSB7IC8vIFJlcXVpcmVkIFNvbWVJUCBTZXJ2aWNlIEluc3RhbmNlIOyXkOyEnCBTZXJ2aWNlIERlcGxveW1lbnQgTWV0aG9kIERlcGxveW1lbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4UmVxdWlyZWRNID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4UmVxdWlyZWRNXS5tZXRob2RbdGFibGVMaW5lWzFdXS5tZXRob2QgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlJlcXVpcmVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpZHhSZXF1aXJlZE1dLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlJlcXVpcmVkU29tZUlQX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncmVxdWlyZWRFdmVudEcnKSB7IC8vIFJlcXVpcmVkIFNvbWVJUCBTZXJ2aWNlIEluc3RhbmNlIOyXkOyEnCBTZXJ2aWNlIERlcGxveW1lbnQgRXZlbnQgR3JvdXAgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4UmVxdWlyZWRFID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVBbaWR4UmVxdWlyZWRFXS5yZXF1aXJlZGV2ZW50W3RhYmxlTGluZVsxXV0uZXZlbnRHID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9pbmRleF0uY2hpbGRyZW5baWR4UmVxdWlyZWRFXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3JlcXVpcmVkQ2xpZW50JykgeyAvLyBSZXF1aXJlZCBTb21lSVAgU2VydmljZSBJbnN0YW5jZSDsl5DshJwgQ2xpZW50IGV2ZW50IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFJlcXVpcmVkQyA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUmVxdWlyZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlJlcXVpcmVkU29tZUlQW2lkeFJlcXVpcmVkQ10ucmVxdWlyZWRldmVudFt0YWJsZUxpbmVbMV1dLmNsaWVudCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUmVxdWlyZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuW2lkeFJlcXVpcmVkQ10udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUmVxdWlyZWRTb21lSVBfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm92aWREZXBsb3knKSB7IC8vIFByb3ZpZGVkIFNvbWVJUCBTZXJ2aWNlIEluc3RhbmNlIOyXkOyEnCBTZXJ2aWNlIERlcGxveW1lbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4UHJvdmlkRCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeFByb3ZpZERdLmRlcGxveXJlZiA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuW2lkeFByb3ZpZERdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAncHJvdmlkU29tZUlQUycpIHsgLy8gUHJvdmlkZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNvbUlQIFNlcnZlciByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQcm92aWRTUyA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeFByb3ZpZFNTXS5zb21laXBzZXJ2ZXIgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpZHhQcm92aWRTU10udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm92aWVkRXZlbnRQJykgeyAvLyBQcm92aWRlZCBTb21lSVAgU2VydmljZSBJbnN0YW5jZSDsl5DshJwgU2VydmljZSBEZXBsb21lbnTsnZggIGV2ZW50RCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQcm92aWRFUCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeFByb3ZpZEVQXS5ldmVudFBbdGFibGVMaW5lWzFdXS5ldmVudCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuW2lkeFByb3ZpZEVQXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb3ZpZWRNZXRob2QnKSB7IC8vIFByb3ZpZGVkIFNvbWVJUCBTZXJ2aWNlIEluc3RhbmNlIOyXkOyEnCBTZXJ2aWNlIERlcGxvbWVudOydmCBNZXRob2REIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFByb3ZpZE0gPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUFtpZHhQcm92aWRNXS5tZXRob2RbdGFibGVMaW5lWzFdXS5tZXRob2QgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpZHhQcm92aWRNXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ3Byb3ZpZEV2ZW50RycpIHsgLy8gUHJvdmlkZWQgU29tZUlQIFNlcnZpY2UgSW5zdGFuY2Ug7JeQ7IScIFNlcnZpY2UgRGVwbG9tZW507J2YIGV2ZW50RyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQcm92aWRFRyA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeFByb3ZpZEVHXS5ldmVudEdbdGFibGVMaW5lWzFdXS5ldmVudEcgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4XS5jaGlsZHJlbltpZHhQcm92aWRFR10udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdwcm92aWRTZXJ2ZXInKSB7IC8vIFByb3ZpZGVkIFNvbWVJUCBTZXJ2aWNlIEluc3RhbmNlIOyXkOyEnCBTZXJ2ZXIgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4UHJvdmlkUyA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlByb3ZpZGVkU29tZUlQW2lkeFByb3ZpZFNdLmV2ZW50R1t0YWJsZUxpbmVbMV1dLnNlcnZlciA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuW2lkeFByb3ZpZFNdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIC8vLy8vLy8vLwovLyAgICAgICAgICAgICBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ1BQUHRvRmlsZUFycmF5JykgeyAvLyBQUFAgdG8gRmlsZSBBcnJheeyXkOyEnCBQRVJTSVNURU5DWS1GSUxFLUFSUkFZIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFBQUHRvRmlsZUFycmF5ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheVtpZHhQUFB0b0ZpbGVBcnJheV0uZmlsZUFycmF5ID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9GaWxlQV9pbmRleF0uY2hpbGRyZW5baWR4UFBQdG9GaWxlQXJyYXldLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBvcnRQcm90b0ZpbGVBX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ1BQUHRvRmlsZVBSUG9ydCcpIHsgLy8gUFBQIHRvIEZpbGUgQXJyYXnsl5DshJwgUFIgcG9ydCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQUFB0b0ZpbGVQb3J0ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheVtpZHhQUFB0b0ZpbGVQb3J0XS5wb3J0ID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9GaWxlQV9pbmRleF0uY2hpbGRyZW5baWR4UFBQdG9GaWxlUG9ydF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnUFBQdG9GaWxlUHJvY2VzcycpIHsgLy8gUFBQIHRvIEZpbGUgQXJyYXnsl5DshJwgUHJvY2VzcyByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhQUFB0b0ZpbGVQcm9jZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9GaWxlQXJyYXlbaWR4UFBQdG9GaWxlUHJvY2VdLnByb2Nlc3MgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBvcnRQcm90b0ZpbGVBX2luZGV4XS5jaGlsZHJlbltpZHhQUFB0b0ZpbGVQcm9jZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5QRVJfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnUFBQdG9LZXlWYWx1ZScpIHsgLy8gUFBQIHRvIEtleSBWYWx1ZeyXkOyEnCBQRVJTSVNURU5DWS1GSUxFLUFSUkFZIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFBQUHRvS2V5VmFsdWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZVtpZHhQUFB0b0tleVZhbHVlXS5rZXlWYWx1ZSA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9pbmRleF0uY2hpbGRyZW5baWR4UFBQdG9LZXlWYWx1ZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdQUFB0b0tleVBSUG9ydCcpIHsgLy8gUFBQIHRvIEtleSBWYWx1ZeyXkOyEnCBQUiBwb3J0IHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFBQUHRvS2V5UG9ydCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvS2V5VmFsdWUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlW2lkeFBQUHRvS2V5UG9ydF0ucG9ydCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9pbmRleF0uY2hpbGRyZW5baWR4UFBQdG9LZXlQb3J0XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9LZXlWX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ1BQUHRvS2V5UHJvY2VzcycpIHsgLy8gUFBQIHRvIEtleSBWYWx1ZeyXkOyEnCBQcm9jZXNzIHJlZu2VoOuVjAovLyAgICAgICAgICAgICAgICAgdmFyIGlkeFBQUHRvS2V5UHJvY2UgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZVtpZHhQUFB0b0tleVByb2NlXS5wcm9jZXNzID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9LZXlWX2luZGV4XS5jaGlsZHJlbltpZHhQUFB0b0tleVByb2NlXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9LZXlWX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ0ZHRHByb0QnKSB7IC8vIEZpZWxkIEdyYW50IERlc2lnbuyXkOyEnCBQcm9jZXNzIERlc2lnbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhGR0RQcm8gPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0RbaWR4RkdEUHJvXS5wcm9jZXNzRCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX2luZGV4XS5jaGlsZHJlbltpZHhGR0RQcm9dLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUZpZWxkR0Rlc2lnbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdFR0Rwcm9EJykgeyAvLyBFdmVudCBHcmFudCBEZXNpZ27sl5DshJwgUHJvY2VzcyBEZXNpZ24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RUdEUHJvID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdEW2lkeEVHRFByb10ucHJvY2Vzc0QgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUV2ZW50R0Rlc2lnbl9pbmRleF0uY2hpbGRyZW5baWR4RUdEUHJvXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21FdmVudEdEZXNpZ25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnTUdEcHJvRCcpIHsgLy8gTWV0aG9kIEdyYW50IERlc2lnbuyXkOyEnCBQcm9jZXNzIERlc2lnbiByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhNR0RQcm8gPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRFtpZHhNR0RQcm9dLnByb2Nlc3NEID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21NZXRob2RHRGVzaWduX2luZGV4XS5jaGlsZHJlbltpZHhNR0RQcm9dLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnRkdEc2VydmljZUknKSB7IC8vIEZpZWxkIEdyYW50IERlc2lnbuyXkOyEnCBTZXJ2aWNlIEludGVyZmFjZSBGaWVsZCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhGR0RTSSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHRC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHRFtpZHhGR0RTSV0uU0lGaWVsZCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX2luZGV4XS5jaGlsZHJlbltpZHhGR0RTSV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHRGVzaWduX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ0VHRHNlcnZpY2VJJykgeyAvLyBFdmVudCBHcmFudCBEZXNpZ27sl5DshJwgU2VydmljZSBJbnRlcmZhY2UgRXZlbnQgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RUdEU0kgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R0QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R0RbaWR4RUdEU0ldLlNJRXZlbnQgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUV2ZW50R0Rlc2lnbl9pbmRleF0uY2hpbGRyZW5baWR4RUdEU0ldLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUV2ZW50R0Rlc2lnbl9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdNR0RzZXJ2aWNlSScpIHsgLy8gTWV0aG9kIEdyYW50IERlc2lnbuyXkOyEnCBTZXJ2aWNlIEludGVyZmFjZSBNZXRob2QgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4TUdEU0kgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHRFtpZHhNR0RTSV0uU0lNZXRob2QgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25faW5kZXhdLmNoaWxkcmVuW2lkeE1HRFNJXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21NZXRob2RHRGVzaWduX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ0ZpZWxkR0QnKSB7IC8vIEZpZWxkIEdyYW50IOyXkOyEnCBGaWVsZCBHcmFudCBEZXNpZ24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RkdEID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR1tpZHhGR0RdLmZpZWxkRCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHcmFudF9pbmRleF0uY2hpbGRyZW5baWR4RkdEXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21GaWVsZEdyYW50X2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ0V2ZW50R0QnKSB7IC8vIEV2ZW50IEdyYW50IOyXkOyEnCBFdmVudCBHcmFudCBEZXNpZ24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RUdEID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R1tpZHhFR0RdLmV2ZW50RCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRXZlbnRHcmFudF9pbmRleF0uY2hpbGRyZW5baWR4RUdEXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21FdmVudEdyYW50X2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ01ldGhvZEdEJykgeyAvLyBNZXRob2QgR3JhbnQg7JeQ7IScIE1ldGhvZCBHcmFudCBEZXNpZ24gcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4TUdEID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5NZXRob2RHW2lkeE1HRF0ubWV0aG9kRCA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tTWV0aG9kR3JhbnRfaW5kZXhdLmNoaWxkcmVuW2lkeE1HRF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tTWV0aG9kR3JhbnRfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnRkdQcm92aWRlJykgeyAvLyBGaWVsZCBHcmFudCDsl5DshJwgUHJvdmlkZSBTb21lSVAgcmVm7ZWg65WMCi8vICAgICAgICAgICAgICAgICB2YXIgaWR4RkdQcm92aWRlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR1tpZHhGR1Byb3ZpZGVdLnByb3ZpZGUgPSBudWxsCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUZpZWxkR3JhbnRfaW5kZXhdLmNoaWxkcmVuW2lkeEZHUHJvdmlkZV0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHcmFudF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdFR1Byb3ZpZGUnKSB7IC8vIEV2ZW50IEdyYW50IOyXkOyEnCBQcm92aWRlIFNvbWVJUCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhFR1Byb3ZpZGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50Ry5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXSkKLy8gICAgICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHW2lkeEVHUHJvdmlkZV0ucHJvdmlkZSA9IG51bGwKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRXZlbnRHcmFudF9pbmRleF0uY2hpbGRyZW5baWR4RUdQcm92aWRlXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21FdmVudEdyYW50X2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ01HUHJvdmlkZScpIHsgLy8gTWV0aG9kIEdyYW50IOyXkOyEnCBQcm92aWRlIFNvbWVJUCByZWbtlaDrlYwKLy8gICAgICAgICAgICAgICAgIHZhciBpZHhNR1Byb3ZpZGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF0pCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdbaWR4TUdQcm92aWRlXS5wcm92aWRlID0gbnVsbAovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21NZXRob2RHcmFudF9pbmRleF0uY2hpbGRyZW5baWR4TUdQcm92aWRlXS52YWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21NZXRob2RHcmFudF9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9Ci8vICAgICAgICAgZm9yIChsZXQgbiA9IGluZGljZXMubGVuZ3RoOyBuID49IDA7IG4tLSkgewovLyAgICAgICAgICAgICBpZiAoaW5kaWNlc1tuXSAhPSB1bmRlZmluZWQpIHsKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnN0YXJ0LnNwbGljZShpbmRpY2VzW25dLCAxKQovLyAgICAgICAgICAgICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uZW5kLnNwbGljZShpbmRpY2VzW25dLCAxKQovLyAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZS1saW5lJywgaW5kaWNlc1tuXSkKLy8gICAgICAgICAgICAgfQovLyAgICAgICAgIH0KLy8gICAgIH0sCi8vICAgICBkZWxldGVFbGVtZW50TGluZShzdGF0ZSwgcGF5bG9hZCkgeyAvL+yngOyasOuKlCBlbGVtZW507JeQ7IScIGxpbmUg64KY6rCA64qU6rKDIOyngOyasOq4sCA9PT4g7ZmU7IK07ZGc7J2YIOyLnOyekQovLyAgICAgICAgIHZhciBlbmRMaW5lID0gW10KLy8gICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZGVsZXRlRSAnICsgZW5kTGluZSkKLy8gICAgICAgICBzdGF0ZS5jb25uZWN0aW9uTGluZVtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5zdGFydC5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICB2YXIgc3RhcnRVVUlEID0gaXRlbS5zcGxpdCgnLycpCi8vICAgICAgICAgICAgIGlmIChzdGFydFVVSURbMF0gPT0gcGF5bG9hZC51dWlkKSB7Ci8vICAgICAgICAgICAgICAgICBlbmRMaW5lLnB1c2godGhpcy5nZXR0ZXJzLmdldGNvbm5lY3RMaW5lTnVtKGl0ZW0pKQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgfSkKLy8gICAgICAgICBmb3IgKGxldCBuID0gZW5kTGluZS5sZW5ndGg7IG4gPj0gMDsgbi0tKSB7Ci8vICAgICAgICAgICAgIGlmIChlbmRMaW5lW25dICE9IHVuZGVmaW5lZCkgewovLyAgICAgICAgICAgICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uc3RhcnQuc3BsaWNlKGVuZExpbmVbbl0sIDEpCi8vICAgICAgICAgICAgICAgICBzdGF0ZS5jb25uZWN0aW9uTGluZVtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5lbmQuc3BsaWNlKGVuZExpbmVbbl0sIDEpCi8vICAgICAgICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXRlLWxpbmUnLCBlbmRMaW5lW25dKQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgfQovLyAgICAgfSwKLy8gICAgIGRlbGV0ZUVsZW1lbnQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudAovLyAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdkZWxldGVFbGVtZW50JyArIHBheWxvYWQucGFyZW50KQovLyAgICAgICAgIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21wdU1ldGhvZF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkNvbXB1TWV0aG9kLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21wdU1ldGhvZF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5EYXRhQ29uc3RyX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkRhdGFDb25zdHIuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRhQ29uc3RyX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkFwcGxpY2F0aW9uQXJyYXlfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQXBwbGljYXRpb25BcnJheURhdGFUeXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQXBwbGljYXRpb25BcnJheURhdGFUeXBlLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5BcHBsaWNhdGlvbkFycmF5X2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkltcGxlbWVudGF0aW9uX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuTWFjaGluZURlc2lnbmVfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24uZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXIuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5FdGhlcm5ldENsdXN0ZXJfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Nb2RlRGVjbGFyYXRpb25Hcm91cF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5IV0VsZW1lbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnQuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkhXRWxlbWVudF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qcm9jZXNzdG9NYWNoaW5lTWFwcGluZ19zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvdG9NYWNoaW5lTWFwcGluZy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNXQ29tcG9uZW50c19zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU1dDb21wb25lbnRzLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TV0NvbXBvbmVudHNfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUHJvY2Vzc19zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzcy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbi5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm9jZXNzRGVzaWduLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlByb2Nlc3NEZXNpZ25faW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXhlY3V0YWJsZV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRXhlY3V0YWJsZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkV4ZWN1dGFibGVfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU3RhcnR1cENvbmZpZ19zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uU3RhcnR1cENvbmZpZy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5TdGFydHVwQ29uZmlnLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlN0YXJ0dXBDb25maWdfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRGV0ZXJtaW5pc3RpY0NsaWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRGV0ZXJtaW5pc3RpY0NsaWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5EZXRlcm1pbmlzdGljQ2xpZW50LnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRldGVybWluaXN0aWNDbGllbnRfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50LnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2Uuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ2xpZW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRFdmVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRFdmVudC5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBFdmVudHNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNsaWVudF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5TZXJ2ZXJfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlckV2ZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlckV2ZW50LnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUEV2ZW50c19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmVyX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNvbWVJUENsaWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50U2VydmljZUluc3RhbmNlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUENsaWVudFNlcnZpY2VJbnN0YW5jZS5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Tb21lSVBDbGllbnRfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQU2VydmVyX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJTZXJ2aWNlSW5zdGFuY2UuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmVyU2VydmljZUluc3RhbmNlLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFNlcnZlcl9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Tb21lSVBUb01hY2hpbmVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2aWNlSW5zdGFuY2VUb01hY2hpbmUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuVG9Qb3J0UHJvdG90eXBlTWFwcGluZ19zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUluc3RhbmNlVG9Qb3J0UHJvdG90eXBlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnN0YW5jZVRvUG9ydFByb3RvdHlwZS5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlJlcXVpcmVkU29tZUlQX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5SZXF1aXJlZFNvbWVJUF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qcm92aWRlZFNvbWVJUF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuUHJvdmlkZWRTb21lSVAuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXJyb3Jfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXJyb3JzZXRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0LnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JzZXRfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXJyb3JEb21haW5fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yRG9tYWluLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yRG9tYWluLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkVycm9yc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXJyb3JEb21haW5faW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0KLy8gICAgICAgICAvLy8vLy8vLy8vLy8vLwovLyAgICAgICAgIGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkZpbGVBcnJheV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXkuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRmlsZUFycmF5X2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkZpbGVQcm94eUludGVyZl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlUHJveHkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlUHJveHkuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRmlsZVByb3h5SW50ZXJmX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LktleVZhbHVlRGF0YV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZUQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJLZXlWYWx1ZUQuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuS2V5VmFsdWVEYXRhX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LktleVZhbHVlRElfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSS2V5VmFsdWVESS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUktleVZhbHVlREkuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBFUl9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuS2V5VmFsdWVESV9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qb3J0UHJvdG9GaWxlQV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJQUHRvRmlsZUFycmF5LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheS5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9GaWxlQV9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Qb3J0UHJvdG9LZXlWX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUlBQdG9LZXlWYWx1ZS5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUEVSX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Qb3J0UHJvdG9LZXlWX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbUZpZWxkR3JhbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkRy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEcuc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRmllbGRHcmFudF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21FdmVudEdyYW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRXZlbnRHLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbUV2ZW50R3JhbnRfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tTWV0aG9kR3JhbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuTWV0aG9kRy5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21NZXRob2RHcmFudF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21GaWVsZEdEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLklhbUcuRmllbGRHRC5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5QbGF0Zm9ybV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSUFNX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21GaWVsZEdEZXNpZ25faW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50R0Quc3BsaWNlKGlkeEVsZW1lbnQsIDEpCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuUGxhdGZvcm1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LklBTV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSkKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdELnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlBsYXRmb3JtX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JQU1faW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25faW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKQovLyAgICAgICAgIH0KLy8gICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0LmZvckVhY2goKGRhdGEsIGkpID0+IHsKLy8gICAgICAgICAgICAgaWYgKGRhdGEudXVpZCA9PSBwYXlsb2FkLnV1aWQpIHsKLy8gICAgICAgICAgICAgICAgIHN0YXRlLmRldGFpbFZpZXdlckxpc3Quc3BsaWNlKGksIDEpCi8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9KQovLyAgICAgICAgIGlmIChzdGF0ZS5kZXRhaWxWaWV3ZXIudXVpZCA9PSBwYXlsb2FkLnV1aWQpIHsKLy8gICAgICAgICAgICAgc3RhdGUuZGV0YWlsVmlld2VyID0geyB1dWlkOiAnJywgZWxlbWVudDogJycgfQovLyAgICAgICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3VVVJRCA9IG51bGwKLy8gICAgICAgICB9Ci8vICAgICAgICAgc3RhdGUuaWRleERldGFpbFZpZXcgPSBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0Lmxlbmd0aCAtIDEKLy8gICAgICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbnVsbAovLyAgICAgfSwKLy8gICAgIHNldFZhbGlkYXRpb24oc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgaWR4RWxlbWVudCA9IG51bGwsCi8vICAgICAgICAgICAgIGlzVmFsaWRhdGlvbiA9IGZhbHNlLAovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IG51bGwsCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBudWxsLAovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gbnVsbCwKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gbnVsbAovLyAgICAgICAgIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21wdU1ldGhvZF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5EYXRlVHlwZV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuQ29tcHVNZXRob2RfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkRhdGFDb25zdHJfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0ci5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5EYXRlVHlwZV9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRGF0YUNvbnN0cl9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQXBwbGljYXRpb25BcnJheV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkFwcGxpY2F0aW9uQXJyYXlfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkltcGxlbWVudGF0aW9uX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkltcGxlbWVudGF0aW9uX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50Lk1hY2hpbmVzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5NYWNoaW5lX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lRGVzaWduZV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbi5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5NYWNoaW5lc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50Lk1hY2hpbmVzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5FdGhlcm5ldENsdXN0ZXJfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5NYWNoaW5lc19pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkhXRWxlbWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50Lk1hY2hpbmVzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5IV0VsZW1lbnRfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5Qcm90b01hY2hpbmVNYXBwaW5nLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5TV0NvbXBvbmVudHNfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlNXQ29tcG9uZW50cy5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5TV0NvbXBvbmVudHNfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlByb2Nlc3Nfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlByb2Nlc3MuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuUHJvY2Vzc19pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uUHJvY2Vzc0Rlc2lnbi5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Qcm9jZXNzRGVzaWduX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FeGVjdXRhYmxlX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uQWRhcHRpdmVBcHBsaWNhdGlvbi5FeGVjdXRhYmxlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZCA9IGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25faW5kZXgKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkV4ZWN1dGFibGVfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlN0YXJ0dXBDb25maWdfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5BZGFwdGl2ZUFwcGxpY2F0aW9uLlN0YXJ0dXBDb25maWcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkID0gY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9pbmRleAovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuU3RhcnR1cENvbmZpZ19pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRGV0ZXJtaW5pc3RpY0NsaWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkFkYXB0aXZlQXBwbGljYXRpb24uRGV0ZXJtaW5pc3RpY0NsaWVudC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGQgPSBjb25zdGFudC5BZGFwdGl2ZUFwcGxpY2F0aW9uX2luZGV4Ci8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUludGVyZmFjZURlcGxveW1lbnQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9pbmRleAovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VfaW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlNlcnZpY2VfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNsaWVudF9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQQ2xpZW50RXZlbnQuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5DbGllbnRfaW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlNvbWVJUEV2ZW50c19pbmRleAovLyAgICAgICAgICAgICBpZHhQYXJlbnQgPSBjb25zdGFudC5TZXJ2aWNlX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5TZXJ2ZXJfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNvbWVJUFNlcnZlckV2ZW50LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuU2VydmVyX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5Tb21lSVBFdmVudHNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQQ2xpZW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBDbGllbnRTZXJ2aWNlSW5zdGFuY2UuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Tb21lSVBDbGllbnRfaW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQU2VydmVyX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Tb21lSVBTZXJ2ZXJTZXJ2aWNlSW5zdGFuY2UuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Tb21lSVBTZXJ2ZXJfaW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuU29tZUlQVG9NYWNoaW5lTWFwcGluZ19zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU29tZUlQU2VydmljZUluc3RhbmNlVG9NYWNoaW5lLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuU29tZUlQVG9NYWNoaW5lTWFwcGluZ19pbmRleAovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuU2VydmljZUluc3RhbmNlc19pbmRleAovLyAgICAgICAgICAgICBpZHhQYXJlbnQgPSBjb25zdGFudC5TZXJ2aWNlX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGUuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlNlcnZpY2VfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlJlcXVpcmVkU29tZUlQX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5SZXF1aXJlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlJlcXVpcmVkU29tZUlQX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlNlcnZpY2VfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlByb3ZpZGVkU29tZUlQX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5Qcm92aWRlZFNvbWVJUC5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlByb3ZpZGVkU29tZUlQX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlNlcnZpY2VfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkVycm9yX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5FcnJvci5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkVycm9yX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5FcnJvcnNfaW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuU2VydmljZV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXJyb3JzZXRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLkVycm9yU2V0LmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuRXJyb3JzZXRfaW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LkVycm9yc19pbmRleAovLyAgICAgICAgICAgICBpZHhQYXJlbnQgPSBjb25zdGFudC5TZXJ2aWNlX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5FcnJvckRvbWFpbl9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuRXJyb3JEb21haW4uZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5FcnJvckRvbWFpbl9pbmRleAovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuRXJyb3JzX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlNlcnZpY2VfaW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkZpbGVBcnJheV9zdHIpIHsKLy8gICAgICAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlBlci5QRVJGaWxlQXJyYXkuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5GaWxlQXJyYXlfaW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlBFUl9pbmRleAovLyAgICAgICAgICAgICBpZHhQYXJlbnQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRmlsZVByb3h5SW50ZXJmX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uUGVyLlBFUkZpbGVQcm94eS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkZpbGVQcm94eUludGVyZl9pbmRleAovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuUEVSX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlBsYXRmb3JtX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5LZXlWYWx1ZURhdGFfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSS2V5VmFsdWVELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuS2V5VmFsdWVEYXRhX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5QRVJfaW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuUGxhdGZvcm1faW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LktleVZhbHVlRElfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSS2V5VmFsdWVESS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LktleVZhbHVlRElfaW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LlBFUl9pbmRleAovLyAgICAgICAgICAgICBpZHhQYXJlbnQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuUG9ydFByb3RvRmlsZUFfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0ZpbGVBcnJheS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LlBvcnRQcm90b0ZpbGVBX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5QRVJfaW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuUGxhdGZvcm1faW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlBvcnRQcm90b0tleVZfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5QZXIuUEVSUFB0b0tleVZhbHVlLmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuUG9ydFByb3RvS2V5Vl9pbmRleAovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuUEVSX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlBsYXRmb3JtX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21GaWVsZEdyYW50X3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5GaWVsZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Db21GaWVsZEdyYW50X2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5JQU1faW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuUGxhdGZvcm1faW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbUV2ZW50R3JhbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkV2ZW50Ry5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZCkKLy8gICAgICAgICAgICAgaWR4Y2hpbGRjaGlsZCA9IGNvbnN0YW50LkNvbUV2ZW50R3JhbnRfaW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LklBTV9pbmRleAovLyAgICAgICAgICAgICBpZHhQYXJlbnQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tTWV0aG9kR3JhbnRfc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEcuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Db21NZXRob2RHcmFudF9pbmRleAovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuSUFNX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlBsYXRmb3JtX2luZGV4Ci8vICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5Db21GaWVsZEdEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLkZpZWxkR0QuZmluZEluZGV4KGRhdGEgPT4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQpCi8vICAgICAgICAgICAgIGlkeGNoaWxkY2hpbGQgPSBjb25zdGFudC5Db21GaWVsZEdEZXNpZ25faW5kZXgKLy8gICAgICAgICAgICAgaWR4U2VydmljZSA9IGNvbnN0YW50LklBTV9pbmRleAovLyAgICAgICAgICAgICBpZHhQYXJlbnQgPSBjb25zdGFudC5QbGF0Zm9ybV9pbmRleAovLyAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX3N0cikgewovLyAgICAgICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uSWFtRy5FdmVudEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuQ29tRXZlbnRHRGVzaWduX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFNlcnZpY2UgPSBjb25zdGFudC5JQU1faW5kZXgKLy8gICAgICAgICAgICAgaWR4UGFyZW50ID0gY29uc3RhbnQuUGxhdGZvcm1faW5kZXgKLy8gICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbU1ldGhvZEdEZXNpZ25fc3RyKSB7Ci8vICAgICAgICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5JYW1HLk1ldGhvZEdELmZpbmRJbmRleChkYXRhID0+IGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkKQovLyAgICAgICAgICAgICBpZHhjaGlsZGNoaWxkID0gY29uc3RhbnQuQ29tTWV0aG9kR0Rlc2lnbl9pbmRleAovLyAgICAgICAgICAgICBpZHhTZXJ2aWNlID0gY29uc3RhbnQuSUFNX2luZGV4Ci8vICAgICAgICAgICAgIGlkeFBhcmVudCA9IGNvbnN0YW50LlBsYXRmb3JtX2luZGV4Ci8vICAgICAgICAgfQovLyAgICAgICAgIGlmIChpZHhTZXJ2aWNlID09IG51bGwpIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltpZHhjaGlsZF0uY2hpbGRyZW5baWR4Y2hpbGRjaGlsZF0uY2hpbGRyZW5baWR4RWxlbWVudF0udmFsaWRhdGlvbiA9IGZhbHNlCi8vICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5baWR4Y2hpbGRdLmNoaWxkcmVuW2lkeGNoaWxkY2hpbGRdLmNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7Ci8vICAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWxpZGF0aW9uID09IHRydWUpIHsKLy8gICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIGlmICghaXNWYWxpZGF0aW9uKSB7Ci8vICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2lkeGNoaWxkXS5jaGlsZHJlbltpZHhjaGlsZGNoaWxkXS52YWxpZGF0aW9uID0gZmFsc2UKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5baWR4Y2hpbGRdLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC52YWxpZGF0aW9uID09IHRydWUpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRhdGlvbikgewovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5baWR4Y2hpbGRdLnZhbGlkYXRpb24gPSBmYWxzZQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZGNoaWxkID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkY2hpbGQudmFsaWRhdGlvbiA9PSB0cnVlKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9KQovLyAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZGF0aW9uKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltpZHhQYXJlbnRdLmNoaWxkcmVuW2lkeFNlcnZpY2VdLmNoaWxkcmVuW2lkeGNoaWxkY2hpbGRdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLnZhbGlkYXRpb24gPSBmYWxzZQovLyAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2lkeFBhcmVudF0uY2hpbGRyZW5baWR4U2VydmljZV0uY2hpbGRyZW5baWR4Y2hpbGRjaGlsZF0uY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbGlkYXRpb24gPT0gdHJ1ZSkgewovLyAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgaWYgKCFpc1ZhbGlkYXRpb24pIHsKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5baWR4UGFyZW50XS5jaGlsZHJlbltpZHhTZXJ2aWNlXS5jaGlsZHJlbltpZHhjaGlsZGNoaWxkXS52YWxpZGF0aW9uID0gZmFsc2UKLy8gICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5baWR4UGFyZW50XS5jaGlsZHJlbltpZHhTZXJ2aWNlXS5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbGlkYXRpb24gPT0gdHJ1ZSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkYXRpb24gPSB0cnVlCi8vICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZGF0aW9uKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltpZHhQYXJlbnRdLmNoaWxkcmVuW2lkeFNlcnZpY2VdLnZhbGlkYXRpb24gPSBmYWxzZQovLyAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5baWR4UGFyZW50XS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnZhbGlkYXRpb24gPT0gdHJ1ZSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZGF0aW9uID0gdHJ1ZQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRhdGlvbikgewovLyAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2lkeFBhcmVudF0udmFsaWRhdGlvbiA9IGZhbHNlCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZGNoaWxkID0+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZGNoaWxkLnZhbGlkYXRpb24gPT0gdHJ1ZSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWRhdGlvbiA9IHRydWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSkKLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkYXRpb24pIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9Ci8vICAgICB9LAovLyAgICAgc2F2ZUVsZW1lbnQoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgRmlsZVNhdmVyID0gcmVxdWlyZSgnZmlsZS1zYXZlcicpOwovLyAgICAgICAgIC8vdmFyIGJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkodGhpcy5nZXR0ZXJzLmdldFNhdmVPYmplY3QocGF5bG9hZC5saXN0KSldLCB7IHR5cGU6ICJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgiIH0pOwovLyAgICAgICAgIHZhciBzID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTsgLy9ET00g7Yq466as66W8IOyngeugrO2ZlO2VmOyXrCBYTUzsnYQg7Y+s7ZWo7ZWY64qUIOusuOyekOyXtOuhnCDrs4DtmZjtlanri4jri6QuCi8vICAgICAgICAgdmFyIHNhdmVMaXN0ID0gdGhpcy5nZXR0ZXJzLnNvcnRTYXZlTGlzdChwYXlsb2FkLmxpc3QpCi8vICAgICAgICAgdmFyIGQgPSB0aGlzLmdldHRlcnMuZ2V0U2F2ZU9iamVjdChzYXZlTGlzdCk7Ci8vICAgICAgICAgdmFyIHN0ciA9ICc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/PlxuJyAvL2dldFNhdmVPYmplY3Tsl5Ag64Sj7Jy866m0IOqwnO2WieydtCDslYjrkJzri6QhISEhCi8vICAgICAgICAgc3RyICs9IHMuc2VyaWFsaXplVG9TdHJpbmcoZCk7IC8v66y47ISc7J2YIERPTSDtirjrpqzrpbwgWE1M66GcIOuLpOyLnCDsp4HroKztmZTtlaAg7IiYIOyeiOyKteuLiOuLpC4KLy8gICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtzdHJdLCB7IHR5cGU6ICJ0ZXh0L3htbCIgfSk7Ci8vICAgICAgICAgdHJ5IHsgRmlsZVNhdmVyLnNhdmVBcyhibG9iLCBwYXlsb2FkLnNhdmVOYW1lKTsgfSBjYXRjaCAoZSkgeyBhbGVydCgnRmFpbGVkIHRvIHNhdmUgdGhlIGZpbGUgIScpOyB9Ci8vICAgICB9LAovLyAgICAgc2F2ZUxpc3Qoc3RhdGUsIHBheWxvYWQpIHsKLy8gICAgICAgICB2YXIgRmlsZVNhdmVyID0gcmVxdWlyZSgnZmlsZS1zYXZlcicpOwovLyAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KHBheWxvYWQubGlzdCldLCB7IHR5cGU6ICJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgiIH0pOwovLyAgICAgICAgIHRyeSB7IEZpbGVTYXZlci5zYXZlQXMoYmxvYiwgcGF5bG9hZC5zYXZlTmFtZSk7IH0gY2F0Y2ggKGUpIHsgYWxlcnQoJ0ZhaWxlZCB0byBzYXZlIHRoZSBmaWxlICEnKTsgfQovLyAgICAgfSwKLy8gICAgIHVwbG9hZEZpbGVwcm9jZXNzKHN0YXRlLCBwYXlsb2FkKSB7Ci8vICAgICAgICAgdmFyIHBhcnNlciwgeG1sRG9jCi8vICAgICAgICAgY29uc29sZS5sb2cocGF5bG9hZC5maWxlSW5mbykKLy8gICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCkKLy8gICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHBheWxvYWQuZmlsZUluZm8sICJ0ZXh0L3htbCIpCi8vICAgICAgICAgdGhpcy5jb21taXQoJ3NhdmVJbnB1dGZpbGUnLCB7IHhtbERvYzogeG1sRG9jIH0pCi8vICAgICAgICAgVnVlLm5leHRUaWNrKCgpID0+IHsgLy9tYWludmlld+yXkOunjCDrhKPsnLzri4ggdGFi7J20IOuKpuqyjCDqt7jroKTsoLjshJwg7ISg7J20IOyViOq3uOugpOynkAovLyAgICAgICAgICAgICBzdGF0ZS5pc0lucHV0RmlsZUNvbXBsYXRlID0gdHJ1ZQovLyAgICAgICAgIH0pCi8vICAgICB9LAovLyAgICAgaW5pdGlhbGlzZVN0b3JlKHN0YXRlKSB7Ci8vICAgICAgICAgLy8gaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJTQUhMUHJvamVjdCIpKSB7Ci8vICAgICAgICAgLy8gICAgIC8vY29uc29sZS5sb2coImxvYWRpbmcgU0FITFByb2plY3QiKTsKLy8gICAgICAgICAvLyAgICAgc3RhdGUuU0FITFByb2plY3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJTQUhMUHJvamVjdCIpKQovLyAgICAgICAgIC8vIH0KLy8gICAgICAgICAvLyBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm5hdmlnYXRvckxpc3QiKSkgewovLyAgICAgICAgIC8vICAgICAvL2NvbnNvbGUubG9nKCJsb2FkaW5nIG5hdmlnYXRvckxpc3QiKTsKLy8gICAgICAgICAvLyAgICAgc3RhdGUubmF2aWdhdG9yTGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm5hdmlnYXRvckxpc3QiKSkKLy8gICAgICAgICAvLyB9Ci8vICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzZXR0aW5nIikpIHsKLy8gICAgICAgICAgICAgLy9jb25zb2xlLmxvZygibG9hZGluZyBzZXR0aW5nIik7Ci8vICAgICAgICAgICAgIHN0YXRlLnNldHRpbmcgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzZXR0aW5nIikpCi8vICAgICAgICAgfQovLyAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2F2ZVBhdGgiKSkgewovLyAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCJsb2FkaW5nIHNhdmVQYXRoIik7Ci8vICAgICAgICAgICAgIHN0YXRlLnN0clNhdmVQYXRoID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2F2ZVBhdGgiKSkKLy8gICAgICAgICB9Ci8vICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ2aXNpYmxlRGV0YWlsVmlldyIpKSB7Ci8vICAgICAgICAgICAgIC8vY29uc29sZS5sb2coImxvYWRpbmcgdmlzaWJsZURldGFpbFZpZXciKTsKLy8gICAgICAgICAgICAgc3RhdGUudmlzaWJsZURldGFpbFZpZXcgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ2aXNpYmxlRGV0YWlsVmlldyIpKQovLyAgICAgICAgIH0KLy8gICAgIH0KLy8gfSwKYWN0aW9uczp7fX0pOw=="},{"version":3,"sources":["D:/source/service/src/store/index.js"],"names":["Vue","Vuex","saveAs","getters","mutations","use","Store","state","openProjectIndex","navigatorList","SAHLProject","activeUUID","detailViewUUID","connectionLine","ismakeProject","detailViewerList","idexDetailView","undefined","errorList","detailViewer","uuid","element","setting","zoomMain","zoomDetail","visibleDetailView","visibleLine","isOpenCloseSearch","isOpenCloseDetailView","isOpenCloseNavigationView","isPositionLine","isDraggable","strSavePath","isInputFileComplate","inputFileList","numPanes","selectScreen","actions"],"mappings":"AAAA,MAAOA,CAAAA,GAAP,KAAgB,KAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA;AACA,OAASC,MAAT,KAAuB,YAAvB,CAAqC;AACrC;AACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAGAJ,GAAG,CAACK,GAAJ,CAAQJ,IAAR,EAEA,cAAe,IAAIA,CAAAA,IAAI,CAACK,KAAT,CAAe,CAC1BC,KAAK,CAAE,CACHC,gBAAgB,CAAE,CADf,CAEHC,aAAa,CAAE,EAFZ,CAGHC,WAAW,CAAE,EAHV,CAIHC,UAAU,CAAE,IAJT,CAKHC,cAAc,CAAE,IALb,CAMHC,cAAc,CAAE,EANb,CAOHC,aAAa,CAAE,KAPZ,CAQHC,gBAAgB,CAAE,EARf,CAQmB;AACtBC,cAAc,CAAEC,SATb,CAUHC,SAAS,CAAE,EAVR,CAWHC,YAAY,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAYC,OAAO,CAAE,EAArB,CAXX,CAYHC,OAAO,CAAE,CAAEC,QAAQ,CAAE,GAAZ,CAAiBC,UAAU,CAAE,GAA7B,CAZN,CAaHC,iBAAiB,CAAE,IAbhB,CAcHC,WAAW,CAAE,IAdV,CAeHC,iBAAiB,CAAE,KAfhB,CAgBHC,qBAAqB,CAAE,IAhBpB,CAiBHC,yBAAyB,CAAE,IAjBxB,CAkBHC,cAAc,CAAE,IAlBb,CAmBHC,WAAW,CAAE,IAnBV,CAoBHC,WAAW,CAAE,EApBV,CAoBc;AACjBC,mBAAmB,CAAE,KArBlB,CAqByB;AAC5BC,aAAa,CAAE,EAtBZ,CAsBgB;AACnBC,QAAQ,CAAE,CAvBP,CAuBU;AACbC,YAAY,CAAE,CAxBX,CADmB,CA2B1BjC,OAAO,CAAPA,OA3B0B,CA4B1BC,SAAS,CAATA,SA5B0B,CA6B1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAiC,OAAO,CAAE,EAvgRiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n//import constant from \"./constants.js\"\r\nimport { saveAs } from 'file-saver'; // eslint-disable-line no-unused-vars\r\n//import { EventBus } from \"../main.js\"\r\nimport getters from \"./getters\"\r\nimport mutations from \"./mutations\"\r\n\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        openProjectIndex: 0,\r\n        navigatorList: [],\r\n        SAHLProject: [],\r\n        activeUUID: null,\r\n        detailViewUUID: null,\r\n        connectionLine: [],\r\n        ismakeProject: false,\r\n        detailViewerList: [], // project가 바뀔때 마다 reset해야한다.\r\n        idexDetailView: undefined,\r\n        errorList: [],\r\n        detailViewer: { uuid: '', element: '' },\r\n        setting: { zoomMain: 0.8, zoomDetail: 0.9, },\r\n        visibleDetailView: true,\r\n        visibleLine: true,\r\n        isOpenCloseSearch: false,\r\n        isOpenCloseDetailView: true,\r\n        isOpenCloseNavigationView: true,\r\n        isPositionLine: true,\r\n        isDraggable: true,\r\n        strSavePath: [], // Path List\r\n        isInputFileComplate: false, //input file값 저장후 화면에 그린 뒤 line 그리기 위해\r\n        inputFileList: [], // input file 값저장 후 line 그리기 위해 어떤것이 들어왔는지 알려고\r\n        numPanes: 1, //화면분할 몇개 했는지\r\n        selectScreen: 1,\r\n    },\r\n    getters,\r\n    mutations,\r\n    // mutations: {\r\n    //     saveOpenProject(state, payload) {\r\n    //         state = payload\r\n    //     },\r\n    //     selectOpenProject(state, payload) {\r\n    //         state.openProjectIndex = payload.openProjectIndex\r\n    //     },\r\n    //     setmakeProject(state, payload) {\r\n    //         state.ismakeProject = payload.makeproject\r\n    //     },\r\n    //     addProject(state, payload) {\r\n    //         var newUUid = uuid.v1()\r\n    //         state.SAHLProject.push({\r\n    //             uuid: newUUid,\r\n    //             name: payload.name,\r\n    //             DataTypes: { CompuMethod: [], DataConstr: [], ApplicationArrayDataType: [], ImplementationDataType: [] },\r\n    //             Service: {\r\n    //                 SomeIPServiceInterfaceDeployment: [],\r\n    //                 ServiceInterface: [],\r\n    //                 SomeIPClientEvent: [],\r\n    //                 SomeIPServerEvent: [],\r\n    //                 Error: [],\r\n    //                 ErrorSet: [],\r\n    //                 ErrorDomain: [],\r\n    //                 SomeIPClientServiceInstance: [],\r\n    //                 SomeIPServerServiceInstance: [],\r\n    //                 SomeIPServiceInstanceToMachine: [],\r\n    //                 ServiceInstanceToPortPrototype: [],\r\n    //                 RequiredSomeIP: [],\r\n    //                 ProvidedSomeIP: []\r\n    //             },\r\n    //             Machine: { Machine: [], MachineDesign: [], EthernetCluster: [], ModeDeclarationGroup: [], HWElement: [] },\r\n    //             AdaptiveApplication: { ProtoMachineMapping: [], SWComponents: [], Process: [], Executable: [], StartupConfig: [], DeterministicClient: [], ProcessDesign: [] },\r\n    //             Per: { PERFileArray: [], PERFileProxy: [], PERKeyValueD: [], PERKeyValueDI: [], PERPPtoFileArray: [], PERPPtoKeyValue: [] },\r\n    //             IamG: { FieldG: [], EventG: [], MethodG: [], FieldGD: [], EventGD: [], MethodGD: [] }\r\n    //         })\r\n    //         state.navigatorList.push({\r\n    //             uuid: newUUid,\r\n    //             name: payload.name,\r\n    //             validation: false,\r\n    //             children: [{\r\n    //                     uuid: constant.DateType_str,\r\n    //                     name: constant.DateType_str,\r\n    //                     icon: \"mdi-folder\",\r\n    //                     validation: false,\r\n    //                     children: [\r\n    //                         { uuid: constant.CompuMethod_str, name: constant.CompuMethod_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.DataConstr_str, name: constant.DataConstr_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.ApplicationArray_str, name: constant.ApplicationArray_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.Implementation_str, name: constant.Implementation_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                     ]\r\n    //                 },\r\n    //                 {\r\n    //                     uuid: constant.Service_str,\r\n    //                     name: constant.Service_str,\r\n    //                     icon: \"mdi-folder\",\r\n    //                     validation: false,\r\n    //                     children: [{\r\n    //                             uuid: constant.ServiceInterfaces_str,\r\n    //                             name: constant.ServiceInterfaces_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.SomeIPServiceInterfaceDeployment_str, name: constant.SomeIPServiceInterfaceDeployment_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ServiceInterface_str, name: constant.ServiceInterface_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] }\r\n    //                             ]\r\n    //                         },\r\n    //                         {\r\n    //                             uuid: constant.SomeIPEvents_str,\r\n    //                             name: constant.SomeIPEvents_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.Client_str, name: constant.Client_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.Server_str, name: constant.Server_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n    //                         {\r\n    //                             uuid: constant.ServiceInstances_str,\r\n    //                             name: constant.ServiceInstances_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.SomeIPClient_str, name: constant.SomeIPClient_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.SomeIPServer_str, name: constant.SomeIPServer_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.SomeIPToMachineMapping_str, name: constant.SomeIPToMachineMapping_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ToPortPrototypeMapping_str, name: constant.ToPortPrototypeMapping_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.RequiredSomeIP_str, name: constant.RequiredSomeIP_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ProvidedSomeIP_str, name: constant.ProvidedSomeIP_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n    //                         {\r\n    //                             uuid: constant.Errors_str,\r\n    //                             name: constant.Errors_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.Error_str, name: constant.Error_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.Errorset_str, name: constant.Errorset_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ErrorDomain_str, name: constant.ErrorDomain_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n    //                     ]\r\n    //                 },\r\n    //                 {\r\n    //                     uuid: constant.AdaptiveApplication_str,\r\n    //                     name: constant.AdaptiveApplication_str,\r\n    //                     icon: \"mdi-folder\",\r\n    //                     validation: false,\r\n    //                     children: [\r\n    //                         { uuid: constant.ProcesstoMachineMapping_str, name: constant.ProcesstoMachineMapping_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.SWComponents_str, name: constant.SWComponents_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.Process_str, name: constant.Process_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.ProcessDesign_str, name: constant.ProcessDesign_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.Executable_str, name: constant.Executable_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.StartupConfig_str, name: constant.StartupConfig_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.DeterministicClient_str, name: constant.DeterministicClient_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] }\r\n    //                     ]\r\n    //                 },\r\n    //                 {\r\n    //                     uuid: constant.Machines_str,\r\n    //                     name: constant.Machines_str,\r\n    //                     icon: \"mdi-folder\",\r\n    //                     validation: false,\r\n    //                     children: [\r\n    //                         { uuid: constant.Machine_str, name: constant.Machine_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.MachineDesigne_str, name: constant.MachineDesigne_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.EthernetCluster_str, name: constant.EthernetCluster_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.ModeDeclarationGroup_str, name: constant.ModeDeclarationGroup_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                         { uuid: constant.HWElement_str, name: constant.HWElement_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                     ]\r\n    //                 },\r\n    //                 {\r\n    //                     uuid: constant.Platform_str,\r\n    //                     name: constant.Platform_str,\r\n    //                     icon: \"mdi-folder\",\r\n    //                     validation: false,\r\n    //                     children: [{\r\n    //                             uuid: constant.PER_str,\r\n    //                             name: constant.PER_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.FileArray_str, name: constant.FileArray_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.FileProxyInterf_str, name: constant.FileProxyInterf_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.KeyValueData_str, name: constant.KeyValueData_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.KeyValueDI_str, name: constant.KeyValueDI_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.PortProtoFileA_str, name: constant.PortProtoFileA_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.PortProtoKeyV_str, name: constant.PortProtoKeyV_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n    //                         {\r\n    //                             uuid: constant.PHM_str,\r\n    //                             name: constant.PHM_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.PlatformHealthManagC_str, name: constant.PlatformHealthManagC_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.PHMSupervised_str, name: constant.PHMSupervised_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.RecoveryVA_str, name: constant.RecoveryVA_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.HealthChannel_str, name: constant.HealthChannel_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.RecoveryActionInterf_str, name: constant.RecoveryActionInterf_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ContritoMachine_str, name: constant.ContritoMachine_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n    //                         {\r\n    //                             uuid: constant.NM_str,\r\n    //                             name: constant.NM_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.NMInstantiation_str, name: constant.NMInstantiation_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.NMNetWorkHandle_str, name: constant.NMNetWorkHandle_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.UDPNMCluster_str, name: constant.UDPNMCluster_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.UDPNMNetworkC_str, name: constant.UDPNMNetworkC_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.UDPNMNode_str, name: constant.UDPNMNode_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.NMConfig_str, name: constant.NMConfig_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n    //                         {\r\n    //                             uuid: constant.Log_str,\r\n    //                             name: constant.Log_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.LogandTrace_str, name: constant.LogandTrace_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.DLTlogChannel_str, name: constant.DLTlogChannel_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.DLTMessage_str, name: constant.DLTMessage_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.DLTLogChanneltoPro_str, name: constant.DLTLogChanneltoPro_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n    //                         {\r\n    //                             uuid: constant.IAM_str,\r\n    //                             name: constant.IAM_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.ComFieldGrant_str, name: constant.ComFieldGrant_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ComEventGrant_str, name: constant.ComEventGrant_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ComMethodGrant_str, name: constant.ComMethodGrant_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ComFieldGDesign_str, name: constant.ComFieldGDesign_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ComEventGDesign_str, name: constant.ComEventGDesign_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.ComMethodGDesign_str, name: constant.ComMethodGDesign_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n    //                         {\r\n    //                             uuid: constant.UCM_str,\r\n    //                             name: constant.UCM_str,\r\n    //                             icon: \"mdi-folder\",\r\n    //                             validation: false,\r\n    //                             children: [{ uuid: constant.SWCluster_str, name: constant.SWCluster_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.SWPackage_str, name: constant.SWPackage_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                                 { uuid: constant.VehiclePackage_str, name: constant.VehiclePackage_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n    //                             ]\r\n    //                         },\r\n\r\n    //                     ]\r\n    //                 }\r\n    //             ]\r\n    //         })\r\n    //         state.connectionLine.push({ start: [], end: [] })\r\n    //             //localStorage.setItem(\"SAHLProject\", JSON.stringify(state.SAHLProject))\r\n    //             //localStorage.setItem(\"navigatorList\", JSON.stringify(state.navigatorList))\r\n    //     },\r\n    //     deleteProject(state) {\r\n    //         state.ismakeProject = false\r\n    //         state.openProjectIndex = 0\r\n    //         state.SAHLProject = []\r\n    //         state.navigatorList = []\r\n    //         state.connectionLine = []\r\n    //         state.detailViewerList = []\r\n    //         state.detailViewer = { uuid: '', element: '' }\r\n    //         state.activeUUID = null\r\n    //         state.detailViewUUID = null\r\n    //         state.idexDetailView = undefined\r\n    //         state.strSavePath = []\r\n    //         EventBus.$emit('delete-line', 'all')\r\n    //             //localStorage.setItem(\"SAHLProject\", JSON.stringify(state.SAHLProject))\r\n    //             //localStorage.setItem(\"navigatorList\", JSON.stringify(state.navigatorList))\r\n    //     },\r\n    //     setuuid(state, payload) {\r\n    //         state.activeUUID = payload.uuid\r\n    //     },\r\n    //     copyElement(state, payload) {\r\n    //         var idxEle = null,\r\n    //             copyEle\r\n    //         const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //         const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //         if (payload.parent == constant.CompuMethod_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameCompuMethod\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.CompuMethod_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.DataConstr_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameDataConstr\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.DataConstr_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ApplicationArray_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameApplicationArray\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.ApplicationArray_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.Implementation_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameImplementation\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.Machine_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Machine.Machine[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.Machine[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameMachine\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.Machine.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.MachineDesigne_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameMachineDesign\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.EthernetCluster_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameEthernetCluster\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ModeDeclarationGroup_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameModeDeclarationGroup\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.ModeDeclarationGroup_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.HWElement_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameHWElement\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.HWElement.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ProcesstoMachineMapping_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameProcesstoMachineMapping\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcesstoMachineMapping_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.SWComponents_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameSWComponents\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.Process_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameProcess\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ProcessDesign_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameProcessDesign\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcessDesign_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.Executable_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameExecutable\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Executable_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.StartupConfig_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameStartupConfig\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.StartupConfig_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.DeterministicClient_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameDeterministicClient\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.DeterministicClient_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.SomeIPServiceInterfaceDeployment_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameSomeIPService\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ServiceInterface_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameServiceInterface\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.Client_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameClient\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.SomeIPEvents_index].children[constant.Client_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.Server_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameServer\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.SomeIPEvents_index].children[constant.Server_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.SomeIPClient_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameSomeIPClient\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPClient_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.SomeIPServer_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameSomeIPServer\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPServer_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.SomeIPToMachineMapping_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameSomeIPtoMachine\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ToPortPrototypeMapping_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameToPortPrototype\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.RequiredSomeIP_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameRequiredSomeIP\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ProvidedSomeIP_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameProvidedSomeIP\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.Error_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.Error[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.Error[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameError\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.Error.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Error_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.Errorset_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameErrorSet\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ErrorSet.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Errorset_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ErrorDomain_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Service.ErrorDomain[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ErrorDomain[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameErrorDomain\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.ErrorDomain_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.FileArray_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERFileArray.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Per.PERFileArray[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERFileArray[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNamePERFileArray\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERFileArray.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.FileArray_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.FileProxyInterf_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERFileProxy.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Per.PERFileProxy[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERFileProxy[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNamePERFileProxy\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERFileProxy.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.FileProxyInterf_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.KeyValueData_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNamePERKeyValueD\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.KeyValueData_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.KeyValueDI_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNamePERKeyValueDI\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.KeyValueDI_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.PortProtoFileA_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNamePERPPtoFileArray\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.PortProtoKeyV_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNamePERPPtoKeyValue\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ComFieldGrant_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameFieldG\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.FieldG.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGrant_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ComEventGrant_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].IamG.EventG[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.EventG[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameEventG\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.EventG.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGrant_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ComMethodGrant_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameMethodG\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.MethodG.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGrant_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ComFieldGDesign_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameFieldGD\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.FieldGD.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ComEventGDesign_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameEventGD\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.EventGD.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         } else if (payload.parent == constant.ComMethodGDesign_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(item => item.uuid === payload.uuid)\r\n    //             copyEle = JSON.parse(JSON.stringify(state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxEle]))\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxEle].zindex = 2\r\n    //             copyEle.uuid = uuid.v1()\r\n    //             copyEle.name = this.getters.getNameMethodGD\r\n    //             copyEle.left = elementX\r\n    //             copyEle.top = elementY\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.MethodGD.push(copyEle)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].children.push({ uuid: copyEle.uuid, name: copyEle.name, icon: \"mdi-clipboard-outline\", validation: false, })\r\n    //         }\r\n    //         state.activeUUID = copyEle.uuid\r\n    //         Vue.nextTick(() => { // 선 하나씩 그려주기 때문에 끝날때 active line 해줘야한다.\r\n    //             EventBus.$emit('setLineActive', payload.uuid, false)\r\n    //             EventBus.$emit('new-element', copyEle.uuid)\r\n    //             Vue.nextTick(() => {\r\n    //                 var activeLine = this.getters.getactiveLine(payload.uuid)\r\n    //                 activeLine.forEach((i, n) => {\r\n    //                     console.log(i)\r\n    //                     var startUUID = state.connectionLine[state.openProjectIndex].start[i].split('/')\r\n    //                     var tableLine = startUUID[1].split('-')\r\n    //                     if (startUUID[0] == payload.uuid) {\r\n    //                         console.log(startUUID[1])\r\n    //                         Vue.nextTick(() => {\r\n    //                             this.commit('setConnectionline', { start: copyEle.uuid + '/' + startUUID[1], end: state.connectionLine[state.openProjectIndex].end[i] })\r\n    //                         })\r\n    //                         Vue.nextTick(() => {\r\n    //                             var changTab = null,\r\n    //                                 tabId = null //tab에서 선은 따로따로 그리기 때문에 하나씩 넣어야한다.\r\n    //                             if (tableLine[0] == 'field' || tableLine[0] == 'event' || tableLine[0] == 'argtable' || tableLine[0] == 'methoderrors' || tableLine[0] == 'methoderror' ||\r\n    //                                 tableLine[0] == 'providEventG' || tableLine[0] == 'providServer' || tableLine[0] == 'requiredEventG' || tableLine[0] == 'requiredClient' ||\r\n    //                                 tableLine[0] == 'fgcontext' || tableLine[0] == 'fgtarget' || tableLine[0] == 'processresorce' || tableLine[0] == 'processstartup' ||\r\n    //                                 tableLine[0] == 'comconet') {\r\n    //                                 changTab = true\r\n    //                                 if (tableLine[0] == 'argtable' || tableLine[0] == 'methoderrors' || tableLine[0] == 'methoderror') {\r\n    //                                     tabId = 'methods'\r\n    //                                 } else if (tableLine[0] == 'providEventG' || tableLine[0] == 'providServer') {\r\n    //                                     tabId = 'providE'\r\n    //                                 } else if (tableLine[0] == 'requiredEventG' || tableLine[0] == 'requiredClient') {\r\n    //                                     tabId = 'requiredE'\r\n    //                                 } else if (tableLine[0] == 'fgcontext' || tableLine[0] == 'fgtarget' || tableLine[0] == 'processresorce' || tableLine[0] == 'processstartup') {\r\n    //                                     tabId = 'processStarupC'\r\n    //                                 } else if (tableLine[0] == 'comconet') {\r\n    //                                     tabId = 'conditional'\r\n    //                                 } else {\r\n    //                                     tabId = tableLine[0]\r\n    //                                 }\r\n    //                             }\r\n    //                             EventBus.$emit('copy-line', copyEle.uuid, state.connectionLine[state.openProjectIndex].end[i], i, changTab, tabId)\r\n    //                             if (n == activeLine.length - 1) {\r\n    //                                 Vue.nextTick(() => {\r\n    //                                     //console.log(state.visibleLine)\r\n    //                                     if (state.visibleLine) {\r\n    //                                         EventBus.$emit('setLineActive', copyEle.uuid, true)\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //             })\r\n    //         })\r\n    //     },\r\n    //     setConnectionline(state, payload) {\r\n    //         //console.log('setConnectionline ' + payload.start + ' /// ' + payload.end)\r\n    //         state.connectionLine[state.openProjectIndex].start.push(payload.start)\r\n    //         state.connectionLine[state.openProjectIndex].end.push(payload.end)\r\n    //     },\r\n    //     deletConnectionline(state, payload) {\r\n    //         state.connectionLine[state.openProjectIndex].start.splice(payload.startnum, 1)\r\n    //         state.connectionLine[state.openProjectIndex].end.splice(payload.startnum, 1)\r\n    //     },\r\n    //     setDetailView(state, payload) {\r\n    //         console.log('setDetailView**' + state.detailViewer.uuid + '//' + payload.uuid)\r\n    //         if (state.detailViewer.uuid != payload.uuid) {\r\n    //             console.log('...' + state.idexDetailView + '+' + state.detailViewerList.length)\r\n    //             if (state.idexDetailView < state.detailViewerList.length - 1) {\r\n    //                 console.log('.##.' + state.detailViewerList[state.idexDetailView + 1].uuid + '+' + payload.uuid)\r\n    //                 if (state.detailViewerList[state.idexDetailView + 1].uuid != payload.uuid) {\r\n    //                     state.detailViewerList.splice(state.idexDetailView + 1)\r\n    //                     console.log('splice' + state.idexDetailView)\r\n    //                 } else {\r\n    //                     this.commit('setfrontDetailView')\r\n    //                     console.log('splice else ' + state.idexDetailView)\r\n    //                     return\r\n    //                 }\r\n    //             }\r\n    //             state.detailViewer = { uuid: payload.uuid, element: payload.element }\r\n    //             state.detailViewerList.push({ uuid: payload.uuid, element: payload.element })\r\n    //             state.idexDetailView = state.detailViewerList.length - 1\r\n    //             state.detailViewUUID = payload.uuid\r\n    //             console.log('set//' + state.idexDetailView + '//' + state.detailViewer.element + '//' + state.detailViewer.uuid)\r\n    //             console.log(state.detailViewerList)\r\n    //         } else {\r\n    //             state.detailViewerList.splice(state.detailViewerList.length - 1, 1)\r\n    //             state.detailViewer = { uuid: payload.uuid, element: payload.element }\r\n    //             state.detailViewerList.push({ uuid: payload.uuid, element: payload.element })\r\n    //             state.idexDetailView = state.detailViewerList.length - 1\r\n    //             state.detailViewUUID = payload.uuid\r\n    //         }\r\n    //     },\r\n    //     setBackDetailView(state) {\r\n    //         if (state.idexDetailView == 0) {\r\n    //             return\r\n    //         }\r\n    //         state.idexDetailView -= 1\r\n    //         state.detailViewer = { uuid: state.detailViewerList[state.idexDetailView].uuid, element: state.detailViewerList[state.idexDetailView].element }\r\n    //         state.detailViewUUID = state.detailViewerList[state.idexDetailView].uuid\r\n    //         console.log('back' + state.detailViewerList[state.idexDetailView].element + '//' + state.detailViewer.uuid)\r\n    //     },\r\n    //     setfrontDetailView(state) {\r\n    //         if (state.idexDetailView == state.detailViewerList.length - 1) {\r\n    //             return\r\n    //         }\r\n    //         state.idexDetailView += 1\r\n    //         state.detailViewer = { uuid: state.detailViewerList[state.idexDetailView].uuid, element: state.detailViewerList[state.idexDetailView].element }\r\n    //         state.detailViewUUID = state.detailViewerList[state.idexDetailView].uuid\r\n    //         console.log('front' + state.detailViewer.element + '//' + state.detailViewer.uuid)\r\n\r\n    //     },\r\n    //     setVisibleDetailView(state, payload) {\r\n    //         state.visibleDetailView = payload.visible\r\n    //         localStorage.setItem(\"visibleDetailView\", JSON.stringify(state.visibleDetailView))\r\n    //     },\r\n    //     setVisibleLine(state, payload) {\r\n    //         state.visibleLine = payload.isvisible\r\n    //     },\r\n    //     setExit() {\r\n    //         console.log('setExit')\r\n    //             //, JSON.stringify(state.SAHLProject))\r\n    //             //localStorage.setItem(\"navigatorList\", JSON.stringify(state.navigatorList))\r\n    //     },\r\n    //     deleteDetailViewerList(state) {\r\n    //         state.detailViewerList = []\r\n    //         state.detailViewer = { uuid: '', element: '' }\r\n    //         state.detailViewUUID = null\r\n    //         console.log(state.detailViewerList)\r\n    //     },\r\n    //     setPanesNum(state, payload) {\r\n    //         state.numPanes = payload.panes\r\n    //     },\r\n    //     setSelectScreen(state, payload) {\r\n    //         state.selectScreen = payload.num\r\n    //     },\r\n    //     setZoomInOut(state, payload) {\r\n    //         if (payload.valueDetail == null) {\r\n    //             state.setting = { zoomMain: payload.valueMain, zoomDetail: state.setting.zoomDetail }\r\n    //         } else {\r\n    //             state.setting = { zoomMain: payload.valueMain, zoomDetail: payload.valueDetail }\r\n    //         }\r\n    //         // 이렇게 변경해야지 watch에서 변경되었는지 알수있다!!!!\r\n    //         localStorage.setItem(\"setting\", JSON.stringify(state.setting))\r\n    //     },\r\n    //     setOpenCloseSearch(state, payload) {\r\n    //         state.isOpenCloseSearch = payload.isopen\r\n    //     },\r\n    //     setOpenCloseDetailView(state, payload) {\r\n    //         state.isOpenCloseDetailView = payload.isopen\r\n    //     },\r\n    //     setOpenCloseNavigationView(state, payload) {\r\n    //         state.isOpenCloseNavigationView = payload.isopen\r\n    //     },\r\n    //     setPositionofLine(state, payload) {\r\n    //         state.isPositionLine = payload.up\r\n    //     },\r\n    //     setDraggable(state, payload) {\r\n    //         state.isDraggable = payload.drag\r\n    //     },\r\n    //     setSaveValidate(state, payload) {\r\n    //         console.log('setSaveValidate')\r\n    //         state.errorList = []\r\n    //         for (var data in state.SAHLProject[state.openProjectIndex]) {\r\n    //             if (data != 'uuid' && data != 'name') {\r\n    //                 for (var datatype in state.SAHLProject[state.openProjectIndex][data]) {\r\n    //                     state.SAHLProject[state.openProjectIndex][data][datatype].forEach((ele, elidx) => {\r\n    //                         payload.savelist.forEach(list => {\r\n    //                             list.saveFile.forEach(item => {\r\n    //                                 if (item.uuid == ele.uuid) {\r\n    //                                     if (ele.name == '') {\r\n    //                                         state.errorList.push({ uuid: ele.uuid, name: ele.name, parent: data, path: ele.path, error: 'name' })\r\n    //                                     }\r\n    //                                     if (ele.path == '') {\r\n    //                                         state.errorList.push({ uuid: ele.uuid, name: ele.name, parent: data, path: ele.path, error: 'path' })\r\n    //                                     }\r\n\r\n    //                                     if (ele.name == '' || ele.path == '') {\r\n    //                                         this.commit('checkVaildationElement', { datatype: datatype, elidx: elidx })\r\n    //                                     }\r\n    //                                 }\r\n    //                             })\r\n    //                         })\r\n    //                     })\r\n    //                 }\r\n    //             }\r\n    //         }\r\n    //     },\r\n    //     setCheckValidate(state) {\r\n    //         console.log('setCheckValidate')\r\n    //         state.errorList = []\r\n    //         for (var data in state.SAHLProject[state.openProjectIndex]) {\r\n    //             if (data != 'uuid' && data != 'name') {\r\n    //                 for (var datatype in state.SAHLProject[state.openProjectIndex][data]) {\r\n    //                     state.SAHLProject[state.openProjectIndex][data][datatype].forEach((ele, elidx) => {\r\n    //                         var checkNameSpace = false\r\n\r\n    //                         if (ele.name == '') {\r\n    //                             state.errorList.push({ uuid: ele.uuid, name: ele.name, parent: data, path: ele.path, error: 'name' })\r\n    //                         }\r\n    //                         if (ele.path == '') {\r\n    //                             state.errorList.push({ uuid: ele.uuid, name: ele.name, parent: data, path: ele.path, error: 'path' })\r\n    //                         }\r\n    //                         if (ele.namespace != undefined) {\r\n    //                             var namespace = ele.namespace.split(',')\r\n    //                             console.log(namespace)\r\n    //                             namespace.forEach((item, i) => {\r\n    //                                 if (!(item == '' && i == namespace.length - 1)) {\r\n    //                                     var strSymble = item.split('/')\r\n    //                                     console.log(strSymble)\r\n    //                                     if (strSymble.length != 2 || strSymble[0] == '' || strSymble[0] == undefined || strSymble[1] == '' || strSymble[1] == undefined) {\r\n    //                                         if (checkNameSpace == false) {\r\n    //                                             state.errorList.push({ uuid: ele.uuid, name: ele.name, parent: data, path: ele.path, error: 'Name Space' })\r\n    //                                         }\r\n    //                                         checkNameSpace = true\r\n    //                                     }\r\n    //                                 }\r\n    //                             })\r\n\r\n    //                         }\r\n\r\n    //                         if (ele.name == '' || ele.path == '' || checkNameSpace == true) {\r\n    //                             this.commit('checkVaildationElement', { datatype: datatype, elidx: elidx })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n\r\n    //             }\r\n    //         }\r\n    //     },\r\n    //     checkVaildationElement(state, payload) {\r\n    //         var idxchild = null,\r\n    //             idxchildchild = null,\r\n    //             idxService = null\r\n\r\n    //         if (payload.datatype == 'CompuMethod') {\r\n    //             idxchild = constant.DateType_index\r\n    //             idxchildchild = constant.CompuMethod_index\r\n    //         } else if (payload.datatype == 'DataConstr') {\r\n    //             idxchild = constant.DateType_index\r\n    //             idxchildchild = constant.DataConstr_index\r\n    //         } else if (payload.datatype == 'ApplicationArrayDataType') {\r\n    //             idxchild = constant.DateType_index\r\n    //             idxchildchild = constant.ApplicationArray_index\r\n    //         } else if (payload.datatype == 'ImplementationDataType') {\r\n    //             idxchild = constant.DateType_index\r\n    //             idxchildchild = constant.Implementation_index\r\n    //         } else if (payload.datatype == 'Machine') {\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.Machine_index\r\n    //         } else if (payload.datatype == 'MachineDesign') {\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.MachineDesigne_index\r\n    //         } else if (payload.datatype == 'EthernetCluster') {\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.EthernetCluster_index\r\n    //         } else if (payload.datatype == 'ModeDeclarationGroup') {\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.ModeDeclarationGroup_index\r\n    //         } else if (payload.datatype == 'HWElement') {\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.HWElement_index\r\n    //         } else if (payload.datatype == 'ProtoMachineMapping') {\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.ProcesstoMachineMapping_index\r\n    //         } else if (payload.datatype == 'SWComponents') {\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.SWComponents_index\r\n    //         } else if (payload.datatype == 'Process') {\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.Process_index\r\n    //         } else if (payload.datatype == 'Executable') {\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.Executable_index\r\n    //         } else if (payload.datatype == 'StartupConfig') {\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.StartupConfig_index\r\n    //         } else if (payload.datatype == 'DeterministicClient') {\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.DeterministicClient_index\r\n    //         } else if (payload.datatype == 'ProcessDesign') {\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.ProcessDesign_index\r\n    //         } else if (payload.datatype == 'SomeIPServiceInterfaceDeployment') {\r\n    //             idxService = constant.ServiceInterfaces_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.SomeIPServiceInterfaceDeployment_index\r\n    //         } else if (payload.datatype == 'ServiceInterface') {\r\n    //             idxService = constant.ServiceInterfaces_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.ServiceInterface_index\r\n    //         } else if (payload.datatype == 'SomeIPClientEvent') {\r\n    //             idxService = constant.SomeIPEvents_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.Client_index\r\n    //         } else if (payload.datatype == 'SomeIPServerEvent') {\r\n    //             idxService = constant.SomeIPEvents_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.Server_index\r\n    //         } else if (payload.datatype == 'Error') {\r\n    //             idxService = constant.Errors_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.Error_index\r\n    //         } else if (payload.datatype == 'ErrorSet') {\r\n    //             idxService = constant.Errors_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.Errorset_index\r\n    //         } else if (payload.datatype == 'ErrorDomain') {\r\n    //             idxService = constant.Errors_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.ErrorDomain_index\r\n    //         } else if (payload.datatype == 'SomeIPClientServiceInstance') {\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.SomeIPClient_index\r\n    //         } else if (payload.datatype == 'SomeIPServerServiceInstance') {\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.SomeIPServer_index\r\n    //         } else if (payload.datatype == 'SomeIPServiceInstanceToMachine') {\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.SomeIPToMachineMapping_index\r\n    //         } else if (payload.datatype == 'ServiceInstanceToPortPrototype') {\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.ToPortPrototypeMapping_index\r\n    //         } else if (payload.datatype == 'RequiredSomeIP') {\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.RequiredSomeIP_index\r\n    //         } else if (payload.datatype == 'ProvidedSomeIP') {\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxchild = constant.Service_index\r\n    //             idxchildchild = constant.ProvidedSomeIP_index\r\n    //         } else if (payload.datatype == 'PERFileArray') {\r\n    //             idxService = constant.PER_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.FileArray_index\r\n    //         } else if (payload.datatype == 'PERFileProxy') {\r\n    //             idxService = constant.PER_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.FileProxyInterf_index\r\n    //         } else if (payload.datatype == 'PERKeyValueD') {\r\n    //             idxService = constant.PER_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.KeyValueData_index\r\n    //         } else if (payload.datatype == 'PERKeyValueDI') {\r\n    //             idxService = constant.PER_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.KeyValueDI_index\r\n    //         } else if (payload.datatype == 'PERPPtoFileArray') {\r\n    //             idxService = constant.PER_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.PortProtoFileA_index\r\n    //         } else if (payload.datatype == 'PERPPtoKeyValue') {\r\n    //             idxService = constant.PER_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.PortProtoKeyV_index\r\n    //         } else if (payload.datatype == 'FieldG') {\r\n    //             idxService = constant.IAM_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.ComFieldGrant_index\r\n    //         } else if (payload.datatype == 'EventG') {\r\n    //             idxService = constant.IAM_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.ComEventGrant_index\r\n    //         } else if (payload.datatype == 'MethodG') {\r\n    //             idxService = constant.IAM_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.ComMethodGrant_index\r\n    //         } else if (payload.datatype == 'FieldGD') {\r\n    //             idxService = constant.IAM_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.ComFieldGDesign_index\r\n    //         } else if (payload.datatype == 'EventGD') {\r\n    //             idxService = constant.IAM_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.ComEventGDesign_index\r\n    //         } else if (payload.datatype == 'MethodGD') {\r\n    //             idxService = constant.IAM_index\r\n    //             idxchild = constant.Platform_index\r\n    //             idxchildchild = constant.ComMethodGDesign_index\r\n    //         }\r\n\r\n    //         if (idxchild == constant.Service_index) {\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].children[idxService].children[idxchildchild].children[payload.elidx].validation = true\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].children[idxService].children[idxchildchild].validation = true\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].children[idxService].validation = true\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].validation = true\r\n    //             state.navigatorList[state.openProjectIndex].validation = true\r\n    //         } else {\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].children[idxchildchild].children[payload.elidx].validation = true\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].children[idxchildchild].validation = true\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].validation = true\r\n    //             state.navigatorList[state.openProjectIndex].validation = true\r\n    //         }\r\n    //     },\r\n    //     setSavePath(state, payload) {\r\n    //         state.strSavePath.push(payload.strPath)\r\n    //         localStorage.setItem(\"savePath\", JSON.stringify(state.strSavePath))\r\n    //     },\r\n    //     deleteSavePath(state, payload) {\r\n    //         state.strSavePath = state.strSavePath.filter(item => {\r\n    //             return payload.deletePath.indexOf(item) < 0\r\n    //         })\r\n    //         localStorage.setItem(\"savePath\", JSON.stringify(state.strSavePath))\r\n    //     },\r\n    //     setzIndex(state, payload) {\r\n    //         //console.log('setzIndex/  ' + payload.zindex)\r\n    //         //console.log(payload.parent)\r\n    //         //console.log(payload.uuid)\r\n    //         if (payload.parent == constant.CompuMethod_str) {\r\n    //             this.commit('editCompuMehtod', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.DataConstr_str) {\r\n    //             this.commit('editDataConstr', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ApplicationArray_str) {\r\n    //             this.commit('editApplicationArray', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.Implementation_str) {\r\n    //             this.commit('editImplementation', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.SomeIPServiceInterfaceDeployment_str) {\r\n    //             this.commit('editSomeIPService', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ServiceInterface_str) {\r\n    //             this.commit('editServiceInterface', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.Client_str) {\r\n    //             this.commit('editClient', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.Server_str) {\r\n    //             this.commit('editServer', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.SomeIPClient_str) {\r\n    //             this.commit('editSomeIPClient', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.SomeIPServer_str) {\r\n    //             this.commit('editSomeIPServer', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.SomeIPToMachineMapping_str) {\r\n    //             this.commit('editSomeIPtoMachine', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ToPortPrototypeMapping_str) {\r\n    //             this.commit('editToPortPrototype', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.RequiredSomeIP_str) {\r\n    //             this.commit('editRequiredSomeIP', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ProvidedSomeIP_str) {\r\n    //             this.commit('editProvidedSomeIP', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.Error_str) {\r\n    //             this.commit('editError', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.Errorset_str) {\r\n    //             this.commit('editErrorSet', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ErrorDomain_str) {\r\n    //             this.commit('editErrorDomain', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ProcesstoMachineMapping_str) {\r\n    //             this.commit('editProtoMachineMapping', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.SWComponents_str) {\r\n    //             this.commit('editSWComponents', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.Process_str) {\r\n    //             this.commit('editProcess', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ProcessDesign_str) {\r\n    //             this.commit('editProcessDesign', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.Executable_str) {\r\n    //             this.commit('editExecutable', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.StartupConfig_str) {\r\n    //             this.commit('editStartupConfig', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.DeterministicClient_str) {\r\n    //             this.commit('editDeterministicClien', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.Machine_str) {\r\n    //             this.commit('editMachine', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.MachineDesigne_str) {\r\n    //             this.commit('editMachineDesign', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.EthernetCluster_str) {\r\n    //             this.commit('editEthernetCluster', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ModeDeclarationGroup_str) {\r\n    //             this.commit('editModeDeclarationGroup', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.HWElement_str) {\r\n    //             this.commit('editHWElement', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.FileArray_str) {\r\n    //             this.commit('editPERFileArray', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.FileProxyInterf_str) {\r\n    //             this.commit('editPERFileProxy', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.KeyValueData_str) {\r\n    //             this.commit('editPERKeyValueD', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.KeyValueDI_str) {\r\n    //             this.commit('editPERKeyValueDI', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.PortProtoFileA_str) {\r\n    //             this.commit('editPERPPtoFileArray', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.PortProtoKeyV_str) {\r\n    //             this.commit('editPERPPtoKeyValue', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ComMethodGDesign_str) {\r\n    //             this.commit('editMethodGD', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ComEventGDesign_str) {\r\n    //             this.commit('editEventGD', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ComFieldGDesign_str) {\r\n    //             this.commit('editFieldGD', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ComMethodGrant_str) {\r\n    //             this.commit('editMethodG', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ComEventGrant_str) {\r\n    //             this.commit('editEventG', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         } else if (payload.parent == constant.ComFieldGrant_str) {\r\n    //             this.commit('editFieldG', { compo: \"z\", uuid: payload.uuid, zindex: payload.zindex })\r\n    //         }\r\n    //     },\r\n    //     saveInputfile(state, payload) {\r\n    //         const getEditPath = (ele, path) => {\r\n    //             if (ele.parentNode.parentNode.nodeName == 'AR-PACKAGE') {\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         path = item.childNodes[0].nodeValue + '/' + path\r\n    //                     }\r\n    //                 })\r\n    //                 return getEditPath(ele.parentNode.parentNode, path)\r\n    //             }\r\n\r\n    //             ele.childNodes.forEach(item => {\r\n    //                 if (item.nodeName == \"SHORT-NAME\") {\r\n    //                     path = '/' + item.childNodes[0].nodeValue + '/' + path\r\n    //                 }\r\n    //             })\r\n    //             path = path.substr(0, path.length - 1)\r\n    //             return path\r\n    //         }\r\n\r\n    //         /// COMPU-METHOD\r\n    //         var compu = payload.xmlDoc.getElementsByTagName('COMPU-METHOD')\r\n    //         compu.forEach(ele => {\r\n    //                 var compuName = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     compuCate = ''\r\n    //                 var scalesItem = []\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         compuName = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"CATEGORY\") {\r\n    //                         compuCate = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"COMPU-INTERNAL-TO-PHYS\") {\r\n    //                         var scales = item.childNodes[1].childNodes\r\n    //                         scales.forEach((scale, s) => {\r\n    //                             if (s % 2 != 0) {\r\n    //                                 var editScaleItem = { const: '', symbol: '', lowerlimit: '', upperlimit: '', desc: '' }\r\n    //                                 scale.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"COMPU-CONST\") {\r\n    //                                             editScaleItem.const = data.childNodes[1].childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SYMBOL\") {\r\n    //                                             editScaleItem.symbol = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"LOWER-LIMIT\") {\r\n    //                                             editScaleItem.lowerlimit = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"UPPER-LIMIT\") {\r\n    //                                             editScaleItem.upperlimit = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"DESC\") {\r\n    //                                             editScaleItem.desc = data.childNodes[1].childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editScaleItem)\r\n    //                                 scalesItem.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementCompuMehtod', {\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     name: compuName,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     category: compuCate,\r\n    //                     scales: scalesItem,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + compuName, parent: constant.CompuMethod_str })\r\n    //                 EventBus.$emit('add-element', constant.DateType_str)\r\n    //                 EventBus.$emit('add-element', constant.CompuMethod_str)\r\n    //             })\r\n    //             /// Data-Constr\r\n    //         var datacon = payload.xmlDoc.getElementsByTagName('DATA-CONSTR')\r\n    //         datacon.forEach(ele => {\r\n    //                 var dataconName = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     dataconLow = '',\r\n    //                     dataconUpper = ''\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         dataconName = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DATA-CONSTR-RULES\") {\r\n    //                         var rules = item.childNodes[1].childNodes[1].childNodes\r\n    //                         rules.forEach(data => {\r\n    //                             if (data.nodeName == \"LOWER-LIMIT\") {\r\n    //                                 dataconLow = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"UPPER-LIMIT\") {\r\n    //                                 dataconUpper = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementDataConstr', {\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     name: dataconName,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     lowerlimit: dataconLow,\r\n    //                     upperlimit: dataconUpper,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + dataconName, parent: constant.DataConstr_str })\r\n    //                 EventBus.$emit('add-element', constant.DateType_str)\r\n    //                 EventBus.$emit('add-element', constant.DataConstr_str)\r\n    //             })\r\n    //             /// APPLICATION-ARRAY-DATA-TYPE\r\n    //         var application = payload.xmlDoc.getElementsByTagName('APPLICATION-ARRAY-DATA-TYPE')\r\n    //         application.forEach(ele => {\r\n    //                 var appliName = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     appliCategory = '',\r\n    //                     appliDynamicArrySize = '',\r\n    //                     appliElename = '',\r\n    //                     appliElehandling = null,\r\n    //                     appliElesemantics = null,\r\n    //                     appliElemaxnumber = ''\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         appliName = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"CATEGORY\") {\r\n    //                         appliCategory = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DYNAMIC-ARRAY-SIZE-PROFILE\") {\r\n    //                         appliDynamicArrySize = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ELEMENT\") {\r\n    //                         item.childNodes.forEach(data => {\r\n    //                             if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                 appliElename = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"ARRAY-SIZE-HANDLING\") {\r\n    //                                 appliElehandling = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"ARRAY-SIZE-SEMANTICS\") {\r\n    //                                 appliElesemantics = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"MAX-NUMBER-OF-ELEMENTS\") {\r\n    //                                 appliElemaxnumber = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementApplicationArray', {\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     name: appliName,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     category: appliCategory,\r\n    //                     dynamicArrySize: appliDynamicArrySize,\r\n    //                     elename: appliElename,\r\n    //                     elehandling: appliElehandling,\r\n    //                     elesemantics: appliElesemantics,\r\n    //                     elemaxnumber: appliElemaxnumber,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + appliName, parent: constant.ApplicationArray_str })\r\n    //                 EventBus.$emit('add-element', constant.DateType_str)\r\n    //                 EventBus.$emit('add-element', constant.ApplicationArray_str)\r\n    //             })\r\n    //             //STD-CPP-IMPLEMENTATION-DATA-TYPE\r\n    //         var implement = payload.xmlDoc.getElementsByTagName('STD-CPP-IMPLEMENTATION-DATA-TYPE')\r\n    //         implement.forEach(ele => {\r\n    //                 var impName = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     impcategory = '',\r\n    //                     impnamespace = '',\r\n    //                     imparraysize = '',\r\n    //                     imptypeemitter = '',\r\n    //                     imptyperef = null,\r\n    //                     imptemplatetype = null,\r\n    //                     impdesc = ''\r\n    //                 var DDPCItem = [],\r\n    //                     IDTElementItem = []\r\n    //                 console.log(ele.childNodes)\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         impName = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"CATEGORY\") {\r\n    //                         impcategory = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"NAMESPACES\") {\r\n    //                         item.childNodes.forEach((symbol, s) => {\r\n    //                             if (s % 2 != 0) {\r\n    //                                 symbol.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         impnamespace += data.childNodes[0].nodeValue\r\n    //                                         impnamespace += '/'\r\n    //                                     }\r\n    //                                 })\r\n    //                                 impnamespace = impnamespace.substr(0, impnamespace.length - 1)\r\n    //                                 impnamespace += ','\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"ARRAY-SIZE\") {\r\n    //                         imparraysize = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"TYPE-EMITTER\") {\r\n    //                         imptypeemitter = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"TYPE-REFERENCE-REF\") {\r\n    //                         imptyperef = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"TEMPLATE-ARGUMENTS\") {\r\n    //                         imptemplatetype = item.childNodes[1].childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DESC\") {\r\n    //                         impdesc = item.childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SW-DATA-DEF-PROPS\") {\r\n    //                         var swdata = item.childNodes[1].childNodes\r\n    //                         swdata.forEach((condi, c) => {\r\n    //                             var editDDPCItem = { compumethod: null, dataconstr: null }\r\n    //                             if (c % 2 != 0) {\r\n    //                                 condi.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"COMPU-METHOD-REF\") {\r\n    //                                             editDDPCItem.compumethod = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"DATA-CONSTR-REF\") {\r\n    //                                             editDDPCItem.dataconstr = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editDDPCItem)\r\n    //                                 DDPCItem.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"SUB-ELEMENTS\") {\r\n    //                         item.childNodes.forEach((cppImp, c) => {\r\n    //                             var editIDTElementItem = { name: '', typeref: null, inplace: false, desc: '' }\r\n    //                             if (c % 2 != 0) {\r\n    //                                 cppImp.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editIDTElementItem.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"DESC\") {\r\n    //                                             editIDTElementItem.desc = data.childNodes[1].childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"TYPE-REFERENCE\") {\r\n    //                                             data.childNodes.forEach((typeR, t) => {\r\n    //                                                 if (t % 2 != 0) {\r\n    //                                                     if (typeR.nodeName == \"INPLACE\") {\r\n    //                                                         editIDTElementItem.inplace = typeR.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (typeR.nodeName == \"TYPE-REFERENCE-REF\") {\r\n    //                                                         editIDTElementItem.typeref = typeR.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editIDTElementItem)\r\n    //                                 IDTElementItem.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementImplementation', {\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     name: impName,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     category: impcategory,\r\n    //                     namespace: impnamespace,\r\n    //                     arraysize: imparraysize,\r\n    //                     typeemitter: imptypeemitter,\r\n    //                     typeref: imptyperef,\r\n    //                     templatetype: imptemplatetype,\r\n    //                     desc: impdesc,\r\n    //                     ddpc: DDPCItem,\r\n    //                     idtelement: IDTElementItem,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + impName, parent: constant.Implementation_str })\r\n    //                 EventBus.$emit('add-element', constant.DateType_str)\r\n    //                 EventBus.$emit('add-element', constant.Implementation_str)\r\n    //             })\r\n    //             // MACHINE\r\n    //         var machine = payload.xmlDoc.getElementsByTagName('MACHINE')\r\n    //         machine.forEach(ele => {\r\n    //                 var name = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     machineDesign = null,\r\n    //                     timeout = '',\r\n    //                     exelaunch = null,\r\n    //                     admin = '',\r\n    //                     hwele = [],\r\n    //                     functionG = [],\r\n    //                     processor = [],\r\n    //                     module = []\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"MACHINE-DESIGN-REF\") {\r\n    //                         machineDesign = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DEFAULT-APPLICATION-TIMEOUT\") {\r\n    //                         timeout = item.childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"TRUSTED-PLATFORM-EXECUTABLE-LAUNCH-BEHAVIOR\") {\r\n    //                         exelaunch = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ADMIN-DATA\") {\r\n    //                         admin = item.childNodes[1].childNodes[1].childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"HW-ELEMENT-REFS\") {\r\n    //                         item.childNodes.forEach((data, d) => {\r\n    //                             var editHWItem = { hwelement: null }\r\n    //                             if (d % 2 != 0) {\r\n    //                                 if (data.nodeName == \"HW-ELEMENT-REF\") {\r\n    //                                     editHWItem.hwelement = data.childNodes[0].nodeValue\r\n    //                                     const addObj = Object.assign({}, editHWItem)\r\n    //                                     hwele.push(addObj)\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"FUNCTION-GROUPS\") {\r\n    //                         item.childNodes.forEach((mode, m) => {\r\n    //                             var editFunctionItem = { name: '', type: null, }\r\n    //                             if (m % 2 != 0) {\r\n    //                                 mode.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editFunctionItem.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"TYPE-TREF\") {\r\n    //                                             editFunctionItem.type = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editFunctionItem)\r\n    //                                 functionG.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"PROCESSORS\") {\r\n    //                         item.childNodes.forEach((pros, p) => {\r\n    //                             var editPro = { name: '', core: [] }\r\n    //                             if (p % 2 != 0) {\r\n    //                                 pros.childNodes.forEach((pro, r) => {\r\n    //                                     if (r % 2 != 0) {\r\n    //                                         if (pro.nodeName == \"SHORT-NAME\") {\r\n    //                                             editPro.name = pro.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (pro.nodeName == \"CORES\") {\r\n    //                                             pro.childNodes.forEach((procor, o) => {\r\n    //                                                 if (o % 2 != 0) {\r\n    //                                                     var editCoreItem = { name: '', id: '' }\r\n    //                                                     procor.childNodes.forEach((data, d) => {\r\n    //                                                         if (d % 2 != 0) {\r\n    //                                                             if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                                                 editCoreItem.name = data.childNodes[0].nodeValue\r\n    //                                                             }\r\n    //                                                             if (data.nodeName == \"CORE-ID\") {\r\n    //                                                                 editCoreItem.id = data.childNodes[0].nodeValue\r\n    //                                                             }\r\n    //                                                         }\r\n    //                                                     })\r\n    //                                                     const addObjRes = Object.assign({}, editCoreItem)\r\n    //                                                     editPro.core.push(addObjRes)\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editPro)\r\n    //                                 processor.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"MODULE-INSTANTIATIONS\") {\r\n    //                         item.childNodes.forEach((os, o) => {\r\n    //                             var editModule = { name: '', resource: [] }\r\n    //                             if (o % 2 != 0) {\r\n    //                                 os.childNodes.forEach((osmodul, s) => {\r\n    //                                     if (s % 2 != 0) {\r\n    //                                         if (osmodul.nodeName == \"SHORT-NAME\") {\r\n    //                                             editModule.name = osmodul.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (osmodul.nodeName == \"RESOURCE-GROUPS\") {\r\n    //                                             osmodul.childNodes.forEach((group, g) => {\r\n    //                                                 var editModuleInsItem = { name: '', cpuUsage: '', memoryUsage: '' }\r\n    //                                                 if (g % 2 != 0) {\r\n    //                                                     group.childNodes.forEach((data, d) => {\r\n    //                                                         if (d % 2 != 0) {\r\n    //                                                             if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                                                 editModuleInsItem.name = data.childNodes[0].nodeValue\r\n    //                                                             }\r\n    //                                                             if (data.nodeName == \"CPU-USAGE\") {\r\n    //                                                                 editModuleInsItem.cpuUsage = data.childNodes[0].nodeValue\r\n    //                                                             }\r\n    //                                                             if (data.nodeName == \"MEM-USAGE\") {\r\n    //                                                                 editModuleInsItem.memoryUsage = data.childNodes[0].nodeValue\r\n    //                                                             }\r\n    //                                                         }\r\n    //                                                     })\r\n    //                                                     const addObjRes = Object.assign({}, editModuleInsItem)\r\n    //                                                     editModule.resource.push(addObjRes)\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editModule)\r\n    //                                 module.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementMachine', {\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     name: name,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     machinedesign: machineDesign,\r\n    //                     timeout: timeout,\r\n    //                     hwelement: hwele,\r\n    //                     executable: exelaunch,\r\n    //                     admin: admin,\r\n    //                     functiongroup: functionG,\r\n    //                     processor: processor,\r\n    //                     moduleinstant: module,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + name, parent: constant.Machine_str })\r\n    //                 EventBus.$emit('add-element', constant.Machines_str)\r\n    //                 EventBus.$emit('add-element', constant.Machine_str)\r\n    //             })\r\n    //             // MACHINE-DESIGN\r\n    //         var machineDesign = payload.xmlDoc.getElementsByTagName('MACHINE-DESIGN')\r\n    //         machineDesign.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     access = null,\r\n    //                     pntimer = '',\r\n    //                     communi = [],\r\n    //                     service = []\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ACCESS-CONTROL\") {\r\n    //                         access = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PN-RESET-TIMER\") {\r\n    //                         pntimer = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"COMMUNICATION-CONNECTORS\") {\r\n    //                         item.childNodes.forEach((ethernet, e) => {\r\n    //                             var editedItemCC = { name: '', mtu: '', mtuenable: null, timeout: '', endpoint: null, mask: '' }\r\n    //                             if (e % 2 != 0) {\r\n    //                                 ethernet.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editedItemCC.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"MAXIMUM-TRANSMISSION-UNIT\") {\r\n    //                                             editedItemCC.mtu = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"PATH-MTU-ENABLED\") {\r\n    //                                             editedItemCC.mtuenable = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"PATH-MTU-TIMEOUT\") {\r\n    //                                             editedItemCC.timeout = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"UNICAST-NETWORK-ENDPOINT-REF\") {\r\n    //                                             editedItemCC.endpoint = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"PNC-FILTER-DATA-MASK\") {\r\n    //                                             editedItemCC.mask = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editedItemCC)\r\n    //                                 communi.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-DISCOVER-CONFIGS\") {\r\n    //                         item.childNodes.forEach((someIP, s) => {\r\n    //                             var editedItemSDC = { msia: null, ssdp: '' }\r\n    //                             if (s % 2 != 0) {\r\n    //                                 someIP.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"MULTICAST-SD-IP-ADDRESS-REF\") {\r\n    //                                             editedItemSDC.msia = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SOMEIP-SERVICE-DISCOVERY-PORT\") {\r\n    //                                             editedItemSDC.ssdp = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editedItemSDC)\r\n    //                                 service.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementMachineDesign', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     access: access,\r\n    //                     resettimer: pntimer,\r\n    //                     connector: communi,\r\n    //                     servicediscover: service,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.MachineDesigne_str })\r\n    //                 EventBus.$emit('add-element', constant.Machines_str)\r\n    //                 EventBus.$emit('add-element', constant.MachineDesigne_str)\r\n    //             })\r\n    //             // ETHERNET-CLUSTER\r\n    //         var ethernetCluster = payload.xmlDoc.getElementsByTagName('ETHERNET-CLUSTER')\r\n    //         ethernetCluster.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     condition = []\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ETHERNET-CLUSTER-VARIANTS\") {\r\n    //                         item.childNodes.forEach((ethernet, e) => {\r\n    //                             if (e % 2 != 0) {\r\n    //                                 var editedEthernet = { name: '', version: '', channel: [] }\r\n    //                                 ethernet.childNodes.forEach((protocol, p) => {\r\n    //                                     if (p % 2 != 0) {\r\n    //                                         if (protocol.nodeName == \"PROTOCOL-NAME\") {\r\n    //                                             editedEthernet.name = protocol.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (protocol.nodeName == \"PROTOCOL-VERSION\") {\r\n    //                                             editedEthernet.version = protocol.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (protocol.nodeName == \"PHYSICAL-CHANNELS\") {\r\n    //                                             protocol.childNodes.forEach((channels, c) => {\r\n    //                                                 if (c % 2 != 0) {\r\n    //                                                     var editChannel = { name: '', comconnect: [], endpoint: [] }\r\n    //                                                     channels.childNodes.forEach((channel, h) => {\r\n    //                                                         if (h % 2 != 0) {\r\n    //                                                             if (channel.nodeName == \"SHORT-NAME\") {\r\n    //                                                                 editChannel.name = channel.childNodes[0].nodeValue\r\n    //                                                             }\r\n    //                                                             if (channel.nodeName == \"COMM-CONNECTORS\") {\r\n    //                                                                 channel.childNodes.forEach((comm, o) => {\r\n    //                                                                     if (o % 2 != 0) {\r\n    //                                                                         var editCCItem = { connector: null }\r\n    //                                                                         comm.childNodes.forEach(data => {\r\n    //                                                                             if (data.nodeName == \"COMMUNICATION-CONNECTOR-REF\") {\r\n    //                                                                                 editCCItem.connector = data.childNodes[0].nodeValue\r\n    //                                                                             }\r\n    //                                                                         })\r\n    //                                                                         const addObj = Object.assign({}, editCCItem)\r\n    //                                                                         editChannel.comconnect.push(addObj)\r\n    //                                                                     }\r\n    //                                                                 })\r\n    //                                                             }\r\n    //                                                             if (channel.nodeName == \"NETWORK-ENDPOINTS\") {\r\n    //                                                                 channel.childNodes.forEach((network, n) => {\r\n    //                                                                     if (n % 2 != 0) {\r\n    //                                                                         var editNetwork = { name: '', domainname: '', ip4address: [], ip6address: [], priority: '' }\r\n    //                                                                         network.childNodes.forEach((endpoint, d) => {\r\n    //                                                                             if (d % 2 != 0) {\r\n    //                                                                                 if (endpoint.nodeName == \"SHORT-NAME\") {\r\n    //                                                                                     editNetwork.name = endpoint.childNodes[0].nodeValue\r\n    //                                                                                 }\r\n    //                                                                                 if (endpoint.nodeName == \"FULLY-QUALIFIED-DOMAIN-NAME\") {\r\n    //                                                                                     editNetwork.domainname = endpoint.childNodes[0].nodeValue\r\n    //                                                                                 }\r\n    //                                                                                 if (endpoint.nodeName == \"PRIORITY\") {\r\n    //                                                                                     editNetwork.priority = endpoint.childNodes[0].nodeValue\r\n    //                                                                                 }\r\n    //                                                                                 if (endpoint.nodeName == \"NETWORK-ENDPOINT-ADDRESSES\") {\r\n    //                                                                                     endpoint.childNodes.forEach((config, f) => {\r\n    //                                                                                         if (f % 2 != 0) {\r\n    //                                                                                             var editIP4Item = { gateway: '', behavior: null, address: '', addresssorce: null, mask: '', }\r\n    //                                                                                             var editIP6Item = { priority: '', behavior: null, prelength: '', address: '', addresssource: null, }\r\n    //                                                                                             if (config.nodeName == \"IPV-4-CONFIGURATION\") {\r\n    //                                                                                                 config.childNodes.forEach((data, a) => {\r\n    //                                                                                                     if (a % 2 != 0) {\r\n    //                                                                                                         if (data.nodeName == \"DEFAULT-GATEWAY\") {\r\n    //                                                                                                             editIP4Item.gateway = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                         if (data.nodeName == \"IP-ADDRESS-KEEP-BEHAVIOR\") {\r\n    //                                                                                                             editIP4Item.behavior = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                         if (data.nodeName == \"IPV-4-ADDRESS\") {\r\n    //                                                                                                             editIP4Item.address = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                         if (data.nodeName == \"IPV-4-ADDRESS-SOURCE\") {\r\n    //                                                                                                             editIP4Item.addresssorce = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                         if (data.nodeName == \"NETWORK-MASK\") {\r\n    //                                                                                                             editIP4Item.mask = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                     }\r\n    //                                                                                                 })\r\n    //                                                                                                 const addObj = Object.assign({}, editIP4Item)\r\n    //                                                                                                 editNetwork.ip4address.push(addObj)\r\n    //                                                                                             }\r\n    //                                                                                             if (config.nodeName == \"IPV-6-CONFIGURATION\") {\r\n    //                                                                                                 config.childNodes.forEach((data, t) => {\r\n    //                                                                                                     if (t % 2 != 0) {\r\n    //                                                                                                         if (data.nodeName == \"ASSIGNMENT-PRIORITY\") {\r\n    //                                                                                                             editIP6Item.priority = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                         if (data.nodeName == \"IP-ADDRESS-KEEP-BEHAVIOR\") {\r\n    //                                                                                                             editIP6Item.behavior = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                         if (data.nodeName == \"IP-ADDRESS-PREFIX-LENGTH\") {\r\n    //                                                                                                             editIP6Item.prelength = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                         if (data.nodeName == \"IPV-6-ADDRESS\") {\r\n    //                                                                                                             editIP6Item.address = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                         if (data.nodeName == \"IPV-6-ADDRESS-SOURCE\") {\r\n    //                                                                                                             editIP6Item.addresssource = data.childNodes[0].nodeValue\r\n    //                                                                                                         }\r\n    //                                                                                                     }\r\n    //                                                                                                 })\r\n    //                                                                                                 const addObj = Object.assign({}, editIP6Item)\r\n    //                                                                                                 editNetwork.ip6address.push(addObj)\r\n    //                                                                                             }\r\n    //                                                                                         }\r\n    //                                                                                     })\r\n    //                                                                                 }\r\n    //                                                                             }\r\n    //                                                                         })\r\n    //                                                                         const addObj = Object.assign({}, editNetwork)\r\n    //                                                                         editChannel.endpoint.push(addObj)\r\n    //                                                                     }\r\n    //                                                                 })\r\n    //                                                             }\r\n    //                                                         }\r\n    //                                                     })\r\n    //                                                     const addObjRes = Object.assign({}, editChannel)\r\n    //                                                     editedEthernet.channel.push(addObjRes)\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editedEthernet)\r\n    //                                 condition.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementEthernetCluster', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     conditional: condition,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.EthernetCluster_str })\r\n    //                 EventBus.$emit('add-element', constant.Machines_str)\r\n    //                 EventBus.$emit('add-element', constant.EthernetCluster_str)\r\n    //             })\r\n    //             // MODE-DECLARATION-GROUP\r\n    //         var modeDeclatation = payload.xmlDoc.getElementsByTagName('MODE-DECLARATION-GROUP')\r\n    //         modeDeclatation.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     mode = [],\r\n    //                     initmode = null\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"INITIAL-MODE-REF\") {\r\n    //                         initmode = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"MODE-DECLARATIONS\") {\r\n    //                         item.childNodes.forEach((modede, m) => {\r\n    //                             if (m % 2 != 0) {\r\n    //                                 modede.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             mode.push(data.childNodes[0].nodeValue)\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementModeDeclarationGroup', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     modedeclaration: mode,\r\n    //                     initmode: initmode,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ModeDeclarationGroup_str })\r\n    //                 EventBus.$emit('add-element', constant.Machines_str)\r\n    //                 EventBus.$emit('add-element', constant.ModeDeclarationGroup_str)\r\n    //             })\r\n    //             // HW-ELEMENT\r\n    //         var HWElement = payload.xmlDoc.getElementsByTagName('HW-ELEMENT')\r\n    //         HWElement.forEach(ele => {\r\n    //             var Name = '',\r\n    //                 path = '',\r\n    //                 strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                 category = null,\r\n    //                 attri = []\r\n    //             ele.childNodes.forEach(item => {\r\n    //                 if (item.nodeName == \"SHORT-NAME\") {\r\n    //                     Name = item.childNodes[0].nodeValue\r\n    //                 }\r\n    //                 if (item.nodeName == \"HW-CATEGORY-REFS\") {\r\n    //                     category = item.childNodes[1].childNodes[0].nodeValue\r\n    //                 }\r\n    //                 if (item.nodeName == \"HW-ATTRIBUTE-VALUES\") {\r\n    //                     item.childNodes.forEach((value, v) => {\r\n    //                         if (v % 2 != 0) {\r\n    //                             var editAttributeItem = { attr: null, vt: '', v: '' }\r\n    //                             value.childNodes.forEach((data, d) => {\r\n    //                                 if (d % 2 != 0) {\r\n    //                                     if (data.nodeName == \"HW-ATTRIBUTE-DEF-REF\") {\r\n    //                                         editAttributeItem.attr = data.childNodes[0].nodeValue\r\n    //                                     }\r\n    //                                     if (data.nodeName == \"VT\") {\r\n    //                                         editAttributeItem.vt = data.childNodes[0].nodeValue\r\n    //                                     }\r\n    //                                     if (data.nodeName == \"V\") {\r\n    //                                         editAttributeItem.v = data.childNodes[0].nodeValue\r\n    //                                     }\r\n    //                                 }\r\n    //                             })\r\n    //                             const addObj = Object.assign({}, editAttributeItem)\r\n    //                             attri.push(addObj)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             })\r\n    //             var UUID = ele.getAttribute(\"UUID\")\r\n    //             var idxEle = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(data => data.uuid === UUID)\r\n    //             if (UUID == null || idxEle != -1) {\r\n    //                 UUID = uuid.v1()\r\n    //             }\r\n    //             const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //             const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //             this.commit('addElementHWElement', {\r\n    //                 name: Name,\r\n    //                 input: true,\r\n    //                 path: strPath,\r\n    //                 uuid: UUID,\r\n    //                 top: elementY,\r\n    //                 left: elementX,\r\n    //                 zindex: 2,\r\n    //                 category: category,\r\n    //                 attribute: attri,\r\n    //                 icon: \"mdi-clipboard-outline\",\r\n    //                 validation: false\r\n    //             })\r\n    //             state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.HWElement_str })\r\n    //             EventBus.$emit('add-element', constant.Machines_str)\r\n    //             EventBus.$emit('add-element', constant.HWElement_str)\r\n    //         })\r\n\r\n    //         // PROCESS-TO-MACHINE-MAPPING-SET\r\n    //         var processtoMachine = payload.xmlDoc.getElementsByTagName('PROCESS-TO-MACHINE-MAPPING-SET')\r\n    //         processtoMachine.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     ptmmname = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     machine = null,\r\n    //                     process = null\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PROCESS-TO-MACHINE-MAPPINGS\") {\r\n    //                         item.childNodes.forEach((mapping, m) => {\r\n    //                             if (m % 2 != 0) {\r\n    //                                 mapping.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             ptmmname = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"MACHINE-REF\") {\r\n    //                                             machine = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"PROCESS-REF\") {\r\n    //                                             process = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementProtoMachineMapping', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     ptmmname: ptmmname,\r\n    //                     ptmmMachine: machine,\r\n    //                     ptmmProcess: process,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ProcesstoMachineMapping_str })\r\n    //                 EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n    //                 EventBus.$emit('add-element', constant.ProcesstoMachineMapping_str)\r\n    //             })\r\n    //             // ADAPTIVE-APPLICATION-SW-COMPONENT-TYPE\r\n    //         var SWComponent = payload.xmlDoc.getElementsByTagName('ADAPTIVE-APPLICATION-SW-COMPONENT-TYPE')\r\n    //         SWComponent.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     pPort = [],\r\n    //                     rPort = [],\r\n    //                     prPort = []\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PORTS\") {\r\n    //                         item.childNodes.forEach((port, p) => {\r\n    //                             if (p % 2 != 0) {\r\n    //                                 if (port.nodeName == \"P-PORT-PROTOTYPE\") {\r\n    //                                     var editPPortItem = { name: '', interface: null }\r\n    //                                     port.childNodes.forEach((data, d) => {\r\n    //                                         if (d % 2 != 0) {\r\n    //                                             if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                                 editPPortItem.name = data.childNodes[0].nodeValue\r\n    //                                             }\r\n    //                                             if (data.nodeName == \"PROVIDED-INTERFACE-TREF\") {\r\n    //                                                 editPPortItem.interface = data.childNodes[0].nodeValue\r\n    //                                             }\r\n    //                                         }\r\n    //                                     })\r\n    //                                     const addObj = Object.assign({}, editPPortItem)\r\n    //                                     pPort.push(addObj)\r\n    //                                 }\r\n    //                                 if (port.nodeName == \"PR-PORT-PROTOTYPE\") {\r\n    //                                     var editPRPortItem = { name: '', interface: null }\r\n    //                                     port.childNodes.forEach((data, d) => {\r\n    //                                         if (d % 2 != 0) {\r\n    //                                             if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                                 editPRPortItem.name = data.childNodes[0].nodeValue\r\n    //                                             }\r\n    //                                             if (data.nodeName == \"PROVIDED-REQUIRED-INTERFACE-TREF\") {\r\n    //                                                 editPRPortItem.interface = data.childNodes[0].nodeValue\r\n    //                                             }\r\n    //                                         }\r\n    //                                     })\r\n    //                                     const addObj = Object.assign({}, editPRPortItem)\r\n    //                                     prPort.push(addObj)\r\n    //                                 }\r\n    //                                 if (port.nodeName == \"R-PORT-PROTOTYPE\") {\r\n    //                                     var editRPortItem = { name: '', interface: null }\r\n    //                                     port.childNodes.forEach((data, d) => {\r\n    //                                         if (d % 2 != 0) {\r\n    //                                             if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                                 editRPortItem.name = data.childNodes[0].nodeValue\r\n    //                                             }\r\n    //                                             if (data.nodeName == \"REQUIRED-INTERFACE-TREF\") {\r\n    //                                                 editRPortItem.interface = data.childNodes[0].nodeValue\r\n    //                                             }\r\n    //                                         }\r\n    //                                     })\r\n    //                                     const addObj = Object.assign({}, editRPortItem)\r\n    //                                     rPort.push(addObj)\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementSWComponents', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     pport: pPort,\r\n    //                     rport: rPort,\r\n    //                     prport: prPort,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.SWComponents_str })\r\n    //                 EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n    //                 EventBus.$emit('add-element', constant.SWComponents_str)\r\n    //             })\r\n    //             // PROCESS\r\n    //         var process = payload.xmlDoc.getElementsByTagName('PROCESS')\r\n    //         process.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     design = null,\r\n    //                     determin = null,\r\n    //                     exe = null,\r\n    //                     proname = '',\r\n    //                     type = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     config = []\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DESIGN-REF\") {\r\n    //                         design = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DETERMINISTIC-CLIENT-REF\") {\r\n    //                         determin = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"EXECUTABLE-REF\") {\r\n    //                         exe = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PROCESS-STATE-MACHINE\") {\r\n    //                         item.childNodes.forEach(machine => {\r\n    //                             if (machine.nodeName == \"SHORT-NAME\") {\r\n    //                                 proname = machine.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (machine.nodeName == \"TYPE-TREF\") {\r\n    //                                 type = machine.childNodes[0].nodeValue\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"STATE-DEPENDENT-STARTUP-CONFIGS\") {\r\n    //                         item.childNodes.forEach((state, s) => {\r\n    //                             var editItem = { functionItem: [], resourceRef: null, startupConfigRef: null }\r\n    //                             if (s % 2 != 0) {\r\n    //                                 state.childNodes.forEach((con, c) => {\r\n    //                                     if (c % 2 != 0) {\r\n    //                                         if (con.nodeName == \"RESOURCE-GROUP-REF\") {\r\n    //                                             editItem.resourceRef = con.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (con.nodeName == \"STARTUP-CONFIG-REF\") {\r\n    //                                             editItem.startupConfigRef = con.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (con.nodeName == \"FUNCTION-GROUP-STATE-IREFS\") {\r\n    //                                             con.childNodes.forEach((iref, i) => {\r\n    //                                                 var editFunctionGItem = { contextMode: null, targetMode: null }\r\n    //                                                 if (i % 2 != 0) {\r\n    //                                                     iref.childNodes.forEach((data, d) => {\r\n    //                                                         if (d % 2 != 0) {\r\n    //                                                             if (data.nodeName == \"CONTEXT-MODE-DECLARATION-GROUP-PROTOTYPE-REF\") {\r\n    //                                                                 editFunctionGItem.contextMode = data.childNodes[0].nodeValue\r\n    //                                                             }\r\n    //                                                             if (data.nodeName == \"TARGET-MODE-DECLARATION-REF\") {\r\n    //                                                                 editFunctionGItem.targetMode = data.childNodes[0].nodeValue\r\n    //                                                             }\r\n    //                                                         }\r\n    //                                                     })\r\n    //                                                     const addObj = Object.assign({}, editFunctionGItem)\r\n    //                                                     editItem.functionItem.push(addObj)\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editItem)\r\n    //                                 config.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementProcess', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     prodesign: design,\r\n    //                     determin: determin,\r\n    //                     execut: exe,\r\n    //                     machinname: proname,\r\n    //                     machinetype: type,\r\n    //                     dependent: config\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.Process_str })\r\n    //                 EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n    //                 EventBus.$emit('add-element', constant.Process_str)\r\n    //             })\r\n    //             // PROCESS-DESIGN\r\n    //         var processDesign = payload.xmlDoc.getElementsByTagName('PROCESS-DESIGN')\r\n    //         processDesign.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     determininistic = [],\r\n    //                     exe = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"EXECUTABLE-REF\") {\r\n    //                         exe = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DETERMINISTIC-CLIENT-RESOURCE-NEEDSS\") {\r\n    //                         item.childNodes.forEach((need, n) => {\r\n    //                             var editItem = {\r\n    //                                 swname: '',\r\n    //                                 hardwareP: '',\r\n    //                                 initnofinstruction: '',\r\n    //                                 initsequentialbegin: '',\r\n    //                                 initsequentialend: '',\r\n    //                                 initspeedup: '',\r\n    //                                 runnofinstruction: '',\r\n    //                                 runsequentialbegin: '',\r\n    //                                 runsequentialend: '',\r\n    //                                 runspeedup: ''\r\n    //                             }\r\n    //                             if (n % 2 != 0) {\r\n    //                                 need.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editItem.swname = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"HARDWARE-PLATFORM\") {\r\n    //                                             editItem.hardwareP = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"INIT-RESOURCE\") {\r\n    //                                             data.childNodes.forEach((init, i) => {\r\n    //                                                 if (i % 2 != 0) {\r\n    //                                                     if (init.nodeName == \"NUMBER-OF-INSTRUCTIONS\") {\r\n    //                                                         editItem.initnofinstruction = init.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (init.nodeName == \"SEQUENTIAL-INSTRUCTIONS-BEGIN\") {\r\n    //                                                         editItem.initsequentialbegin = init.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (init.nodeName == \"SEQUENTIAL-INSTRUCTIONS-END\") {\r\n    //                                                         editItem.initsequentialend = init.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (init.nodeName == \"SPEEDUP\") {\r\n    //                                                         editItem.initspeedup = init.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"RUN-RESOURCE\") {\r\n    //                                             data.childNodes.forEach((run, r) => {\r\n    //                                                 if (r % 2 != 0) {\r\n    //                                                     if (run.nodeName == \"NUMBER-OF-INSTRUCTIONS\") {\r\n    //                                                         editItem.runnofinstruction = run.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (run.nodeName == \"SEQUENTIAL-INSTRUCTIONS-BEGIN\") {\r\n    //                                                         editItem.runsequentialbegin = run.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (run.nodeName == \"SEQUENTIAL-INSTRUCTIONS-END\") {\r\n    //                                                         editItem.runsequentialend = run.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (run.nodeName == \"SPEEDUP\") {\r\n    //                                                         editItem.runspeedup = run.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editItem)\r\n    //                                 determininistic.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n\r\n    //                 this.commit('addElementProcessDesign', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     executableref: exe,\r\n    //                     determin: determininistic\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ProcessDesign_str })\r\n    //                 EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n    //                 EventBus.$emit('add-element', constant.ProcessDesign_str)\r\n    //             })\r\n    //             // EXECUTABLE\r\n    //         var executable = payload.xmlDoc.getElementsByTagName('EXECUTABLE')\r\n    //         executable.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     version = '',\r\n    //                     category = '',\r\n    //                     log = null,\r\n    //                     build = null,\r\n    //                     report = null,\r\n    //                     swname = '',\r\n    //                     appli = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"CATEGORY\") {\r\n    //                         category = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"BUILD-TYPE\") {\r\n    //                         build = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"LOGGING-BEHAVIOR\") {\r\n    //                         log = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"REPORTING-BEHAVIOR\") {\r\n    //                         report = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"VERSION\") {\r\n    //                         version = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ROOT-SW-COMPONENT-PROTOTYPE\") {\r\n    //                         item.childNodes.forEach((data, d) => {\r\n    //                             if (d % 2 != 0) {\r\n    //                                 if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                     swname = data.childNodes[0].nodeValue\r\n    //                                 }\r\n    //                                 if (data.nodeName == \"APPLICATION-TYPE-TREF\") {\r\n    //                                     appli = data.childNodes[0].nodeValue\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementExecutable', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     version: version,\r\n    //                     category: category,\r\n    //                     buildType: build,\r\n    //                     loggingBehabior: log,\r\n    //                     reportingBehabior: report,\r\n    //                     swname: swname,\r\n    //                     applicationtyperef: appli,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.Executable_str })\r\n    //                 EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n    //                 EventBus.$emit('add-element', constant.Executable_str)\r\n    //             })\r\n    //             // STARTUP-CONFIG-SET\r\n    //         var startup = payload.xmlDoc.getElementsByTagName('STARTUP-CONFIG-SET')\r\n    //         startup.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     configName = '',\r\n    //                     policy = null,\r\n    //                     priority = '',\r\n    //                     enter = '',\r\n    //                     exit = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"STARTUP-CONFIGS\") {\r\n    //                         item.childNodes.forEach((configs, c) => {\r\n    //                             if (c % 2 != 0) {\r\n    //                                 configs.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             configName = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SCHEDULING-POLICY\") {\r\n    //                                             policy = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SCHEDULING-PRIORITY\") {\r\n    //                                             priority = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"TIMEOUT\") {\r\n    //                                             data.childNodes.forEach(time => {\r\n    //                                                 if (time.nodeName == \"ENTER-TIMEOUT-VALUE\") {\r\n    //                                                     enter = time.childNodes[0].nodeValue\r\n    //                                                 }\r\n    //                                                 if (time.nodeName == \"EXIT-TIMEOUT-VALUE\") {\r\n    //                                                     exit = time.childNodes[0].nodeValue\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementStartupConfig', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     configname: configName,\r\n    //                     policy: policy,\r\n    //                     priority: priority,\r\n    //                     entertimeout: enter,\r\n    //                     exittimeout: exit\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.StartupConfig_str })\r\n    //                 EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n    //                 EventBus.$emit('add-element', constant.StartupConfig_str)\r\n    //             })\r\n    //             // DETERMINISTIC-CLIENT\r\n    //         var deterministic = payload.xmlDoc.getElementsByTagName('DETERMINISTIC-CLIENT')\r\n    //         deterministic.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     cycle = '',\r\n    //                     number = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"CYCLE-TIME-VALUE\") {\r\n    //                         cycle = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"NUMBER-OF-WORKERS\") {\r\n    //                         number = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementDeterministicClien', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     cycletiem: cycle,\r\n    //                     numofworkers: number,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.DeterministicClient_str })\r\n    //                 EventBus.$emit('add-element', constant.AdaptiveApplication_str)\r\n    //                 EventBus.$emit('add-element', constant.DeterministicClient_str)\r\n    //             })\r\n    //             // SOMEIP-SERVICE-INTERFACE-DEPLOYMENT\r\n    //         var someIPService = payload.xmlDoc.getElementsByTagName('SOMEIP-SERVICE-INTERFACE-DEPLOYMENT')\r\n    //         someIPService.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     service = null,\r\n    //                     majversion = '',\r\n    //                     minversion = '',\r\n    //                     id = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     eventG = [],\r\n    //                     eventD = [],\r\n    //                     methodD = [],\r\n    //                     fieldD = []\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"EVENT-DEPLOYMENTS\") {\r\n    //                         item.childNodes.forEach((eve, e) => {\r\n    //                             var editEventD = { name: '', event: null, id: '', maxlength: '', time: '', serializer: null, protocal: null }\r\n    //                             if (e % 2 != 0) {\r\n    //                                 eve.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editEventD.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"EVENT-REF\") {\r\n    //                                             editEventD.event = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"EVENT-ID\") {\r\n    //                                             editEventD.id = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"MAXIMUM-SEGMENT-LENGTH\") {\r\n    //                                             editEventD.maxlength = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"EVENT\") {\r\n    //                                             editEventD.time = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SEPARATION-TIME\") {\r\n    //                                             editEventD.serializer = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"TRANSPORT-PROTOCOL\") {\r\n    //                                             editEventD.protocal = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editEventD)\r\n    //                                 eventD.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INTERFACE-REF\") {\r\n    //                         service = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"EVENT-GROUPS\") {\r\n    //                         item.childNodes.forEach((eve, e) => {\r\n    //                             var editItem = { name: '', id: '', event: [] }\r\n    //                             if (e % 2 != 0) {\r\n    //                                 eve.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editItem.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"EVENT-GROUP-ID\") {\r\n    //                                             editItem.id = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"EVENT-REFS\") {\r\n    //                                             var editEvent = { event: null }\r\n    //                                             data.childNodes.forEach((eventref, v) => {\r\n    //                                                 if (v % 2 != 0) {\r\n    //                                                     if (eventref.nodeName == \"EVENT-REF\") {\r\n    //                                                         editEvent.event = eventref.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                             const addObjObj = Object.assign({}, editEvent)\r\n    //                                             editItem.event.push(addObjObj)\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editItem)\r\n    //                                 eventG.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INTERFACE-ID\") {\r\n    //                         id = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INTERFACE-VERSION\") {\r\n    //                         item.childNodes.forEach((data, d) => {\r\n    //                             if (d % 2 != 0) {\r\n    //                                 if (data.nodeName == \"MAJOR-VERSION\") {\r\n    //                                     majversion = data.childNodes[0].nodeValue\r\n    //                                 }\r\n    //                                 if (data.nodeName == \"MINOR-VERSION\") {\r\n    //                                     minversion = data.childNodes[0].nodeValue\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"FIELD-DEPLOYMENTS\") {\r\n    //                         item.childNodes.forEach((fie, f) => {\r\n    //                             var editItem = {\r\n    //                                 name: '',\r\n    //                                 field: null,\r\n    //                                 getname: '',\r\n    //                                 getid: '',\r\n    //                                 getmaxreq: '',\r\n    //                                 getmaxres: '',\r\n    //                                 gettimereq: '',\r\n    //                                 gettimeres: '',\r\n    //                                 getproto: null,\r\n    //                                 setname: '',\r\n    //                                 setid: '',\r\n    //                                 setmaxreq: '',\r\n    //                                 setmaxres: '',\r\n    //                                 settimereq: '',\r\n    //                                 settimeres: '',\r\n    //                                 setproto: null,\r\n    //                                 notname: '',\r\n    //                                 notid: '',\r\n    //                                 notmax: '',\r\n    //                                 nottime: '',\r\n    //                                 notserial: null,\r\n    //                                 notproto: null\r\n    //                             }\r\n    //                             if (f % 2 != 0) {\r\n    //                                 fie.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editItem.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"FIELD-REF\") {\r\n    //                                             editItem.field = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"GET\") {\r\n    //                                             data.childNodes.forEach((getfield, g) => {\r\n    //                                                 if (g % 2 != 0) {\r\n    //                                                     if (getfield.nodeName == \"SHORT-NAME\") {\r\n    //                                                         editItem.getname = getfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (getfield.nodeName == \"METHOD-ID\") {\r\n    //                                                         editItem.getid = getfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (getfield.nodeName == \"MAXIMUM-SEGMENT-LENGTH-REQUEST\") {\r\n    //                                                         editItem.getmaxreq = getfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (getfield.nodeName == \"MAXIMUM-SEGMENT-LENGTH-RESPONSE\") {\r\n    //                                                         editItem.getmaxres = getfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (getfield.nodeName == \"SEPARATION-TIME-REQUEST\") {\r\n    //                                                         editItem.gettimereq = getfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (getfield.nodeName == \"SEPARATION-TIME-RESPONSE\") {\r\n    //                                                         editItem.gettimeres = getfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (getfield.nodeName == \"TRANSPORT-PROTOCOL\") {\r\n    //                                                         editItem.getproto = getfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SET\") {\r\n    //                                             data.childNodes.forEach((setfield, s) => {\r\n    //                                                 if (s % 2 != 0) {\r\n    //                                                     if (setfield.nodeName == \"SHORT-NAME\") {\r\n    //                                                         editItem.setname = setfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (setfield.nodeName == \"METHOD-ID\") {\r\n    //                                                         editItem.setid = setfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (setfield.nodeName == \"MAXIMUM-SEGMENT-LENGTH-REQUEST\") {\r\n    //                                                         editItem.setmaxreq = setfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (setfield.nodeName == \"MAXIMUM-SEGMENT-LENGTH-RESPONSE\") {\r\n    //                                                         editItem.setmaxres = setfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (setfield.nodeName == \"SEPARATION-TIME-REQUEST\") {\r\n    //                                                         editItem.settimereq = setfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (setfield.nodeName == \"SEPARATION-TIME-RESPONSE\") {\r\n    //                                                         editItem.settimeres = setfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (setfield.nodeName == \"TRANSPORT-PROTOCOL\") {\r\n    //                                                         editItem.setproto = setfield.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"NOTIFIER\") {\r\n    //                                             data.childNodes.forEach((noti, n) => {\r\n    //                                                 if (n % 2 != 0) {\r\n    //                                                     if (noti.nodeName == \"SHORT-NAME\") {\r\n    //                                                         editItem.notname = noti.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (noti.nodeName == \"EVENT-ID\") {\r\n    //                                                         editItem.notid = noti.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (noti.nodeName == \"MAXIMUM-SEGMENT-LENGTH\") {\r\n    //                                                         editItem.notmax = noti.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (noti.nodeName == \"SEPARATION-TIME\") {\r\n    //                                                         editItem.nottime = noti.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (noti.nodeName == \"SERIALIZER\") {\r\n    //                                                         editItem.notserial = noti.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                     if (noti.nodeName == \"TRANSPORT-PROTOCOL\") {\r\n    //                                                         editItem.notproto = noti.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editItem)\r\n    //                                 fieldD.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"METHOD-DEPLOYMENTS\") {\r\n    //                         item.childNodes.forEach((met, m) => {\r\n    //                             var editMethodD = { name: '', method: null, id: '', maxrequest: '', maxresponse: '', timerequest: '', timeresponse: '', protocal: null }\r\n    //                             if (m % 2 != 0) {\r\n    //                                 met.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editMethodD.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"METHOD-REF\") {\r\n    //                                             editMethodD.method = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"METHOD-ID\") {\r\n    //                                             editMethodD.id = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"MAXIMUM-SEGMENT-LENGTH-REQUEST\") {\r\n    //                                             editMethodD.maxrequest = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"MAXIMUM-SEGMENT-LENGTH-RESPONSE\") {\r\n    //                                             editMethodD.maxresponse = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SEPARATION-TIME-REQUEST\") {\r\n    //                                             editMethodD.timerequest = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SEPARATION-TIME-RESPONSE\") {\r\n    //                                             editMethodD.timeresponse = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"TRANSPORT-PROTOCOL\") {\r\n    //                                             editMethodD.protocal = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editMethodD)\r\n    //                                 methodD.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementSomeIPService', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     service: service,\r\n    //                     majversion: majversion,\r\n    //                     minversion: minversion,\r\n    //                     id: id,\r\n    //                     eventG: eventG,\r\n    //                     eventD: eventD,\r\n    //                     methodD: methodD,\r\n    //                     fieldD: fieldD,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.SomeIPServiceInterfaceDeployment_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInterfaces_str)\r\n    //                 EventBus.$emit('add-element', constant.SomeIPServiceInterfaceDeployment_str)\r\n    //             })\r\n    //             // SERVICE-INTERFACE\r\n    //         var serviceInterface = payload.xmlDoc.getElementsByTagName('SERVICE-INTERFACE')\r\n    //         serviceInterface.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     max = '',\r\n    //                     min = '',\r\n    //                     namespace = '',\r\n    //                     isservice = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     events = [],\r\n    //                     fields = [],\r\n    //                     methods = []\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"NAMESPACES\") {\r\n    //                         item.childNodes.forEach((symbol, s) => {\r\n    //                             if (s % 2 != 0) {\r\n    //                                 symbol.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         namespace += data.childNodes[0].nodeValue\r\n    //                                         namespace += '/'\r\n    //                                     }\r\n    //                                 })\r\n    //                                 namespace = namespace.substr(0, namespace.length - 1)\r\n    //                                 namespace += ','\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"IS-SERVICE\") {\r\n    //                         isservice = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"MAJOR-VERSION\") {\r\n    //                         max = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"MINOR-VERSION\") {\r\n    //                         min = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"EVENTS\") {\r\n    //                         item.childNodes.forEach((eve, e) => {\r\n    //                             var editEvent = { name: '', type: null }\r\n    //                             if (e % 2 != 0) {\r\n    //                                 eve.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editEvent.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"TYPE-TREF\") {\r\n    //                                             editEvent.type = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editEvent)\r\n    //                                 events.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"FIELDS\") {\r\n    //                         item.childNodes.forEach((fie, f) => {\r\n    //                             var editField = { name: '', type: null, getter: null, setter: null, notifier: null }\r\n    //                             if (f % 2 != 0) {\r\n    //                                 fie.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editField.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"TYPE-TREF\") {\r\n    //                                             editField.type = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"HAS-GETTER\") {\r\n    //                                             editField.getter = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"HAS-SETTER\") {\r\n    //                                             editField.setter = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"HAS-NOTIFIER\") {\r\n    //                                             editField.notifier = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editField)\r\n    //                                 fields.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"METHODS\") {\r\n    //                         item.childNodes.forEach((met, m) => {\r\n    //                             var editedItem = { name: '', fireforget: null, argument: [], errorSet: [], error: [], descrip: '' }\r\n    //                             if (m % 2 != 0) {\r\n    //                                 met.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editedItem.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"ARGUMENTS\") {\r\n    //                                             data.childNodes.forEach((arg, a) => {\r\n    //                                                 var editArgItem = { name: '', type: null, dir: null, descrip: '' }\r\n    //                                                 if (a % 2 != 0) {\r\n    //                                                     arg.childNodes.forEach(proto => {\r\n    //                                                         if (proto.nodeName == \"SHORT-NAME\") {\r\n    //                                                             editArgItem.name = proto.childNodes[0].nodeValue\r\n    //                                                         }\r\n    //                                                         if (proto.nodeName == \"TYPE-TREF\") {\r\n    //                                                             editArgItem.type = proto.childNodes[0].nodeValue\r\n    //                                                         }\r\n    //                                                         if (proto.nodeName == \"DIRECTION\") {\r\n    //                                                             editArgItem.dir = proto.childNodes[0].nodeValue\r\n    //                                                         }\r\n    //                                                         if (proto.nodeName == \"DESC\") {\r\n    //                                                             editArgItem.descrip = proto.childNodes[1].childNodes[0].nodeValue\r\n    //                                                         }\r\n    //                                                     })\r\n    //                                                     const addObj = Object.assign({}, editArgItem)\r\n    //                                                     editedItem.argument.push(addObj)\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"FIRE-AND-FORGET\") {\r\n    //                                             editedItem.fireforget = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"POSSIBLE-AP-ERROR-SET-REFS\") {\r\n    //                                             var editErrorSetItem = { error: null }\r\n    //                                             data.childNodes.forEach((err, e) => {\r\n    //                                                 if (e % 2 != 0) {\r\n    //                                                     if (err.nodeName == \"POSSIBLE-AP-ERROR-SET-REF\") {\r\n    //                                                         editErrorSetItem.error = err.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                             const addObj = Object.assign({}, editErrorSetItem)\r\n    //                                             editedItem.errorSet.push(addObj)\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"POSSIBLE-AP-ERROR-REFS\") {\r\n    //                                             var editErrorItem = { error: null }\r\n    //                                             data.childNodes.forEach((err, e) => {\r\n    //                                                 if (e % 2 != 0) {\r\n    //                                                     if (err.nodeName == \"POSSIBLE-AP-ERROR-REF\") {\r\n    //                                                         editErrorItem.error = err.childNodes[0].nodeValue\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                             const addObj = Object.assign({}, editErrorItem)\r\n    //                                             editedItem.error.push(addObj)\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"DESC\") {\r\n    //                                             editedItem.descrip = data.childNodes[1].childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editedItem)\r\n    //                                 methods.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementService', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     versionMaj: max,\r\n    //                     versionMin: min,\r\n    //                     namespace: namespace,\r\n    //                     isservice: isservice,\r\n    //                     events: events,\r\n    //                     fields: fields,\r\n    //                     methods: methods\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ServiceInterface_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInterfaces_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInterface_str)\r\n    //             })\r\n    //             // SOMEIP-SD-CLIENT-EVENT-GROUP-TIMING-CONFIG\r\n    //         var client = payload.xmlDoc.getElementsByTagName('SOMEIP-SD-CLIENT-EVENT-GROUP-TIMING-CONFIG')\r\n    //         client.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     max = '',\r\n    //                     min = '',\r\n    //                     time = '',\r\n    //                     retryD = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     retryM = ''\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SUBSCRIBE-EVENTGROUP-RETRY-DELAY\") {\r\n    //                         retryD = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SUBSCRIBE-EVENTGROUP-RETRY-MAX\") {\r\n    //                         retryM = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"TIME-TO-LIVE\") {\r\n    //                         time = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"REQUEST-RESPONSE-DELAY\") {\r\n    //                         item.childNodes.forEach(data => {\r\n    //                             if (data.nodeName == \"MAX-VALUE\") {\r\n    //                                 max = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"MIN-VALUE\") {\r\n    //                                 min = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementClient', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     delay: retryD,\r\n    //                     max: retryM,\r\n    //                     timetolive: time,\r\n    //                     delaymax: max,\r\n    //                     delaymin: min,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.Client_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.SomeIPEvents_str)\r\n    //                 EventBus.$emit('add-element', constant.Client_str)\r\n    //             })\r\n    //             // SOMEIP-SD-SERVER-EVENT-GROUP-TIMING-CONFIG\r\n    //         var server = payload.xmlDoc.getElementsByTagName('SOMEIP-SD-SERVER-EVENT-GROUP-TIMING-CONFIG')\r\n    //         server.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     max = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     min = ''\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"REQUEST-RESPONSE-DELAY\") {\r\n    //                         item.childNodes.forEach(data => {\r\n    //                             if (data.nodeName == \"MAX-VALUE\") {\r\n    //                                 max = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"MIN-VALUE\") {\r\n    //                                 min = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementServer', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     delaymax: max,\r\n    //                     delaymin: min,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.Server_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.SomeIPEvents_str)\r\n    //                 EventBus.$emit('add-element', constant.Server_str)\r\n    //             })\r\n    //             // SOMEIP-SD-CLIENT-SERVICE-INSTANCE-CONFIG\r\n    //         var someIPClient = payload.xmlDoc.getElementsByTagName('SOMEIP-SD-CLIENT-SERVICE-INSTANCE-CONFIG')\r\n    //         someIPClient.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     time = '',\r\n    //                     delayMax = '',\r\n    //                     delayMin = '',\r\n    //                     delay = '',\r\n    //                     max = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-FIND-TIME-TO-LIVE\") {\r\n    //                         time = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"INITIAL-FIND-BEHAVIOR\") {\r\n    //                         item.childNodes.forEach(data => {\r\n    //                             if (data.nodeName == \"INITIAL-DELAY-MAX-VALUE\") {\r\n    //                                 delayMax = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"INITIAL-DELAY-MIN-VALUE\") {\r\n    //                                 delayMin = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"INITIAL-REPETITIONS-BASE-DELAY\") {\r\n    //                                 delay = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"INITIAL-REPETITIONS-MAX\") {\r\n    //                                 max = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementSomeIPClient', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     findtime: time,\r\n    //                     inidelaymax: delayMax,\r\n    //                     inidelaymin: delayMin,\r\n    //                     inibasedelay: delay,\r\n    //                     inirepetimax: max,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.SomeIPClient_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInstances_str)\r\n    //                 EventBus.$emit('add-element', constant.SomeIPClient_str)\r\n    //             })\r\n    //             // SOMEIP-SD-SERVER-SERVICE-INSTANCE-CONFIG\r\n    //         var someIPServer = payload.xmlDoc.getElementsByTagName('SOMEIP-SD-SERVER-SERVICE-INSTANCE-CONFIG')\r\n    //         someIPServer.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     time = '',\r\n    //                     delayMax = '',\r\n    //                     delayMin = '',\r\n    //                     delay = '',\r\n    //                     max = '',\r\n    //                     cyclic = '',\r\n    //                     maxvalue = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     minvalue = ''\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"INITIAL-OFFER-BEHAVIOR\") {\r\n    //                         item.childNodes.forEach(data => {\r\n    //                             if (data.nodeName == \"INITIAL-DELAY-MAX-VALUE\") {\r\n    //                                 delayMax = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"INITIAL-DELAY-MIN-VALUE\") {\r\n    //                                 delayMin = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"INITIAL-REPETITIONS-BASE-DELAY\") {\r\n    //                                 delay = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"INITIAL-REPETITIONS-MAX\") {\r\n    //                                 max = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"OFFER-CYCLIC-DELAY\") {\r\n    //                         cyclic = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"REQUEST-RESPONSE-DELAY\") {\r\n    //                         item.childNodes.forEach(data => {\r\n    //                             if (data.nodeName == \"MAX-VALUE\") {\r\n    //                                 maxvalue = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                             if (data.nodeName == \"MIN-VALUE\") {\r\n    //                                 minvalue = data.childNodes[0].nodeValue\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-OFFER-TIME-TO-LIVE\") {\r\n    //                         time = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementSomeIPServer', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     inidelaymax: delayMax,\r\n    //                     inidelaymin: delayMin,\r\n    //                     inibasedelay: delay,\r\n    //                     inirepetimax: max,\r\n    //                     delaymax: maxvalue,\r\n    //                     delaymin: minvalue,\r\n    //                     offer: cyclic,\r\n    //                     tiemtolive: time,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.SomeIPServer_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInstances_str)\r\n    //                 EventBus.$emit('add-element', constant.SomeIPServer_str)\r\n    //             })\r\n    //             // SOMEIP-SERVICE-INSTANCE-TO-MACHINE-MAPPING\r\n    //         var someIPtoMachine = payload.xmlDoc.getElementsByTagName('SOMEIP-SERVICE-INSTANCE-TO-MACHINE-MAPPING')\r\n    //         someIPtoMachine.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     connect = null,\r\n    //                     service = null,\r\n    //                     udp = '',\r\n    //                     tcp = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"COMMUNICATION-CONNECTOR-REF\") {\r\n    //                         connect = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INSTANCE-REFS\") {\r\n    //                         service = item.childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"UDP-PORT\") {\r\n    //                         udp = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"TCP-PORT\") {\r\n    //                         tcp = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementSomeIPtoMachine', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     ccref: connect,\r\n    //                     udp: udp,\r\n    //                     tcp: tcp,\r\n    //                     siref: service,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.SomeIPToMachineMapping_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInstances_str)\r\n    //                 EventBus.$emit('add-element', constant.SomeIPToMachineMapping_str)\r\n    //             })\r\n    //             // SERVICE-INSTANCE-TO-PORT-PROTOTYPE-MAPPING\r\n    //         var toProtProto = payload.xmlDoc.getElementsByTagName('SERVICE-INSTANCE-TO-PORT-PROTOTYPE-MAPPING')\r\n    //         toProtProto.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     selectPort = null,\r\n    //                     porttype = null,\r\n    //                     process = null,\r\n    //                     selectServiceIns = null,\r\n    //                     serviceIns = null\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PORT-PROTOTYPE-IREF\") {\r\n    //                         selectPort = item.childNodes[1].getAttribute(\"DEST\")\r\n    //                         porttype = item.childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PROCESS-REF\") {\r\n    //                         process = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INSTANCE-REF\") {\r\n    //                         selectServiceIns = item.getAttribute(\"DEST\")\r\n    //                         serviceIns = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementToPortPrototype', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     selectPort: selectPort,\r\n    //                     porttype: porttype,\r\n    //                     process: process,\r\n    //                     selectServiceIns: selectServiceIns,\r\n    //                     serviceIns: serviceIns,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ToPortPrototypeMapping_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInstances_str)\r\n    //                 EventBus.$emit('add-element', constant.ToPortPrototypeMapping_str)\r\n    //             })\r\n    //             // REQUIRED-SOMEIP-SERVICE-INSTANCE\r\n    //         var required = payload.xmlDoc.getElementsByTagName('REQUIRED-SOMEIP-SERVICE-INSTANCE')\r\n    //         required.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     deployref = null,\r\n    //                     minorver = '',\r\n    //                     id = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     clientref = null,\r\n    //                     ver = null,\r\n    //                     methodP = [],\r\n    //                     requiredevent = []\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INTERFACE-DEPLOYMENT-REF\") {\r\n    //                         deployref = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"REQUIRED-MINOR-VERSION\") {\r\n    //                         minorver = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"REQUIRED-SERVICE-INSTANCE-ID\") {\r\n    //                         id = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SD-CLIENT-CONFIG-REF\") {\r\n    //                         clientref = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"VERSION-DRIVEN-FIND-BEHAVIOR\") {\r\n    //                         ver = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"METHOD-REQUEST-PROPSS\") {\r\n    //                         item.childNodes.forEach((prop, p) => {\r\n    //                             var editMethodItem = { method: null }\r\n    //                             if (p % 2 != 0) {\r\n    //                                 prop.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"METHOD-REF\") {\r\n    //                                             editMethodItem.method = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editMethodItem)\r\n    //                                 methodP.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"REQUIRED-EVENT-GROUPS\") {\r\n    //                         item.childNodes.forEach((group, g) => {\r\n    //                             var editItem = { name: '', eventG: null, client: null }\r\n    //                             if (g % 2 != 0) {\r\n    //                                 group.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editItem.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"EVENT-GROUP-REF\") {\r\n    //                                             editItem.eventG = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SD-CLIENT-EVENT-GROUP-TIMING-CONFIG-REF\") {\r\n    //                                             editItem.client = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editItem)\r\n    //                                 requiredevent.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementRequiredSomeIP', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     deployref: deployref,\r\n    //                     minover: minorver,\r\n    //                     id: id,\r\n    //                     clientref: clientref,\r\n    //                     ver: ver,\r\n    //                     method: methodP,\r\n    //                     requiredevent: requiredevent\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.RequiredSomeIP_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInstances_str)\r\n    //                 EventBus.$emit('add-element', constant.RequiredSomeIP_str)\r\n    //             })\r\n    //             // PROVIDED-SOMEIP-SERVICE-INSTANCE\r\n    //         var provided = payload.xmlDoc.getElementsByTagName('PROVIDED-SOMEIP-SERVICE-INSTANCE')\r\n    //         provided.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     deployref = null,\r\n    //                     someips = null,\r\n    //                     id = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path),\r\n    //                     eventP = [],\r\n    //                     method = [],\r\n    //                     eventG = []\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INTERFACE-DEPLOYMENT-REF\") {\r\n    //                         deployref = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SD-SERVER-CONFIG-REF\") {\r\n    //                         someips = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INSTANCE-ID\") {\r\n    //                         id = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"EVENT-PROPSS\") {\r\n    //                         item.childNodes.forEach((prop, p) => {\r\n    //                             var editItem = { event: null }\r\n    //                             if (p % 2 != 0) {\r\n    //                                 prop.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"EVENT-REF\") {\r\n    //                                             editItem.event = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editItem)\r\n    //                                 eventP.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"METHOD-RESPONSE-PROPSS\") {\r\n    //                         item.childNodes.forEach((prop, p) => {\r\n    //                             var editMethodItem = { method: null }\r\n    //                             if (p % 2 != 0) {\r\n    //                                 prop.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"METHOD-REF\") {\r\n    //                                             editMethodItem.method = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editMethodItem)\r\n    //                                 method.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"PROVIDED-EVENT-GROUPS\") {\r\n    //                         item.childNodes.forEach((group, g) => {\r\n    //                             var editItem = { name: '', eventG: null, udp: '', ipv4: '', ipv6: '', threshold: '', server: null }\r\n    //                             if (g % 2 != 0) {\r\n    //                                 group.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         if (data.nodeName == \"SHORT-NAME\") {\r\n    //                                             editItem.name = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"EVENT-GROUP-REF\") {\r\n    //                                             editItem.eventG = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"EVENT-MULTICAST-UDP-PORT\") {\r\n    //                                             editItem.udp = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"IPV-4-MULTICAST-IP-ADDRESS\") {\r\n    //                                             editItem.ipv4 = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"IPV-6-MULTICAST-IP-ADDRESS\") {\r\n    //                                             editItem.ipv6 = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"MULTICAST-THRESHOLD\") {\r\n    //                                             editItem.threshold = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                         if (data.nodeName == \"SD-SERVER-EVENT-GROUP-TIMING-CONFIG-REF\") {\r\n    //                                             editItem.server = data.childNodes[0].nodeValue\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                                 const addObj = Object.assign({}, editItem)\r\n    //                                 eventG.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementProvidedSomeIP', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     deployref: deployref,\r\n    //                     someips: someips,\r\n    //                     id: id,\r\n    //                     eventP: eventP,\r\n    //                     method: method,\r\n    //                     eventG: eventG\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ProvidedSomeIP_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.ServiceInstances_str)\r\n    //                 EventBus.$emit('add-element', constant.ProvidedSomeIP_str)\r\n    //             })\r\n    //             // AP-APPLICATION-ERROR\r\n    //         var error = payload.xmlDoc.getElementsByTagName('AP-APPLICATION-ERROR')\r\n    //         error.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     desc = '',\r\n    //                     code = '',\r\n    //                     domain = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DESC\") {\r\n    //                         desc = item.childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ERROR-CODE\") {\r\n    //                         code = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ERROR-DOMAIN-REF\") {\r\n    //                         domain = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementError', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     desc: desc,\r\n    //                     errorcode: code,\r\n    //                     errorDref: domain\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.Error_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.Errors_str)\r\n    //                 EventBus.$emit('add-element', constant.Error_str)\r\n    //             })\r\n    //             // AP-APPLICATION-ERROR-SET\r\n    //         var errorSet = payload.xmlDoc.getElementsByTagName('AP-APPLICATION-ERROR-SET')\r\n    //         errorSet.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     errorref = [],\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"AP-APPLICATION-ERROR-REFS\") {\r\n    //                         item.childNodes.forEach(data => {\r\n    //                             var editItem = { error: null }\r\n    //                             if (data.nodeName == \"AP-APPLICATION-ERROR-REF\") {\r\n    //                                 editItem.error = data.childNodes[0].nodeValue\r\n    //                                 const addObj = Object.assign({}, editItem)\r\n    //                                 errorref.push(addObj)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementErrorSet', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     errorref: errorref\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.Errorset_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.Errors_str)\r\n    //                 EventBus.$emit('add-element', constant.Errorset_str)\r\n    //             })\r\n    //             // AP-APPLICATION-ERROR-DOMAIN\r\n    //         var errorDomain = payload.xmlDoc.getElementsByTagName('AP-APPLICATION-ERROR-DOMAIN')\r\n    //         errorDomain.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     namespace = '',\r\n    //                     value = '',\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"NAMESPACES\") {\r\n    //                         item.childNodes.forEach((symbol, s) => {\r\n    //                             if (s % 2 != 0) {\r\n    //                                 symbol.childNodes.forEach((data, d) => {\r\n    //                                     if (d % 2 != 0) {\r\n    //                                         namespace += data.childNodes[0].nodeValue\r\n    //                                         namespace += '/'\r\n    //                                     }\r\n    //                                 })\r\n    //                                 namespace = namespace.substr(0, namespace.length - 1)\r\n    //                                 namespace += ','\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (item.nodeName == \"VALUE\") {\r\n    //                         value = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementErrorDomain', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     namespace: namespace,\r\n    //                     value: value,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ErrorDomain_str })\r\n    //                 EventBus.$emit('add-element', constant.Service_str)\r\n    //                 EventBus.$emit('add-element', constant.Errors_str)\r\n    //                 EventBus.$emit('add-element', constant.ErrorDomain_str)\r\n    //             })\r\n    //             // PERSISTENCY-PORT-PROTOTYPE-TO-FILE-ARRAY-MAPPING\r\n    //         var perPPtoFileArray = payload.xmlDoc.getElementsByTagName('PERSISTENCY-PORT-PROTOTYPE-TO-FILE-ARRAY-MAPPING')\r\n    //         perPPtoFileArray.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     fileArray = null,\r\n    //                     port = null,\r\n    //                     process = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PERSISTENCY-FILE-ARRAY-REF\") {\r\n    //                         fileArray = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PORT-PROTOTYPE-IREF\") {\r\n    //                         port = item.childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PROCESS-REF\") {\r\n    //                         process = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementPERPPtoFileArray', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     fileArray: fileArray,\r\n    //                     port: port,\r\n    //                     process: process\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.PortProtoFileA_str })\r\n    //                 EventBus.$emit('add-element', constant.Platform_str)\r\n    //                 EventBus.$emit('add-element', constant.PER_str)\r\n    //                 EventBus.$emit('add-element', constant.PortProtoFileA_str)\r\n    //             })\r\n    //             // PERSISTENCY-PORT-PROTOTYPE-TO-KEY-VALUE-DATABASE-MAPPING\r\n    //         var perPPtoKeyValue = payload.xmlDoc.getElementsByTagName('PERSISTENCY-PORT-PROTOTYPE-TO-KEY-VALUE-DATABASE-MAPPING')\r\n    //         perPPtoKeyValue.forEach(ele => {\r\n    //             var Name = '',\r\n    //                 keyValue = null,\r\n    //                 port = null,\r\n    //                 process = null,\r\n    //                 path = '',\r\n    //                 strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //             ele.childNodes.forEach(item => {\r\n    //                 if (item.nodeName == \"SHORT-NAME\") {\r\n    //                     Name = item.childNodes[0].nodeValue\r\n    //                 }\r\n    //                 if (item.nodeName == \"KEY-VALUE-STORAGE-REF\") {\r\n    //                     keyValue = item.childNodes[0].nodeValue\r\n    //                 }\r\n    //                 if (item.nodeName == \"PORT-PROTOTYPE-IREF\") {\r\n    //                     port = item.childNodes[1].childNodes[0].nodeValue\r\n    //                 }\r\n    //                 if (item.nodeName == \"PROCESS-REF\") {\r\n    //                     process = item.childNodes[0].nodeValue\r\n    //                 }\r\n    //             })\r\n    //             var UUID = ele.getAttribute(\"UUID\")\r\n    //             var idxEle = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === UUID)\r\n    //             if (UUID == null || idxEle != -1) {\r\n    //                 UUID = uuid.v1()\r\n    //             }\r\n    //             const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //             const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //             this.commit('addElementPERPPtoKeyValue', {\r\n    //                 name: Name,\r\n    //                 input: true,\r\n    //                 path: strPath,\r\n    //                 uuid: UUID,\r\n    //                 top: elementY,\r\n    //                 left: elementX,\r\n    //                 zindex: 2,\r\n    //                 icon: \"mdi-clipboard-outline\",\r\n    //                 validation: false,\r\n    //                 keyValue: keyValue,\r\n    //                 port: port,\r\n    //                 process: process\r\n    //             })\r\n    //             state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.PortProtoKeyV_str })\r\n    //             EventBus.$emit('add-element', constant.Platform_str)\r\n    //             EventBus.$emit('add-element', constant.PER_str)\r\n    //             EventBus.$emit('add-element', constant.PortProtoKeyV_str)\r\n    //         })\r\n\r\n    //         // COM-FIELD-GRANT\r\n    //         var fieldG = payload.xmlDoc.getElementsByTagName('COM-FIELD-GRANT')\r\n    //         fieldG.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     designR = null,\r\n    //                     provide = null,\r\n    //                     role = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DESIGN-REF\") {\r\n    //                         designR = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INSTANCE-REF\") {\r\n    //                         provide = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ROLE\") {\r\n    //                         role = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementFieldG', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     fieldD: designR,\r\n    //                     provide: provide,\r\n    //                     role: role\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ComFieldGrant_str })\r\n    //                 EventBus.$emit('add-element', constant.Platform_str)\r\n    //                 EventBus.$emit('add-element', constant.IAM_str)\r\n    //                 EventBus.$emit('add-element', constant.ComFieldGrant_str)\r\n    //             })\r\n    //             // COM-EVENT-GRANT\r\n    //         var eventG = payload.xmlDoc.getElementsByTagName('COM-EVENT-GRANT')\r\n    //         eventG.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     designR = null,\r\n    //                     provide = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DESIGN-REF\") {\r\n    //                         designR = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INSTANCE-REF\") {\r\n    //                         provide = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementEventG', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     eventD: designR,\r\n    //                     provide: provide,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ComEventGrant_str })\r\n    //                 EventBus.$emit('add-element', constant.Platform_str)\r\n    //                 EventBus.$emit('add-element', constant.IAM_str)\r\n    //                 EventBus.$emit('add-element', constant.ComEventGrant_str)\r\n    //             })\r\n    //             // COM-METHOD-GRANT\r\n    //         var methodG = payload.xmlDoc.getElementsByTagName('COM-METHOD-GRANT')\r\n    //         methodG.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     designR = null,\r\n    //                     provide = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"DESIGN-REF\") {\r\n    //                         designR = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"SERVICE-INSTANCE-REF\") {\r\n    //                         provide = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementMethodG', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     methodD: designR,\r\n    //                     provide: provide,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ComMethodGrant_str })\r\n    //                 EventBus.$emit('add-element', constant.Platform_str)\r\n    //                 EventBus.$emit('add-element', constant.IAM_str)\r\n    //                 EventBus.$emit('add-element', constant.ComMethodGrant_str)\r\n    //             })\r\n    //             // COM-FIELD-GRANT-DESIGN\r\n    //         var fieldGD = payload.xmlDoc.getElementsByTagName('COM-FIELD-GRANT-DESIGN')\r\n    //         fieldGD.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     serviceI = null,\r\n    //                     processD = null,\r\n    //                     role = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"FIELD-IREF\") {\r\n    //                         serviceI = item.childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PROCESS-DESIGN-REF\") {\r\n    //                         processD = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"ROLE\") {\r\n    //                         role = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementFieldGD', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     processD: processD,\r\n    //                     SIField: serviceI,\r\n    //                     role: role\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ComFieldGDesign_str })\r\n    //                 EventBus.$emit('add-element', constant.Platform_str)\r\n    //                 EventBus.$emit('add-element', constant.IAM_str)\r\n    //                 EventBus.$emit('add-element', constant.ComFieldGDesign_str)\r\n    //             })\r\n    //             // COM-EVENT-GRANT-DESIGN\r\n    //         var eventGD = payload.xmlDoc.getElementsByTagName('COM-EVENT-GRANT-DESIGN')\r\n    //         eventGD.forEach(ele => {\r\n    //                 var Name = '',\r\n    //                     serviceI = null,\r\n    //                     processD = null,\r\n    //                     path = '',\r\n    //                     strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //                 ele.childNodes.forEach(item => {\r\n    //                     if (item.nodeName == \"SHORT-NAME\") {\r\n    //                         Name = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"EVENT-IREF\") {\r\n    //                         serviceI = item.childNodes[1].childNodes[0].nodeValue\r\n    //                     }\r\n    //                     if (item.nodeName == \"PROCESS-DESIGN-REF\") {\r\n    //                         processD = item.childNodes[0].nodeValue\r\n    //                     }\r\n    //                 })\r\n    //                 var UUID = ele.getAttribute(\"UUID\")\r\n    //                 var idxEle = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(data => data.uuid === UUID)\r\n    //                 if (UUID == null || idxEle != -1) {\r\n    //                     UUID = uuid.v1()\r\n    //                 }\r\n    //                 const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //                 const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //                 this.commit('addElementEventGD', {\r\n    //                     name: Name,\r\n    //                     input: true,\r\n    //                     path: strPath,\r\n    //                     uuid: UUID,\r\n    //                     top: elementY,\r\n    //                     left: elementX,\r\n    //                     zindex: 2,\r\n    //                     icon: \"mdi-clipboard-outline\",\r\n    //                     validation: false,\r\n    //                     processD: processD,\r\n    //                     SIEvent: serviceI,\r\n    //                 })\r\n    //                 state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ComEventGDesign_str })\r\n    //                 EventBus.$emit('add-element', constant.Platform_str)\r\n    //                 EventBus.$emit('add-element', constant.IAM_str)\r\n    //                 EventBus.$emit('add-element', constant.ComEventGDesign_str)\r\n    //             })\r\n    //             // COM-METHOD-GRANT-DESIGN\r\n    //         var methodGD = payload.xmlDoc.getElementsByTagName('COM-METHOD-GRANT-DESIGN')\r\n    //         methodGD.forEach(ele => {\r\n    //             var Name = '',\r\n    //                 serviceI = null,\r\n    //                 processD = null,\r\n    //                 path = '',\r\n    //                 strPath = getEditPath(ele.parentNode.parentNode, path)\r\n\r\n    //             ele.childNodes.forEach(item => {\r\n    //                 if (item.nodeName == \"SHORT-NAME\") {\r\n    //                     Name = item.childNodes[0].nodeValue\r\n    //                 }\r\n    //                 if (item.nodeName == \"METHOD-IREF\") {\r\n    //                     serviceI = item.childNodes[1].childNodes[0].nodeValue\r\n    //                 }\r\n    //                 if (item.nodeName == \"PROCESS-DESIGN-REF\") {\r\n    //                     processD = item.childNodes[0].nodeValue\r\n    //                 }\r\n    //             })\r\n    //             var UUID = ele.getAttribute(\"UUID\")\r\n    //             var idxEle = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(data => data.uuid === UUID)\r\n    //             if (UUID == null || idxEle != -1) {\r\n    //                 UUID = uuid.v1()\r\n    //             }\r\n    //             const elementX = Array.from({ length: 4 }, () => Math.floor(Math.random() * (1400 - 11)) + 10) // (max - min) + min\r\n    //             const elementY = Array.from({ length: 4 }, () => Math.floor(Math.random() * (200 - 6)) + 5)\r\n\r\n    //             this.commit('addElementMethodGD', {\r\n    //                 name: Name,\r\n    //                 input: true,\r\n    //                 path: strPath,\r\n    //                 uuid: UUID,\r\n    //                 top: elementY,\r\n    //                 left: elementX,\r\n    //                 zindex: 2,\r\n    //                 icon: \"mdi-clipboard-outline\",\r\n    //                 validation: false,\r\n    //                 processD: processD,\r\n    //                 SIMethod: serviceI,\r\n    //             })\r\n    //             state.inputFileList.push({ uuid: UUID, path: strPath + '/' + Name, parent: constant.ComMethodGDesign_str })\r\n    //             EventBus.$emit('add-element', constant.Platform_str)\r\n    //             EventBus.$emit('add-element', constant.IAM_str)\r\n    //             EventBus.$emit('add-element', constant.ComMethodGDesign_str)\r\n    //         })\r\n\r\n\r\n\r\n\r\n    //     },\r\n    //     setInputFileComplate(state) { //바로 라인 그리면 element가 다 그려지기 전이라 선의 id값을 찾지 못한다.\r\n    //         state.isInputFileComplate = false // element들이 다 그려졌다는걸 알려 주는것임\r\n    //     },\r\n    //     checkLineInputXml(state) {\r\n    //         console.log(state.inputFileList)\r\n    //         state.inputFileList.forEach(ele => {\r\n    //             var idxelement = null\r\n    //             if (ele.parent == constant.Implementation_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].typeref != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].typeref == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/typeref', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/typeref', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].templatetype != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.forEach(item => {\r\n    //                         console.log(state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].templatetype + ' ==== ' + item.path + '/' + item.name)\r\n    //                         if (state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].templatetype == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/templateType', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/templateType', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].ddpc.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].ddpc.forEach((data, i) => {\r\n    //                         if (data.compumethod != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.forEach(item => {\r\n    //                                 if (data.compumethod == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/ddpccompu-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/DDPC', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                         if (data.dataconstr != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.forEach(item => {\r\n    //                                 if (data.dataconstr == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/ddpcdata-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/DDPC', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].idtelement.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxelement].idtelement.forEach((data, i) => {\r\n    //                         if (data.typeref != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.forEach(item => {\r\n    //                                 if (data.typeref == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/idtetable-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/idtetable', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.Machine_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Machine.Machine[idxelement].machinedesign != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Machine.Machine[idxelement].machinedesign == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/machinedesign', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/machinedesign', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Machine.Machine[idxelement].hwelement.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.Machine[idxelement].hwelement.forEach((data, i) => {\r\n    //                         if (data.hwelement != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Machine.HWElement.forEach(item => {\r\n    //                                 if (data.hwelement == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/hwelement-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/hwelement', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Machine.Machine[idxelement].functiongroup != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.Machine[idxelement].functiongroup.forEach((data, i) => {\r\n    //                         if (data.type != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.forEach(item => {\r\n    //                                 if (data.type == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/functiontable-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/functiontable', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.MachineDesigne_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxelement].connector.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxelement].connector.forEach((data, i) => {\r\n    //                         if (data.endpoint != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.forEach(item => {\r\n    //                                 if (item.conditional.length > 0) {\r\n    //                                     item.conditional.forEach(condi => {\r\n    //                                         if (condi.channel != null) {\r\n    //                                             condi.channel.forEach(channel => {\r\n    //                                                 if (channel.endpoint != null) {\r\n    //                                                     channel.endpoint.forEach(end => {\r\n    //                                                         if (data.endpoint == (item.path + '/' + item.name + '/' + condi.name + '/' + channel.name + '/' + end.name)) {\r\n    //                                                             this.commit('setConnectionline', { start: ele.uuid + '/cctable-' + i, end: item.uuid })\r\n    //                                                             EventBus.$emit('new-line', ele.uuid + '/cctable', item.uuid)\r\n    //                                                         }\r\n    //                                                     })\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     })\r\n\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxelement].servicediscover.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxelement].servicediscover.forEach((data, i) => {\r\n    //                         if (data.msia != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.forEach(item => {\r\n    //                                 if (item.conditional.length > 0) {\r\n    //                                     item.conditional.forEach(condi => {\r\n    //                                         if (condi.channel != null) {\r\n    //                                             condi.channel.forEach(channel => {\r\n    //                                                 if (channel.endpoint != null) {\r\n    //                                                     channel.endpoint.forEach(end => {\r\n    //                                                         if (data.msia == (item.path + '/' + item.name + '/' + condi.name + '/' + channel.name + '/' + end.name)) {\r\n    //                                                             this.commit('setConnectionline', { start: ele.uuid + '/sdctable-' + i, end: item.uuid })\r\n    //                                                             EventBus.$emit('new-line', ele.uuid + '/sdctable', item.uuid)\r\n    //                                                         }\r\n    //                                                     })\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.EthernetCluster_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxelement].conditional.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxelement].conditional.forEach((condi, n) => {\r\n    //                         if (condi.channel != null) {\r\n    //                             condi.channel.forEach((channel, v) => {\r\n    //                                 if (channel.comconnect != null) {\r\n    //                                     channel.comconnect.forEach((connect, c) => {\r\n    //                                         if (connect.connector != null) {\r\n    //                                             state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.forEach(data => {\r\n    //                                                 data.connector.forEach(con => {\r\n    //                                                     if (connect.connector == (data.path + '/' + data.name + '/' + con.name)) {\r\n    //                                                         this.commit('setConnectionline', { start: ele.uuid + '/comconet-' + c + '-' + v + '-' + n, end: data.uuid })\r\n    //                                                         if (n == 0 && v == 0) {\r\n    //                                                             EventBus.$emit('new-line', ele.uuid + '/comconet-' + channel.name + '-' + condi.name, data.uuid)\r\n    //                                                         } else if (n == 0 && v != 0) {\r\n    //                                                             EventBus.$emit('new-line', ele.uuid + '/channel' + condi.name, data.uuid)\r\n    //                                                         } else {\r\n    //                                                             EventBus.$emit('new-line', ele.uuid + '/conditional', data.uuid)\r\n    //                                                         }\r\n    //                                                     }\r\n    //                                                 })\r\n    //                                             })\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ProcesstoMachineMapping_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxelement].ptmmMachine != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.Machine.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxelement].ptmmMachine == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/machinefromptmm', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/machinefromptmm', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxelement].ptmmProcess != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxelement].ptmmProcess == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/processfromptmm', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/processfromptmm', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.SWComponents_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxelement].pport.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxelement].pport.forEach((data, i) => {\r\n    //                         if (data.interface != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                                 if (data.interface == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/pporttable-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/pporttable', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxelement].rport.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxelement].rport.forEach((data, i) => {\r\n    //                         if (data.interface != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                                 if (data.interface == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/rporttable-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/rporttable', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxelement].prport.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxelement].prport.forEach((data, i) => {\r\n    //                         if (data.interface != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                                 if (data.interface == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/prporttable-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/prporttable', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.Process_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].prodesign != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].prodesign == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/processprodesign', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/processprodesign', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].determin != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].determin == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/processdetermin', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/processdetermin', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].execut != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].execut == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/processexecut', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/processexecut', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].machinetype != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].machinetype == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/processmodedeclar', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/processmodedeclar', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxelement].dependent.forEach((data, i) => {\r\n    //                     if (data.resourceRef != null) {\r\n    //                         state.SAHLProject[state.openProjectIndex].Machine.Machine.forEach(machine => {\r\n    //                             machine.moduleinstant.forEach(item => {\r\n    //                                 if (data.resourceRef == (machine.path + '/' + machine.name + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/processresorce-' + i, end: machine.uuid })\r\n    //                                     if (i == 0) {\r\n    //                                         EventBus.$emit('new-line', ele.uuid + '/processresorce' + i, machine.uuid)\r\n    //                                     } else {\r\n    //                                         EventBus.$emit('new-line', ele.uuid + '/processStarupC', machine.uuid)\r\n    //                                     }\r\n    //                                 }\r\n    //                             })\r\n    //                         })\r\n    //                     }\r\n    //                     if (data.startupConfigRef != null) {\r\n    //                         state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.forEach(item => {\r\n    //                             if (data.startupConfigRef == (item.path + '/' + item.name)) {\r\n    //                                 this.commit('setConnectionline', { start: ele.uuid + '/processstartup-' + i, end: item.uuid })\r\n    //                                 EventBus.$emit('new-line', ele.uuid + '/processstartup', item.uuid)\r\n    //                                 if (i == 0) {\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/processresorce' + i, item.uuid)\r\n    //                                 } else {\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/processStarupC', item.uuid)\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (data.functionItem != null) {\r\n    //                         data.functionItem.forEach((func, f) => {\r\n    //                             if (func.contextMode != null) {\r\n    //                                 state.SAHLProject[state.openProjectIndex].Machine.Machine.forEach(item => {\r\n    //                                     item.functiongroup.forEach(group => {\r\n    //                                         if (func.contextMode == (item.path + '/' + item.name + '/' + group.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/fgcontext-' + f + '-' + i, end: item.uuid })\r\n    //                                             if (i == 0) {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/fgtable' + i, item.uuid)\r\n    //                                             } else {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/processStarupC', item.uuid)\r\n    //                                             }\r\n    //                                         }\r\n    //                                     })\r\n    //                                 })\r\n    //                             }\r\n    //                             if (func.targetMode != null) {\r\n    //                                 state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.forEach(item => {\r\n    //                                     item.modedeclaration.forEach(mode => {\r\n    //                                         if (func.targetMode == (item.path + '/' + item.name + '/' + mode)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/fgtarget-' + f + '-' + i, end: item.uuid })\r\n    //                                             if (i == 0) {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/fgtable' + i, item.uuid)\r\n    //                                             } else {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/processStarupC', item.uuid)\r\n    //                                             }\r\n    //                                         }\r\n    //                                     })\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //             } else if (ele.parent == constant.ProcessDesign_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxelement].executableref != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxelement].executableref == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/prodesignexecutable', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/prodesignexecutable', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.Executable_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxelement].applicationtyperef != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxelement].applicationtyperef == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/applicationtyperef', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/applicationtyperef', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.SomeIPServiceInterfaceDeployment_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].service != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].service == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/service', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/service', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].fieldD.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].fieldD.forEach((data, i) => {\r\n    //                         if (data.field != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                                 item.fields.forEach(service => {\r\n    //                                     if (data.field == (item.path + '/' + item.name + '/' + service.name)) {\r\n    //                                         this.commit('setConnectionline', { start: ele.uuid + '/field-' + i, end: item.uuid })\r\n    //                                         if (i == 0) {\r\n    //                                             EventBus.$emit('new-line', ele.uuid + '/fieldtab' + data.name, item.uuid)\r\n    //                                         } else {\r\n    //                                             EventBus.$emit('new-line', ele.uuid + '/field', item.uuid)\r\n    //                                         }\r\n    //                                     }\r\n    //                                 })\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].eventG.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].eventG.forEach((eve, i) => {\r\n    //                         if (eve.event != null) {\r\n    //                             eve.event.forEach((group, g) => {\r\n    //                                 if (group.event != null) {\r\n    //                                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach(item => {\r\n    //                                         if (item.eventD.length > 0) {\r\n    //                                             item.eventD.forEach(data => {\r\n    //                                                 if (group.event == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                                     this.commit('setConnectionline', { start: ele.uuid + '/event-' + g + '-' + i, end: item.uuid })\r\n    //                                                     if (i == 0) {\r\n    //                                                         EventBus.$emit('new-line', ele.uuid + '/eventtab' + eve.name, item.uuid)\r\n    //                                                     } else {\r\n    //                                                         EventBus.$emit('new-line', ele.uuid + '/event', item.uuid)\r\n    //                                                     }\r\n    //                                                 }\r\n    //                                             })\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].eventD.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].eventD.forEach((eve, i) => {\r\n    //                         if (eve.event != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                                 if (item.events.length > 0) {\r\n    //                                     item.events.forEach(data => {\r\n    //                                         if (eve.event == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/serviceEventD-' + i, end: item.uuid })\r\n    //                                             EventBus.$emit('new-line', ele.uuid + '/serviceEventD', item.uuid)\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].methodD.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxelement].methodD.forEach((method, i) => {\r\n    //                         if (method.method != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                                 if (item.methods.length > 0) {\r\n    //                                     item.methods.forEach(data => {\r\n    //                                         if (method.method == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/serviceMethodD-' + i, end: item.uuid })\r\n    //                                             EventBus.$emit('new-line', ele.uuid + '/serviceMethodD', item.uuid)\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ServiceInterface_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxelement].events.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxelement].events.forEach((eve, i) => {\r\n    //                         if (eve.type != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.forEach(item => {\r\n    //                                 if (eve.type == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/Eventtable-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/Eventtable', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxelement].fields.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxelement].fields.forEach((data, i) => {\r\n    //                         if (data.type != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.forEach(item => {\r\n    //                                 if (data.type == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/Fieldtable-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/Fieldtable', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxelement].methods.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxelement].methods.forEach((data, i) => {\r\n    //                         if (data.argument != null) {\r\n    //                             data.argument.forEach((arg, a) => {\r\n    //                                 if (arg.type != null) {\r\n    //                                     state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.forEach(item => {\r\n    //                                         if (arg.type == (item.path + '/' + item.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/argtable-' + a + '-' + i, end: item.uuid })\r\n    //                                             if (i == 0) {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/argtable' + data.name, item.uuid)\r\n    //                                             } else {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/methods', item.uuid)\r\n    //                                             }\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                         if (data.errorSet != null) {\r\n    //                             data.errorSet.forEach((error, e) => {\r\n    //                                 if (error.error != null) {\r\n    //                                     state.SAHLProject[state.openProjectIndex].Service.ErrorSet.forEach(item => {\r\n    //                                         if (error.error == (item.path + '/' + item.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/methoderrors-' + e + '-' + i, end: item.uuid })\r\n    //                                             if (i == 0) {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/methoderrors' + data.name, item.uuid)\r\n    //                                             } else {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/methods', item.uuid)\r\n    //                                             }\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                         if (data.error != null) {\r\n    //                             data.error.forEach((err, e) => {\r\n    //                                 if (err.error != null) {\r\n    //                                     state.SAHLProject[state.openProjectIndex].Service.Error.forEach(item => {\r\n    //                                         if (err.error == (item.path + '/' + item.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/methoderror-' + e + '-' + i, end: item.uuid })\r\n    //                                             if (i == 0) {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/methoderror' + data.name, item.uuid)\r\n    //                                             } else {\r\n    //                                                 EventBus.$emit('new-line', ele.uuid + '/methods', item.uuid)\r\n    //                                             }\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.SomeIPToMachineMapping_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxelement].ccref != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.forEach(data => {\r\n    //                         data.connector.forEach(item => {\r\n    //                             if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxelement].ccref == data.path + '/' + data.name + '/' + item.name) {\r\n    //                                 this.commit('setConnectionline', { start: ele.uuid + '/tomachinCC', end: data.uuid })\r\n    //                                 EventBus.$emit('new-line', ele.uuid + '/tomachinCC', data.uuid)\r\n    //                             }\r\n    //                         })\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxelement].siref != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.forEach(data => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxelement].siref == data.path + '/' + data.name) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/tomachinServiceIns', end: data.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/tomachinServiceIns', data.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ToPortPrototypeMapping_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].porttype != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].selectPort == 'P-PORT-PROTOTYPE') {\r\n    //                             item.pport.forEach(data => {\r\n    //                                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].porttype == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/toportport', end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/toportport', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         } else if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].selectPort == 'R-PORT-PROTOTYPE') {\r\n    //                             item.rport.forEach(data => {\r\n    //                                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].porttype == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/toportport', end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/toportport', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         } else if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].selectPort == 'PR-PORT-PROTOTYPE') {\r\n    //                             item.prport.forEach(data => {\r\n    //                                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].porttype == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/toportport', end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/toportport', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].process != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].process == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/toportprocess', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/toportprocess', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].serviceIns != null) {\r\n    //                     if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].selectServiceIns == 'PROVIDED-SOMEIP-SERVICE-INSTANCE') {\r\n    //                         state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.forEach(item => {\r\n    //                             if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].serviceIns == (item.path + '/' + item.name)) {\r\n    //                                 this.commit('setConnectionline', { start: ele.uuid + '/toportservice', end: item.uuid })\r\n    //                                 EventBus.$emit('new-line', ele.uuid + '/toportservice', item.uuid)\r\n    //                             }\r\n    //                         })\r\n    //                     } else if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].selectServiceIns == 'REQUIRED-SOMEIP-SERVICE-INSTANCE') {\r\n    //                         state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.forEach(item => {\r\n    //                             if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxelement].serviceIns == (item.path + '/' + item.name)) {\r\n    //                                 this.commit('setConnectionline', { start: ele.uuid + '/toportservice', end: item.uuid })\r\n    //                                 EventBus.$emit('new-line', ele.uuid + '/toportservice', item.uuid)\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 }\r\n    //             } else if (ele.parent == constant.RequiredSomeIP_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxelement].deployref != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxelement].deployref == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/requiredDeploy', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/requiredDeploy', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxelement].someipclient != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxelement].someipclient == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/requiredSomeIPC', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/requiredSomeIPC', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxelement].method.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxelement].method.forEach((method, i) => {\r\n    //                         if (method.method != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach(item => {\r\n    //                                 if (item.methodD.length > 0) {\r\n    //                                     item.methodD.forEach(data => {\r\n    //                                         if (method.method == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/requiredMethod-' + i, end: item.uuid })\r\n    //                                             EventBus.$emit('new-line', ele.uuid + '/requiredMethod', item.uuid)\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxelement].requiredevent.forEach((data, i) => {\r\n    //                     if (data.eventG != null) {\r\n    //                         state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach(eve => {\r\n    //                             eve.eventG.forEach(item => {\r\n    //                                 if (data.eventG == (eve.path + '/' + eve.name + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/requiredEventG-' + i, end: eve.uuid })\r\n    //                                     if (i == 0) {\r\n    //                                         EventBus.$emit('new-line', ele.uuid + '/requiredEventG' + data.name, eve.uuid)\r\n    //                                     } else {\r\n    //                                         EventBus.$emit('new-line', ele.uuid + '/requiredE', eve.uuid)\r\n    //                                     }\r\n    //                                 }\r\n    //                             })\r\n    //                         })\r\n    //                     }\r\n    //                     if (data.client != null) {\r\n    //                         state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.forEach(item => {\r\n    //                             if (data.client == (item.path + '/' + item.name)) {\r\n    //                                 this.commit('setConnectionline', { start: ele.uuid + '/requiredClient-' + i, end: item.uuid })\r\n    //                                 if (i == 0) {\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/requiredClient' + data.name, item.uuid)\r\n    //                                 } else {\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/requiredE', item.uuid)\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //             } else if (ele.parent == constant.ProvidedSomeIP_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].deployref != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].deployref == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/providDeploy', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/providDeploy', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].someipserver != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.forEach(item => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].someipserver == (item.path + '/' + item.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/providSomeIPS', end: item.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/providSomeIPS', item.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].eventP.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].eventP.forEach((eventp, i) => {\r\n    //                         if (eventp.event != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach(item => {\r\n    //                                 if (item.eventD.length > 0) {\r\n    //                                     item.eventD.forEach(data => {\r\n    //                                         if (eventp.event == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/proviedEventP-' + i, end: item.uuid })\r\n    //                                             EventBus.$emit('new-line', ele.uuid + '/proviedEventP', item.uuid)\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].method != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].method.forEach((method, i) => {\r\n    //                         if (method.method != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach(item => {\r\n    //                                 if (item.methodD.length > 0) {\r\n    //                                     item.methodD.forEach(data => {\r\n    //                                         if (method.method == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                             this.commit('setConnectionline', { start: ele.uuid + '/proviedMethod-' + i, end: item.uuid })\r\n    //                                             EventBus.$emit('new-line', ele.uuid + '/proviedMethod', item.uuid)\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxelement].eventG.forEach((data, i) => {\r\n    //                     if (data.eventG != null) {\r\n    //                         state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach(eve => {\r\n    //                             eve.eventG.forEach(item => {\r\n    //                                 if (data.eventG == (eve.path + '/' + eve.name + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/providEventG-' + i, end: eve.uuid })\r\n    //                                     if (i == 0) {\r\n    //                                         EventBus.$emit('new-line', ele.uuid + '/providEventG' + data.name, eve.uuid)\r\n    //                                     } else {\r\n    //                                         EventBus.$emit('new-line', ele.uuid + '/providE', eve.uuid)\r\n    //                                     }\r\n    //                                 }\r\n    //                             })\r\n    //                         })\r\n    //                     }\r\n    //                     if (data.server != null) {\r\n    //                         state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.forEach(item => {\r\n    //                             if (data.server == (item.path + '/' + item.name)) {\r\n    //                                 this.commit('setConnectionline', { start: ele.uuid + '/providServer-' + i, end: item.uuid })\r\n    //                                 if (i == 0) {\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/providServer' + data.name, item.uuid)\r\n    //                                 } else {\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/providE', item.uuid)\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //             } else if (ele.parent == constant.Error_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.Error[idxelement].errorDref != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.forEach(domain => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Service.Error[idxelement].errorDref == (domain.path + '/' + domain.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/errordomain', end: domain.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/errordomain', domain.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.Errorset_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxelement].errorref.length > 0) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxelement].errorref.forEach((data, i) => {\r\n    //                         if (data.error != null) {\r\n    //                             state.SAHLProject[state.openProjectIndex].Service.Error.forEach(item => {\r\n    //                                 if (data.error == (item.path + '/' + item.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/error-' + i, end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/error', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.PortProtoFileA_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxelement].fileArray != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Per.PERFileArray.forEach(data => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxelement].fileArray == (data.path + '/' + data.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/PPPtoFileArray', end: data.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/PPPtoFileArray', data.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxelement].port != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.forEach(item => {\r\n    //                         if (item.prport.length > 0) {\r\n    //                             item.prport.forEach(data => {\r\n    //                                 if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxelement].port == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/PPPtoFilePRPort', end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/PPPtoFilePRPort', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxelement].process != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.forEach(pro => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxelement].process == (pro.path + '/' + pro.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/PPPtoFileProcess', end: pro.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/PPPtoFileProcess', pro.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.PortProtoKeyV_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxelement].keyValue != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.forEach(data => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxelement].keyValue == (data.path + '/' + data.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/PPPtoKeyValue', end: data.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/PPPtoKeyValue', data.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxelement].port != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.forEach(item => {\r\n    //                         if (item.prport.length > 0) {\r\n    //                             item.prport.forEach(data => {\r\n    //                                 if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxelement].port == (item.path + '/' + item.name + '/' + data.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/PPPtoKeyPRPort', end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/PPPtoKeyPRPort', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxelement].process != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.forEach(pro => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxelement].process == (pro.path + '/' + pro.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/PPPtoKeyProcess', end: pro.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/PPPtoKeyProcess', pro.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ComFieldGrant_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxelement].fieldD != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.FieldGD.forEach(design => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxelement].fieldD == (design.path + '/' + design.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/FieldGD', end: design.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/FieldGD', design.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxelement].provide != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.forEach(pro => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxelement].provide == (pro.path + '/' + pro.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/FGProvide', end: pro.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/FGProvide', pro.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ComEventGrant_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.EventG[idxelement].eventD != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.EventGD.forEach(design => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.EventG[idxelement].eventD == (design.path + '/' + design.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/EventGD', end: design.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/EventGD', design.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.EventG[idxelement].provide != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.forEach(pro => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.EventG[idxelement].provide == (pro.path + '/' + pro.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/EGProvide', end: pro.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/EGProvide', pro.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ComMethodGrant_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxelement].methodD != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.MethodGD.forEach(design => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxelement].methodD == (design.path + '/' + design.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/MethodGD', end: design.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/MethodGD', design.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxelement].provide != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.forEach(pro => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxelement].provide == (pro.path + '/' + pro.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/MGProvide', end: pro.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/MGProvide', pro.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ComFieldGDesign_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxelement].processD != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.forEach(proce => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxelement].processD == (proce.path + '/' + proce.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/FGDproD', end: proce.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/FGDproD', proce.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxelement].SIField != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                         if (item.fields.length > 0) {\r\n    //                             item.fields.forEach(service => {\r\n    //                                 if (state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxelement].SIField == (item.path + '/' + item.name + '/' + service.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/FGDserviceI', end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/FGDserviceI', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ComEventGDesign_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxelement].processD != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.forEach(proce => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxelement].processD == (proce.path + '/' + proce.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/EGDproD', end: proce.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/EGDproD', proce.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxelement].SIEvent != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                         if (item.events.length > 0) {\r\n    //                             item.events.forEach(service => {\r\n    //                                 if (state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxelement].SIEvent == (item.path + '/' + item.name + '/' + service.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/EGDserviceI', end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/EGDserviceI', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             } else if (ele.parent == constant.ComMethodGDesign_str) {\r\n    //                 idxelement = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(item => item.uuid === ele.uuid)\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxelement].processD != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.forEach(proce => {\r\n    //                         if (state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxelement].processD == (proce.path + '/' + proce.name)) {\r\n    //                             this.commit('setConnectionline', { start: ele.uuid + '/MGDproD', end: proce.uuid })\r\n    //                             EventBus.$emit('new-line', ele.uuid + '/MGDproD', proce.uuid)\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //                 if (state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxelement].SIMethod != null) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.forEach(item => {\r\n    //                         if (item.methods.length > 0) {\r\n    //                             item.methods.forEach(service => {\r\n    //                                 if (state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxelement].SIMethod == (item.path + '/' + item.name + '/' + service.name)) {\r\n    //                                     this.commit('setConnectionline', { start: ele.uuid + '/MGDserviceI', end: item.uuid })\r\n    //                                     EventBus.$emit('new-line', ele.uuid + '/MGDserviceI', item.uuid)\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             }\r\n    //         })\r\n    //         state.inputFileList = []\r\n    //     },\r\n\r\n    //     addElementCompuMehtod(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             category: payload.category,\r\n    //             scales: payload.scales,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.CompuMethod_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editCompuMehtod(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(data => data.uuid === payload.uuid)\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.CompuMethod_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].left[payload.location] = payload.left\r\n    //                 //console.log(state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].top[payload.location] + ' / ' + state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].left[payload.location])\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementDataConstr(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             lowerlimit: payload.lowerlimit,\r\n    //             upperlimit: payload.upperlimit,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.DataConstr_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editDataConstr(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(data => data.uuid === payload.uuid)\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.DataConstr_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementApplicationArray(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             category: payload.category,\r\n    //             dynamicArrySize: payload.dynamicArrySize,\r\n    //             elename: payload.elename,\r\n    //             elehandling: payload.elehandling,\r\n    //             elesemantics: payload.elesemantics,\r\n    //             elemaxnumber: payload.elemaxnumber,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.ApplicationArray_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editApplicationArray(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.ApplicationArray_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementImplementation(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         //console.log('!!! UUID !!!' + newUUid)\r\n    //         state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             category: payload.category,\r\n    //             namespace: payload.namespace,\r\n    //             arraysize: payload.arraysize,\r\n    //             typeemitter: payload.typeemitter,\r\n    //             typeref: payload.typeref,\r\n    //             templatetype: payload.templatetype,\r\n    //             desc: payload.desc,\r\n    //             ddpc: payload.ddpc,\r\n    //             idtelement: payload.idtelement,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editImplementation(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementMachine(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Machine.Machine.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             machinedesign: payload.machinedesign,\r\n    //             timeout: payload.timeout,\r\n    //             hwelement: payload.hwelement,\r\n    //             executable: payload.executable,\r\n    //             admin: payload.admin,\r\n    //             functiongroup: payload.functiongroup,\r\n    //             processor: payload.processor,\r\n    //             moduleinstant: payload.moduleinstant,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editMachine(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementHWElement(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Machine.HWElement.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             category: payload.category,\r\n    //             attribute: payload.attribute,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editHWElement(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n\r\n    //     addElementMachineDesign(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             access: payload.access,\r\n    //             resettimer: payload.resettimer,\r\n    //             connector: payload.connector,\r\n    //             servicediscover: payload.servicediscover\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editMachineDesign(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementModeDeclarationGroup(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             modedeclaration: payload.modedeclaration,\r\n    //             initmode: payload.initmode,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.ModeDeclarationGroup_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editModeDeclarationGroup(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.ModeDeclarationGroup_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementEthernetCluster(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             conditional: payload.conditional,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editEthernetCluster(state, payload) {\r\n    //         //console.log('editEthernetCluster' + payload.uuid + '///' + payload.zindex)\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementProtoMachineMapping(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             ptmmname: payload.ptmmname,\r\n    //             ptmmMachine: payload.ptmmMachine,\r\n    //             ptmmProcess: payload.ptmmProcess,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcesstoMachineMapping_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editProtoMachineMapping(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcesstoMachineMapping_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementSWComponents(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             pport: payload.pport,\r\n    //             rport: payload.rport,\r\n    //             prport: payload.prport,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editSWComponents(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementProcess(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             prodesign: payload.prodesign,\r\n    //             determin: payload.determin,\r\n    //             execut: payload.execut,\r\n    //             machinname: payload.machinname,\r\n    //             machinetype: payload.machinetype,\r\n    //             dependent: payload.dependent,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editProcess(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementProcessDesign(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             executableref: payload.executableref,\r\n    //             determin: payload.determin\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcessDesign_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editProcessDesign(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcessDesign_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementExecutable(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             version: payload.version,\r\n    //             category: payload.category,\r\n    //             buildType: payload.buildType,\r\n    //             loggingBehabior: payload.loggingBehabior,\r\n    //             reportingBehabior: payload.reportingBehabior,\r\n    //             swname: payload.swname,\r\n    //             applicationtyperef: payload.applicationtyperef\r\n\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Executable_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editExecutable(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Executable_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxElement].left, payload.location, payload.left)\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxElement].top[payload.location] = payload.top\r\n    //                 //state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxElement].left[payload.location] = payload.left\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementStartupConfig(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             configname: payload.configname,\r\n    //             policy: payload.policy,\r\n    //             priority: payload.priority,\r\n    //             entertimeout: payload.entertimeout,\r\n    //             exittimeout: payload.exittimeout,\r\n\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.StartupConfig_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editStartupConfig(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.StartupConfig_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementDeterministicClien(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             cycletiem: payload.cycletiem,\r\n    //             numofworkers: payload.numofworkers,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.DeterministicClient_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editDeterministicClien(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.DeterministicClient_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient[idxElement].zindex = payload.zindex\r\n    //         }\r\n\r\n    //     },\r\n    //     addElementSomeIPService(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             service: payload.service,\r\n    //             majversion: payload.majversion,\r\n    //             minversion: payload.minversion,\r\n    //             id: payload.id,\r\n    //             eventG: payload.eventG,\r\n    //             eventD: payload.eventD,\r\n    //             methodD: payload.methodD,\r\n    //             fieldD: payload.fieldD,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editSomeIPService(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementService(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             majversion: payload.versionMaj,\r\n    //             minversion: payload.versionMin,\r\n    //             namespace: payload.namespace,\r\n    //             isservice: payload.isservice,\r\n    //             events: payload.events,\r\n    //             fields: payload.fields,\r\n    //             methods: payload.methods\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editServiceInterface(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementClient(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             retrydelay: payload.delay,\r\n    //             retrymax: payload.max,\r\n    //             timetolive: payload.timetolive,\r\n    //             delaymax: payload.delaymax,\r\n    //             delaymin: payload.delaymin,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.SomeIPEvents_index].children[constant.Client_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editClient(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.SomeIPEvents_index].children[constant.Client_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementServer(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             delaymax: payload.delaymax,\r\n    //             delaymin: payload.delaymin,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.SomeIPEvents_index].children[constant.Server_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editServer(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.SomeIPEvents_index].children[constant.Server_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementSomeIPClient(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             findtime: payload.findtime,\r\n    //             inidelaymax: payload.inidelaymax,\r\n    //             inidelaymin: payload.inidelaymin,\r\n    //             inibasedelay: payload.inibasedelay,\r\n    //             inirepetimax: payload.inirepetimax,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPClient_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editSomeIPClient(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPClient_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementSomeIPServer(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             inidelaymax: payload.inidelaymax,\r\n    //             inidelaymin: payload.inidelaymin,\r\n    //             inibasedelay: payload.inibasedelay,\r\n    //             inirepetimax: payload.inirepetimax,\r\n    //             delaymax: payload.delaymax,\r\n    //             delaymin: payload.delaymin,\r\n    //             offer: payload.offer,\r\n    //             timetolive: payload.tiemtolive,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPServer_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editSomeIPServer(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPServer_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementSomeIPtoMachine(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             ccref: payload.ccref,\r\n    //             udp: payload.udp,\r\n    //             tcp: payload.tcp,\r\n    //             siref: payload.siref,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editSomeIPtoMachine(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementToPortPrototype(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             selectPort: payload.selectPort,\r\n    //             porttype: payload.porttype,\r\n    //             process: payload.process,\r\n    //             selectServiceIns: payload.selectServiceIns,\r\n    //             serviceIns: payload.serviceIns,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editToPortPrototype(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementRequiredSomeIP(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             deployref: payload.deployref,\r\n    //             minorver: payload.minover,\r\n    //             serviceInsid: payload.id,\r\n    //             someipclient: payload.clientref,\r\n    //             version: payload.ver,\r\n    //             method: payload.method,\r\n    //             requiredevent: payload.requiredevent\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editRequiredSomeIP(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementProvidedSomeIP(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             deployref: payload.deployref,\r\n    //             someipserver: payload.someips,\r\n    //             instanceid: payload.id,\r\n    //             eventP: payload.eventP,\r\n    //             method: payload.method,\r\n    //             eventG: payload.eventG\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editProvidedSomeIP(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n\r\n    //     addElementError(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.Error.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             desc: payload.desc,\r\n    //             errorcode: payload.errorcode,\r\n    //             errorDref: payload.errorDref\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Error_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editError(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Error_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.Error[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.Error[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.Error[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementErrorSet(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.ErrorSet.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             errorref: payload.errorref\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Errorset_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editErrorSet(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Errorset_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementErrorDomain(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             namespace: payload.namespace,\r\n    //             value: payload.value,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.ErrorDomain_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editErrorDomain(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.ErrorDomain_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ErrorDomain[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Service.ErrorDomain[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ErrorDomain[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     ////////////////////////////////////\r\n    //     addElementPERFileArray(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Per.PERFileArray.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.FileArray_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editPERFileArrayD(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Per.PERFileArray.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.FileArray_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Per.PERFileArray[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Per.PERFileArray[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERFileArray[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n\r\n    //     addElementPERKeyValueD(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.KeyValueData_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editPERPPKeyValueD(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.KeyValueData_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementPERPPtoFileArray(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             fileArray: payload.fileArray,\r\n    //             port: payload.port,\r\n    //             process: payload.process\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editPERPPtoFileArray(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementPERPPtoKeyValue(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             keyValue: payload.keyValue,\r\n    //             port: payload.port,\r\n    //             process: payload.process\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editPERPPtoKeyValue(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementMethodGD(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].IamG.MethodGD.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             processD: payload.processD,\r\n    //             SIMethod: payload.SIMethod,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editMethodGD(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementEventGD(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].IamG.EventGD.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             processD: payload.processD,\r\n    //             SIEvent: payload.SIEvent,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editEventGD(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementFieldGD(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].IamG.FieldGD.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             processD: payload.processD,\r\n    //             SIField: payload.SIField,\r\n    //             role: payload.role\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editFieldGD(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementMethodG(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].IamG.MethodG.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             methodD: payload.methodD,\r\n    //             provide: payload.provide,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGrant_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editMethodG(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGrant_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementEventG(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].IamG.EventG.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             eventD: payload.eventD,\r\n    //             provide: payload.provide,\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGrant_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editEventG(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGrant_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.EventG[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.EventG[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.EventG[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n    //     addElementFieldG(state, payload) {\r\n    //         var newUUid\r\n    //         if (!payload.input) {\r\n    //             newUUid = uuid.v1()\r\n    //         } else {\r\n    //             newUUid = payload.uuid\r\n    //         }\r\n    //         state.SAHLProject[state.openProjectIndex].IamG.FieldG.push({\r\n    //             uuid: newUUid,\r\n    //             path: payload.path,\r\n    //             top: payload.top,\r\n    //             left: payload.left,\r\n    //             zindex: payload.zindex,\r\n    //             name: payload.name,\r\n    //             fieldD: payload.fieldD,\r\n    //             provide: payload.provide,\r\n    //             role: payload.role\r\n    //         })\r\n    //         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGrant_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n    //         if (!payload.input) {\r\n    //             state.activeUUID = newUUid\r\n    //         }\r\n    //         EventBus.$emit('new-element', newUUid)\r\n    //     },\r\n    //     editFieldG(state, payload) {\r\n    //         var idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(data => data.uuid === payload.uuid)\r\n\r\n    //         if (payload.compo == \"Name\") {\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGrant_index].children[idxElement].name = payload.name\r\n    //         } else if (payload.compo == \"drag\") {\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxElement].top, payload.location, payload.top)\r\n    //             Vue.set(state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxElement].left, payload.location, payload.left)\r\n    //         } else if (payload.compo == \"z\") {\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxElement].zindex = payload.zindex\r\n    //         }\r\n    //     },\r\n\r\n\r\n\r\n    //     renameElement(state, payload) {\r\n    //         var idxEle, ele, editmethod\r\n    //         if (payload.parent == constant.CompuMethod_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxEle]\r\n    //             editmethod = 'editCompuMehtod'\r\n    //         } else if (payload.parent == constant.DataConstr_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxEle]\r\n    //             editmethod = 'editDataConstr'\r\n    //         } else if (payload.parent == constant.ApplicationArray_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxEle]\r\n    //             editmethod = 'editApplicationArray'\r\n    //         } else if (payload.parent == constant.Implementation_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxEle]\r\n    //             editmethod = 'editImplementation'\r\n    //         } else if (payload.parent == constant.Machine_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Machine.Machine[idxEle]\r\n    //             editmethod = 'editMachine'\r\n    //         } else if (payload.parent == constant.MachineDesigne_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxEle]\r\n    //             editmethod = 'editMachineDesign'\r\n    //         } else if (payload.parent == constant.EthernetCluster_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxEle]\r\n    //             editmethod = 'editEthernetCluster'\r\n    //         } else if (payload.parent == constant.ModeDeclarationGroup_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxEle]\r\n    //             editmethod = 'editModeDeclarationGroup'\r\n    //         } else if (payload.parent == constant.HWElement_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxEle]\r\n    //             editmethod = 'editHWElement'\r\n    //         } else if (payload.parent == constant.ProcesstoMachineMapping_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxEle]\r\n    //             editmethod = 'editProtoMachineMapping'\r\n    //         } else if (payload.parent == constant.SWComponents_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxEle]\r\n    //             editmethod = 'editSWComponents'\r\n    //         } else if (payload.parent == constant.Process_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxEle]\r\n    //             editmethod = 'editProcess'\r\n    //         } else if (payload.parent == constant.ProcessDesign_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxEle]\r\n    //             editmethod = 'editProcessDesign'\r\n    //         } else if (payload.parent == constant.Executable_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxEle]\r\n    //             editmethod = 'editExecutable'\r\n    //         } else if (payload.parent == constant.StartupConfig_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig[idxEle]\r\n    //             editmethod = 'editStartupConfig'\r\n    //         } else if (payload.parent == constant.DeterministicClient_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient[idxEle]\r\n    //             editmethod = 'editDeterministicClien'\r\n    //         } else if (payload.parent == constant.SomeIPServiceInterfaceDeployment_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxEle]\r\n    //             editmethod = 'editSomeIPService'\r\n    //         } else if (payload.parent == constant.ServiceInterface_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxEle]\r\n    //             editmethod = 'editServiceInterface'\r\n    //         } else if (payload.parent == constant.Client_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent[idxEle]\r\n    //             editmethod = 'editClient'\r\n    //         } else if (payload.parent == constant.Server_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent[idxEle]\r\n    //             editmethod = 'editServer'\r\n    //         } else if (payload.parent == constant.SomeIPClient_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance[idxEle]\r\n    //             editmethod = 'editSomeIPClient'\r\n    //         } else if (payload.parent == constant.SomeIPServer_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance[idxEle]\r\n    //             editmethod = 'editSomeIPServer'\r\n    //         } else if (payload.parent == constant.SomeIPToMachineMapping_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxEle]\r\n    //             editmethod = 'editSomeIPtoMachine'\r\n    //         } else if (payload.parent == constant.ToPortPrototypeMapping_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxEle]\r\n    //             editmethod = 'editToPortPrototype'\r\n    //         } else if (payload.parent == constant.RequiredSomeIP_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxEle]\r\n    //             editmethod = 'editRequiredSomeIP'\r\n    //         } else if (payload.parent == constant.ProvidedSomeIP_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxEle]\r\n    //             editmethod = 'editProvidedSomeIP'\r\n    //         } else if (payload.parent == constant.Error_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.Error[idxEle]\r\n    //             editmethod = 'editError'\r\n    //         } else if (payload.parent == constant.Errorset_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxEle]\r\n    //             editmethod = 'editErrorSet'\r\n    //         } else if (payload.parent == constant.ErrorDomain_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Service.ErrorDomain[idxEle]\r\n    //             editmethod = 'editErrorDomain'\r\n    //         } else if (payload.parent == constant.FileArray_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERFileArray.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Per.PERFileArray[idxEle]\r\n    //             editmethod = 'editPERFileArray'\r\n    //         } else if (payload.parent == constant.FileProxyInterf_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERFileProxy.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Per.PERFileProxy[idxEle]\r\n    //             editmethod = 'editPERFileProxy'\r\n    //         } else if (payload.parent == constant.KeyValueData_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD[idxEle]\r\n    //             editmethod = 'editPERKeyValueD'\r\n    //         } else if (payload.parent == constant.KeyValueDI_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI[idxEle]\r\n    //             editmethod = 'editPERKeyValueDI'\r\n    //         } else if (payload.parent == constant.PortProtoFileA_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxEle]\r\n    //             editmethod = 'editPERPPtoFileArray'\r\n    //         } else if (payload.parent == constant.PortProtoKeyV_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxEle]\r\n    //             editmethod = 'editPERPPtoKeyValue'\r\n    //         } else if (payload.parent == constant.ComFieldGrant_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxEle]\r\n    //             editmethod = 'editFieldG'\r\n    //         } else if (payload.parent == constant.ComEventGrant_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].IamG.EventG[idxEle]\r\n    //             editmethod = 'editEventG'\r\n    //         } else if (payload.parent == constant.ComMethodGrant_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxEle]\r\n    //             editmethod = 'editMethodG'\r\n    //         } else if (payload.parent == constant.ComFieldGDesign_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxEle]\r\n    //             editmethod = 'editFieldGD'\r\n    //         } else if (payload.parent == constant.ComEventGDesign_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxEle]\r\n    //             editmethod = 'editEventGD'\r\n    //         } else if (payload.parent == constant.ComMethodGDesign_str) {\r\n    //             idxEle = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(item => item.uuid === payload.uuid)\r\n    //             ele = state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxEle]\r\n    //             editmethod = 'editMethodGD'\r\n    //         }\r\n\r\n    //         ele.name = payload.name\r\n    //         this.commit(editmethod, { compo: \"Name\", uuid: payload.uuid, name: payload.name })\r\n    //         this.commit('changePathElement', { uuid: payload.uuid, path: ele.path, name: ele.name })\r\n    //     },\r\n    //     changePathElement(state, payload) {\r\n    //         var indices = this.getters.getchangenamelist(payload.uuid)\r\n    //         indices.forEach(idx => {\r\n    //             var startUUID = state.connectionLine[state.openProjectIndex].start[idx].split('/')\r\n    //             var tableLine = startUUID[1].split('-')\r\n    //             var idxElement = null,\r\n    //                 intablename = null\r\n    //             if (tableLine[0] == 'ddpccompu') { // compu method 변경시 => implementation 에서 compu method ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].ddpc[tableLine[1]].compumethod = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'ddpcdata') { // data constr변경시 => implementation 에서 data constr ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].ddpc[tableLine[1]].dataconstr = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'typeref') { //implementation 변경시 =>  implementation 에서 implementation ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].typeref = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'templateType') { //implementation 변경시 =>   implementation 에서 implementation ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].templatetype = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'idtetable') { //implementation 변경시 =>   implementation 에서 implementation ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].idtelement[tableLine[1]].typeref = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'Eventtable') { //implementation 변경시 =>   ServiceInterface 에서 Implementation ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].events[tableLine[1]].type = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'Fieldtable') { //implementation 변경시 =>   ServiceInterface 에서 Implementation ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].fields[tableLine[1]].type = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'argtable') { //implementation 변경시 =>   ServiceInterface 에서 Implementation ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].methods[tableLine[2]].argument[tableLine[1]].type = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'machinefromptmm') { // Machine 변경시 => Process to Machine Mapping set 에서 Machine ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxElement].ptmmMachine = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'processresorce') { //Machine 변경시 =>  Process 에서 Machine -> Module Instantiation ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'ModuleIns') {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[1]].resourceRef = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[1]].resourceRef.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[1]].resourceRef = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'fgcontext') { //Machine 변경시 =>  Process 에서 Machine -> Function Group ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'functionG') {\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[2]].functionItem[tableLine[1]].contextMode = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[2]].functionItem[tableLine[1]].contextMode.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[2]].functionItem[tableLine[1]].contextMode = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'machinedesign') { //MachineDesign 변경시 =>  machin에서 machinDesign ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].machinedesign = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'comconet') { //MachineDesign 변경시 =>   EthernetCluster에서 MachineDesign -> Communication Connector ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'CommunicationC') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional[tableLine[3]].channel[tableLine[2]].comconnect[tableLine[1]].connector = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional[tableLine[3]].channel[tableLine[2]].comconnect[tableLine[1]].connector.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional[tableLine[3]].channel[tableLine[2]].comconnect[tableLine[1]].connector = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'tomachinCC') { //MachineDesign 변경시 =>   SomeIPtoMachineMapping 에서 MachineDesgin의 Communication Connected ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'CommunicationC') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxElement].ccref = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxElement].ccref.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxElement].ccref = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'cctable') { //EthernetCluster 변경시 => machinDesign에서 EthernetCluster Endpoint ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].connector[tableLine[1]].endpoint = payload.path + '/' + payload.name + '/' + payload.condi + '/' + payload.channl + '/' + payload.endpoint\r\n    //             } else if (tableLine[0] == 'sdctable') { //EthernetCluster 변경시 =>  machinDesign에서 EthernetCluster Endpoint ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].servicediscover[tableLine[1]].msia = payload.path + '/' + payload.name + '/' + payload.condi + '/' + payload.channl + '/' + payload.endpoint\r\n    //             } else if (tableLine[0] == 'functiontable') { //Mode Declaration  변경시 =>  machin에서 Mode Declaration ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].functiongroup[tableLine[1]].type = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'processmodedeclar') { //Mode Declaration  변경시 =>  Process 에서 Mode Declaration ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].machinetype = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'fgtarget') { //Mode Declaration  변경시 =>  Process 에서  Module Declaration-> mode Declarations ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 intablename = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[2]].functionItem[tableLine[1]].targetMode.split('/')\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[2]].functionItem[tableLine[1]].targetMode = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //             } else if (tableLine[0] == 'hwelement') { //HW Element 변경시 =>  machin에서 HWElement ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].hwelement[tableLine[1]].hwelement = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'applicationtyperef') { //SW Component 변경시 =>  Executable 에서 SW Components ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxElement].applicationtyperef = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'toportport') { //SW Component 변경시 =>   Service Instance to port prototype 에서 SWComponent port ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'pPort' && state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].selectPort == 'P-PORT-PROTOTYPE') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].porttype = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else if (payload.changeName == 'prPort' && state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].selectPort == 'PR-PORT-PROTOTYPE') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].porttype = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else if (payload.changeName == 'rPort' && state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].selectPort == 'R-PORT-PROTOTYPE') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].porttype = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].porttype.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].porttype = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'PPPtoFilePRPort') { //SW Component 변경시 =>  PPP to File Array 에서 SW Component ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'prPort') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxElement].port = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else if (payload.changeName == undefined) {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxElement].port.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxElement].port = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'PPPtoKeyPRPort') { //SW Component 변경시 =>  PPP to Key Value 에서 SW Component ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'prPort') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxElement].port = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else if (payload.changeName == undefined) {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxElement].port.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxElement].port = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'processfromptmm') { //Process 변경 시  =>  Process to Machine Mapping set 에서 Process ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxElement].ptmmProcess = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'PPPtoFileProcess') { //Process 변경시 =>  PPP to File Array 에서 Process ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxElement].process = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'PPPtoKeyProcess') { //Process 변경시 =>  PPP to Key Value 에서 Process ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxElement].process = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'processprodesign') { //ProcessDesign 변경 시  =>   Process 에서 Process Design ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].prodesign = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'toportprocess') { //ProcessDesign 변경 시  =>   Service Instance to port prototype 에서 process design ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].process = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'MGDproD') { //ProcessDesign 변경 시  =>   MethodGD 에서 process design ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxElement].processD = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'EGDproD') { //ProcessDesign 변경 시  =>   EventGD 에서 process design ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxElement].processD = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'FGDproD') { //ProcessDesign 변경 시  =>   FieldGD 에서 process design ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxElement].processD = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'prodesignexecutable') { //Executable 변경시 =>  ProcessDesign 에서  Executable ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxElement].executableref = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'processexecut') { //Executable 변경시 =>  Process 에서 Executable ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].execut = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'processstartup') { // Startup Config 변경시 =>  Process 에서 Startup Config ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].dependent[tableLine[1]].startupConfigRef = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'processdetermin') { //Deterministric  변경시 =>  Process 에서 Deterministric ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxElement].determin = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'event') { //Service Deployment 변경시 =>  ServiceInterface Deploymant에서에서 serviceinterface Deploymant Event Deployment ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'EventD') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].eventG[tableLine[2]].event[tableLine[1]].event = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].eventG[tableLine[2]].event[tableLine[1]].event.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].eventG[tableLine[2]].event[tableLine[1]].event = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'requiredDeploy') { //Service Deployment 변경시 => Required SomeIP Service Instance 에서 Service Deployment ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].deployref = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'requiredMethod') { //Service Deployment 변경시 =>  Required SomeIP Service Instance 에서 Service Deployment Method Deployment ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'MethodD') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].method[tableLine[1]].method = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].method[tableLine[1]].method.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].method[tableLine[1]].method = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'requiredEventG') { //Service Deployment 변경시 =>  Required SomeIP Service Instance 에서 Service Deployment Event Group ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'EventG') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].requiredevent[tableLine[1]].eventG = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].requiredevent[tableLine[1]].eventG.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].requiredevent[tableLine[1]].eventG = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'providDeploy') { //Service Deployment 변경시 =>  Provided SomeIP Service Instance 에서 Service Deployment ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].deployref = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'proviedEventP') { //Service Deployment 변경시 =>  Provided SomeIP Service Instance 에서 Service Deploment의  eventD ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'EventD') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].eventP[tableLine[1]].event = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].eventP[tableLine[1]].event.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].eventP[tableLine[1]].event = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'proviedMethod') { //Service Deployment 변경시 =>  Provided SomeIP Service Instance 에서 Service Deploment의 MethodD ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'MethodD') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].method[tableLine[1]].method = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].method[tableLine[1]].method.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].method[tableLine[1]].method = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'providEventG') { //Service Deployment 변경시 =>  Provided SomeIP Service Instance 에서 Service Deploment의 eventG ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'EventG') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].eventG[tableLine[1]].eventG = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].eventG[tableLine[1]].eventG.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].eventG[tableLine[1]].eventG = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'pporttable') { //ServiceInterface 변경 시 =>  SW Components 에서 ServiceInterface ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxElement].pport[tableLine[1]].interface = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'prporttable') { //ServiceInterface 변경 시 =>  SW Components 에서 ServiceInterface ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxElement].prport[tableLine[1]].interface = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'rporttable') { //ServiceInterface 변경 시 =>  SW Components 에서 ServiceInterface ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxElement].rport[tableLine[1]].interface = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'service') { //ServiceInterface 변경 시 =>  ServiceInterface Deploymant에서 serviceInterface ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].service = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'serviceEventD') { //ServiceInterface 변경 시 =>  ServiceInterface Deploymant에서 serviceinterface Event ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'serviceEventD') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].eventD[tableLine[1]].event = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].eventD[tableLine[1]].event.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].eventD[tableLine[1]].event = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'serviceMethodD') { //ServiceInterface 변경 시 =>  ServiceInterface Deploymant에서 serviceinterface Method ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'serviceMethodD') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].methodD[tableLine[1]].method = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].methodD[tableLine[1]].method.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].methodD[tableLine[1]].method = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'field') { //ServiceInterface 변경 시 =>  ServiceInterface Deploymant에서 serviceinterface Field ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'field') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].fieldD[tableLine[1]].field = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].fieldD[tableLine[1]].field.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxElement].fieldD[tableLine[1]].field = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'MGDserviceI') { //ServiceInterface 변경 시 =>  MethodGD에서 serviceinterface Method ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'serviceMethodD') {\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxElement].SIMethod = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxElement].SIMethod.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxElement].SIMethod = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'EGDserviceI') { //ServiceInterface 변경 시 =>  EventGD에서 serviceinterface Event ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'serviceEventD') {\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxElement].SIEvent = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxElement].SIEvent.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxElement].SIEvent = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'FGDserviceI') { //ServiceInterface 변경 시 =>  FieldGD에서 serviceinterface Field ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.changeName == 'field') {\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxElement].SIField = payload.path + '/' + payload.name + '/' + payload.listname\r\n    //                 } else {\r\n    //                     intablename = state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxElement].SIField.split('/')\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxElement].SIField = payload.path + '/' + payload.name + '/' + intablename[intablename.length - 1]\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'requiredClient') { //Client event 변경시 => Required SomeIP Service Instance 에서 Client event ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].requiredevent[tableLine[1]].client = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'providServer') { //Server event 변경시 =>  Provided SomeIP Service Instance 에서 Server ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].eventG[tableLine[1]].server = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'requiredSomeIPC') { //SomeIP Client 변경시 => Required SomeIP Service Instance 에서 SomeIP Client ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxElement].someipclient = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'providSomeIPS') { //SomeIP Server 변경시 =>  Provided SomeIP Service Instance 에서 SomIP Server ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxElement].someipserver = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'tomachinServiceIns') { //Required SomeIP 변경시 =>  SomeIPtoMachineMapping 에서 Required SomeIP ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxElement].siref = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'toportservice') { //Required Provided 변경시 => Service Instance to port prototype 에서 provided,required ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].selectServiceIns == \"PROVIDED-SOMEIP-SERVICE-INSTANCE\" && payload.req == false) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].serviceIns = payload.path + '/' + payload.name\r\n    //                 } else if (state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].selectServiceIns == \"REQUIRED-SOMEIP-SERVICE-INSTANCE\" && payload.req == true) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxElement].serviceIns = payload.path + '/' + payload.name\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'FGProvide') { //Provided 변경시 =>  Field Grant 에서 Provided ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxElement].provide = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'EGProvide') { //Provided 변경시 =>  Event Grant 에서 Provided ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.EventG[idxElement].provide = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'MGProvide') { //Provided 변경시 =>  Method Grant 에서 Provided ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxElement].provide = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'methoderrors') { // Error 변경시 => ServiceInterface 에서 Error ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].methods[tableLine[2]].errorSet[tableLine[1]].error = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'error') { //Error 변경시 =>  Error Set 에서 Error  ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxElement].errorref[tableLine[1]].error = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'methoderror') { // Error set 변경시 =>  ServiceInterface 에서 ErrorSet ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].methods[tableLine[2]].error[tableLine[1]].error = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'errordomain') { //ErrorDomain 변경시 =>  Error 에서 Error Domain ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.Error[idxElement].errorDref = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'PPPtoFileArray') { //Per File Array 변경시 =>  PPP to File Array 에서 Per File Array ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxElement].fileArray = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'PPPtoKeyValue') { //per Key Value Data 변경시 =>  PPP to Key Value 에서 per Key Value Data ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxElement].keyValue = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'FieldGD') { //Field Grant Design 변경시 =>  Field Grant 에서 Field Grant Design ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxElement].fieldD = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'EventGD') { //Event Grant Design 변경시 =>  Event Grant 에서 Event Grant Design ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.EventG[idxElement].eventD = payload.path + '/' + payload.name\r\n    //             } else if (tableLine[0] == 'MethodGD') { //Method Grant Design 변경시 =>  Method Grant 에서 Method Grant Design ref할때\r\n    //                 idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxElement].methodD = payload.path + '/' + payload.name\r\n    //             }\r\n    //         })\r\n    //     },\r\n    //     isintoErrorList(state, payload) {\r\n    //         state.errorList.forEach((item, i) => {\r\n    //             if (item.uuid == payload.uuid) {\r\n    //                 if (item.error == 'name' && payload.name != '') {\r\n    //                     state.errorList.splice(i, 1)\r\n    //                 }\r\n    //                 if (item.error == 'path' && payload.path != '') {\r\n    //                     state.errorList.splice(i, 1)\r\n    //                 }\r\n    //                 if (item.error == 'Name Space') {\r\n    //                     var namespace = payload.namespace.split(',')\r\n    //                     var isTrue = true\r\n    //                     namespace.forEach((item, i) => {\r\n    //                         if (!(item == '' && i == namespace.length - 1)) {\r\n    //                             var strSymble = item.split('/')\r\n    //                             console.log(strSymble)\r\n    //                             if (strSymble.length != 2 || strSymble[0] == '' || strSymble[0] == undefined || strSymble[1] == '' || strSymble[1] == undefined) {\r\n    //                                 isTrue = false\r\n    //                             }\r\n    //                         }\r\n    //                     })\r\n    //                     if (isTrue) {\r\n    //                         state.errorList.splice(i, 1)\r\n    //                     }\r\n    //                 }\r\n    //             }\r\n    //         })\r\n    //     },\r\n\r\n    //     deleteRefTable(state, payload) {\r\n    //         //console.log(payload.deletItemList)\r\n    //         if (payload.deleteTab) {\r\n    //             if (payload.deleteName == 'ModuleIns') { //Machine 변경시 =>  Process 에서 Machine -> Module Instantiation ref할때\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.forEach((ele, i) => {\r\n    //                     if (ele.dependent.length > 0) {\r\n    //                         ele.dependent.forEach((data, n) => {\r\n    //                             if (data.resourceRef == (payload.path + '/' + payload.name + '/' + payload.tabName)) {\r\n    //                                 var idx = this.getters.getconnectLineNum(ele.uuid + '/processresorce-' + n)\r\n    //                                 data.resourceRef = null\r\n    //                                 if (idx != -1) {\r\n    //                                     EventBus.$emit('delete-line', idx)\r\n    //                                     this.commit('deletConnectionline', { startnum: idx })\r\n    //                                 }\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[i].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //             } else if (payload.deleteName == 'modeDeclar') { //Mode Declaration  변경시 =>  Process 에서  Module Declaration-> mode Declarations ref할때\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.forEach((ele, i) => {\r\n    //                     if (ele.dependent.length > 0) {\r\n    //                         ele.dependent.forEach((data, n) => {\r\n    //                             if (data.functionItem != null) {\r\n    //                                 data.functionItem.forEach((item, f) => {\r\n    //                                     if (item.targetMode == (payload.path + '/' + payload.name + '/' + payload.tabName)) {\r\n    //                                         var idx = this.getters.getconnectLineNum(ele.uuid + '/fgtarget-' + f + '-' + n)\r\n    //                                         item.targetMode = null\r\n    //                                         if (idx != -1) {\r\n    //                                             EventBus.$emit('delete-line', idx)\r\n    //                                             this.commit('deletConnectionline', { startnum: idx })\r\n    //                                         }\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[i].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //             } else if (payload.deleteName == 'methodSI') {\r\n    //                 //ServiceInterface 변경 시 =>  ServiceInterface Deploymant에서에서 serviceinterface Method ref할때\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach((ele, i) => {\r\n    //                         if (ele.methodD.length > 0) {\r\n    //                             ele.methodD.forEach((item, n) => {\r\n    //                                 if (item.method == (payload.path + '/' + payload.name + '/' + payload.tabName)) {\r\n    //                                     var idx = this.getters.getconnectLineNum(ele.uuid + '/serviceMethodD-' + n)\r\n    //                                     item.method = null\r\n    //                                     if (idx != -1) {\r\n    //                                         EventBus.$emit('delete-line', idx)\r\n    //                                         this.commit('deletConnectionline', { startnum: idx })\r\n    //                                     }\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[i].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                     //ServiceInterface 변경 시 =>  MethodGD에서에서 serviceinterface Event ref할때\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.MethodGD.forEach((ele, i) => {\r\n    //                     if (ele.SIMethod == (payload.path + '/' + payload.name + '/' + payload.tabName)) {\r\n    //                         var idx = this.getters.getconnectLineNum(ele.uuid + '/MGDserviceI')\r\n    //                         ele.SIMethod = null\r\n    //                         if (idx != -1) {\r\n    //                             EventBus.$emit('delete-line', idx)\r\n    //                             this.commit('deletConnectionline', { startnum: idx })\r\n    //                         }\r\n    //                         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].children[i].validation = true\r\n    //                         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].validation = true\r\n    //                         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                         state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                         state.navigatorList[state.openProjectIndex].validation = true\r\n    //                     }\r\n    //                 })\r\n    //             } else if (payload.deleteName == 'eventG') {\r\n    //                 //Service Deployment 변경시 =>  Required SomeIP Service Instance 에서 Service Deployment Event Group ref할때\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.forEach((ele, i) => {\r\n    //                         if (ele.requiredevent.length > 0) {\r\n    //                             ele.requiredevent.forEach((item, n) => {\r\n    //                                 if (item.eventG == (payload.path + '/' + payload.name + '/' + payload.tabName)) {\r\n    //                                     var idx = this.getters.getconnectLineNum(ele.uuid + '/requiredEventG-' + n)\r\n    //                                     item.eventG = null\r\n    //                                     if (idx != -1) {\r\n    //                                         EventBus.$emit('delete-line', idx)\r\n    //                                         this.commit('deletConnectionline', { startnum: idx })\r\n    //                                     }\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children[i].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                     //Service Deployment 변경시 =>  Provided SomeIP Service Instance 에서 Service Deploment의 eventG ref할때\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.forEach((ele, i) => {\r\n    //                     if (ele.eventG.length > 0) {\r\n    //                         ele.eventG.forEach((item, n) => {\r\n    //                             if (item.eventG == (payload.path + '/' + payload.name + '/' + payload.tabName)) {\r\n    //                                 var idx = this.getters.getconnectLineNum(ele.uuid + '/providEventG-' + n)\r\n    //                                 item.eventG = null\r\n    //                                 if (idx != -1) {\r\n    //                                     EventBus.$emit('delete-line', idx)\r\n    //                                     this.commit('deletConnectionline', { startnum: idx })\r\n    //                                 }\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[i].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //             } else if (payload.deleteName == 'machineD') { //EthernetCluster 변경기 => MachineDesign에서 communication-C, service discover -> endpoint ref할때\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.forEach((ele, i) => {\r\n    //                     if (ele.connector.length > 0) {\r\n    //                         ele.connector.forEach(item => {\r\n    //                             if (item.endpoint != null) {\r\n    //                                 var tabName = item.endpoint.split('/')\r\n    //                                 if ((item.endpoint == (payload.path + '/' + payload.name + '/' + payload.tabName) && payload.deletTab == '3') ||\r\n    //                                     ((tabName[0] + '/' + tabName[1]) == (payload.path + '/' + payload.name) && payload.deletTab == '2' && (tabName[2] + '/' + tabName[3] == payload.tabName)) ||\r\n    //                                     ((tabName[0] + '/' + tabName[1]) == (payload.path + '/' + payload.name) && payload.deletTab == '1' && (tabName[2] == payload.tabName))) {\r\n    //                                     item.endpoint = null\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children[i].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                     if (ele.servicediscover.length > 0) {\r\n    //                         ele.servicediscover.forEach(item => {\r\n    //                             if (item.msia != null) {\r\n    //                                 var tabName = item.msias.split('/')\r\n    //                                 if ((item.msia == (payload.path + '/' + payload.name + '/' + payload.tabName) && payload.deletTab == '3') ||\r\n    //                                     ((tabName[0] + '/' + tabName[1]) == (payload.path + '/' + payload.name) && payload.deletTab == '2' && (tabName[2] + '/' + tabName[3] == payload.tabName)) ||\r\n    //                                     ((tabName[0] + '/' + tabName[1]) == (payload.path + '/' + payload.name) && payload.deletTab == '1' && (tabName[2] == payload.tabName))) {\r\n    //                                     item.msia = null\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children[i].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                 }\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 })\r\n    //             }\r\n    //         } else {\r\n    //             payload.deletItemList.forEach(deleteList => {\r\n    //                 if (payload.deleteName == 'functionG') { //Machine 변경시 =>  Process 에서 Machine -> Function Group ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.forEach((ele, i) => {\r\n    //                         if (ele.dependent.length > 0) {\r\n    //                             ele.dependent.forEach((data, n) => {\r\n    //                                 if (data.functionItem != null) {\r\n    //                                     data.functionItem.forEach((item, f) => {\r\n    //                                         if (item.contextMode == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                             var idx = this.getters.getconnectLineNum(ele.uuid + '/fgcontext-' + f + '-' + n)\r\n    //                                             item.contextMode = null\r\n    //                                             if (idx != -1) {\r\n    //                                                 EventBus.$emit('delete-line', idx)\r\n    //                                                 this.commit('deletConnectionline', { startnum: idx })\r\n    //                                             }\r\n    //                                             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[i].validation = true\r\n    //                                             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                                             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                                             state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                         }\r\n    //                                     })\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 } else if (payload.deleteName == 'CommunicationC') {\r\n    //                     //MachineDesign 변경시 =>   EthernetCluster에서 MachineDesign -> Communication Connector ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.forEach((ele, i) => {\r\n    //                             if (ele.conditional.length > 0) {\r\n    //                                 ele.conditional.forEach((condi, c) => {\r\n    //                                     if (condi.channel != null) {\r\n    //                                         condi.channel.forEach((channel, n) => {\r\n    //                                             if (channel.comconnect != null) {\r\n    //                                                 channel.comconnect.forEach((com, v) => {\r\n    //                                                     if (com.connector == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                                         var idx = this.getters.getconnectLineNum(ele.uuid + '/comconet-' + v + '-' + n + '-' + c)\r\n    //                                                         com.connector = null\r\n    //                                                         if (idx != -1) {\r\n    //                                                             EventBus.$emit('delete-line', idx)\r\n    //                                                             this.commit('deletConnectionline', { startnum: idx })\r\n    //                                                         }\r\n    //                                                         state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children[i].validation = true\r\n    //                                                         state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].validation = true\r\n    //                                                         state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                                                         state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                                     }\r\n    //                                                 })\r\n    //                                             }\r\n    //                                         })\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                         //MachineDesign 변경시 =>   SomeIPtoMachineMapping 에서 MachineDesgin의 Communication Connected ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.forEach((ele, i) => {\r\n    //                             if (ele.ccref == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                 var idx = this.getters.getconnectLineNum(ele.uuid + '/tomachinCC')\r\n    //                                 ele.ccref = null\r\n    //                                 if (idx != -1) {\r\n    //                                     EventBus.$emit('delete-line', idx)\r\n    //                                     this.commit('deletConnectionline', { startnum: idx })\r\n    //                                 }\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].children[i].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //                             }\r\n    //                         }) //SW Component 변경시 =>   Service Instance to port prototype 에서 SWComponent port ref할때\r\n    //                 } else if (payload.deleteName == 'pPort' || payload.deleteName == 'prPort' || payload.deleteName == 'rPort') {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.forEach((ele, i) => {\r\n    //                         if ((ele.selectPort == 'P-PORT-PROTOTYPE' && payload.deleteName == 'pPort' && ele.porttype == (payload.path + '/' + payload.name + '/' + deleteList.name)) ||\r\n    //                             (ele.selectPort == 'R-PORT-PROTOTYPE' && payload.deleteName == 'rPort' && ele.porttype == (payload.path + '/' + payload.name + '/' + deleteList.name)) ||\r\n    //                             (ele.selectPort == 'PR-PORT-PROTOTYPE' && payload.deleteName == 'prPort' && ele.porttype == (payload.path + '/' + payload.name + '/' + deleteList.name))) {\r\n    //                             var idx = this.getters.getconnectLineNum(ele.uuid + '/toportport')\r\n    //                             ele.porttype = null\r\n    //                             if (idx != -1) {\r\n    //                                 EventBus.$emit('delete-line', idx)\r\n    //                                 this.commit('deletConnectionline', { startnum: idx })\r\n    //                             }\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].children[i].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].validation = true\r\n    //                         }\r\n    //                     })\r\n    //                     if (payload.deleteName == 'prPort') {\r\n    //                         //SWComponemt 변경 시 =>  PERPPtoFileArray에서 SWComponemt PR port ref할때\r\n    //                         state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.forEach((ele, i) => {\r\n    //                                 if (ele.port == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                     var idx = this.getters.getconnectLineNum(ele.uuid + '/PPPtoFilePRPort')\r\n    //                                     ele.port = null\r\n    //                                     if (idx != -1) {\r\n    //                                         EventBus.$emit('delete-line', idx)\r\n    //                                         this.commit('deletConnectionline', { startnum: idx })\r\n    //                                     }\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].children[i].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                 }\r\n    //                             })\r\n    //                             //SWComponemt 변경 시 =>  PERPPtoKeyValue에서 SWComponemt PR port ref할때\r\n    //                         state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.forEach((ele, i) => {\r\n    //                             if (ele.port == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                 var idx = this.getters.getconnectLineNum(ele.uuid + '/PPPtoKeyPRPort')\r\n    //                                 ele.port = null\r\n    //                                 if (idx != -1) {\r\n    //                                     EventBus.$emit('delete-line', idx)\r\n    //                                     this.commit('deletConnectionline', { startnum: idx })\r\n    //                                 }\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].children[i].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //                             }\r\n    //                         })\r\n    //                     }\r\n    //                 } else if (payload.deleteName == 'eventSI') {\r\n    //                     //ServiceInterface 변경 시 =>  ServiceInterface Deploymant에서에서 serviceinterface Event ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach((ele, i) => {\r\n    //                             if (ele.eventD.length > 0) {\r\n    //                                 ele.eventD.forEach((item, n) => {\r\n    //                                     if (item.event == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                         var idx = this.getters.getconnectLineNum(ele.uuid + '/serviceEventD-' + n)\r\n    //                                         item.event = null\r\n    //                                         if (idx != -1) {\r\n    //                                             EventBus.$emit('delete-line', idx)\r\n    //                                             this.commit('deletConnectionline', { startnum: idx })\r\n    //                                         }\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[i].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                         //ServiceInterface 변경 시 =>  EventGD에서에서 serviceinterface Event ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.EventGD.forEach((ele, i) => {\r\n    //                         if (ele.SIEvent == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                             var idx = this.getters.getconnectLineNum(ele.uuid + '/EGDserviceI')\r\n    //                             ele.SIEvent = null\r\n    //                             if (idx != -1) {\r\n    //                                 EventBus.$emit('delete-line', idx)\r\n    //                                 this.commit('deletConnectionline', { startnum: idx })\r\n    //                             }\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].children[i].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].validation = true\r\n    //                         }\r\n    //                     })\r\n    //                 } else if (payload.deleteName == 'fieldSI') {\r\n    //                     //ServiceInterface 변경 시 =>  ServiceInterface Deploymant에서에서 serviceinterface Field ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach((ele, i) => {\r\n    //                             if (ele.fieldD.length > 0) {\r\n    //                                 ele.fieldD.forEach((item, n) => {\r\n    //                                     if (item.field == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                         var idx = this.getters.getconnectLineNum(ele.uuid + '/field-' + n)\r\n    //                                         item.field = null\r\n    //                                         if (idx != -1) {\r\n    //                                             EventBus.$emit('delete-line', idx)\r\n    //                                             this.commit('deletConnectionline', { startnum: idx })\r\n    //                                         }\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[i].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                         //ServiceInterface 변경 시 =>  FieldGD에서에서 serviceinterface Field ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].IamG.FieldGD.forEach((ele, i) => {\r\n    //                         if (ele.SIField == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                             var idx = this.getters.getconnectLineNum(ele.uuid + '/FGDserviceI')\r\n    //                             ele.SIField = null\r\n    //                             if (idx != -1) {\r\n    //                                 EventBus.$emit('delete-line', idx)\r\n    //                                 this.commit('deletConnectionline', { startnum: idx })\r\n    //                             }\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].children[i].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                             state.navigatorList[state.openProjectIndex].validation = true\r\n    //                         }\r\n    //                     })\r\n    //                 } else if (payload.deleteName == 'eventD') {\r\n    //                     //Service Deployment 변경시 =>  ServiceInterface Deploymant에서에서 serviceinterface Deploymant Event Deployment ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.forEach((ele, i) => {\r\n    //                             if (ele.eventG.length > 0) {\r\n    //                                 ele.eventG.forEach((item, n) => {\r\n    //                                     if (item.event != null) {\r\n    //                                         item.event.forEach((data, d) => {\r\n    //                                             if (data.event == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                                 var idx = this.getters.getconnectLineNum(ele.uuid + '/event-' + d + '-' + n)\r\n    //                                                 data.event = null\r\n    //                                                 if (idx != -1) {\r\n    //                                                     EventBus.$emit('delete-line', idx)\r\n    //                                                     this.commit('deletConnectionline', { startnum: idx })\r\n    //                                                 }\r\n    //                                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[i].validation = true\r\n    //                                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                                                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                             }\r\n    //                                         })\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n    //                         })\r\n    //                         //Service Deployment 변경시 =>  Provided SomeIP Service Instance 에서 Service Deploment의  eventD ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.forEach((ele, i) => {\r\n    //                         if (ele.eventP.length > 0) {\r\n    //                             ele.eventP.forEach((item, n) => {\r\n    //                                 if (item.event == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                     var idx = this.getters.getconnectLineNum(ele.uuid + '/proviedEventP-' + n)\r\n    //                                     item.event = null\r\n    //                                     if (idx != -1) {\r\n    //                                         EventBus.$emit('delete-line', idx)\r\n    //                                         this.commit('deletConnectionline', { startnum: idx })\r\n    //                                     }\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[i].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 } else if (payload.deleteName == 'methodD') {\r\n    //                     //Service Deployment 변경시 =>  Required SomeIP Service Instance 에서 Service Deployment Method Deployment ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.forEach((ele, i) => {\r\n    //                             if (ele.method.length > 0) {\r\n    //                                 ele.method.forEach((item, n) => {\r\n    //                                     if (item.method == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                         var idx = this.getters.getconnectLineNum(ele.uuid + '/requiredMethod-' + n)\r\n    //                                         item.method = null\r\n    //                                         if (idx != -1) {\r\n    //                                             EventBus.$emit('delete-line', idx)\r\n    //                                             this.commit('deletConnectionline', { startnum: idx })\r\n    //                                         }\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children[i].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                         state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                     }\r\n    //                                 })\r\n    //                             }\r\n\r\n    //                         })\r\n    //                         //Service Deployment 변경시 =>  Provided SomeIP Service Instance 에서 Service Deploment의 MethodD ref할때\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.forEach((ele, i) => {\r\n    //                         if (ele.method != null) {\r\n    //                             ele.method.forEach((item, n) => {\r\n    //                                 if (item.method == (payload.path + '/' + payload.name + '/' + deleteList.name)) {\r\n    //                                     var idx = this.getters.getconnectLineNum(ele.uuid + '/proviedMethod-' + n)\r\n    //                                     item.method = null\r\n    //                                     if (idx != -1) {\r\n    //                                         EventBus.$emit('delete-line', idx)\r\n    //                                         this.commit('deletConnectionline', { startnum: idx })\r\n    //                                     }\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[i].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                                 }\r\n    //                             })\r\n    //                         }\r\n    //                     })\r\n    //                 }\r\n    //             })\r\n    //         }\r\n    //     },\r\n    //     deleteRefElement(state, payload) { // 지울 element를  ref하는곳 찾기 => 화살표의 끝\r\n    //         var indices = this.getters.getchangenamelist(payload.uuid)\r\n    //             //console.log('==deleteRefElement==' + indices)\r\n\r\n    //         for (let i = 0; i < indices.length; i++) {\r\n    //             var startUUID = state.connectionLine[state.openProjectIndex].start[indices[i]].split('/')\r\n    //             var tableLine = startUUID[1].split('-')\r\n\r\n    //             if (tableLine[0] == 'ddpccompu') { // implementation 에서 compu method ref할때\r\n    //                 var idxImpleCom = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxImpleCom].ddpc[tableLine[1]].compumethod = ''\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children[idxImpleCom].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.DateType_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'ddpcdata') { // implementation 에서 data constr ref할때\r\n    //                 var idxImpleDa = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxImpleDa].ddpc[tableLine[1]].dataconstr = ''\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children[idxImpleDa].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.DateType_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'typeref') { // implementation 에서 implementation ref할때\r\n    //                 var idxImpletype = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.uuid != startUUID[0]) {\r\n    //                     state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxImpletype].typeref = null\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children[idxImpletype].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'templateType') { // implementation 에서 implementation ref할때\r\n    //                 var idxImpletemp = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.uuid != startUUID[0]) {\r\n    //                     state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxImpletemp].templatetype = null\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children[idxImpletemp].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'idtetable') { // implementation 에서 implementation ref할때\r\n    //                 var idxImpleImple = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.uuid != startUUID[0]) {\r\n    //                     state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxImpleImple].idtelement[tableLine[1]].typeref = ''\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children[idxImpleImple].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.DateType_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'machinedesign') { // machin에서 machinDesign ref할때\r\n    //                 var idxMachineD = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.Machine[idxMachineD].machinedesign = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxMachineD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'hwelement') { // machin에서 HWElement ref할때\r\n    //                 var idxMachineHWE = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.Machine[idxMachineHWE].hwelement[tableLine[1]].hwelement = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxMachineHWE].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'functiontable') { // machin에서 Mode Declaration ref할때\r\n    //                 var idxMachineMD = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.Machine[idxMachineMD].functiongroup[tableLine[1]].type = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxMachineMD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'cctable') { // machinDesign에서 EthernetCluster Endpoint ref할때\r\n    //                 var idxMachineDCC = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxMachineDCC].connector[tableLine[1]].endpoint = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children[idxMachineDCC].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'sdctable') { // machinDesign에서 EthernetCluster Endpoint ref할때\r\n    //                 var idxMachineDSDC = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxMachineDSDC].servicediscover[tableLine[1]].msia = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children[idxMachineDSDC].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'comconet') { // EthernetCluster에서 MachineDesign -> Communication Connector ref할때\r\n    //                 var idxEthernet = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxEthernet].conditional[tableLine[3]].channel[tableLine[2]].comconnect[tableLine[1]].connector = ''\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children[idxEthernet].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'machinefromptmm') { // Process to Machine Mapping set 에서 Machine ref할때\r\n    //                 var idxPTMMMachine = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxPTMMMachine].ptmmMachine = ''\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcesstoMachineMapping_index].children[idxPTMMMachine].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcesstoMachineMapping_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'processfromptmm') { // Process to Machine Mapping set 에서 Process ref할때\r\n    //                 var idxPTMMProcess = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping[idxPTMMProcess].ptmmProcess = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcesstoMachineMapping_index].children[idxPTMMProcess].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcesstoMachineMapping_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'pporttable') { // SW Components 에서 ServiceInterface ref할때\r\n    //                 var idxpport = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxpport].pport[tableLine[1]].interface = ''\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].children[idxpport].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'prporttable') { // SW Components 에서 ServiceInterface ref할때\r\n    //                 var idxprport = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxprport].prport[tableLine[1]].interface = ''\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].children[idxprport].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'rporttable') { // SW Components 에서 ServiceInterface ref할때\r\n    //                 var idxrport = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents[idxrport].rport[tableLine[1]].interface = ''\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].children[idxrport].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'applicationtyperef') { // Executable 에서 SW Components ref할때\r\n    //                 var idxExecutable = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable[idxExecutable].applicationtyperef = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Executable_index].children[idxExecutable].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Executable_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'prodesignexecutable') { // ProcessDesign 에서  Executable ref할때\r\n    //                 var idxProDExecutable = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign[idxProDExecutable].executableref = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcessDesign_index].children[idxProDExecutable].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcessDesign_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'processprodesign') { // Process 에서 Process Design ref할때\r\n    //                 var idxProProDesign = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxProProDesign].prodesign = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxProProDesign].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'processdetermin') { // Process 에서 Deterministric ref할때\r\n    //                 var idxProDetermin = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxProDetermin].determin = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxProDetermin].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'processexecut') { // Process 에서 Executable ref할때\r\n    //                 var idxProExe = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxProExe].execut = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxProExe].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'processmodedeclar') { // Process 에서 Mode Declaration ref할때\r\n    //                 var idxProMod = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxProMod].machinetype = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxProMod].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'processstartup') { // Process 에서 Startup Config ref할때\r\n    //                 var idxProStart = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxProStart].dependent[tableLine[1]].startupConfigRef = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxProStart].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'processresorce') { // Process 에서 Machine -> Module Instantiation ref할때\r\n    //                 var idxProMI = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxProMI].dependent[tableLine[1]].resourceRef = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxProMI].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'fgcontext') { // Process 에서 Machine -> Function Group ref할때\r\n    //                 var idxProMachine = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxProMachine].dependent[tableLine[2]].functionItem[tableLine[1]].contextMode = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxProMachine].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'fgtarget') { // Process 에서  Module Declaration-> mode Declarations ref할때\r\n    //                 var idxProMD = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process[idxProMD].dependent[tableLine[2]].functionItem[tableLine[1]].targetMode = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children[idxProMD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'errordomain') { // Error 에서 Error Domain ref할때\r\n    //                 var idxErrorD = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.Error[idxErrorD].errorDref = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Error_index].children[idxErrorD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Error_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'error') { // Error Set 에서 Error  ref할때\r\n    //                 var idxError = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ErrorSet[idxError].errorref[tableLine[1]].error = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Errorset_index].children[idxError].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Errorset_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'service') { // ServiceInterface Deploymant에서 serviceInterface ref할때\r\n    //                 var idxSIDservice = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxSIDservice].service = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[idxSIDservice].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'event') { // ServiceInterface Deploymant에서에서 serviceinterface Deploymant Event Deployment ref할때\r\n    //                 var idxSIDeventG = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 if (payload.uuid != startUUID[0]) {\r\n    //                     state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxSIDeventG].eventG[tableLine[2]].event[tableLine[1]].event = null\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[idxSIDeventG].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                     state.navigatorList[state.openProjectIndex].validation = true\r\n    //                 }\r\n    //             } else if (tableLine[0] == 'serviceEventD') { // ServiceInterface Deploymant에서에서 serviceinterface Event ref할때\r\n    //                 var idxSIDeventD = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxSIDeventD].eventD[tableLine[1]].event = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[idxSIDeventD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'serviceMethodD') { // ServiceInterface Deploymant에서에서 serviceinterface Method ref할때\r\n    //                 var idxSIDMethodD = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxSIDMethodD].methodD[tableLine[1]].method = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[idxSIDMethodD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'field') { // ServiceInterface Deploymant에서에서 serviceinterface Field ref할때\r\n    //                 var idxSIDFieldD = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment[idxSIDFieldD].fieldD[tableLine[1]].field = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children[idxSIDFieldD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'Eventtable') { // ServiceInterface 에서 Implementation ref할때\r\n    //                 var idxSIevent = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxSIevent].events[tableLine[1]].type = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children[idxSIevent].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'Fieldtable') { // ServiceInterface 에서 Implementation ref할때\r\n    //                 var idxSIfield = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxSIfield].fields[tableLine[1]].type = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children[idxSIfield].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'argtable') { // ServiceInterface 에서 Implementation ref할때\r\n    //                 var idxSIImp = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxSIImp].methods[tableLine[2]].argument[tableLine[1]].type = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children[idxSIImp].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'methoderrors') { // ServiceInterface 에서 Error ref할때\r\n    //                 var idxSIError = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxSIError].methods[tableLine[2]].errorSet[tableLine[1]].error = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children[idxSIError].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'methoderror') { // ServiceInterface 에서 ErrorSet ref할때\r\n    //                 var idxSIErrorS = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxSIErrorS].methods[tableLine[2]].error[tableLine[1]].error = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children[idxSIErrorS].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'tomachinCC') { // SomeIPtoMachineMapping 에서 MachineDesgin의 Communication Connected ref할때\r\n    //                 var idxSIMMCC = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxSIMMCC].ccref = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].children[idxSIMMCC].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'tomachinServiceIns') { // SomeIPtoMachineMapping 에서 Required SomeIP ref할때\r\n    //                 var idxSIRequired = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine[idxSIRequired].siref = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].children[idxSIRequired].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'toportport') { // Service Instance to port prototype 에서 SWComponent port ref할때\r\n    //                 var idxtoportport = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxtoportport].selectPort = null\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxtoportport].porttype = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].children[idxtoportport].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'toportprocess') { // Service Instance to port prototype 에서 process design ref할때\r\n    //                 var idxtoportproess = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxtoportproess].process = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].children[idxtoportproess].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'toportservice') { // Service Instance to port prototype 에서 provided,required ref할때\r\n    //                 var idxtoportservice = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxtoportservice].selectServiceIns = null\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype[idxtoportservice].serviceIns = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].children[idxtoportservice].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'requiredDeploy') { // Required SomeIP Service Instance 에서 Service Deployment ref할때\r\n    //                 var idxRequiredD = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxRequiredD].deployref = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children[idxRequiredD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'requiredSomeIPC') { // Required SomeIP Service Instance 에서 SomeIP Client ref할때\r\n    //                 var idxRequiredS = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxRequiredS].someipclient = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children[idxRequiredS].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'requiredMethod') { // Required SomeIP Service Instance 에서 Service Deployment Method Deployment ref할때\r\n    //                 var idxRequiredM = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxRequiredM].method[tableLine[1]].method = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children[idxRequiredM].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'requiredEventG') { // Required SomeIP Service Instance 에서 Service Deployment Event Group ref할때\r\n    //                 var idxRequiredE = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxRequiredE].requiredevent[tableLine[1]].eventG = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children[idxRequiredE].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'requiredClient') { // Required SomeIP Service Instance 에서 Client event ref할때\r\n    //                 var idxRequiredC = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP[idxRequiredC].requiredevent[tableLine[1]].client = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children[idxRequiredC].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'providDeploy') { // Provided SomeIP Service Instance 에서 Service Deployment ref할때\r\n    //                 var idxProvidD = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxProvidD].deployref = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[idxProvidD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'providSomeIPS') { // Provided SomeIP Service Instance 에서 SomIP Server ref할때\r\n    //                 var idxProvidSS = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxProvidSS].someipserver = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[idxProvidSS].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'proviedEventP') { // Provided SomeIP Service Instance 에서 Service Deploment의  eventD ref할때\r\n    //                 var idxProvidEP = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxProvidEP].eventP[tableLine[1]].event = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[idxProvidEP].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'proviedMethod') { // Provided SomeIP Service Instance 에서 Service Deploment의 MethodD ref할때\r\n    //                 var idxProvidM = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxProvidM].method[tableLine[1]].method = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[idxProvidM].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'providEventG') { // Provided SomeIP Service Instance 에서 Service Deploment의 eventG ref할때\r\n    //                 var idxProvidEG = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxProvidEG].eventG[tableLine[1]].eventG = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[idxProvidEG].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'providServer') { // Provided SomeIP Service Instance 에서 Server ref할때\r\n    //                 var idxProvidS = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP[idxProvidS].eventG[tableLine[1]].server = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children[idxProvidS].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             }\r\n    //             /////////\r\n    //             else if (tableLine[0] == 'PPPtoFileArray') { // PPP to File Array에서 PERSISTENCY-FILE-ARRAY ref할때\r\n    //                 var idxPPPtoFileArray = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxPPPtoFileArray].fileArray = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].children[idxPPPtoFileArray].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'PPPtoFilePRPort') { // PPP to File Array에서 PR port ref할때\r\n    //                 var idxPPPtoFilePort = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxPPPtoFilePort].port = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].children[idxPPPtoFilePort].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'PPPtoFileProcess') { // PPP to File Array에서 Process ref할때\r\n    //                 var idxPPPtoFileProce = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray[idxPPPtoFileProce].process = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].children[idxPPPtoFileProce].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'PPPtoKeyValue') { // PPP to Key Value에서 PERSISTENCY-FILE-ARRAY ref할때\r\n    //                 var idxPPPtoKeyValue = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxPPPtoKeyValue].keyValue = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].children[idxPPPtoKeyValue].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'PPPtoKeyPRPort') { // PPP to Key Value에서 PR port ref할때\r\n    //                 var idxPPPtoKeyPort = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxPPPtoKeyPort].port = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].children[idxPPPtoKeyPort].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'PPPtoKeyProcess') { // PPP to Key Value에서 Process ref할때\r\n    //                 var idxPPPtoKeyProce = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue[idxPPPtoKeyProce].process = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].children[idxPPPtoKeyProce].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'FGDproD') { // Field Grant Design에서 Process Design ref할때\r\n    //                 var idxFGDPro = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxFGDPro].processD = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].children[idxFGDPro].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'EGDproD') { // Event Grant Design에서 Process Design ref할때\r\n    //                 var idxEGDPro = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxEGDPro].processD = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].children[idxEGDPro].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'MGDproD') { // Method Grant Design에서 Process Design ref할때\r\n    //                 var idxMGDPro = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxMGDPro].processD = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].children[idxMGDPro].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'FGDserviceI') { // Field Grant Design에서 Service Interface Field ref할때\r\n    //                 var idxFGDSI = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.FieldGD[idxFGDSI].SIField = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].children[idxFGDSI].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'EGDserviceI') { // Event Grant Design에서 Service Interface Event ref할때\r\n    //                 var idxEGDSI = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.EventGD[idxEGDSI].SIEvent = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].children[idxEGDSI].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'MGDserviceI') { // Method Grant Design에서 Service Interface Method ref할때\r\n    //                 var idxMGDSI = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.MethodGD[idxMGDSI].SIMethod = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].children[idxMGDSI].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'FieldGD') { // Field Grant 에서 Field Grant Design ref할때\r\n    //                 var idxFGD = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxFGD].fieldD = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGrant_index].children[idxFGD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGrant_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'EventGD') { // Event Grant 에서 Event Grant Design ref할때\r\n    //                 var idxEGD = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.EventG[idxEGD].eventD = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGrant_index].children[idxEGD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGrant_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'MethodGD') { // Method Grant 에서 Method Grant Design ref할때\r\n    //                 var idxMGD = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxMGD].methodD = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGrant_index].children[idxMGD].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGrant_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'FGProvide') { // Field Grant 에서 Provide SomeIP ref할때\r\n    //                 var idxFGProvide = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.FieldG[idxFGProvide].provide = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGrant_index].children[idxFGProvide].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGrant_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'EGProvide') { // Event Grant 에서 Provide SomeIP ref할때\r\n    //                 var idxEGProvide = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.EventG[idxEGProvide].provide = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGrant_index].children[idxEGProvide].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGrant_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             } else if (tableLine[0] == 'MGProvide') { // Method Grant 에서 Provide SomeIP ref할때\r\n    //                 var idxMGProvide = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(data => data.uuid === startUUID[0])\r\n    //                 state.SAHLProject[state.openProjectIndex].IamG.MethodG[idxMGProvide].provide = null\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGrant_index].children[idxMGProvide].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGrant_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].children[constant.Platform_index].validation = true\r\n    //                 state.navigatorList[state.openProjectIndex].validation = true\r\n    //             }\r\n    //         }\r\n\r\n    //         for (let n = indices.length; n >= 0; n--) {\r\n    //             if (indices[n] != undefined) {\r\n    //                 state.connectionLine[state.openProjectIndex].start.splice(indices[n], 1)\r\n    //                 state.connectionLine[state.openProjectIndex].end.splice(indices[n], 1)\r\n    //                 EventBus.$emit('delete-line', indices[n])\r\n    //             }\r\n    //         }\r\n    //     },\r\n    //     deleteElementLine(state, payload) { //지우는 element에서 line 나가는것 지우기 ==> 화살표의 시작\r\n    //         var endLine = []\r\n    //             //console.log('deleteE ' + endLine)\r\n    //         state.connectionLine[state.openProjectIndex].start.forEach(item => {\r\n    //             var startUUID = item.split('/')\r\n    //             if (startUUID[0] == payload.uuid) {\r\n    //                 endLine.push(this.getters.getconnectLineNum(item))\r\n    //             }\r\n    //         })\r\n\r\n    //         for (let n = endLine.length; n >= 0; n--) {\r\n    //             if (endLine[n] != undefined) {\r\n    //                 state.connectionLine[state.openProjectIndex].start.splice(endLine[n], 1)\r\n    //                 state.connectionLine[state.openProjectIndex].end.splice(endLine[n], 1)\r\n    //                 EventBus.$emit('delete-line', endLine[n])\r\n    //             }\r\n    //         }\r\n    //     },\r\n\r\n    //     deleteElement(state, payload) {\r\n    //         var idxElement\r\n    //             //console.log('deleteElement' + payload.parent)\r\n    //         if (payload.parent == constant.CompuMethod_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.CompuMethod_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.DataConstr_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.DataConstr_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ApplicationArray_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.ApplicationArray_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.Implementation_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.Machine_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.Machine.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.MachineDesigne_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.EthernetCluster_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ModeDeclarationGroup_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.ModeDeclarationGroup_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.HWElement_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Machine.HWElement.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ProcesstoMachineMapping_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcesstoMachineMapping_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.SWComponents_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.SWComponents_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.Process_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Process_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ProcessDesign_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.ProcessDesign_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.Executable_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.Executable_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.StartupConfig_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.StartupConfig_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.DeterministicClient_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.AdaptiveApplication_index].children[constant.DeterministicClient_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.SomeIPServiceInterfaceDeployment_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.SomeIPServiceInterfaceDeployment_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ServiceInterface_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.Client_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.SomeIPEvents_index].children[constant.Client_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.Server_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.SomeIPEvents_index].children[constant.Server_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.SomeIPClient_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPClient_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.SomeIPServer_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPServer_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.SomeIPToMachineMapping_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.SomeIPToMachineMapping_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ToPortPrototypeMapping_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ToPortPrototypeMapping_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.RequiredSomeIP_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.RequiredSomeIP_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ProvidedSomeIP_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInstances_index].children[constant.ProvidedSomeIP_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.Error_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.Error.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Error_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.Errorset_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ErrorSet.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.Errorset_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ErrorDomain_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.Errors_index].children[constant.ErrorDomain_index].children.splice(idxElement, 1)\r\n    //         }\r\n    //         //////////////\r\n    //         else if (payload.parent == constant.FileArray_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERFileArray.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERFileArray.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.FileArray_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.FileProxyInterf_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERFileProxy.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERFileProxy.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.FileProxyInterf_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.KeyValueData_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.KeyValueData_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.KeyValueDI_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.KeyValueDI_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.PortProtoFileA_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoFileA_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.PortProtoKeyV_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.PER_index].children[constant.PortProtoKeyV_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ComFieldGrant_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.FieldG.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGrant_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ComEventGrant_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.EventG.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGrant_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ComMethodGrant_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.MethodG.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGrant_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ComFieldGDesign_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.FieldGD.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComFieldGDesign_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ComEventGDesign_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.EventGD.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComEventGDesign_index].children.splice(idxElement, 1)\r\n    //         } else if (payload.parent == constant.ComMethodGDesign_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(data => data.uuid === payload.uuid)\r\n    //             state.SAHLProject[state.openProjectIndex].IamG.MethodGD.splice(idxElement, 1)\r\n    //             state.navigatorList[state.openProjectIndex].children[constant.Platform_index].children[constant.IAM_index].children[constant.ComMethodGDesign_index].children.splice(idxElement, 1)\r\n    //         }\r\n    //         state.detailViewerList.forEach((data, i) => {\r\n    //             if (data.uuid == payload.uuid) {\r\n    //                 state.detailViewerList.splice(i, 1)\r\n    //             }\r\n    //         })\r\n    //         if (state.detailViewer.uuid == payload.uuid) {\r\n    //             state.detailViewer = { uuid: '', element: '' }\r\n    //             state.detailViewUUID = null\r\n    //         }\r\n    //         state.idexDetailView = state.detailViewerList.length - 1\r\n    //         state.activeUUID = null\r\n    //     },\r\n    //     setValidation(state, payload) {\r\n    //         var idxElement = null,\r\n    //             isValidation = false,\r\n    //             idxchild = null,\r\n    //             idxchildchild = null,\r\n    //             idxService = null,\r\n    //             idxParent = null\r\n    //         if (payload.parent == constant.CompuMethod_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.DateType_index\r\n    //             idxchildchild = constant.CompuMethod_index\r\n    //         } else if (payload.parent == constant.DataConstr_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.DateType_index\r\n    //             idxchildchild = constant.DataConstr_index\r\n    //         } else if (payload.parent == constant.ApplicationArray_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.DateType_index\r\n    //             idxchildchild = constant.ApplicationArray_index\r\n    //         } else if (payload.parent == constant.Implementation_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.DateType_index\r\n    //             idxchildchild = constant.Implementation_index\r\n    //         } else if (payload.parent == constant.Machine_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.Machine_index\r\n    //         } else if (payload.parent == constant.MachineDesigne_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.MachineDesigne_index\r\n    //         } else if (payload.parent == constant.EthernetCluster_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.EthernetCluster_index\r\n    //         } else if (payload.parent == constant.ModeDeclarationGroup_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.ModeDeclarationGroup_index\r\n    //         } else if (payload.parent == constant.HWElement_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.Machines_index\r\n    //             idxchildchild = constant.HWElement_index\r\n    //         } else if (payload.parent == constant.ProcesstoMachineMapping_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProtoMachineMapping.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.ProcesstoMachineMapping_index\r\n    //         } else if (payload.parent == constant.SWComponents_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.SWComponents.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.SWComponents_index\r\n    //         } else if (payload.parent == constant.Process_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Process.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.Process_index\r\n    //         } else if (payload.parent == constant.ProcessDesign_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.ProcessDesign.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.ProcessDesign_index\r\n    //         } else if (payload.parent == constant.Executable_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.Executable.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.Executable_index\r\n    //         } else if (payload.parent == constant.StartupConfig_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.StartupConfig.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.StartupConfig_index\r\n    //         } else if (payload.parent == constant.DeterministicClient_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].AdaptiveApplication.DeterministicClient.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchild = constant.AdaptiveApplication_index\r\n    //             idxchildchild = constant.DeterministicClient_index\r\n    //         } else if (payload.parent == constant.SomeIPServiceInterfaceDeployment_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInterfaceDeployment.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.SomeIPServiceInterfaceDeployment_index\r\n    //             idxService = constant.ServiceInterfaces_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.ServiceInterface_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ServiceInterface_index\r\n    //             idxService = constant.ServiceInterfaces_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.Client_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientEvent.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.Client_index\r\n    //             idxService = constant.SomeIPEvents_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.Server_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerEvent.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.Server_index\r\n    //             idxService = constant.SomeIPEvents_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.SomeIPClient_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPClientServiceInstance.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.SomeIPClient_index\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.SomeIPServer_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServerServiceInstance.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.SomeIPServer_index\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.SomeIPToMachineMapping_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.SomeIPServiceInstanceToMachine.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.SomeIPToMachineMapping_index\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.ToPortPrototypeMapping_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInstanceToPortPrototype.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ToPortPrototypeMapping_index\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.RequiredSomeIP_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.RequiredSomeIP.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.RequiredSomeIP_index\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.ProvidedSomeIP_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ProvidedSomeIP.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ProvidedSomeIP_index\r\n    //             idxService = constant.ServiceInstances_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.Error_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.Error.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.Error_index\r\n    //             idxService = constant.Errors_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.Errorset_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ErrorSet.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.Errorset_index\r\n    //             idxService = constant.Errors_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.ErrorDomain_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Service.ErrorDomain.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ErrorDomain_index\r\n    //             idxService = constant.Errors_index\r\n    //             idxParent = constant.Service_index\r\n    //         } else if (payload.parent == constant.FileArray_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERFileArray.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.FileArray_index\r\n    //             idxService = constant.PER_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.FileProxyInterf_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERFileProxy.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.FileProxyInterf_index\r\n    //             idxService = constant.PER_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.KeyValueData_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueD.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.KeyValueData_index\r\n    //             idxService = constant.PER_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.KeyValueDI_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERKeyValueDI.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.KeyValueDI_index\r\n    //             idxService = constant.PER_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.PortProtoFileA_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoFileArray.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.PortProtoFileA_index\r\n    //             idxService = constant.PER_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.PortProtoKeyV_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].Per.PERPPtoKeyValue.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.PortProtoKeyV_index\r\n    //             idxService = constant.PER_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.ComFieldGrant_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldG.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ComFieldGrant_index\r\n    //             idxService = constant.IAM_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.ComEventGrant_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventG.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ComEventGrant_index\r\n    //             idxService = constant.IAM_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.ComMethodGrant_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodG.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ComMethodGrant_index\r\n    //             idxService = constant.IAM_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.ComFieldGDesign_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.FieldGD.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ComFieldGDesign_index\r\n    //             idxService = constant.IAM_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.ComEventGDesign_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.EventGD.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ComEventGDesign_index\r\n    //             idxService = constant.IAM_index\r\n    //             idxParent = constant.Platform_index\r\n    //         } else if (payload.parent == constant.ComMethodGDesign_str) {\r\n    //             idxElement = state.SAHLProject[state.openProjectIndex].IamG.MethodGD.findIndex(data => data.uuid === payload.uuid)\r\n    //             idxchildchild = constant.ComMethodGDesign_index\r\n    //             idxService = constant.IAM_index\r\n    //             idxParent = constant.Platform_index\r\n    //         }\r\n\r\n    //         if (idxService == null) {\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].children[idxchildchild].children[idxElement].validation = false\r\n    //             state.navigatorList[state.openProjectIndex].children[idxchild].children[idxchildchild].children.forEach(item => {\r\n    //                 if (item.validation == true) {\r\n    //                     isValidation = true\r\n    //                 }\r\n    //             })\r\n    //             if (!isValidation) {\r\n    //                 state.navigatorList[state.openProjectIndex].children[idxchild].children[idxchildchild].validation = false\r\n    //                 state.navigatorList[state.openProjectIndex].children[idxchild].children.forEach(child => {\r\n    //                     if (child.validation == true) {\r\n    //                         isValidation = true\r\n    //                     }\r\n    //                 })\r\n    //                 if (!isValidation) {\r\n    //                     state.navigatorList[state.openProjectIndex].children[idxchild].validation = false\r\n    //                     state.navigatorList[state.openProjectIndex].children.forEach(childchild => {\r\n    //                         if (childchild.validation == true) {\r\n    //                             isValidation = true\r\n    //                         }\r\n    //                     })\r\n    //                     if (!isValidation) {\r\n    //                         state.navigatorList[state.openProjectIndex].validation = false\r\n    //                     }\r\n    //                 }\r\n    //             }\r\n    //         } else {\r\n    //             state.navigatorList[state.openProjectIndex].children[idxParent].children[idxService].children[idxchildchild].children[idxElement].validation = false\r\n    //             state.navigatorList[state.openProjectIndex].children[idxParent].children[idxService].children[idxchildchild].children.forEach(item => {\r\n    //                 if (item.validation == true) {\r\n    //                     isValidation = true\r\n    //                 }\r\n    //             })\r\n    //             if (!isValidation) {\r\n    //                 state.navigatorList[state.openProjectIndex].children[idxParent].children[idxService].children[idxchildchild].validation = false\r\n    //                 state.navigatorList[state.openProjectIndex].children[idxParent].children[idxService].children.forEach(item => {\r\n    //                     if (item.validation == true) {\r\n    //                         isValidation = true\r\n    //                     }\r\n    //                 })\r\n    //                 if (!isValidation) {\r\n    //                     state.navigatorList[state.openProjectIndex].children[idxParent].children[idxService].validation = false\r\n    //                     state.navigatorList[state.openProjectIndex].children[idxParent].children.forEach(child => {\r\n    //                         if (child.validation == true) {\r\n    //                             isValidation = true\r\n    //                         }\r\n    //                     })\r\n    //                     if (!isValidation) {\r\n    //                         state.navigatorList[state.openProjectIndex].children[idxParent].validation = false\r\n    //                         state.navigatorList[state.openProjectIndex].children.forEach(childchild => {\r\n    //                             if (childchild.validation == true) {\r\n    //                                 isValidation = true\r\n    //                             }\r\n    //                         })\r\n    //                         if (!isValidation) {\r\n    //                             state.navigatorList[state.openProjectIndex].validation = false\r\n    //                         }\r\n    //                     }\r\n    //                 }\r\n    //             }\r\n    //         }\r\n    //     },\r\n    //     saveElement(state, payload) {\r\n    //         var FileSaver = require('file-saver');\r\n    //         //var blob = new Blob([JSON.stringify(this.getters.getSaveObject(payload.list))], { type: \"text/plain;charset=utf-8\" });\r\n    //         var s = new XMLSerializer(); //DOM 트리를 직렬화하여 XML을 포함하는 문자열로 변환합니다.\r\n    //         var saveList = this.getters.sortSaveList(payload.list)\r\n    //         var d = this.getters.getSaveObject(saveList);\r\n    //         var str = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n' //getSaveObject에 넣으면 개행이 안된다!!!!\r\n    //         str += s.serializeToString(d); //문서의 DOM 트리를 XML로 다시 직렬화할 수 있습니다.\r\n    //         var blob = new Blob([str], { type: \"text/xml\" });\r\n    //         try { FileSaver.saveAs(blob, payload.saveName); } catch (e) { alert('Failed to save the file !'); }\r\n    //     },\r\n    //     saveList(state, payload) {\r\n    //         var FileSaver = require('file-saver');\r\n    //         var blob = new Blob([JSON.stringify(payload.list)], { type: \"text/plain;charset=utf-8\" });\r\n    //         try { FileSaver.saveAs(blob, payload.saveName); } catch (e) { alert('Failed to save the file !'); }\r\n    //     },\r\n\r\n    //     uploadFileprocess(state, payload) {\r\n    //         var parser, xmlDoc\r\n    //         console.log(payload.fileInfo)\r\n    //         parser = new DOMParser()\r\n    //         xmlDoc = parser.parseFromString(payload.fileInfo, \"text/xml\")\r\n    //         this.commit('saveInputfile', { xmlDoc: xmlDoc })\r\n    //         Vue.nextTick(() => { //mainview에만 넣으니 tab이 늦게 그려져서 선이 안그려짐\r\n    //             state.isInputFileComplate = true\r\n    //         })\r\n    //     },\r\n    //     initialiseStore(state) {\r\n    //         // if (localStorage.getItem(\"SAHLProject\")) {\r\n    //         //     //console.log(\"loading SAHLProject\");\r\n    //         //     state.SAHLProject = JSON.parse(localStorage.getItem(\"SAHLProject\"))\r\n    //         // }\r\n    //         // if (localStorage.getItem(\"navigatorList\")) {\r\n    //         //     //console.log(\"loading navigatorList\");\r\n    //         //     state.navigatorList = JSON.parse(localStorage.getItem(\"navigatorList\"))\r\n    //         // }\r\n    //         if (localStorage.getItem(\"setting\")) {\r\n    //             //console.log(\"loading setting\");\r\n    //             state.setting = JSON.parse(localStorage.getItem(\"setting\"))\r\n    //         }\r\n    //         if (localStorage.getItem(\"savePath\")) {\r\n    //             //console.log(\"loading savePath\");\r\n    //             state.strSavePath = JSON.parse(localStorage.getItem(\"savePath\"))\r\n    //         }\r\n    //         if (localStorage.getItem(\"visibleDetailView\")) {\r\n    //             //console.log(\"loading visibleDetailView\");\r\n    //             state.visibleDetailView = JSON.parse(localStorage.getItem(\"visibleDetailView\"))\r\n    //         }\r\n    //     }\r\n    // },\r\n    actions: {}\r\n});"]}]}