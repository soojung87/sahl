{"remainingRequest":"D:\\source\\service\\node_modules\\babel-loader\\lib\\index.js!D:\\source\\service\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\source\\service\\src\\store\\index.js","dependencies":[{"path":"D:\\source\\service\\src\\store\\index.js","mtime":1638516701084},{"path":"D:\\source\\service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\source\\service\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\source\\service\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZsYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdXVpZCB9IGZyb20gInZ1ZS11dWlkIjsKaW1wb3J0IGNvbnN0YW50IGZyb20gIi4vY29uc3RhbnRzLmpzIjsKaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vbWFpbi5qcyI7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgb3BlblByb2plY3RJbmRleDogMCwKICAgIG5hdmlnYXRvckxpc3Q6IFtdLAogICAgU0FITFByb2plY3Q6IFtdLAogICAgYWN0aXZlVVVJRDogbnVsbCwKICAgIGRldGFpbFZpZXdVVUlEOiBudWxsLAogICAgY29ubmVjdGlvbkxpbmU6IFtdLAogICAgaXNtYWtlUHJvamVjdDogZmFsc2UsCiAgICBkZXRhaWxWaWV3ZXJMaXN0OiBbXSwKICAgIC8vIHByb2plY3TqsIAg67CU64CU65WMIOuniOuLpCByZXNldO2VtOyVvO2VnOuLpC4KICAgIGlkZXhEZXRhaWxWaWV3OiB1bmRlZmluZWQsCiAgICBkZXRhaWxWaWV3ZXI6IHsKICAgICAgdXVpZDogJycsCiAgICAgIGVsZW1lbnQ6ICcnCiAgICB9LAogICAgc2V0dGluZzogewogICAgICB6b29tTWFpbjogMCwKICAgICAgem9vbURldGFpbDogMAogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgcHJvamVjdENvdW50OiBmdW5jdGlvbiBwcm9qZWN0Q291bnQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLlNBSExQcm9qZWN0Lmxlbmd0aDsKICAgIH0sCiAgICBnZXRJbXBsZW1lbnRhdGlvbkRhdGFUeXBlOiBmdW5jdGlvbiBnZXRJbXBsZW1lbnRhdGlvbkRhdGFUeXBlKHN0YXRlKSB7CiAgICAgIHZhciBkYXRhdHlwZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgdmFyIHJldHVybk9iaiA9IHt9OwogICAgICAgIHJldHVybk9ialsnbmFtZSddID0gZWxlLm5hbWU7CiAgICAgICAgcmV0dXJuT2JqWyd1dWlkJ10gPSBlbGUudXVpZDsKICAgICAgICByZXR1cm4gcmV0dXJuT2JqOwogICAgICB9KTsKICAgICAgcmV0dXJuIGRhdGF0eXBlOwogICAgfSwKICAgIGdldENvbXB1TWV0aG9kOiBmdW5jdGlvbiBnZXRDb21wdU1ldGhvZChzdGF0ZSkgewogICAgICB2YXIgZGF0YXR5cGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QubWFwKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICB2YXIgcmV0dXJuT2JqID0ge307CiAgICAgICAgcmV0dXJuT2JqWyduYW1lJ10gPSBlbGUubmFtZTsKICAgICAgICByZXR1cm5PYmpbJ3V1aWQnXSA9IGVsZS51dWlkOwogICAgICAgIHJldHVybiByZXR1cm5PYmo7CiAgICAgIH0pOwogICAgICByZXR1cm4gZGF0YXR5cGU7CiAgICB9LAogICAgZ2V0RGF0YUNvbnN0cjogZnVuY3Rpb24gZ2V0RGF0YUNvbnN0cihzdGF0ZSkgewogICAgICB2YXIgZGF0YXR5cGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0ci5tYXAoZnVuY3Rpb24gKGVsZSkgewogICAgICAgIHZhciByZXR1cm5PYmogPSB7fTsKICAgICAgICByZXR1cm5PYmpbJ25hbWUnXSA9IGVsZS5uYW1lOwogICAgICAgIHJldHVybk9ialsndXVpZCddID0gZWxlLnV1aWQ7CiAgICAgICAgcmV0dXJuIHJldHVybk9iajsKICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhdHlwZTsKICAgIH0sCiAgICBnZXRNYWNoaW5lRGVzaWduOiBmdW5jdGlvbiBnZXRNYWNoaW5lRGVzaWduKHN0YXRlKSB7CiAgICAgIHZhciBkYXRhdHlwZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbi5tYXAoZnVuY3Rpb24gKGVsZSkgewogICAgICAgIHZhciByZXR1cm5PYmogPSB7fTsKICAgICAgICByZXR1cm5PYmpbJ25hbWUnXSA9IGVsZS5uYW1lOwogICAgICAgIHJldHVybk9ialsndXVpZCddID0gZWxlLnV1aWQ7CiAgICAgICAgcmV0dXJuIHJldHVybk9iajsKICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhdHlwZTsKICAgIH0sCiAgICBnZXRIV0VsZW1lbnQ6IGZ1bmN0aW9uIGdldEhXRWxlbWVudChzdGF0ZSkgewogICAgICB2YXIgZGF0YXR5cGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudC5tYXAoZnVuY3Rpb24gKGVsZSkgewogICAgICAgIHZhciByZXR1cm5PYmogPSB7fTsKICAgICAgICByZXR1cm5PYmpbJ25hbWUnXSA9IGVsZS5uYW1lOwogICAgICAgIHJldHVybk9ialsndXVpZCddID0gZWxlLnV1aWQ7CiAgICAgICAgcmV0dXJuIHJldHVybk9iajsKICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhdHlwZTsKICAgIH0sCiAgICBnZXRNb2RlRGVjbGFyYXRpb246IGZ1bmN0aW9uIGdldE1vZGVEZWNsYXJhdGlvbihzdGF0ZSkgewogICAgICB2YXIgZGF0YXR5cGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwLm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgdmFyIHJldHVybk9iaiA9IHt9OwogICAgICAgIHJldHVybk9ialsnbmFtZSddID0gZWxlLm5hbWU7CiAgICAgICAgcmV0dXJuT2JqWyd1dWlkJ10gPSBlbGUudXVpZDsKICAgICAgICByZXR1cm4gcmV0dXJuT2JqOwogICAgICB9KTsKICAgICAgcmV0dXJuIGRhdGF0eXBlOwogICAgfSwKICAgIGdldEhXQ2F0ZWdvcnk6IGZ1bmN0aW9uIGdldEhXQ2F0ZWdvcnkoc3RhdGUpIHsKICAgICAgdmFyIGRhdGF0eXBlID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0NhdGVnb3R5Lm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgdmFyIHJldHVybk9iaiA9IHt9OwogICAgICAgIHJldHVybk9ialsnbmFtZSddID0gZWxlLm5hbWU7CiAgICAgICAgcmV0dXJuT2JqWyd1dWlkJ10gPSBlbGUudXVpZDsKICAgICAgICByZXR1cm4gcmV0dXJuT2JqOwogICAgICB9KTsKICAgICAgcmV0dXJuIGRhdGF0eXBlOwogICAgfSwKICAgIGdldEhXQXR0cmlidXRlOiBmdW5jdGlvbiBnZXRIV0F0dHJpYnV0ZShzdGF0ZSkgewogICAgICB2YXIgZGF0YXR5cGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXQ2F0ZWdvdHkubWFwKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICB2YXIgcmV0dXJuT2JqID0ge307CiAgICAgICAgcmV0dXJuT2JqWyduYW1lJ10gPSBlbGUubmFtZTsKICAgICAgICByZXR1cm5PYmpbJ3V1aWQnXSA9IGVsZS51dWlkOwogICAgICAgIHJldHVybiByZXR1cm5PYmo7CiAgICAgIH0pOwogICAgICByZXR1cm4gZGF0YXR5cGU7CiAgICB9LAogICAgZ2V0TmV0d29ya0VuZFBvaW50OiBmdW5jdGlvbiBnZXROZXR3b3JrRW5kUG9pbnQoc3RhdGUpIHsKICAgICAgdmFyIGRhdGF0eXBlID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpXS5jb25kaXRpb25hbC5sZW5ndGg7IG4rKykgewogICAgICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpXS5jb25kaXRpb25hbFtuXS5jaGFubmVsLmxlbmd0aDsgdisrKSB7CiAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaV0uY29uZGl0aW9uYWxbbl0uY2hhbm5lbFt2XS5lbmRwb2ludC5sZW5ndGg7IGMrKykgewogICAgICAgICAgICAgIHZhciBlY25hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpXS5uYW1lOwogICAgICAgICAgICAgIHZhciBjb25kaW5hbWUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpXS5jb25kaXRpb25hbFtuXS5uYW1lOwogICAgICAgICAgICAgIHZhciBjaGFubmVsbmFtZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2ldLmNvbmRpdGlvbmFsW25dLmNoYW5uZWxbdl0ubmFtZTsKICAgICAgICAgICAgICB2YXIgbmFtZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2ldLmNvbmRpdGlvbmFsW25dLmNoYW5uZWxbdl0uZW5kcG9pbnRbY10ubmFtZTsKICAgICAgICAgICAgICBkYXRhdHlwZS5wdXNoKHsKICAgICAgICAgICAgICAgIHV1aWQ6IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2ldLnV1aWQsCiAgICAgICAgICAgICAgICBldGhlcm5ldG5hbWU6IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2ldLm5hbWUsCiAgICAgICAgICAgICAgICBjb25kaWR4OiBuLAogICAgICAgICAgICAgICAgY2hhbm5lbGlkeDogdiwKICAgICAgICAgICAgICAgIGVuZHBvaW5laWR4OiBjLAogICAgICAgICAgICAgICAgZnVsbG5hbWU6IGVjbmFtZSArICcvJyArIGNvbmRpbmFtZSArICcvJyArIGNoYW5uZWxuYW1lICsgJy8nICsgbmFtZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZGF0YXR5cGU7CiAgICB9LAogICAgZ2V0Q29tbXVuaWNhdGlvbkNvbm5lY3RvcjogZnVuY3Rpb24gZ2V0Q29tbXVuaWNhdGlvbkNvbm5lY3RvcihzdGF0ZSkgewogICAgICB2YXIgZGF0YXR5cGUgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ25baV0uY29ubmVjdG9yLmxlbmd0aDsgbisrKSB7CiAgICAgICAgICBkYXRhdHlwZS5wdXNoKHsKICAgICAgICAgICAgbmFtZTogc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2ldLmNvbm5lY3RvcltuXS5uYW1lLAogICAgICAgICAgICBtdHU6IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbltpXS5jb25uZWN0b3Jbbl0ubXR1LAogICAgICAgICAgICBtdHVlbmFibGU6IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbltpXS5jb25uZWN0b3Jbbl0ubm10dWVuYWJsZW1lLAogICAgICAgICAgICB1bmU6IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbltpXS5jb25uZWN0b3Jbbl0udW5lLAogICAgICAgICAgICBlbmRwb2ludDogc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2ldLmNvbm5lY3RvcltuXS5lbmRwb2ludCwKICAgICAgICAgICAgdXVpZDogc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2ldLnV1aWQsCiAgICAgICAgICAgIG1kbmFtZTogc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2ldLm5hbWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGRhdGF0eXBlOwogICAgfSwKICAgIGdldHRyZWV2aWV3aXRlbXM6IGZ1bmN0aW9uIGdldHRyZWV2aWV3aXRlbXMoc3RhdGUpIHsKICAgICAgdmFyIHJlcGxhY2VDaGlsZHJlbiA9IGZ1bmN0aW9uIHJlcGxhY2VDaGlsZHJlbihvYmosIHBhcmVudCkgewogICAgICAgIHZhciBjbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIG9iaik7CiAgICAgICAgZGVsZXRlIGNsb25lLmNoaWxkcmVuOwogICAgICAgIGlmIChwYXJlbnQpIGNsb25lLnBhcmVudCA9IHBhcmVudDsKICAgICAgICByZXR1cm4gY2xvbmU7CiAgICAgIH07CgogICAgICB2YXIgYWRkSXRlbXMgPSBmdW5jdGlvbiBhZGRJdGVtcyhhcnIsIHBhcmVudCkgewogICAgICAgIHZhciBpdGVtcyA9IGFyci5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkgewogICAgICAgICAgYWNjLnB1c2gocmVwbGFjZUNoaWxkcmVuKHgsIHBhcmVudCkpOwoKICAgICAgICAgIGlmICh4LmNoaWxkcmVuKSB7CiAgICAgICAgICAgIGFjYy5wdXNoKGFkZEl0ZW1zKHguY2hpbGRyZW4sIHgudXVpZCkpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgfSwgW10pOwogICAgICAgIHJldHVybiBpdGVtcy5mbGF0KCk7CiAgICAgIH07CgogICAgICByZXR1cm4gYWRkSXRlbXMoc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHgpIHsKICAgICAgICBhY2NbeC51dWlkXSA9IHg7CiAgICAgICAgcmV0dXJuIGFjYzsKICAgICAgfSwge30pOwogICAgfSwKICAgIGdldGNvbm5lY3RMaW5lTnVtOiBmdW5jdGlvbiBnZXRjb25uZWN0TGluZU51bShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXJ0SUQpIHsKICAgICAgICByZXR1cm4gc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uc3RhcnQuZmluZEluZGV4KGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgcmV0dXJuIGlkID09IHN0YXJ0SUQ7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgZ2V0Q2hhbmdlRW5kTGluZTogZnVuY3Rpb24gZ2V0Q2hhbmdlRW5kTGluZShzdGF0ZSwgZ2V0dGVycykgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXJ0SUQpIHsKICAgICAgICB2YXIgaWR4c3RhcnRJZCA9IGdldHRlcnMuZ2V0Y29ubmVjdExpbmVOdW0oc3RhcnRJRCk7IC8vY29uc29sZS5sb2coaWR4c3RhcnRJZCArICcrJyArIHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmVuZFtpZHhzdGFydElkXSkKCiAgICAgICAgcmV0dXJuIHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmVuZFtpZHhzdGFydElkXTsKICAgICAgfTsKICAgIH0sCiAgICBnZXREYXRhSW1wbGVtZW50YXRpb246IGZ1bmN0aW9uIGdldERhdGFJbXBsZW1lbnRhdGlvbihzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHV1aWQpIHsKICAgICAgICByZXR1cm4gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gdXVpZDsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICBnZXREYXRhQ29tcHVNZXRob2Q6IGZ1bmN0aW9uIGdldERhdGFDb21wdU1ldGhvZChzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHV1aWQpIHsKICAgICAgICByZXR1cm4gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkNvbXB1TWV0aG9kLmZpbmQoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHV1aWQ7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgZ2V0RGF0YURhdGFDb25zdHI6IGZ1bmN0aW9uIGdldERhdGFEYXRhQ29uc3RyKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAodXVpZCkgewogICAgICAgIHJldHVybiBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0ci5maW5kKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSB1dWlkOwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIGdldERhdGFNYWNoaW5lRGVzaWduOiBmdW5jdGlvbiBnZXREYXRhTWFjaGluZURlc2lnbihzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHV1aWQpIHsKICAgICAgICByZXR1cm4gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmQoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHV1aWQ7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgZ2V0RGF0YUV0aGVybmV0Q2x1c3RlcjogZnVuY3Rpb24gZ2V0RGF0YUV0aGVybmV0Q2x1c3RlcihzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHV1aWQpIHsKICAgICAgICByZXR1cm4gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXIuZmluZChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gdXVpZDsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICBnZXREZXRhaWxWaWV3bGVuZ3RoOiBmdW5jdGlvbiBnZXREZXRhaWxWaWV3bGVuZ3RoKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0Lmxlbmd0aCAtIDE7CiAgICB9LAogICAgZ2V0Y2hhbmdlbmFtZWxpc3Q6IGZ1bmN0aW9uIGdldGNoYW5nZW5hbWVsaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAodXVpZCkgewogICAgICAgIHZhciBpZHggPSBzdGF0ZS5jb25uZWN0aW9uTGluZVtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5lbmQuaW5kZXhPZih1dWlkKTsKICAgICAgICB2YXIgaW5kaWNlcyA9IFtdOwoKICAgICAgICB3aGlsZSAoaWR4ICE9IC0xKSB7CiAgICAgICAgICBpbmRpY2VzLnB1c2goaWR4KTsKICAgICAgICAgIGlkeCA9IHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmVuZC5pbmRleE9mKHV1aWQsIGlkeCArIDEpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGluZGljZXM7CiAgICAgIH07CiAgICB9LAogICAgZ2V0SW1wbGVtZW50YXRpb25OYW1lOiBmdW5jdGlvbiBnZXRJbXBsZW1lbnRhdGlvbk5hbWUoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh1dWlkKSB7CiAgICAgICAgLy8gc2VydmljZSBJbnRlcmZhY2UtPm1ldGhvZC0+aW4vb3V0IGFyZyBlZGl0IGRpYWxvZ+ydvOuVjCB0eXBl7IiY7KCV7ZaI7J2EIOqyveyasCB0eXBl7J2066aEIOyImOygle2VtCDso7zroKTqs6Ag64Sj7JeI7J2MIAogICAgICAgIHZhciBpZHggPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHV1aWQ7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeF0ubmFtZTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRhY3RpdmVMaW5lOiBmdW5jdGlvbiBnZXRhY3RpdmVMaW5lKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAodXVpZCkgewogICAgICAgIHZhciBpbmRpY2VzID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uc3RhcnQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBvbmx5dXVpZCA9IHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnN0YXJ0W2ldLnNwbGl0KCcvJyk7CgogICAgICAgICAgaWYgKG9ubHl1dWlkWzBdID09IHV1aWQpIHsKICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJytnZXRhY3RpdmVMaW5lKysrKysrJyArIHV1aWQgKyAnLy8vJyArIGluZGljZXNbMF0pOwogICAgICAgIHJldHVybiBpbmRpY2VzOwogICAgICB9OwogICAgfSwKICAgIGdldFNhdmVPYmplY3Q6IGZ1bmN0aW9uIGdldFNhdmVPYmplY3Qoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzYXZlbGlzdCkgewogICAgICAgIHZhciBzYXZlT2JqZWN0ID0gW107CiAgICAgICAgc2F2ZWxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgaWYgKGRhdGEucGFyZW50ID09IGNvbnN0YW50LkNvbXB1TWV0aG9kX3N0cikgewogICAgICAgICAgICB2YXIgaWR4Q29tcHUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udXVpZCA9PT0gZGF0YS51dWlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2F2ZU9iamVjdC5wdXNoKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZFtpZHhDb21wdV0pOwogICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnBhcmVudCA9PSBjb25zdGFudC5EYXRhQ29uc3RyX3N0cikgewogICAgICAgICAgICB2YXIgaWR4RGRhdGFjb24gPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0ci5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS51dWlkID09PSBkYXRhLnV1aWQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzYXZlT2JqZWN0LnB1c2goc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkRhdGFDb25zdHJbaWR4RGRhdGFjb25dKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wYXJlbnQgPT0gY29uc3RhbnQuQXBwbGljYXRpb25BcnJheV9zdHIpIHsKICAgICAgICAgICAgdmFyIGlkeEFhcHBsaSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGUuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udXVpZCA9PT0gZGF0YS51dWlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2F2ZU9iamVjdC5wdXNoKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGVbaWR4QWFwcGxpXSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucGFyZW50ID09IGNvbnN0YW50LkltcGxlbWVudGF0aW9uX3N0cikgewogICAgICAgICAgICB2YXIgaWR4SW1wbGUgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZS5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS51dWlkID09PSBkYXRhLnV1aWQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzYXZlT2JqZWN0LnB1c2goc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4SW1wbGVdKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wYXJlbnQgPT0gY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9zdHIpIHsKICAgICAgICAgICAgdmFyIGlkeFNlcnZpY2UgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udXVpZCA9PT0gZGF0YS51dWlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2F2ZU9iamVjdC5wdXNoKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhTZXJ2aWNlXSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucGFyZW50ID09IGNvbnN0YW50Lk1hY2hpbmVfc3RyKSB7CiAgICAgICAgICAgIHZhciBpZHhNYWNoaW5lID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLnV1aWQgPT09IGRhdGEudXVpZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNhdmVPYmplY3QucHVzaChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4TWFjaGluZV0pOwogICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lRGVzaWduZV9zdHIpIHsKICAgICAgICAgICAgdmFyIGlkeE1hY2hpbmVEID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLnV1aWQgPT09IGRhdGEudXVpZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNhdmVPYmplY3QucHVzaChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ25baWR4TWFjaGluZURdKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wYXJlbnQgPT0gY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX3N0cikgewogICAgICAgICAgICB2YXIgaWR4RXRoZXJuZXQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3Rlci5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS51dWlkID09PSBkYXRhLnV1aWQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzYXZlT2JqZWN0LnB1c2goc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RXRoZXJuZXRdKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wYXJlbnQgPT0gY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyKSB7CiAgICAgICAgICAgIHZhciBpZHhNb2RlRCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTW9kZURlY2xhcmF0aW9uR3JvdXAuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udXVpZCA9PT0gZGF0YS51dWlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2F2ZU9iamVjdC5wdXNoKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTW9kZURlY2xhcmF0aW9uR3JvdXBbaWR4TW9kZURdKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wYXJlbnQgPT0gY29uc3RhbnQuSFdFbGVtZW50X3N0cikgewogICAgICAgICAgICB2YXIgaWR4SFdFID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnQuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udXVpZCA9PT0gZGF0YS51dWlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2F2ZU9iamVjdC5wdXNoKHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50W2lkeEhXRV0pOwogICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnBhcmVudCA9PSBjb25zdGFudC5IV0NhdGVnb3R5X3N0cikgewogICAgICAgICAgICB2YXIgaWR4SFdDID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0NhdGVnb3J5LmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLnV1aWQgPT09IGRhdGEudXVpZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNhdmVPYmplY3QucHVzaChzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXQ2F0ZWdvcnlbaWR4SFdDXSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHNhdmVPYmplY3Q7CiAgICAgIH07CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNhdmVPcGVuUHJvamVjdDogZnVuY3Rpb24gc2F2ZU9wZW5Qcm9qZWN0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZWxlY3RPcGVuUHJvamVjdDogZnVuY3Rpb24gc2VsZWN0T3BlblByb2plY3Qoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUub3BlblByb2plY3RJbmRleCA9IHBheWxvYWQub3BlblByb2plY3RJbmRleDsKICAgIH0sCiAgICBzZXRtYWtlUHJvamVjdDogZnVuY3Rpb24gc2V0bWFrZVByb2plY3Qoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuaXNtYWtlUHJvamVjdCA9IHBheWxvYWQubWFrZXByb2plY3Q7CiAgICB9LAogICAgYWRkUHJvamVjdDogZnVuY3Rpb24gYWRkUHJvamVjdChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgbmV3VVVpZCA9IHV1aWQudjEoKTsKICAgICAgc3RhdGUuU0FITFByb2plY3QucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCiAgICAgICAgRGF0YVR5cGVzOiB7CiAgICAgICAgICBDb21wdU1ldGhvZDogW10sCiAgICAgICAgICBEYXRhQ29uc3RyOiBbXSwKICAgICAgICAgIEFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZTogW10sCiAgICAgICAgICBJbXBsZW1lbnRhdGlvbkRhdGFUeXBlOiBbXQogICAgICAgIH0sCiAgICAgICAgU2VydmljZTogewogICAgICAgICAgU2VydmljZUludGVyZmFjZTogW10sCiAgICAgICAgICBTb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudDogW10sCiAgICAgICAgICBTb21lSVBTZXJ2ZXJFdmVudDogW10sCiAgICAgICAgICBTb21lSVBDbGllbnRFdmVudDogW10sCiAgICAgICAgICBFcnJvckRvbWFpbjogW10sCiAgICAgICAgICBFcnJvcjogW10sCiAgICAgICAgICBFcnJvclNldDogW10sCiAgICAgICAgICBTb21lSVBDbGllbnRTZXJ2aWNlSW5zdGFuY2U6IFtdLAogICAgICAgICAgU29tZUlQU2VydmVyU2VydmljZUluc3RhbmNlOiBbXSwKICAgICAgICAgIFNvbWVJUFNlcnZpY2VJbnN0YW5jZVRvTWFjaGluZTogW10sCiAgICAgICAgICBTZXJ2aWNlSW5zdGFuY2VUb1BvcnRQcm90b3R5cGU6IFtdLAogICAgICAgICAgUmVxdWlyZWRTb21lSVA6IFtdLAogICAgICAgICAgUHJvdmlkZWRTb21lSVA6IFtdCiAgICAgICAgfSwKICAgICAgICBNYWNoaW5lOiB7CiAgICAgICAgICBNYWNoaW5lOiBbXSwKICAgICAgICAgIE1hY2hpbmVEZXNpZ246IFtdLAogICAgICAgICAgRXRoZXJuZXRDbHVzdGVyOiBbXSwKICAgICAgICAgIE1vZGVEZWNsYXJhdGlvbkdyb3VwOiBbXSwKICAgICAgICAgIEhXRWxlbWVudDogW10sCiAgICAgICAgICBIV0NhdGVnb3R5OiBbXQogICAgICAgIH0sCiAgICAgICAgQWRhcHRpdmVBcHBsaWNhdGlvbjogewogICAgICAgICAgUHJvdG9NYWNoaW5lTWFwcGluZzogW10sCiAgICAgICAgICBTV0NvbXBvbmVudHM6IFtdLAogICAgICAgICAgUHJvY2VzczogW10sCiAgICAgICAgICBFeGVjdXRhYmxlOiBbXSwKICAgICAgICAgIFN0YXJ0dXBDb25maWc6IFtdLAogICAgICAgICAgRGV0ZXJtaW5pc3RpY0NsaWVudDogW10sCiAgICAgICAgICBQcm9jZXNzRGVzaWduOiBbXQogICAgICAgIH0sCiAgICAgICAgUGxhdGZvcm06IHt9CiAgICAgIH0pOwogICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0LnB1c2goewogICAgICAgIHV1aWQ6IG5ld1VVaWQsCiAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgdXVpZDogY29uc3RhbnQuRGF0ZVR5cGVfc3RyLAogICAgICAgICAgbmFtZTogY29uc3RhbnQuRGF0ZVR5cGVfc3RyLAogICAgICAgICAgaWNvbjogIm1kaS1mb2xkZXIiLAogICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuQ29tcHVNZXRob2Rfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5Db21wdU1ldGhvZF9zdHIsCiAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuRGF0YUNvbnN0cl9zdHIsCiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LkRhdGFDb25zdHJfc3RyLAogICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LkFwcGxpY2F0aW9uQXJyYXlfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5BcHBsaWNhdGlvbkFycmF5X3N0ciwKICAgICAgICAgICAgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywKICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgfSwgewogICAgICAgICAgICB1dWlkOiBjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9zdHIsCiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LkltcGxlbWVudGF0aW9uX3N0ciwKICAgICAgICAgICAgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywKICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgfV0KICAgICAgICB9LCB7CiAgICAgICAgICB1dWlkOiBjb25zdGFudC5TZXJ2aWNlX3N0ciwKICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlNlcnZpY2Vfc3RyLAogICAgICAgICAgaWNvbjogIm1kaS1mb2xkZXIiLAogICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19zdHIsCiAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlNvbWVJUFNlcnZpY2VJbnRlcmZhY2VEZXBsb3ltZW50X3N0ciwKICAgICAgICAgICAgICBuYW1lOiBjb25zdGFudC5Tb21lSVBTZXJ2aWNlSW50ZXJmYWNlRGVwbG95bWVudF9zdHIsCiAgICAgICAgICAgICAgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywKICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2Vfc3RyLAogICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2Vfc3RyLAogICAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlNvbWVJUEV2ZW50c19zdHIsCiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlNvbWVJUEV2ZW50c19zdHIsCiAgICAgICAgICAgIGljb246ICJtZGktZm9sZGVyIiwKICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LkNsaWVudF9zdHIsCiAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuQ2xpZW50X3N0ciwKICAgICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuU2VydmVyX3N0ciwKICAgICAgICAgICAgICBuYW1lOiBjb25zdGFudC5TZXJ2ZXJfc3RyLAogICAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlNlcnZpY2VJbnN0YW5jZXNfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5TZXJ2aWNlSW5zdGFuY2VzX3N0ciwKICAgICAgICAgICAgaWNvbjogIm1kaS1mb2xkZXIiLAogICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuU29tZUlQQ2xpZW50X3N0ciwKICAgICAgICAgICAgICBuYW1lOiBjb25zdGFudC5Tb21lSVBDbGllbnRfc3RyLAogICAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5Tb21lSVBTZXJ2ZXJfc3RyLAogICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlNvbWVJUFNlcnZlcl9zdHIsCiAgICAgICAgICAgICAgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywKICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfc3RyLAogICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlNvbWVJUFRvTWFjaGluZU1hcHBpbmdfc3RyLAogICAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX3N0ciwKICAgICAgICAgICAgICBuYW1lOiBjb25zdGFudC5Ub1BvcnRQcm90b3R5cGVNYXBwaW5nX3N0ciwKICAgICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuUmVxdWlyZWRTb21lSVBfc3RyLAogICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlJlcXVpcmVkU29tZUlQX3N0ciwKICAgICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuUHJvdmlkZWRTb21lSVBfc3RyLAogICAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlByb3ZpZGVkU29tZUlQX3N0ciwKICAgICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgICB9XQogICAgICAgICAgfSwgewogICAgICAgICAgICB1dWlkOiBjb25zdGFudC5FcnJvcnNfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5FcnJvcnNfc3RyLAogICAgICAgICAgICBpY29uOiAibWRpLWZvbGRlciIsCiAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5FcnJvcl9zdHIsCiAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuRXJyb3Jfc3RyLAogICAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5FcnJvcnNldF9zdHIsCiAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuRXJyb3JzZXRfc3RyLAogICAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB1dWlkOiBjb25zdGFudC5FcnJvckRvbWFpbl9zdHIsCiAgICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuRXJyb3JEb21haW5fc3RyLAogICAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9XQogICAgICAgIH0sIHsKICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LkFkYXB0aXZlQXBwbGljYXRpb25fc3RyLAogICAgICAgICAgbmFtZTogY29uc3RhbnQuQWRhcHRpdmVBcHBsaWNhdGlvbl9zdHIsCiAgICAgICAgICBpY29uOiAibWRpLWZvbGRlciIsCiAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgICB1dWlkOiBjb25zdGFudC5Qcm9jZXNzdG9NYWNoaW5lTWFwcGluZ19zdHIsCiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LlByb2Nlc3N0b01hY2hpbmVNYXBwaW5nX3N0ciwKICAgICAgICAgICAgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywKICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgfSwgewogICAgICAgICAgICB1dWlkOiBjb25zdGFudC5TV0NvbXBvbmVudHNfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5TV0NvbXBvbmVudHNfc3RyLAogICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlByb2Nlc3Nfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5Qcm9jZXNzX3N0ciwKICAgICAgICAgICAgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywKICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgfSwgewogICAgICAgICAgICB1dWlkOiBjb25zdGFudC5Qcm9jZXNzRGVzaWduX3N0ciwKICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuUHJvY2Vzc0Rlc2lnbl9zdHIsCiAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuRXhlY3V0YWJsZV9zdHIsCiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LkV4ZWN1dGFibGVfc3RyLAogICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LlN0YXJ0dXBDb25maWdfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5TdGFydHVwQ29uZmlnX3N0ciwKICAgICAgICAgICAgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywKICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgfSwgewogICAgICAgICAgICB1dWlkOiBjb25zdGFudC5EZXRlcm1pbmlzdGljQ2xpZW50X3N0ciwKICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuRGV0ZXJtaW5pc3RpY0NsaWVudF9zdHIsCiAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgIH1dCiAgICAgICAgfSwgewogICAgICAgICAgdXVpZDogY29uc3RhbnQuTWFjaGluZXNfc3RyLAogICAgICAgICAgbmFtZTogY29uc3RhbnQuTWFjaGluZXNfc3RyLAogICAgICAgICAgaWNvbjogIm1kaS1mb2xkZXIiLAogICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuTWFjaGluZV9zdHIsCiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50Lk1hY2hpbmVfc3RyLAogICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX3N0ciwKICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuTWFjaGluZURlc2lnbmVfc3RyLAogICAgICAgICAgICBpY29uOiAnbWRpLWFscGhhLWUtY2lyY2xlLW91dGxpbmUnLAogICAgICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHV1aWQ6IGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIsCiAgICAgICAgICAgIG5hbWU6IGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIsCiAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyLAogICAgICAgICAgICBuYW1lOiBjb25zdGFudC5Nb2RlRGVjbGFyYXRpb25Hcm91cF9zdHIsCiAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdXVpZDogY29uc3RhbnQuSFdFbGVtZW50X3N0ciwKICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuSFdFbGVtZW50X3N0ciwKICAgICAgICAgICAgaWNvbjogJ21kaS1hbHBoYS1lLWNpcmNsZS1vdXRsaW5lJywKICAgICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgfSwgewogICAgICAgICAgICB1dWlkOiBjb25zdGFudC5IV0NhdGVnb3R5X3N0ciwKICAgICAgICAgICAgbmFtZTogY29uc3RhbnQuSFdDYXRlZ290eV9zdHIsCiAgICAgICAgICAgIGljb246ICdtZGktYWxwaGEtZS1jaXJjbGUtb3V0bGluZScsCiAgICAgICAgICAgIHZhbGlkYXRpb246IGZhbHNlLAogICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgIH1dCiAgICAgICAgfSwgewogICAgICAgICAgdXVpZDogY29uc3RhbnQuUGxhdGZvcm1fc3RyLAogICAgICAgICAgbmFtZTogY29uc3RhbnQuUGxhdGZvcm1fc3RyLAogICAgICAgICAgaWNvbjogIm1kaS1mb2xkZXIiLAogICAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UsCiAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICB9XQogICAgICB9KTsKICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmUucHVzaCh7CiAgICAgICAgc3RhcnQ6IFtdLAogICAgICAgIGVuZDogW10KICAgICAgfSk7CiAgICB9LAogICAgc2V0dXVpZDogZnVuY3Rpb24gc2V0dXVpZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gcGF5bG9hZC51dWlkOwogICAgfSwKICAgIHNldENvbm5lY3Rpb25saW5lOiBmdW5jdGlvbiBzZXRDb25uZWN0aW9ubGluZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICAvL2NvbnNvbGUubG9nKCdzZXRDb25uZWN0aW9ubGluZSAnICsgcGF5bG9hZC5zdGFydCArICcgLy8vICcgKyBwYXlsb2FkLmVuZCkKICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uc3RhcnQucHVzaChwYXlsb2FkLnN0YXJ0KTsKICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uZW5kLnB1c2gocGF5bG9hZC5lbmQpOwogICAgfSwKICAgIGRlbGV0Q29ubmVjdGlvbmxpbmU6IGZ1bmN0aW9uIGRlbGV0Q29ubmVjdGlvbmxpbmUoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uc3RhcnQuc3BsaWNlKHBheWxvYWQuc3RhcnRudW0sIDEpOwogICAgICBzdGF0ZS5jb25uZWN0aW9uTGluZVtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5lbmQuc3BsaWNlKHBheWxvYWQuc3RhcnRudW0sIDEpOwogICAgfSwKICAgIHNldERldGFpbFZpZXc6IGZ1bmN0aW9uIHNldERldGFpbFZpZXcoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgY29uc29sZS5sb2coJ3NldERldGFpbFZpZXcqKicgKyBzdGF0ZS5kZXRhaWxWaWV3ZXIudXVpZCArICcvLycgKyBwYXlsb2FkLnV1aWQpOwoKICAgICAgaWYgKHN0YXRlLmRldGFpbFZpZXdlci51dWlkICE9IHBheWxvYWQudXVpZCkgewogICAgICAgIGNvbnNvbGUubG9nKCcuLi4nICsgc3RhdGUuaWRleERldGFpbFZpZXcgKyAnKycgKyBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0Lmxlbmd0aCk7CgogICAgICAgIGlmIChzdGF0ZS5pZGV4RGV0YWlsVmlldyA8IHN0YXRlLmRldGFpbFZpZXdlckxpc3QubGVuZ3RoIC0gMSkgewogICAgICAgICAgY29uc29sZS5sb2coJy4jIy4nICsgc3RhdGUuZGV0YWlsVmlld2VyTGlzdFtzdGF0ZS5pZGV4RGV0YWlsVmlldyArIDFdLnV1aWQgKyAnKycgKyBwYXlsb2FkLnV1aWQpOwoKICAgICAgICAgIGlmIChzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0W3N0YXRlLmlkZXhEZXRhaWxWaWV3ICsgMV0udXVpZCAhPSBwYXlsb2FkLnV1aWQpIHsKICAgICAgICAgICAgc3RhdGUuZGV0YWlsVmlld2VyTGlzdC5zcGxpY2Uoc3RhdGUuaWRleERldGFpbFZpZXcgKyAxKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3NwbGljZScgKyBzdGF0ZS5pZGV4RGV0YWlsVmlldyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmNvbW1pdCgnc2V0ZnJvbnREZXRhaWxWaWV3Jyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzcGxpY2UgZWxzZSAnICsgc3RhdGUuaWRleERldGFpbFZpZXcpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3ZXIgPSB7CiAgICAgICAgICB1dWlkOiBwYXlsb2FkLnV1aWQsCiAgICAgICAgICBlbGVtZW50OiBwYXlsb2FkLmVsZW1lbnQKICAgICAgICB9OwogICAgICAgIHN0YXRlLmRldGFpbFZpZXdlckxpc3QucHVzaCh7CiAgICAgICAgICB1dWlkOiBwYXlsb2FkLnV1aWQsCiAgICAgICAgICBlbGVtZW50OiBwYXlsb2FkLmVsZW1lbnQKICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5pZGV4RGV0YWlsVmlldyA9IHN0YXRlLmRldGFpbFZpZXdlckxpc3QubGVuZ3RoIC0gMTsKICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3VVVJRCA9IHBheWxvYWQudXVpZDsKICAgICAgICBjb25zb2xlLmxvZygnc2V0Ly8nICsgc3RhdGUuaWRleERldGFpbFZpZXcgKyAnLy8nICsgc3RhdGUuZGV0YWlsVmlld2VyLmVsZW1lbnQgKyAnLy8nICsgc3RhdGUuZGV0YWlsVmlld2VyLnV1aWQpOwogICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmRldGFpbFZpZXdlckxpc3QpOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLmRldGFpbFZpZXdlckxpc3Quc3BsaWNlKHN0YXRlLmRldGFpbFZpZXdlckxpc3QubGVuZ3RoIC0gMSwgMSk7CiAgICAgICAgc3RhdGUuZGV0YWlsVmlld2VyID0gewogICAgICAgICAgdXVpZDogcGF5bG9hZC51dWlkLAogICAgICAgICAgZWxlbWVudDogcGF5bG9hZC5lbGVtZW50CiAgICAgICAgfTsKICAgICAgICBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0LnB1c2goewogICAgICAgICAgdXVpZDogcGF5bG9hZC51dWlkLAogICAgICAgICAgZWxlbWVudDogcGF5bG9hZC5lbGVtZW50CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUuaWRleERldGFpbFZpZXcgPSBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0Lmxlbmd0aCAtIDE7CiAgICAgICAgc3RhdGUuZGV0YWlsVmlld1VVSUQgPSBwYXlsb2FkLnV1aWQ7CiAgICAgIH0KICAgIH0sCiAgICBzZXRCYWNrRGV0YWlsVmlldzogZnVuY3Rpb24gc2V0QmFja0RldGFpbFZpZXcoc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlLmlkZXhEZXRhaWxWaWV3ID09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHN0YXRlLmlkZXhEZXRhaWxWaWV3IC09IDE7CiAgICAgIHN0YXRlLmRldGFpbFZpZXdlciA9IHsKICAgICAgICB1dWlkOiBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0W3N0YXRlLmlkZXhEZXRhaWxWaWV3XS51dWlkLAogICAgICAgIGVsZW1lbnQ6IHN0YXRlLmRldGFpbFZpZXdlckxpc3Rbc3RhdGUuaWRleERldGFpbFZpZXddLmVsZW1lbnQKICAgICAgfTsKICAgICAgc3RhdGUuZGV0YWlsVmlld1VVSUQgPSBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0W3N0YXRlLmlkZXhEZXRhaWxWaWV3XS51dWlkOwogICAgICBjb25zb2xlLmxvZygnYmFjaycgKyBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0W3N0YXRlLmlkZXhEZXRhaWxWaWV3XS5lbGVtZW50ICsgJy8vJyArIHN0YXRlLmRldGFpbFZpZXdlci51dWlkKTsKICAgIH0sCiAgICBzZXRmcm9udERldGFpbFZpZXc6IGZ1bmN0aW9uIHNldGZyb250RGV0YWlsVmlldyhzdGF0ZSkgewogICAgICBpZiAoc3RhdGUuaWRleERldGFpbFZpZXcgPT0gc3RhdGUuZGV0YWlsVmlld2VyTGlzdC5sZW5ndGggLSAxKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzdGF0ZS5pZGV4RGV0YWlsVmlldyArPSAxOwogICAgICBzdGF0ZS5kZXRhaWxWaWV3ZXIgPSB7CiAgICAgICAgdXVpZDogc3RhdGUuZGV0YWlsVmlld2VyTGlzdFtzdGF0ZS5pZGV4RGV0YWlsVmlld10udXVpZCwKICAgICAgICBlbGVtZW50OiBzdGF0ZS5kZXRhaWxWaWV3ZXJMaXN0W3N0YXRlLmlkZXhEZXRhaWxWaWV3XS5lbGVtZW50CiAgICAgIH07CiAgICAgIHN0YXRlLmRldGFpbFZpZXdVVUlEID0gc3RhdGUuZGV0YWlsVmlld2VyTGlzdFtzdGF0ZS5pZGV4RGV0YWlsVmlld10udXVpZDsKICAgICAgY29uc29sZS5sb2coJ2Zyb250JyArIHN0YXRlLmRldGFpbFZpZXdlci5lbGVtZW50ICsgJy8vJyArIHN0YXRlLmRldGFpbFZpZXdlci51dWlkKTsKICAgIH0sCiAgICBzZXRab29tSW5PdXQ6IGZ1bmN0aW9uIHNldFpvb21Jbk91dChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5zZXR0aW5nID0gewogICAgICAgIHpvb21NYWluOiBwYXlsb2FkLnZhbHVlTWFpbiwKICAgICAgICB6b29tRGV0YWlsOiBwYXlsb2FkLnZhbHVlRGV0YWlsCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKCcrKycgKyBzdGF0ZS5zZXR0aW5nLnpvb21NYWluICsgJz09JyArIHN0YXRlLnNldHRpbmcuem9vbURldGFpbCk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzZXR0aW5nIiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUuc2V0dGluZykpOwogICAgfSwKICAgIGFkZEVsZW1lbnRTZXJ2aWNlOiBmdW5jdGlvbiBhZGRFbGVtZW50U2VydmljZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgbmV3VVVpZCA9IHV1aWQudjEoKTsKICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLnB1c2goewogICAgICAgIHV1aWQ6IG5ld1VVaWQsCiAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCiAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCiAgICAgICAgdmVyc2lvbjogcGF5bG9hZC52ZXJzaW9uLAogICAgICAgIG5hbWVzcGFjZTogcGF5bG9hZC5uYW1lc3BhY2UsCiAgICAgICAgaXNzZXJ2aWNlOiBmYWxzZSwKICAgICAgICBldmVudHM6IHBheWxvYWQuZXZlbnRzLAogICAgICAgIGZpZWxkczogcGF5bG9hZC5maWVsZHMsCiAgICAgICAgbWV0aG9kczogcGF5bG9hZC5tZXRob2RzCiAgICAgIH0pOwogICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsKICAgICAgICB1dWlkOiBuZXdVVWlkLAogICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICBpY29uOiBwYXlsb2FkLmljb24sCiAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UKICAgICAgfSk7CiAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkOwogICAgfSwKICAgIGVkaXRTZXJ2aWNlSW50ZXJmYWNlOiBmdW5jdGlvbiBlZGl0U2VydmljZUludGVyZmFjZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJFdmVudCIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4RWxlbWVudF0uZXZlbnRzID0gcGF5bG9hZC5ldmVudHMuc2xpY2UoKTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJGaWVsZCIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4RWxlbWVudF0uZmllbGRzID0gcGF5bG9hZC5maWVsZHMuc2xpY2UoKTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJNZXRob2QiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeEVsZW1lbnRdLm1ldGhvZHMgPSBwYXlsb2FkLm1ldGhvZHMuc2xpY2UoKTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhFbGVtZW50XS50b3AgPSBwYXlsb2FkLnRvcDsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4RWxlbWVudF0ubGVmdCA9IHBheWxvYWQubGVmdDsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleDsKICAgICAgfQogICAgfSwKICAgIGFkZEVsZW1lbnRDb21wdU1laHRvZDogZnVuY3Rpb24gYWRkRWxlbWVudENvbXB1TWVodG9kKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBuZXdVVWlkID0gdXVpZC52MSgpOwogICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICB0b3A6IHBheWxvYWQudG9wLAogICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAogICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICBjYXRlZ29yeTogcGF5bG9hZC5jYXRlZ29yeSwKICAgICAgICBzY2FsZXM6IHBheWxvYWQubmFtZXNzY2FsZXNwYWNlCiAgICAgIH0pOwogICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21wdU1ldGhvZF9pbmRleF0uY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCiAgICAgICAgaWNvbjogcGF5bG9hZC5pY29uLAogICAgICAgIHZhbGlkYXRpb246IGZhbHNlCiAgICAgIH0pOwogICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZDsKICAgIH0sCiAgICBlZGl0Q29tcHVNZWh0b2Q6IGZ1bmN0aW9uIGVkaXRDb21wdU1laHRvZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5Db21wdU1ldGhvZC5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuQ29tcHVNZXRob2RfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWU7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiU2NhbGUiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkNvbXB1TWV0aG9kW2lkeEVsZW1lbnRdLnNjYWxlcyA9IHBheWxvYWQuc2NhbGVzLnNsaWNlKCk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2RbaWR4RWxlbWVudF0udG9wID0gcGF5bG9hZC50b3A7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkNvbXB1TWV0aG9kW2lkeEVsZW1lbnRdLmxlZnQgPSBwYXlsb2FkLmxlZnQ7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2RbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXg7CiAgICAgIH0KICAgIH0sCiAgICBhZGRFbGVtZW50RGF0YUNvbnN0cjogZnVuY3Rpb24gYWRkRWxlbWVudERhdGFDb25zdHIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIG5ld1VVaWQgPSB1dWlkLnYxKCk7CiAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyLnB1c2goewogICAgICAgIHV1aWQ6IG5ld1VVaWQsCiAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCiAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCiAgICAgICAgbG93ZXJsaW1pdDogcGF5bG9hZC5sb3dlcmxpbWl0LAogICAgICAgIHVwcGVybGltaXQ6IHBheWxvYWQudXBwZXJsaW1pdAogICAgICB9KTsKICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0YUNvbnN0cl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCiAgICAgICAgaWNvbjogcGF5bG9hZC5pY29uLAogICAgICAgIHZhbGlkYXRpb246IGZhbHNlCiAgICAgIH0pOwogICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZDsKICAgIH0sCiAgICBlZGl0RGF0YUNvbnN0cjogZnVuY3Rpb24gZWRpdERhdGFDb25zdHIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0ci5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0YUNvbnN0cl9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyW2lkeEVsZW1lbnRdLnRvcCA9IHBheWxvYWQudG9wOwogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyW2lkeEVsZW1lbnRdLmxlZnQgPSBwYXlsb2FkLmxlZnQ7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuRGF0YUNvbnN0cltpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleDsKICAgICAgfQogICAgfSwKICAgIGFkZEVsZW1lbnRBcHBsaWNhdGlvbkFycmF5OiBmdW5jdGlvbiBhZGRFbGVtZW50QXBwbGljYXRpb25BcnJheShzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgbmV3VVVpZCA9IHV1aWQudjEoKTsKICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZS5wdXNoKHsKICAgICAgICB1dWlkOiBuZXdVVWlkLAogICAgICAgIHRvcDogcGF5bG9hZC50b3AsCiAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAogICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCiAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgIGNhdGVnb3J5OiBwYXlsb2FkLmNhdGVnb3J5LAogICAgICAgIGR5bmFtaWNBcnJ5U2l6ZTogcGF5bG9hZC5keW5hbWljQXJyeVNpemUsCiAgICAgICAgZWxlbWVudDogcGF5bG9hZC5lbGVtZW50CiAgICAgIH0pOwogICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5BcHBsaWNhdGlvbkFycmF5X2luZGV4XS5jaGlsZHJlbi5wdXNoKHsKICAgICAgICB1dWlkOiBuZXdVVWlkLAogICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICBpY29uOiBwYXlsb2FkLmljb24sCiAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UKICAgICAgfSk7CiAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkOwogICAgfSwKICAgIGVkaXRBcHBsaWNhdGlvbkFycmF5OiBmdW5jdGlvbiBlZGl0QXBwbGljYXRpb25BcnJheShzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGUuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkOwogICAgICB9KTsKCiAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewogICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRGF0ZVR5cGVfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkFwcGxpY2F0aW9uQXJyYXlfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWU7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiRHluYW1pYyBBcnJ5IFNpemUiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZVtpZHhFbGVtZW50XS5keW5hbWljQXJyeVNpemUgPSBwYXlsb2FkLmR5bmFtaWNBcnJ5U2l6ZTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJFbGVtZW50IikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGVbaWR4RWxlbWVudF0uZWxlbWVudCA9IHBheWxvYWQuZWxlbWVudDsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJkcmFnIikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5BcHBsaWNhdGlvbkFycmF5RGF0YVR5cGVbaWR4RWxlbWVudF0udG9wID0gcGF5bG9hZC50b3A7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZVtpZHhFbGVtZW50XS5sZWZ0ID0gcGF5bG9hZC5sZWZ0OwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZVtpZHhFbGVtZW50XS56aW5kZXggPSBwYXlsb2FkLnppbmRleDsKICAgICAgfQogICAgfSwKICAgIGFkZEVsZW1lbnRJbXBsZW1lbnRhdGlvbjogZnVuY3Rpb24gYWRkRWxlbWVudEltcGxlbWVudGF0aW9uKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBuZXdVVWlkID0gdXVpZC52MSgpOyAvL2NvbnNvbGUubG9nKCchISEgVVVJRCAhISEnICsgbmV3VVVpZCkKCiAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLnB1c2goewogICAgICAgIHV1aWQ6IG5ld1VVaWQsCiAgICAgICAgdG9wOiBwYXlsb2FkLnRvcCwKICAgICAgICBsZWZ0OiBwYXlsb2FkLmxlZnQsCiAgICAgICAgemluZGV4OiBwYXlsb2FkLnppbmRleCwKICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCiAgICAgICAgY2F0ZWdvcnk6IHBheWxvYWQuY2F0ZWdvcnksCiAgICAgICAgbmFtZXNwYWNlOiBwYXlsb2FkLm5hbWVzcGFjZSwKICAgICAgICBhcnJheXNpemU6IHBheWxvYWQuYXJyYXlzaXplLAogICAgICAgIHR5cGVlbWl0dGVyOiBwYXlsb2FkLnR5cGVlbWl0dGVyLAogICAgICAgIHR5cGVyZWY6IHBheWxvYWQudHlwZXJlZiwKICAgICAgICB0ZW1wbGF0ZXR5cGU6IHBheWxvYWQudGVtcGxhdGV0eXBlLAogICAgICAgIGRlc2M6IHBheWxvYWQuZGVzYywKICAgICAgICBkZHBjOiBwYXlsb2FkLmRkcGMsCiAgICAgICAgaWR0ZWxlbWVudDogcGF5bG9hZC5pZHRlbGVtZW50CiAgICAgIH0pOwogICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0uY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCiAgICAgICAgaWNvbjogcGF5bG9hZC5pY29uLAogICAgICAgIHZhbGlkYXRpb246IGZhbHNlCiAgICAgIH0pOwogICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZDsKICAgIH0sCiAgICBlZGl0SW1wbGVtZW50YXRpb246IGZ1bmN0aW9uIGVkaXRJbXBsZW1lbnRhdGlvbihzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZDsKICAgICAgfSk7CgogICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZTsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS50eXBlZW1pdHRlciA9IHBheWxvYWQudHlwZWVtaXR0ZXI7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiRERQQyIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhFbGVtZW50XS5kZHBjID0gcGF5bG9hZC5kZHBjLnNsaWNlKCk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiSURUIEVsZW1lbnQiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4RWxlbWVudF0uaWR0ZWxlbWVudCA9IHBheWxvYWQuaWR0ZWxlbWVudC5zbGljZSgpOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4RWxlbWVudF0udG9wID0gcGF5bG9hZC50b3A7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4RWxlbWVudF0ubGVmdCA9IHBheWxvYWQubGVmdDsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4OwogICAgICB9CiAgICB9LAogICAgYWRkRWxlbWVudE1hY2hpbmU6IGZ1bmN0aW9uIGFkZEVsZW1lbnRNYWNoaW5lKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBuZXdVVWlkID0gdXVpZC52MSgpOwogICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICB0b3A6IHBheWxvYWQudG9wLAogICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAogICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICBtYWNoaW5lZGVzaWduOiBwYXlsb2FkLm1hY2hpbmVkZXNpZ24sCiAgICAgICAgdGltZW91dDogcGF5bG9hZC50aW1lb3V0LAogICAgICAgIGh3ZWxlbWVudDogcGF5bG9hZC5od2VsZW1lbnQsCiAgICAgICAgZXhlY3V0YWJsZTogcGF5bG9hZC5leGVjdXRhYmxlLAogICAgICAgIGZ1bmN0aW9uZ3JvdXA6IHBheWxvYWQuZnVuY3Rpb25ncm91cCwKICAgICAgICBwcm9jZXNzb3I6IHBheWxvYWQucHJvY2Vzc29yLAogICAgICAgIG1vZHVsZWluc3RhbnQ6IHBheWxvYWQubW9kdWxlaW5zdGFudAogICAgICB9KTsKICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0uY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICBuYW1lOiBwYXlsb2FkLm5hbWUsCiAgICAgICAgaWNvbjogcGF5bG9hZC5pY29uLAogICAgICAgIHZhbGlkYXRpb246IGZhbHNlCiAgICAgIH0pOwogICAgICBzdGF0ZS5hY3RpdmVVVUlEID0gbmV3VVVpZDsKICAgIH0sCiAgICBlZGl0TWFjaGluZTogZnVuY3Rpb24gZWRpdE1hY2hpbmUoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkOwogICAgICB9KTsKCiAgICAgIGlmIChwYXlsb2FkLmNvbXBvID09ICJOYW1lIikgewogICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWU7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeEVsZW1lbnRdLmZ1bmN0aW9uZ3JvdXAgPSBwYXlsb2FkLmZ1bmN0aW9uZ3JvdXA7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAnUHJvY2Vzc29yJykgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVtZW50XS5wcm9jZXNzb3IgPSBwYXlsb2FkLnByb2Nlc3NvcjsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICdQcm9jZXNzb3IgTmFtZScpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4RWxlbWVudF0ucHJvY2Vzc29yW3BheWxvYWQuaWR4XS5uYW1lID0gcGF5bG9hZC5uYW1lOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gJ1Byb2Nlc3NvciBDb3JlJykgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVtZW50XS5wcm9jZXNzb3JbcGF5bG9hZC5pZHhdLmNvcmUgPSBwYXlsb2FkLmNvcmU7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAibW9kdWxlIElucyIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4RWxlbWVudF0ubW9kdWxlaW5zdGFudCA9IHBheWxvYWQuTW9kdWxlSW5zOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeEVsZW1lbnRdLnRvcCA9IHBheWxvYWQudG9wOwogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZVtpZHhFbGVtZW50XS5sZWZ0ID0gcGF5bG9hZC5sZWZ0OwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4OwogICAgICB9CiAgICB9LAogICAgYWRkRWxlbWVudEhXRWxlbWVudDogZnVuY3Rpb24gYWRkRWxlbWVudEhXRWxlbWVudChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgbmV3VVVpZCA9IHV1aWQudjEoKTsKICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnQucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICB0b3A6IHBheWxvYWQudG9wLAogICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAogICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICBjYXRlZ29yeTogcGF5bG9hZC5jYXRlZ29yeSwKICAgICAgICBhdHRyaWJ1dGU6IHBheWxvYWQuYXR0cmlidXRlCiAgICAgIH0pOwogICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5IV0VsZW1lbnRfaW5kZXhdLmNoaWxkcmVuLnB1c2goewogICAgICAgIHV1aWQ6IG5ld1VVaWQsCiAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgIGljb246IHBheWxvYWQuaWNvbiwKICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZQogICAgICB9KTsKICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQ7CiAgICB9LAogICAgZWRpdEhXRWxlbWVudDogZnVuY3Rpb24gZWRpdEhXRWxlbWVudChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50LmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZDsKICAgICAgfSk7CgogICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5IV0VsZW1lbnRfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWU7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAnQXR0cmlidXRlJykgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50W2lkeEVsZW1lbnRdLmF0dHJpYnV0ZSA9IHBheWxvYWQuYXR0cmlidXRlLnNsaWNlKCk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudFtpZHhFbGVtZW50XS50b3AgPSBwYXlsb2FkLnRvcDsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkhXRWxlbWVudFtpZHhFbGVtZW50XS5sZWZ0ID0gcGF5bG9hZC5sZWZ0OwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gInoiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5IV0VsZW1lbnRbaWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXg7CiAgICAgIH0KICAgIH0sCiAgICBhZGRFbGVtZW50TWFjaGluZURlc2lnbjogZnVuY3Rpb24gYWRkRWxlbWVudE1hY2hpbmVEZXNpZ24oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIG5ld1VVaWQgPSB1dWlkLnYxKCk7CiAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbi5wdXNoKHsKICAgICAgICB1dWlkOiBuZXdVVWlkLAogICAgICAgIHRvcDogcGF5bG9hZC50b3AsCiAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAogICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCiAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgIGFjY2VzczogcGF5bG9hZC5hY2Nlc3MsCiAgICAgICAgcmVzZXR0aW1lcjogcGF5bG9hZC5yZXNldHRpbWVyLAogICAgICAgIGNvbm5lY3RvcjogcGF5bG9hZC5jb25uZWN0b3IsCiAgICAgICAgc2VydmljZWRpc2NvdmVyOiBwYXlsb2FkLnNlcnZpY2VkaXNjb3ZlcgogICAgICB9KTsKICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLmNoaWxkcmVuLnB1c2goewogICAgICAgIHV1aWQ6IG5ld1VVaWQsCiAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgIGljb246IHBheWxvYWQuaWNvbiwKICAgICAgICB2YWxpZGF0aW9uOiBmYWxzZQogICAgICB9KTsKICAgICAgc3RhdGUuYWN0aXZlVVVJRCA9IG5ld1VVaWQ7CiAgICB9LAogICAgZWRpdE1hY2hpbmVEZXNpZ246IGZ1bmN0aW9uIGVkaXRNYWNoaW5lRGVzaWduKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZDsKICAgICAgfSk7CgogICAgICBpZiAocGF5bG9hZC5jb21wbyA9PSAiTmFtZSIpIHsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lRGVzaWduZV9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0ubmFtZSA9IHBheWxvYWQubmFtZTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICdDQyBpdGVtJykgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbltpZHhFbGVtZW50XS5jb25uZWN0b3IgPSBwYXlsb2FkLmNjLnNsaWNlKCk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAnU0RDIGl0ZW0nKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeEVsZW1lbnRdLnNlcnZpY2VkaXNjb3ZlciA9IHBheWxvYWQuc2RjLnNsaWNlKCk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiZHJhZyIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ25baWR4RWxlbWVudF0udG9wID0gcGF5bG9hZC50b3A7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduW2lkeEVsZW1lbnRdLmxlZnQgPSBwYXlsb2FkLmxlZnQ7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ25baWR4RWxlbWVudF0uemluZGV4ID0gcGF5bG9hZC56aW5kZXg7CiAgICAgIH0KICAgIH0sCiAgICBhZGRFbGVtZW50TW9kZURlY2xhcmF0aW9uR3JvdXA6IGZ1bmN0aW9uIGFkZEVsZW1lbnRNb2RlRGVjbGFyYXRpb25Hcm91cChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgbmV3VVVpZCA9IHV1aWQudjEoKTsKICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cC5wdXNoKHsKICAgICAgICB1dWlkOiBuZXdVVWlkLAogICAgICAgIHRvcDogcGF5bG9hZC50b3AsCiAgICAgICAgbGVmdDogcGF5bG9hZC5sZWZ0LAogICAgICAgIHppbmRleDogcGF5bG9hZC56aW5kZXgsCiAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgIG1vZGVkZWNsYXJhdGlvbjogcGF5bG9hZC5tb2RlZGVjbGFyYXRpb24sCiAgICAgICAgaW5pdG1vZGU6IHBheWxvYWQuaW5pdG1vZGUKICAgICAgfSk7CiAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1vZGVEZWNsYXJhdGlvbkdyb3VwX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsKICAgICAgICB1dWlkOiBuZXdVVWlkLAogICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICBpY29uOiBwYXlsb2FkLmljb24sCiAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UKICAgICAgfSk7CiAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkOwogICAgfSwKICAgIGVkaXRNb2RlRGVjbGFyYXRpb25Hcm91cDogZnVuY3Rpb24gZWRpdE1vZGVEZWNsYXJhdGlvbkdyb3VwKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cC5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLm5hbWUgPSBwYXlsb2FkLm5hbWU7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAnTW9kZSBkZWNsYXJhdGlvbicpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwW2lkeEVsZW1lbnRdLm1vZGVkZWNsYXJhdGlvbiA9IHBheWxvYWQubW9kZWRlY2xhcmF0aW9uOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cFtpZHhFbGVtZW50XS50b3AgPSBwYXlsb2FkLnRvcDsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwW2lkeEVsZW1lbnRdLmxlZnQgPSBwYXlsb2FkLmxlZnQ7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAieiIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1vZGVEZWNsYXJhdGlvbkdyb3VwW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4OwogICAgICB9CiAgICB9LAogICAgYWRkRWxlbWVudEV0aGVybmV0Q2x1c3RlcjogZnVuY3Rpb24gYWRkRWxlbWVudEV0aGVybmV0Q2x1c3RlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgbmV3VVVpZCA9IHV1aWQudjEoKTsKICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXIucHVzaCh7CiAgICAgICAgdXVpZDogbmV3VVVpZCwKICAgICAgICB0b3A6IHBheWxvYWQudG9wLAogICAgICAgIGxlZnQ6IHBheWxvYWQubGVmdCwKICAgICAgICB6aW5kZXg6IHBheWxvYWQuemluZGV4LAogICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICBjb25kaXRpb25hbDogcGF5bG9hZC5jb25kaXRpb25hbAogICAgICB9KTsKICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4XS5jaGlsZHJlbi5wdXNoKHsKICAgICAgICB1dWlkOiBuZXdVVWlkLAogICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICBpY29uOiBwYXlsb2FkLmljb24sCiAgICAgICAgdmFsaWRhdGlvbjogZmFsc2UKICAgICAgfSk7CiAgICAgIHN0YXRlLmFjdGl2ZVVVSUQgPSBuZXdVVWlkOwogICAgfSwKICAgIGVkaXRFdGhlcm5ldENsdXN0ZXI6IGZ1bmN0aW9uIGVkaXRFdGhlcm5ldENsdXN0ZXIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3Rlci5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKHBheWxvYWQuY29tcG8gPT0gIk5hbWUiKSB7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS5uYW1lID0gcGF5bG9hZC5uYW1lOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gIkNvbmRpIE5hbWUiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlbWVudF0uY29uZGl0aW9uYWxbcGF5bG9hZC5jb25kaXRhYl0ubmFtZSA9IHBheWxvYWQubmFtZTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ2ZXJzaW9uIikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2lkeEVsZW1lbnRdLmNvbmRpdGlvbmFsW3BheWxvYWQuY29uZGl0YWJdLnZlcnNpb24gPSBwYXlsb2FkLnZlcnNpb247CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wbyA9PSAiQ2hhbm5lbCBOYW1lIikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2lkeEVsZW1lbnRdLmNvbmRpdGlvbmFsW3BheWxvYWQuY29uZGl0YWJdLmNoYW5uZWxbcGF5bG9hZC5jaGFubmVsdGFiXS5uYW1lID0gcGF5bG9hZC5uYW1lOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gIkVuZHBvaW50IE5hbWUiKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlbWVudF0uY29uZGl0aW9uYWxbcGF5bG9hZC5jb25kaXRhYl0uY2hhbm5lbFtwYXlsb2FkLmNoYW5uZWx0YWJdLmVuZHBvaW50W3BheWxvYWQuZW5kdGFiXS5uYW1lID0gcGF5bG9hZC5uYW1lOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gIkRvbWFpbiBOYW1lIikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2lkeEVsZW1lbnRdLmNvbmRpdGlvbmFsW3BheWxvYWQuY29uZGl0YWJdLmNoYW5uZWxbcGF5bG9hZC5jaGFubmVsdGFiXS5lbmRwb2ludFtwYXlsb2FkLmVuZHRhYl0uZG9tYWlubmFtZSA9IHBheWxvYWQubmFtZTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJjb25kaXRpb25hbCIpIHsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3RlcltpZHhFbGVtZW50XS5jb25kaXRpb25hbCA9IHBheWxvYWQuY29uZGl0aW9uYWwuc2xpY2UoKTsgLy9KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBheWxvYWQuY29uZGl0aW9uYWwpKQogICAgICB9IGVsc2UgaWYgKHBheWxvYWQuY29tcG8gPT0gImRyYWciKSB7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlbWVudF0udG9wID0gcGF5bG9hZC50b3A7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXJbaWR4RWxlbWVudF0ubGVmdCA9IHBheWxvYWQubGVmdDsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmNvbXBvID09ICJ6IikgewogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuRXRoZXJuZXRDbHVzdGVyW2lkeEVsZW1lbnRdLnppbmRleCA9IHBheWxvYWQuemluZGV4OwogICAgICB9CiAgICB9LAogICAgY2hhbmdlTmFtZUltcGxlbWVudGF0aW9uOiBmdW5jdGlvbiBjaGFuZ2VOYW1lSW1wbGVtZW50YXRpb24oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgLy92YXIgaWR4ID0gc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uZW5kLmluZGV4T2YocGF5bG9hZC51dWlkKQogICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuZ2V0dGVycy5nZXRjaGFuZ2VuYW1lbGlzdChwYXlsb2FkLnV1aWQpOyAvLyB3aGlsZSAoaWR4ICE9IC0xKSB7CiAgICAgIC8vICAgICBpbmRpY2VzLnB1c2goaWR4KQogICAgICAvLyAgICAgaWR4ID0gc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uZW5kLmluZGV4T2YocGF5bG9hZC51dWlkLCBpZHggKyAxKQogICAgICAvLyB9CgogICAgICBjb25zb2xlLmxvZygnPT1jaGFuZ2VOYW1lSW1wbGVtZW50YXRpb249PScgKyBpbmRpY2VzKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBzdGFydFVVSUQgPSBzdGF0ZS5jb25uZWN0aW9uTGluZVtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5zdGFydFtpbmRpY2VzW2ldXS5zcGxpdCgnLycpOwogICAgICAgIHZhciB0YWJsZUxpbmUgPSBzdGFydFVVSURbMV0uc3BsaXQoJy0nKTsKICAgICAgICBjb25zb2xlLmxvZyhzdGFydFVVSURbMF0gKyAnKysnICsgc3RhcnRVVUlEWzFdICsgJysrJyArIHRhYmxlTGluZVswXSArICcrKycgKyB0YWJsZUxpbmVbMV0pOwoKICAgICAgICBpZiAoc3RhcnRVVUlEWzFdID09ICd0eXBlcmVmJykgewogICAgICAgICAgdmFyIGlkeFJlZiA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF07CiAgICAgICAgICB9KTsKICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeFJlZl0udHlwZXJlZi5uYW1lID0gcGF5bG9hZC5uYW1lOwogICAgICAgIH0gZWxzZSBpZiAoc3RhcnRVVUlEWzFdID09ICd0ZW1wbGF0ZVR5cGUnKSB7CiAgICAgICAgICB2YXIgaWR4VHlwZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF07CiAgICAgICAgICB9KTsKICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeFR5cGVdLnRlbXBsYXRldHlwZS5uYW1lID0gcGF5bG9hZC5uYW1lOwogICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdpZHRldGFibGUnKSB7CiAgICAgICAgICB2YXIgaWR4aWR0ZSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF07CiAgICAgICAgICB9KTsKICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlW2lkeGlkdGVdLmlkdGVsZW1lbnRbdGFibGVMaW5lWzFdXS50eXBlcmVmID0gcGF5bG9hZC5uYW1lOwogICAgICAgIH0gZWxzZSBpZiAodGFibGVMaW5lWzBdID09ICdFdmVudHRhYmxlJykgewogICAgICAgICAgdmFyIGlkeGV2ZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF07CiAgICAgICAgICB9KTsKICAgICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhldmVudF0uZXZlbnRzW3RhYmxlTGluZVsxXV0udHlwZSA9IHBheWxvYWQubmFtZTsKICAgICAgICB9IGVsc2UgaWYgKHRhYmxlTGluZVswXSA9PSAnRmllbGR0YWJsZScpIHsKICAgICAgICAgIHZhciBpZHhmaWVsZCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdOwogICAgICAgICAgfSk7CiAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2VbaWR4ZmllbGRdLmZpZWxkc1t0YWJsZUxpbmVbMV1dLnR5cGUgPSBwYXlsb2FkLm5hbWU7CiAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2luQXJnJykgewogICAgICAgICAgdmFyIGlkeGluQXJnID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBzdGFydFVVSURbMF07CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBhcmd1bWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZVtpZHhpbkFyZ10ubWV0aG9kc1t0YWJsZUxpbmVbMV1dLmFyZ3VtZW50czsKICAgICAgICAgIHZhciBhcmdMaXN0aW4gPSBhcmd1bWVudC5zcGxpdCgnLCcpOwogICAgICAgICAgdmFyIGNoYW5nbmFtZWluID0gYXJnTGlzdGluW3N0YXJ0VVVJRFsyXV0uc3BsaXQoJy8nKTsKICAgICAgICAgIGNoYW5nbmFtZWluWzJdID0gcGF5bG9hZC5uYW1lOwogICAgICAgICAgY2hhbmduYW1laW4gPSBjaGFuZ25hbWVpblswXSArICcvJyArIGNoYW5nbmFtZWluWzFdICsgJy8nICsgY2hhbmduYW1laW5bMl07CiAgICAgICAgICB2YXIgcGFzdGluZ25hbWUgPSBhcmdMaXN0aW5bMF0gKyAnLCc7CgogICAgICAgICAgaWYgKHN0YXJ0VVVJRFsyXSA9PSAwKSB7CiAgICAgICAgICAgIHBhc3RpbmduYW1lID0gY2hhbmduYW1laW4gKyAnLCc7CiAgICAgICAgICB9CgogICAgICAgICAgZm9yICh2YXIgX3YgPSAxOyBfdiA8IGFyZ0xpc3Rpbi5sZW5ndGggLSAxOyBfdisrKSB7CiAgICAgICAgICAgIGlmIChfdiA9PSBzdGFydFVVSURbMl0pIHsKICAgICAgICAgICAgICBwYXN0aW5nbmFtZSArPSBjaGFuZ25hbWVpbjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwYXN0aW5nbmFtZSArPSBhcmdMaXN0aW5bX3ZdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwYXN0aW5nbmFtZSArPSAnLCc7CiAgICAgICAgICB9CgogICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeGluQXJnXS5tZXRob2RzW3RhYmxlTGluZVsxXV0uYXJndW1lbnRzID0gcGFzdGluZ25hbWU7CiAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ291dEFyZycpIHsKICAgICAgICAgIHZhciBpZHhvdXRBcmcgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2UuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXTsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGFyZ3VtZW50b3V0ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeG91dEFyZ10ubWV0aG9kc1t0YWJsZUxpbmVbMV1dLmFyZ3VtZW50czsKICAgICAgICAgIHZhciBhcmdMaXN0b3V0ID0gYXJndW1lbnRvdXQuc3BsaXQoJywnKTsKICAgICAgICAgIHZhciBuID0gLTEsCiAgICAgICAgICAgICAgdiA9IDA7CgogICAgICAgICAgd2hpbGUgKG4gPT0gLTEpIHsKICAgICAgICAgICAgbiA9IGFyZ0xpc3RvdXRbdisrXS5pbmRleE9mKCdPdXQnKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgY2hhbmduYW1lb3V0ID0gYXJnTGlzdG91dFt2IC0gMSArIHBhcnNlSW50KHN0YXJ0VVVJRFsyXSldLnNwbGl0KCcvJyk7CiAgICAgICAgICBjaGFuZ25hbWVvdXRbMl0gPSBwYXlsb2FkLm5hbWU7CiAgICAgICAgICBjaGFuZ25hbWVvdXQgPSBjaGFuZ25hbWVvdXRbMF0gKyAnLycgKyBjaGFuZ25hbWVvdXRbMV0gKyAnLycgKyBjaGFuZ25hbWVvdXRbMl07CiAgICAgICAgICB2YXIgcGFzdGluZ25hbWVvdXQgPSBhcmdMaXN0b3V0WzBdICsgJywnOwoKICAgICAgICAgIGlmICh2ID09IDEpIHsKICAgICAgICAgICAgcGFzdGluZ25hbWVvdXQgPSBjaGFuZ25hbWVvdXQgKyAnLCc7CiAgICAgICAgICB9CgogICAgICAgICAgZm9yIChuID0gMTsgbiA8IGFyZ0xpc3RvdXQubGVuZ3RoIC0gMTsgbisrKSB7CiAgICAgICAgICAgIGlmIChuID09IHYgLSAxICsgcGFyc2VJbnQoc3RhcnRVVUlEWzJdKSkgewogICAgICAgICAgICAgIHBhc3RpbmduYW1lb3V0ICs9IGNoYW5nbmFtZW91dDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwYXN0aW5nbmFtZW91dCArPSBhcmdMaXN0b3V0W25dOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwYXN0aW5nbmFtZW91dCArPSAnLCc7CiAgICAgICAgICB9CgogICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uU2VydmljZS5TZXJ2aWNlSW50ZXJmYWNlW2lkeG91dEFyZ10ubWV0aG9kc1t0YWJsZUxpbmVbMV1dLmFyZ3VtZW50cyA9IHBhc3RpbmduYW1lb3V0OwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoYW5nZU5hbWVDb21wdU1ldGhvZDogZnVuY3Rpb24gY2hhbmdlTmFtZUNvbXB1TWV0aG9kKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5nZXR0ZXJzLmdldGNoYW5nZW5hbWVsaXN0KHBheWxvYWQudXVpZCk7CiAgICAgIGNvbnNvbGUubG9nKCc9PWNoYW5nZU5hbWVDb21wdU1ldGhvZD09JyArIGluZGljZXMpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHN0YXJ0VVVJRCA9IHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnN0YXJ0W2luZGljZXNbaV1dLnNwbGl0KCcvJyk7CiAgICAgICAgdmFyIHRhYmxlTGluZSA9IHN0YXJ0VVVJRFsxXS5zcGxpdCgnLScpOwogICAgICAgIGNvbnNvbGUubG9nKHN0YXJ0VVVJRFswXSArICcrKycgKyBzdGFydFVVSURbMV0gKyAnKysnICsgdGFibGVMaW5lWzBdICsgJysrJyArIHRhYmxlTGluZVsxXSk7CgogICAgICAgIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2RkcGNjb21wdScpIHsKICAgICAgICAgIHZhciBpZHhkZHBjID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXTsKICAgICAgICAgIH0pOwogICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGVbaWR4ZGRwY10uZGRwY1t0YWJsZUxpbmVbMV1dLmNvbXB1bWV0aG9kID0gcGF5bG9hZC5uYW1lOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoYW5nZU5hbWVEYXRhQ29uc3RyOiBmdW5jdGlvbiBjaGFuZ2VOYW1lRGF0YUNvbnN0cihzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuZ2V0dGVycy5nZXRjaGFuZ2VuYW1lbGlzdChwYXlsb2FkLnV1aWQpOwogICAgICBjb25zb2xlLmxvZygnPT1jaGFuZ2VOYW1lRGF0YUNvbnN0cj09JyArIGluZGljZXMpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHN0YXJ0VVVJRCA9IHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnN0YXJ0W2luZGljZXNbaV1dLnNwbGl0KCcvJyk7CiAgICAgICAgdmFyIHRhYmxlTGluZSA9IHN0YXJ0VVVJRFsxXS5zcGxpdCgnLScpOwogICAgICAgIGNvbnNvbGUubG9nKHN0YXJ0VVVJRFswXSArICcrKycgKyBzdGFydFVVSURbMV0gKyAnKysnICsgdGFibGVMaW5lWzBdICsgJysrJyArIHRhYmxlTGluZVsxXSk7CgogICAgICAgIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2RkcGNkYXRhJykgewogICAgICAgICAgdmFyIGlkeGRkcGMgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdOwogICAgICAgICAgfSk7CiAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuSW1wbGVtZW50YXRpb25EYXRhVHlwZVtpZHhkZHBjXS5kZHBjW3RhYmxlTGluZVsxXV0uZGF0YWNvbnN0ciA9IHBheWxvYWQubmFtZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL2NoYW5nZU5hbWVNYWNoaW5lKHN0YXRlLCBwYXlsb2FkKSB7fSwKICAgIC8vY2hhbmdlTmFtZUhXRWxlbWVudChzdGF0ZSwgcGF5bG9hZCkge30sCiAgICAvL2NoYW5nZU5hbWVNb2RlRGVjbGFyYXRpb24oc3RhdGUsIHBheWxvYWQpIHt9LAogICAgLy9jaGFuZ2VOYW1lTWFjaGluZURlc2lnbihzdGF0ZSwgcGF5bG9hZCkge30sCiAgICBkZWxldGVSZWZFbGVtZW50OiBmdW5jdGlvbiBkZWxldGVSZWZFbGVtZW50KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIC8vIHJlZu2VmOuKlOqzsyDssL7quLAKICAgICAgdmFyIGluZGljZXMgPSB0aGlzLmdldHRlcnMuZ2V0Y2hhbmdlbmFtZWxpc3QocGF5bG9hZC51dWlkKTsKICAgICAgY29uc29sZS5sb2coJz09ZGVsZXRlUmVmTWFjaGluZURlc2lnbj09JyArIGluZGljZXMpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHN0YXJ0VVVJRCA9IHN0YXRlLmNvbm5lY3Rpb25MaW5lW3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLnN0YXJ0W2luZGljZXNbaV1dLnNwbGl0KCcvJyk7CiAgICAgICAgdmFyIHRhYmxlTGluZSA9IHN0YXJ0VVVJRFsxXS5zcGxpdCgnLScpOwoKICAgICAgICBpZiAodGFibGVMaW5lWzBdID09ICdtYWNoaW5lZGVzaWduJykgewogICAgICAgICAgLy8gbWFjaGlu7JeQ7IScIG1hY2hpbkRlc2lnbiByZWbtlaDrlYwKICAgICAgICAgIHZhciBpZHhNYWNoaW5lRCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdOwogICAgICAgICAgfSk7CiAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4TWFjaGluZURdLm1hY2hpbmVkZXNpZ24gPSBudWxsOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0uY2hpbGRyZW5baWR4TWFjaGluZURdLnZhbGlkYXRpb24gPSB0cnVlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZTsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2h3ZWxlbWVudCcpIHsKICAgICAgICAgIC8vIG1hY2hpbuyXkOyEnCBIV0VsZW1lbnQgcmVm7ZWg65WMCiAgICAgICAgICB2YXIgaWR4TWFjaGluZUhXRSA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gc3RhcnRVVUlEWzBdOwogICAgICAgICAgfSk7CiAgICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVbaWR4TWFjaGluZUhXRV0uaHdlbGVtZW50ID0gbnVsbDsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVfaW5kZXhdLmNoaWxkcmVuW2lkeE1hY2hpbmVIV0VdLnZhbGlkYXRpb24gPSB0cnVlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0udmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZTsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmICh0YWJsZUxpbmVbMF0gPT0gJ2Z1bmN0aW9udGFibGUnKSB7CiAgICAgICAgICAvLyBtYWNoaW7sl5DshJwgTW9kZSBEZWNsYXJhdGlvbiByZWbtlaDrlYwKICAgICAgICAgIHZhciBpZHhNYWNoaW5lTUQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHN0YXJ0VVVJRFswXTsKICAgICAgICAgIH0pOwogICAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lW2lkeE1hY2hpbmVNRF0uZnVuY3Rpb25ncm91cFt0YWJsZUxpbmVbMV1dLnR5cGUgPSAnJzsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVfaW5kZXhdLmNoaWxkcmVuW2lkeE1hY2hpbmVNRF0udmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lX2luZGV4XS52YWxpZGF0aW9uID0gdHJ1ZTsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLnZhbGlkYXRpb24gPSB0cnVlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAodmFyIG4gPSBpbmRpY2VzLmxlbmd0aDsgbiA+PSAwOyBuLS0pIHsKICAgICAgICBzdGF0ZS5jb25uZWN0aW9uTGluZVtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5zdGFydC5zcGxpY2UoaW5kaWNlc1tuXSwgMSk7CiAgICAgICAgc3RhdGUuY29ubmVjdGlvbkxpbmVbc3RhdGUub3BlblByb2plY3RJbmRleF0uZW5kLnNwbGljZShpbmRpY2VzW25dLCAxKTsKICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGVsZXQtbGluZScsIGluZGljZXNbbl0pOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlRWxlbWVudDogZnVuY3Rpb24gZGVsZXRlRWxlbWVudChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaWR4RWxlbWVudDsKICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZUVsZW1lbnQnICsgcGF5bG9hZC5wYXJlbnQpOwoKICAgICAgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkNvbXB1TWV0aG9kX3N0cikgewogICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQ29tcHVNZXRob2QuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkNvbXB1TWV0aG9kLnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5Db21wdU1ldGhvZF9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkRhdGFDb25zdHJfc3RyKSB7CiAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkOwogICAgICAgIH0pOwogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5EYXRhQ29uc3RyLnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRhQ29uc3RyX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuQXBwbGljYXRpb25BcnJheV9zdHIpIHsKICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkFwcGxpY2F0aW9uQXJyYXlEYXRhVHlwZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZDsKICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5EYXRhVHlwZXMuQXBwbGljYXRpb25BcnJheURhdGFUeXBlLnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5BcHBsaWNhdGlvbkFycmF5X2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuSW1wbGVtZW50YXRpb25fc3RyKSB7CiAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkOwogICAgICAgIH0pOwogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLkRhdGFUeXBlcy5JbXBsZW1lbnRhdGlvbkRhdGFUeXBlLnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0uY2hpbGRyZW4uc3BsaWNlKGlkeEVsZW1lbnQsIDEpOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2Vfc3RyKSB7CiAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZDsKICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5TZXJ2aWNlLlNlcnZpY2VJbnRlcmZhY2Uuc3BsaWNlKGlkeEVsZW1lbnQsIDEpOwogICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lX3N0cikgewogICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lLnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuTWFjaGluZURlc2lnbmVfc3RyKSB7CiAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTWFjaGluZURlc2lnbi5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZDsKICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24uc3BsaWNlKGlkeEVsZW1lbnQsIDEpOwogICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX3N0cikgewogICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3Rlci5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZDsKICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLkV0aGVybmV0Q2x1c3Rlci5zcGxpY2UoaWR4RWxlbWVudCwgMSk7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4XS5jaGlsZHJlbi5zcGxpY2UoaWR4RWxlbWVudCwgMSk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYXJlbnQgPT0gY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfc3RyKSB7CiAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuTW9kZURlY2xhcmF0aW9uR3JvdXAuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5Nb2RlRGVjbGFyYXRpb25Hcm91cC5zcGxpY2UoaWR4RWxlbWVudCwgMSk7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTW9kZURlY2xhcmF0aW9uR3JvdXBfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5IV0VsZW1lbnRfc3RyKSB7CiAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50LmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkOwogICAgICAgIH0pOwogICAgICAgIHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLk1hY2hpbmUuSFdFbGVtZW50LnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5IV0VsZW1lbnRfaW5kZXhdLmNoaWxkcmVuLnNwbGljZShpZHhFbGVtZW50LCAxKTsKICAgICAgfQogICAgfSwKICAgIHNldFZhbGlkYXRpb246IGZ1bmN0aW9uIHNldFZhbGlkYXRpb24oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIGlkeEVsZW1lbnQsCiAgICAgICAgICBpc1ZhbGlkYXRpb24gPSBmYWxzZTsKCiAgICAgIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9zdHIpIHsKICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uRGF0YVR5cGVzLkltcGxlbWVudGF0aW9uRGF0YVR5cGUuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuSW1wbGVtZW50YXRpb25faW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLnZhbGlkYXRpb24gPSBmYWxzZTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGl0ZW0udmFsaWRhdGlvbiA9PSB0cnVlKSB7CiAgICAgICAgICAgIGlzVmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmICghaXNWYWxpZGF0aW9uKSB7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkRhdGVUeXBlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5JbXBsZW1lbnRhdGlvbl9pbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5EYXRlVHlwZV9pbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2Vfc3RyKSB7CiAgICAgICAgaWR4RWxlbWVudCA9IHN0YXRlLlNBSExQcm9qZWN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLlNlcnZpY2UuU2VydmljZUludGVyZmFjZS5maW5kSW5kZXgoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnV1aWQgPT09IHBheWxvYWQudXVpZDsKICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS52YWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuU2VydmljZUludGVyZmFjZV9pbmRleF0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGl0ZW0udmFsaWRhdGlvbiA9PSB0cnVlKSB7CiAgICAgICAgICAgIGlzVmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmICghaXNWYWxpZGF0aW9uKSB7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5TZXJ2aWNlSW50ZXJmYWNlX2luZGV4XS52YWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VJbnRlcmZhY2VzX2luZGV4XS52YWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LlNlcnZpY2VfaW5kZXhdLnZhbGlkYXRpb24gPSBmYWxzZTsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLnBhcmVudCA9PSBjb25zdGFudC5NYWNoaW5lX3N0cikgewogICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmUuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVfaW5kZXhdLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLnZhbGlkYXRpb24gPT0gdHJ1ZSkgewogICAgICAgICAgICBpc1ZhbGlkYXRpb24gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAoIWlzVmFsaWRhdGlvbikgewogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZV9pbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50Lk1hY2hpbmVEZXNpZ25lX3N0cikgewogICAgICAgIGlkeEVsZW1lbnQgPSBzdGF0ZS5TQUhMUHJvamVjdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5NYWNoaW5lLk1hY2hpbmVEZXNpZ24uZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZURlc2lnbmVfaW5kZXhdLmNoaWxkcmVuW2lkeEVsZW1lbnRdLnZhbGlkYXRpb24gPSBmYWxzZTsKICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lRGVzaWduZV9pbmRleF0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGl0ZW0udmFsaWRhdGlvbiA9PSB0cnVlKSB7CiAgICAgICAgICAgIGlzVmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmICghaXNWYWxpZGF0aW9uKSB7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lRGVzaWduZV9pbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9zdHIpIHsKICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5FdGhlcm5ldENsdXN0ZXIuZmluZEluZGV4KGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS51dWlkID09PSBwYXlsb2FkLnV1aWQ7CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4XS5jaGlsZHJlbltpZHhFbGVtZW50XS52YWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuRXRoZXJuZXRDbHVzdGVyX2luZGV4XS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS52YWxpZGF0aW9uID09IHRydWUpIHsKICAgICAgICAgICAgaXNWYWxpZGF0aW9uID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFpc1ZhbGlkYXRpb24pIHsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkV0aGVybmV0Q2x1c3Rlcl9pbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS5jaGlsZHJlbltjb25zdGFudC5NYWNoaW5lc19pbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgc3RhdGUubmF2aWdhdG9yTGlzdFtzdGF0ZS5vcGVuUHJvamVjdEluZGV4XS52YWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFyZW50ID09IGNvbnN0YW50LkhXRWxlbWVudF9zdHIpIHsKICAgICAgICBpZHhFbGVtZW50ID0gc3RhdGUuU0FITFByb2plY3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uTWFjaGluZS5NYWNoaW5lRGVzaWduLmZpbmRJbmRleChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEudXVpZCA9PT0gcGF5bG9hZC51dWlkOwogICAgICAgIH0pOwogICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkhXRWxlbWVudF9pbmRleF0uY2hpbGRyZW5baWR4RWxlbWVudF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50LkhXRWxlbWVudF9pbmRleF0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGl0ZW0udmFsaWRhdGlvbiA9PSB0cnVlKSB7CiAgICAgICAgICAgIGlzVmFsaWRhdGlvbiA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmICghaXNWYWxpZGF0aW9uKSB7CiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0b3JMaXN0W3N0YXRlLm9wZW5Qcm9qZWN0SW5kZXhdLmNoaWxkcmVuW2NvbnN0YW50Lk1hY2hpbmVzX2luZGV4XS5jaGlsZHJlbltjb25zdGFudC5IV0VsZW1lbnRfaW5kZXhdLnZhbGlkYXRpb24gPSBmYWxzZTsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0uY2hpbGRyZW5bY29uc3RhbnQuTWFjaGluZXNfaW5kZXhdLnZhbGlkYXRpb24gPSBmYWxzZTsKICAgICAgICAgIHN0YXRlLm5hdmlnYXRvckxpc3Rbc3RhdGUub3BlblByb2plY3RJbmRleF0udmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNhdmVFbGVtZW50OiBmdW5jdGlvbiBzYXZlRWxlbWVudChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgRmlsZVNhdmVyID0gcmVxdWlyZSgnZmlsZS1zYXZlcicpOwoKICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkodGhpcy5nZXR0ZXJzLmdldFNhdmVPYmplY3QocGF5bG9hZC5saXN0KSldLCB7CiAgICAgICAgdHlwZTogInRleHQvcGxhaW47Y2hhcnNldD11dGYtOCIKICAgICAgfSk7CgogICAgICB0cnkgewogICAgICAgIEZpbGVTYXZlci5zYXZlQXMoYmxvYiwgcGF5bG9hZC5zYXZlTmFtZSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBhbGVydCgnRmFpbGVkIHRvIHNhdmUgdGhlIGZpbGUgIScpOwogICAgICB9CiAgICB9LAogICAgdXBsb2FkRmlsZXByb2Nlc3M6IGZ1bmN0aW9uIHVwbG9hZEZpbGVwcm9jZXNzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQuZmlsZUluZm8pOwogICAgfSwKICAgIGluaXRpYWxpc2VTdG9yZTogZnVuY3Rpb24gaW5pdGlhbGlzZVN0b3JlKHN0YXRlKSB7CiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2V0dGluZyIpKSB7CiAgICAgICAgY29uc29sZS5sb2coImxvYWRpbmciKTsKICAgICAgICBzdGF0ZS5zZXR0aW5nID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2V0dGluZyIpKTsKICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczoge30KfSk7"},{"version":3,"sources":["D:/source/service/src/store/index.js"],"names":["Vue","Vuex","uuid","constant","saveAs","EventBus","use","Store","state","openProjectIndex","navigatorList","SAHLProject","activeUUID","detailViewUUID","connectionLine","ismakeProject","detailViewerList","idexDetailView","undefined","detailViewer","element","setting","zoomMain","zoomDetail","getters","projectCount","length","getImplementationDataType","datatype","DataTypes","ImplementationDataType","map","ele","returnObj","name","getCompuMethod","CompuMethod","getDataConstr","DataConstr","getMachineDesign","Machine","MachineDesign","getHWElement","HWElement","getModeDeclaration","ModeDeclarationGroup","getHWCategory","HWCategoty","getHWAttribute","getNetworkEndPoint","i","EthernetCluster","n","conditional","v","channel","c","endpoint","ecname","condiname","channelname","push","ethernetname","condidx","channelidx","endpoineidx","fullname","getCommunicationConnector","connector","mtu","mtuenable","nmtuenableme","une","mdname","gettreeviewitems","replaceChildren","obj","parent","clone","Object","assign","children","addItems","arr","items","reduce","acc","x","flat","getconnectLineNum","startID","start","findIndex","id","getChangeEndLine","idxstartId","end","getDataImplementation","find","data","getDataCompuMethod","getDataDataConstr","getDataMachineDesign","getDataEthernetCluster","getDetailViewlength","getchangenamelist","idx","indexOf","indices","getImplementationName","getactiveLine","onlyuuid","split","console","log","getSaveObject","savelist","saveObject","forEach","CompuMethod_str","idxCompu","item","DataConstr_str","idxDdatacon","ApplicationArray_str","idxAappli","ApplicationArrayDataType","Implementation_str","idxImple","ServiceInterface_str","idxService","Service","ServiceInterface","Machine_str","idxMachine","MachineDesigne_str","idxMachineD","EthernetCluster_str","idxEthernet","ModeDeclarationGroup_str","idxModeD","HWElement_str","idxHWE","HWCategoty_str","idxHWC","HWCategory","mutations","saveOpenProject","payload","selectOpenProject","setmakeProject","makeproject","addProject","newUUid","v1","SomeIPServiceInterfaceDeployment","SomeIPServerEvent","SomeIPClientEvent","ErrorDomain","Error","ErrorSet","SomeIPClientServiceInstance","SomeIPServerServiceInstance","SomeIPServiceInstanceToMachine","ServiceInstanceToPortPrototype","RequiredSomeIP","ProvidedSomeIP","AdaptiveApplication","ProtoMachineMapping","SWComponents","Process","Executable","StartupConfig","DeterministicClient","ProcessDesign","Platform","validation","DateType_str","icon","Service_str","ServiceInterfaces_str","SomeIPServiceInterfaceDeployment_str","SomeIPEvents_str","Client_str","Server_str","ServiceInstances_str","SomeIPClient_str","SomeIPServer_str","SomeIPToMachineMapping_str","ToPortPrototypeMapping_str","RequiredSomeIP_str","ProvidedSomeIP_str","Errors_str","Error_str","Errorset_str","ErrorDomain_str","AdaptiveApplication_str","ProcesstoMachineMapping_str","SWComponents_str","Process_str","ProcessDesign_str","Executable_str","StartupConfig_str","DeterministicClient_str","Machines_str","Platform_str","setuuid","setConnectionline","deletConnectionline","splice","startnum","setDetailView","commit","setBackDetailView","setfrontDetailView","setZoomInOut","valueMain","valueDetail","localStorage","setItem","JSON","stringify","addElementService","top","left","zindex","version","namespace","isservice","events","fields","methods","Service_index","ServiceInterfaces_index","ServiceInterface_index","editServiceInterface","idxElement","compo","slice","addElementCompuMehtod","category","scales","namesscalespace","DateType_index","CompuMethod_index","editCompuMehtod","addElementDataConstr","lowerlimit","upperlimit","DataConstr_index","editDataConstr","addElementApplicationArray","dynamicArrySize","ApplicationArray_index","editApplicationArray","addElementImplementation","arraysize","typeemitter","typeref","templatetype","desc","ddpc","idtelement","Implementation_index","editImplementation","addElementMachine","machinedesign","timeout","hwelement","executable","functiongroup","processor","moduleinstant","Machines_index","Machine_index","editMachine","core","ModuleIns","addElementHWElement","attribute","HWElement_index","editHWElement","addElementMachineDesign","access","resettimer","servicediscover","MachineDesigne_index","editMachineDesign","cc","sdc","addElementModeDeclarationGroup","modedeclaration","initmode","ModeDeclarationGroup_index","editModeDeclarationGroup","addElementEthernetCluster","EthernetCluster_index","editEthernetCluster","conditab","channeltab","endtab","domainname","changeNameImplementation","startUUID","tableLine","idxRef","idxType","idxidte","idxevent","type","idxfield","idxinArg","argument","arguments","argListin","changnamein","pastingname","idxoutArg","argumentout","argListout","changnameout","parseInt","pastingnameout","changeNameCompuMethod","idxddpc","compumethod","changeNameDataConstr","dataconstr","deleteRefElement","idxMachineHWE","idxMachineMD","$emit","deleteElement","setValidation","isValidation","saveElement","FileSaver","require","blob","Blob","list","saveName","e","alert","uploadFileprocess","fileInfo","initialiseStore","getItem","parse","actions"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport { uuid } from \"vue-uuid\";\r\nimport constant from \"./constants.js\"\r\nimport { saveAs } from 'file-saver'; // eslint-disable-line no-unused-vars\r\nimport { EventBus } from \"../main.js\"\r\n\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        openProjectIndex: 0,\r\n        navigatorList: [],\r\n        SAHLProject: [],\r\n        activeUUID: null,\r\n        detailViewUUID: null,\r\n        connectionLine: [],\r\n        ismakeProject: false,\r\n        detailViewerList: [], // project가 바뀔때 마다 reset해야한다.\r\n        idexDetailView: undefined,\r\n        detailViewer: { uuid: '', element: '' },\r\n        setting: { zoomMain: 0, zoomDetail: 0, }\r\n    },\r\n    getters: {\r\n        projectCount(state) {\r\n            return state.SAHLProject.length;\r\n        },\r\n        getImplementationDataType(state) {\r\n            var datatype = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.map(ele => {\r\n                var returnObj = {}\r\n                returnObj['name'] = ele.name\r\n                returnObj['uuid'] = ele.uuid\r\n                return returnObj\r\n            })\r\n            return datatype\r\n        },\r\n        getCompuMethod(state) {\r\n            var datatype = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.map(ele => {\r\n                var returnObj = {}\r\n                returnObj['name'] = ele.name\r\n                returnObj['uuid'] = ele.uuid\r\n                return returnObj\r\n            })\r\n            return datatype\r\n        },\r\n        getDataConstr(state) {\r\n            var datatype = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.map(ele => {\r\n                var returnObj = {}\r\n                returnObj['name'] = ele.name\r\n                returnObj['uuid'] = ele.uuid\r\n                return returnObj\r\n            })\r\n            return datatype\r\n        },\r\n        getMachineDesign(state) {\r\n            var datatype = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.map(ele => {\r\n                var returnObj = {}\r\n                returnObj['name'] = ele.name\r\n                returnObj['uuid'] = ele.uuid\r\n                return returnObj\r\n            })\r\n            return datatype\r\n        },\r\n        getHWElement(state) {\r\n            var datatype = state.SAHLProject[state.openProjectIndex].Machine.HWElement.map(ele => {\r\n                var returnObj = {}\r\n                returnObj['name'] = ele.name\r\n                returnObj['uuid'] = ele.uuid\r\n                return returnObj\r\n            })\r\n            return datatype\r\n        },\r\n        getModeDeclaration(state) {\r\n            var datatype = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.map(ele => {\r\n                var returnObj = {}\r\n                returnObj['name'] = ele.name\r\n                returnObj['uuid'] = ele.uuid\r\n                return returnObj\r\n            })\r\n            return datatype\r\n        },\r\n        getHWCategory(state) {\r\n            var datatype = state.SAHLProject[state.openProjectIndex].Machine.HWCategoty.map(ele => {\r\n                var returnObj = {}\r\n                returnObj['name'] = ele.name\r\n                returnObj['uuid'] = ele.uuid\r\n                return returnObj\r\n            })\r\n            return datatype\r\n        },\r\n        getHWAttribute(state) {\r\n            var datatype = state.SAHLProject[state.openProjectIndex].Machine.HWCategoty.map(ele => {\r\n                var returnObj = {}\r\n                returnObj['name'] = ele.name\r\n                returnObj['uuid'] = ele.uuid\r\n                return returnObj\r\n            })\r\n            return datatype\r\n        },\r\n        getNetworkEndPoint(state) {\r\n            var datatype = []\r\n            for (let i = 0; i < state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.length; i++) {\r\n                for (let n = 0; n < state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].conditional.length; n++) {\r\n                    for (let v = 0; v < state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].conditional[n].channel.length; v++) {\r\n                        for (let c = 0; c < state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].conditional[n].channel[v].endpoint.length; c++) {\r\n                            var ecname = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].name\r\n                            var condiname = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].conditional[n].name\r\n                            var channelname = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].conditional[n].channel[v].name\r\n                            var name = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].conditional[n].channel[v].endpoint[c].name\r\n                            datatype.push({\r\n                                uuid: state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].uuid,\r\n                                ethernetname: state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[i].name,\r\n                                condidx: n,\r\n                                channelidx: v,\r\n                                endpoineidx: c,\r\n                                fullname: ecname + '/' + condiname + '/' + channelname + '/' + name\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return datatype\r\n        },\r\n        getCommunicationConnector(state) {\r\n            var datatype = []\r\n            for (let i = 0; i < state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.length; i++) {\r\n                for (let n = 0; n < state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[i].connector.length; n++) {\r\n                    datatype.push({\r\n                        name: state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[i].connector[n].name,\r\n                        mtu: state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[i].connector[n].mtu,\r\n                        mtuenable: state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[i].connector[n].nmtuenableme,\r\n                        une: state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[i].connector[n].une,\r\n                        endpoint: state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[i].connector[n].endpoint,\r\n                        uuid: state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[i].uuid,\r\n                        mdname: state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[i].name,\r\n                    })\r\n                }\r\n            }\r\n            return datatype\r\n        },\r\n        gettreeviewitems(state) {\r\n            const replaceChildren = (obj, parent) => {\r\n                const clone = Object.assign({}, obj)\r\n                delete clone.children\r\n                if (parent) clone.parent = parent\r\n                return clone\r\n            }\r\n\r\n            const addItems = (arr, parent) => {\r\n                const items = arr.reduce((acc, x) => {\r\n                    acc.push(replaceChildren(x, parent))\r\n                    if (x.children) {\r\n                        acc.push(addItems(x.children, x.uuid))\r\n                    }\r\n                    return acc\r\n                }, [])\r\n\r\n                return items.flat()\r\n            }\r\n\r\n            return addItems(state.navigatorList[state.openProjectIndex].children).reduce((acc, x) => {\r\n                acc[x.uuid] = x\r\n                return acc\r\n            }, {})\r\n        },\r\n        getconnectLineNum: (state) => (startID) => {\r\n            return state.connectionLine[state.openProjectIndex].start.findIndex(id => id == startID)\r\n        },\r\n        getChangeEndLine: (state, getters) => (startID) => {\r\n            var idxstartId = getters.getconnectLineNum(startID)\r\n                //console.log(idxstartId + '+' + state.connectionLine[state.openProjectIndex].end[idxstartId])\r\n            return state.connectionLine[state.openProjectIndex].end[idxstartId]\r\n        },\r\n        getDataImplementation: (state) => (uuid) => {\r\n            return state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.find(data => data.uuid === uuid)\r\n        },\r\n        getDataCompuMethod: (state) => (uuid) => {\r\n            return state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.find(data => data.uuid === uuid)\r\n        },\r\n        getDataDataConstr: (state) => (uuid) => {\r\n            return state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.find(data => data.uuid === uuid)\r\n        },\r\n        getDataMachineDesign: (state) => (uuid) => {\r\n            return state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.find(data => data.uuid === uuid)\r\n        },\r\n        getDataEthernetCluster: (state) => (uuid) => {\r\n            return state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.find(data => data.uuid === uuid)\r\n        },\r\n        getDetailViewlength(state) {\r\n            return state.detailViewerList.length - 1\r\n        },\r\n        getchangenamelist: (state) => (uuid) => {\r\n            var idx = state.connectionLine[state.openProjectIndex].end.indexOf(uuid)\r\n            var indices = []\r\n            while (idx != -1) {\r\n                indices.push(idx)\r\n                idx = state.connectionLine[state.openProjectIndex].end.indexOf(uuid, idx + 1)\r\n            }\r\n            return indices\r\n        },\r\n        getImplementationName: (state) => (uuid) => { // service Interface->method->in/out arg edit dialog일때 type수정했을 경우 type이름 수정해 주려고 넣었음 \r\n            var idx = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === uuid)\r\n            return state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idx].name\r\n        },\r\n        getactiveLine: (state) => (uuid) => {\r\n            var indices = []\r\n            for (let i = 0; i < state.connectionLine[state.openProjectIndex].start.length; i++) {\r\n                var onlyuuid = state.connectionLine[state.openProjectIndex].start[i].split('/')\r\n                if (onlyuuid[0] == uuid) {\r\n                    indices.push(i)\r\n                }\r\n            }\r\n            console.log('+getactiveLine++++++' + uuid + '///' + indices[0])\r\n\r\n            return indices\r\n        },\r\n        getSaveObject: (state) => (savelist) => {\r\n            var saveObject = []\r\n\r\n            savelist.forEach(data => {\r\n                if (data.parent == constant.CompuMethod_str) {\r\n                    var idxCompu = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxCompu])\r\n                } else if (data.parent == constant.DataConstr_str) {\r\n                    var idxDdatacon = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxDdatacon])\r\n                } else if (data.parent == constant.ApplicationArray_str) {\r\n                    var idxAappli = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxAappli])\r\n                } else if (data.parent == constant.Implementation_str) {\r\n                    var idxImple = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxImple])\r\n                } else if (data.parent == constant.ServiceInterface_str) {\r\n                    var idxService = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxService])\r\n                } else if (data.parent == constant.Machine_str) {\r\n                    var idxMachine = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].Machine.Machine[idxMachine])\r\n                } else if (data.parent == constant.MachineDesigne_str) {\r\n                    var idxMachineD = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxMachineD])\r\n                } else if (data.parent == constant.EthernetCluster_str) {\r\n                    var idxEthernet = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxEthernet])\r\n                } else if (data.parent == constant.ModeDeclarationGroup_str) {\r\n                    var idxModeD = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxModeD])\r\n                } else if (data.parent == constant.HWElement_str) {\r\n                    var idxHWE = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxHWE])\r\n                } else if (data.parent == constant.HWCategoty_str) {\r\n                    var idxHWC = state.SAHLProject[state.openProjectIndex].Machine.HWCategory.findIndex(item => item.uuid === data.uuid)\r\n                    saveObject.push(state.SAHLProject[state.openProjectIndex].Machine.HWCategory[idxHWC])\r\n                }\r\n            })\r\n            return saveObject\r\n        }\r\n    },\r\n    mutations: {\r\n        saveOpenProject(state, payload) {\r\n            state = payload\r\n        },\r\n        selectOpenProject(state, payload) {\r\n            state.openProjectIndex = payload.openProjectIndex\r\n        },\r\n        setmakeProject(state, payload) {\r\n            state.ismakeProject = payload.makeproject\r\n        },\r\n        addProject(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject.push({\r\n                uuid: newUUid,\r\n                name: payload.name,\r\n                DataTypes: { CompuMethod: [], DataConstr: [], ApplicationArrayDataType: [], ImplementationDataType: [] },\r\n                Service: {\r\n                    ServiceInterface: [],\r\n                    SomeIPServiceInterfaceDeployment: [],\r\n                    SomeIPServerEvent: [],\r\n                    SomeIPClientEvent: [],\r\n                    ErrorDomain: [],\r\n                    Error: [],\r\n                    ErrorSet: [],\r\n                    SomeIPClientServiceInstance: [],\r\n                    SomeIPServerServiceInstance: [],\r\n                    SomeIPServiceInstanceToMachine: [],\r\n                    ServiceInstanceToPortPrototype: [],\r\n                    RequiredSomeIP: [],\r\n                    ProvidedSomeIP: []\r\n                },\r\n                Machine: { Machine: [], MachineDesign: [], EthernetCluster: [], ModeDeclarationGroup: [], HWElement: [], HWCategoty: [] },\r\n                AdaptiveApplication: { ProtoMachineMapping: [], SWComponents: [], Process: [], Executable: [], StartupConfig: [], DeterministicClient: [], ProcessDesign: [] },\r\n                Platform: {}\r\n            })\r\n            state.navigatorList.push({\r\n                uuid: newUUid,\r\n                name: payload.name,\r\n                validation: false,\r\n                children: [{\r\n                        uuid: constant.DateType_str,\r\n                        name: constant.DateType_str,\r\n                        icon: \"mdi-folder\",\r\n                        validation: false,\r\n                        children: [\r\n                            { uuid: constant.CompuMethod_str, name: constant.CompuMethod_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.DataConstr_str, name: constant.DataConstr_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.ApplicationArray_str, name: constant.ApplicationArray_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.Implementation_str, name: constant.Implementation_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                        ]\r\n                    },\r\n                    {\r\n                        uuid: constant.Service_str,\r\n                        name: constant.Service_str,\r\n                        icon: \"mdi-folder\",\r\n                        validation: false,\r\n                        children: [{\r\n                                uuid: constant.ServiceInterfaces_str,\r\n                                name: constant.ServiceInterfaces_str,\r\n                                icon: \"mdi-folder\",\r\n                                validation: false,\r\n                                children: [{ uuid: constant.SomeIPServiceInterfaceDeployment_str, name: constant.SomeIPServiceInterfaceDeployment_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.ServiceInterface_str, name: constant.ServiceInterface_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] }\r\n                                ]\r\n                            },\r\n                            {\r\n                                uuid: constant.SomeIPEvents_str,\r\n                                name: constant.SomeIPEvents_str,\r\n                                icon: \"mdi-folder\",\r\n                                validation: false,\r\n                                children: [{ uuid: constant.Client_str, name: constant.Client_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.Server_str, name: constant.Server_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                ]\r\n                            },\r\n                            {\r\n                                uuid: constant.ServiceInstances_str,\r\n                                name: constant.ServiceInstances_str,\r\n                                icon: \"mdi-folder\",\r\n                                validation: false,\r\n                                children: [{ uuid: constant.SomeIPClient_str, name: constant.SomeIPClient_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.SomeIPServer_str, name: constant.SomeIPServer_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.SomeIPToMachineMapping_str, name: constant.SomeIPToMachineMapping_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.ToPortPrototypeMapping_str, name: constant.ToPortPrototypeMapping_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.RequiredSomeIP_str, name: constant.RequiredSomeIP_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.ProvidedSomeIP_str, name: constant.ProvidedSomeIP_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                ]\r\n                            },\r\n                            {\r\n                                uuid: constant.Errors_str,\r\n                                name: constant.Errors_str,\r\n                                icon: \"mdi-folder\",\r\n                                validation: false,\r\n                                children: [{ uuid: constant.Error_str, name: constant.Error_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.Errorset_str, name: constant.Errorset_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                    { uuid: constant.ErrorDomain_str, name: constant.ErrorDomain_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                                ]\r\n                            },\r\n                        ]\r\n                    },\r\n                    {\r\n                        uuid: constant.AdaptiveApplication_str,\r\n                        name: constant.AdaptiveApplication_str,\r\n                        icon: \"mdi-folder\",\r\n                        validation: false,\r\n                        children: [\r\n                            { uuid: constant.ProcesstoMachineMapping_str, name: constant.ProcesstoMachineMapping_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.SWComponents_str, name: constant.SWComponents_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.Process_str, name: constant.Process_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.ProcessDesign_str, name: constant.ProcessDesign_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.Executable_str, name: constant.Executable_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.StartupConfig_str, name: constant.StartupConfig_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.DeterministicClient_str, name: constant.DeterministicClient_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] }\r\n                        ]\r\n                    },\r\n                    {\r\n                        uuid: constant.Machines_str,\r\n                        name: constant.Machines_str,\r\n                        icon: \"mdi-folder\",\r\n                        validation: false,\r\n                        children: [\r\n                            { uuid: constant.Machine_str, name: constant.Machine_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.MachineDesigne_str, name: constant.MachineDesigne_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.EthernetCluster_str, name: constant.EthernetCluster_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.ModeDeclarationGroup_str, name: constant.ModeDeclarationGroup_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.HWElement_str, name: constant.HWElement_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] },\r\n                            { uuid: constant.HWCategoty_str, name: constant.HWCategoty_str, icon: 'mdi-alpha-e-circle-outline', validation: false, children: [] }\r\n                        ]\r\n                    },\r\n                    {\r\n                        uuid: constant.Platform_str,\r\n                        name: constant.Platform_str,\r\n                        icon: \"mdi-folder\",\r\n                        validation: false,\r\n                        children: []\r\n                    }\r\n                ]\r\n            })\r\n            state.connectionLine.push({ start: [], end: [] })\r\n        },\r\n        setuuid(state, payload) {\r\n            state.activeUUID = payload.uuid\r\n        },\r\n        setConnectionline(state, payload) {\r\n            //console.log('setConnectionline ' + payload.start + ' /// ' + payload.end)\r\n            state.connectionLine[state.openProjectIndex].start.push(payload.start)\r\n            state.connectionLine[state.openProjectIndex].end.push(payload.end)\r\n        },\r\n        deletConnectionline(state, payload) {\r\n            state.connectionLine[state.openProjectIndex].start.splice(payload.startnum, 1)\r\n            state.connectionLine[state.openProjectIndex].end.splice(payload.startnum, 1)\r\n        },\r\n        setDetailView(state, payload) {\r\n            console.log('setDetailView**' + state.detailViewer.uuid + '//' + payload.uuid)\r\n            if (state.detailViewer.uuid != payload.uuid) {\r\n                console.log('...' + state.idexDetailView + '+' + state.detailViewerList.length)\r\n                if (state.idexDetailView < state.detailViewerList.length - 1) {\r\n                    console.log('.##.' + state.detailViewerList[state.idexDetailView + 1].uuid + '+' + payload.uuid)\r\n                    if (state.detailViewerList[state.idexDetailView + 1].uuid != payload.uuid) {\r\n                        state.detailViewerList.splice(state.idexDetailView + 1)\r\n                        console.log('splice' + state.idexDetailView)\r\n                    } else {\r\n                        this.commit('setfrontDetailView')\r\n                        console.log('splice else ' + state.idexDetailView)\r\n                        return\r\n                    }\r\n                }\r\n                state.detailViewer = { uuid: payload.uuid, element: payload.element }\r\n                state.detailViewerList.push({ uuid: payload.uuid, element: payload.element })\r\n                state.idexDetailView = state.detailViewerList.length - 1\r\n                state.detailViewUUID = payload.uuid\r\n                console.log('set//' + state.idexDetailView + '//' + state.detailViewer.element + '//' + state.detailViewer.uuid)\r\n                console.log(state.detailViewerList)\r\n            } else {\r\n                state.detailViewerList.splice(state.detailViewerList.length - 1, 1)\r\n                state.detailViewer = { uuid: payload.uuid, element: payload.element }\r\n                state.detailViewerList.push({ uuid: payload.uuid, element: payload.element })\r\n                state.idexDetailView = state.detailViewerList.length - 1\r\n                state.detailViewUUID = payload.uuid\r\n            }\r\n        },\r\n        setBackDetailView(state) {\r\n            if (state.idexDetailView == 0) {\r\n                return\r\n            }\r\n            state.idexDetailView -= 1\r\n            state.detailViewer = { uuid: state.detailViewerList[state.idexDetailView].uuid, element: state.detailViewerList[state.idexDetailView].element }\r\n            state.detailViewUUID = state.detailViewerList[state.idexDetailView].uuid\r\n            console.log('back' + state.detailViewerList[state.idexDetailView].element + '//' + state.detailViewer.uuid)\r\n        },\r\n        setfrontDetailView(state) {\r\n            if (state.idexDetailView == state.detailViewerList.length - 1) {\r\n                return\r\n            }\r\n            state.idexDetailView += 1\r\n            state.detailViewer = { uuid: state.detailViewerList[state.idexDetailView].uuid, element: state.detailViewerList[state.idexDetailView].element }\r\n            state.detailViewUUID = state.detailViewerList[state.idexDetailView].uuid\r\n            console.log('front' + state.detailViewer.element + '//' + state.detailViewer.uuid)\r\n\r\n        },\r\n        setZoomInOut(state, payload) {\r\n            state.setting = { zoomMain: payload.valueMain, zoomDetail: payload.valueDetail }\r\n            console.log('++' + state.setting.zoomMain + '==' + state.setting.zoomDetail)\r\n            localStorage.setItem(\"setting\", JSON.stringify(state.setting));\r\n        },\r\n\r\n        addElementService(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                version: payload.version,\r\n                namespace: payload.namespace,\r\n                isservice: false,\r\n                events: payload.events,\r\n                fields: payload.fields,\r\n                methods: payload.methods\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editServiceInterface(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == \"Event\") {\r\n                state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].events = payload.events.slice()\r\n            } else if (payload.compo == \"Field\") {\r\n                state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].fields = payload.fields.slice()\r\n            } else if (payload.compo == \"Method\") {\r\n                state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].methods = payload.methods.slice()\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementCompuMehtod(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                category: payload.category,\r\n                scales: payload.namesscalespace,\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.CompuMethod_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editCompuMehtod(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.CompuMethod_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == \"Scale\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].scales = payload.scales.slice()\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementDataConstr(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                lowerlimit: payload.lowerlimit,\r\n                upperlimit: payload.upperlimit,\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.DataConstr_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editDataConstr(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.DataConstr_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementApplicationArray(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                category: payload.category,\r\n                dynamicArrySize: payload.dynamicArrySize,\r\n                element: payload.element,\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.ApplicationArray_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editApplicationArray(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.ApplicationArray_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == \"Dynamic Arry Size\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].dynamicArrySize = payload.dynamicArrySize\r\n            } else if (payload.compo == \"Element\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].element = payload.element\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementImplementation(state, payload) {\r\n            var newUUid = uuid.v1()\r\n                //console.log('!!! UUID !!!' + newUUid)\r\n            state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                category: payload.category,\r\n                namespace: payload.namespace,\r\n                arraysize: payload.arraysize,\r\n                typeemitter: payload.typeemitter,\r\n                typeref: payload.typeref,\r\n                templatetype: payload.templatetype,\r\n                desc: payload.desc,\r\n                ddpc: payload.ddpc,\r\n                idtelement: payload.idtelement,\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editImplementation(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children[idxElement].name = payload.name\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].typeemitter = payload.typeemitter\r\n            } else if (payload.compo == \"DDPC\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].ddpc = payload.ddpc.slice()\r\n            } else if (payload.compo == \"IDT Element\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].idtelement = payload.idtelement.slice()\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementMachine(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].Machine.Machine.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                machinedesign: payload.machinedesign,\r\n                timeout: payload.timeout,\r\n                hwelement: payload.hwelement,\r\n                executable: payload.executable,\r\n                functiongroup: payload.functiongroup,\r\n                processor: payload.processor,\r\n                moduleinstant: payload.moduleinstant,\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editMachine(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == 'function') {\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].functiongroup = payload.functiongroup\r\n            } else if (payload.compo == 'Processor') {\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].processor = payload.processor\r\n            } else if (payload.compo == 'Processor Name') {\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].processor[payload.idx].name = payload.name\r\n            } else if (payload.compo == 'Processor Core') {\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].processor[payload.idx].core = payload.core\r\n            } else if (payload.compo == \"module Ins\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].moduleinstant = payload.ModuleIns\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementHWElement(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].Machine.HWElement.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                category: payload.category,\r\n                attribute: payload.attribute,\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editHWElement(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == 'Attribute') {\r\n                state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].attribute = payload.attribute.slice()\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.HWElement[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementMachineDesign(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                access: payload.access,\r\n                resettimer: payload.resettimer,\r\n                connector: payload.connector,\r\n                servicediscover: payload.servicediscover\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editMachineDesign(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == 'CC item') {\r\n                state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].connector = payload.cc.slice()\r\n            } else if (payload.compo == 'SDC item') {\r\n                state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].servicediscover = payload.sdc.slice()\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.MachineDesign[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementModeDeclarationGroup(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                modedeclaration: payload.modedeclaration,\r\n                initmode: payload.initmode,\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.ModeDeclarationGroup_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editModeDeclarationGroup(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.ModeDeclarationGroup_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == 'Mode declaration') {\r\n                state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].modedeclaration = payload.modedeclaration\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n        addElementEthernetCluster(state, payload) {\r\n            var newUUid = uuid.v1()\r\n            state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.push({\r\n                uuid: newUUid,\r\n                top: payload.top,\r\n                left: payload.left,\r\n                zindex: payload.zindex,\r\n                name: payload.name,\r\n                conditional: payload.conditional,\r\n            })\r\n            state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children.push({ uuid: newUUid, name: payload.name, icon: payload.icon, validation: false, })\r\n            state.activeUUID = newUUid\r\n        },\r\n        editEthernetCluster(state, payload) {\r\n            var idxElement = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === payload.uuid)\r\n\r\n            if (payload.compo == \"Name\") {\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children[idxElement].name = payload.name\r\n            } else if (payload.compo == \"Condi Name\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional[payload.conditab].name = payload.name\r\n            } else if (payload.compo == \"version\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional[payload.conditab].version = payload.version\r\n            } else if (payload.compo == \"Channel Name\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional[payload.conditab].channel[payload.channeltab].name = payload.name\r\n            } else if (payload.compo == \"Endpoint Name\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional[payload.conditab].channel[payload.channeltab].endpoint[payload.endtab].name = payload.name\r\n            } else if (payload.compo == \"Domain Name\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional[payload.conditab].channel[payload.channeltab].endpoint[payload.endtab].domainname = payload.name\r\n            } else if (payload.compo == \"conditional\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].conditional = payload.conditional.slice() //JSON.parse(JSON.stringify(payload.conditional))\r\n            } else if (payload.compo == \"drag\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].top = payload.top\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].left = payload.left\r\n            } else if (payload.compo == \"z\") {\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster[idxElement].zindex = payload.zindex\r\n            }\r\n        },\r\n\r\n\r\n        changeNameImplementation(state, payload) {\r\n            //var idx = state.connectionLine[state.openProjectIndex].end.indexOf(payload.uuid)\r\n            var indices = this.getters.getchangenamelist(payload.uuid)\r\n                // while (idx != -1) {\r\n                //     indices.push(idx)\r\n                //     idx = state.connectionLine[state.openProjectIndex].end.indexOf(payload.uuid, idx + 1)\r\n                // }\r\n            console.log('==changeNameImplementation==' + indices)\r\n\r\n            for (let i = 0; i < indices.length; i++) {\r\n                var startUUID = state.connectionLine[state.openProjectIndex].start[indices[i]].split('/')\r\n                var tableLine = startUUID[1].split('-')\r\n                console.log(startUUID[0] + '++' + startUUID[1] + '++' + tableLine[0] + '++' + tableLine[1])\r\n                if (startUUID[1] == 'typeref') {\r\n                    var idxRef = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxRef].typeref.name = payload.name\r\n                } else if (startUUID[1] == 'templateType') {\r\n                    var idxType = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxType].templatetype.name = payload.name\r\n                } else if (tableLine[0] == 'idtetable') {\r\n                    var idxidte = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxidte].idtelement[tableLine[1]].typeref = payload.name\r\n                } else if (tableLine[0] == 'Eventtable') {\r\n                    var idxevent = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxevent].events[tableLine[1]].type = payload.name\r\n                } else if (tableLine[0] == 'Fieldtable') {\r\n                    var idxfield = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxfield].fields[tableLine[1]].type = payload.name\r\n                } else if (tableLine[0] == 'inArg') {\r\n                    var idxinArg = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n                    var argument = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxinArg].methods[tableLine[1]].arguments\r\n                    var argListin = argument.split(',')\r\n                    var changnamein = argListin[startUUID[2]].split('/')\r\n                    changnamein[2] = payload.name\r\n                    changnamein = changnamein[0] + '/' + changnamein[1] + '/' + changnamein[2]\r\n                    var pastingname = argListin[0] + ','\r\n                    if (startUUID[2] == 0) {\r\n                        pastingname = changnamein + ','\r\n                    }\r\n                    for (let v = 1; v < argListin.length - 1; v++) {\r\n                        if (v == startUUID[2]) {\r\n                            pastingname += changnamein\r\n                        } else {\r\n                            pastingname += argListin[v]\r\n                        }\r\n                        pastingname += ','\r\n                    }\r\n                    state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxinArg].methods[tableLine[1]].arguments = pastingname\r\n\r\n                } else if (tableLine[0] == 'outArg') {\r\n                    var idxoutArg = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === startUUID[0])\r\n                    var argumentout = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxoutArg].methods[tableLine[1]].arguments\r\n                    var argListout = argumentout.split(',')\r\n                    var n = -1,\r\n                        v = 0\r\n                    while (n == -1) {\r\n                        n = argListout[v++].indexOf('Out')\r\n                    }\r\n                    var changnameout = argListout[(v - 1 + parseInt(startUUID[2]))].split('/')\r\n                    changnameout[2] = payload.name\r\n                    changnameout = changnameout[0] + '/' + changnameout[1] + '/' + changnameout[2]\r\n                    var pastingnameout = argListout[0] + ','\r\n                    if (v == 1) {\r\n                        pastingnameout = changnameout + ','\r\n                    }\r\n                    for (n = 1; n < argListout.length - 1; n++) {\r\n                        if (n == (v - 1 + parseInt(startUUID[2]))) {\r\n                            pastingnameout += changnameout\r\n                        } else {\r\n                            pastingnameout += argListout[n]\r\n                        }\r\n                        pastingnameout += ','\r\n                    }\r\n                    state.SAHLProject[state.openProjectIndex].Service.ServiceInterface[idxoutArg].methods[tableLine[1]].arguments = pastingnameout\r\n                }\r\n            }\r\n        },\r\n        changeNameCompuMethod(state, payload) {\r\n            var indices = this.getters.getchangenamelist(payload.uuid)\r\n            console.log('==changeNameCompuMethod==' + indices)\r\n\r\n            for (let i = 0; i < indices.length; i++) {\r\n                var startUUID = state.connectionLine[state.openProjectIndex].start[indices[i]].split('/')\r\n                var tableLine = startUUID[1].split('-')\r\n                console.log(startUUID[0] + '++' + startUUID[1] + '++' + tableLine[0] + '++' + tableLine[1])\r\n                if (tableLine[0] == 'ddpccompu') {\r\n                    var idxddpc = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxddpc].ddpc[tableLine[1]].compumethod = payload.name\r\n                }\r\n            }\r\n        },\r\n        changeNameDataConstr(state, payload) {\r\n            var indices = this.getters.getchangenamelist(payload.uuid)\r\n            console.log('==changeNameDataConstr==' + indices)\r\n\r\n            for (let i = 0; i < indices.length; i++) {\r\n                var startUUID = state.connectionLine[state.openProjectIndex].start[indices[i]].split('/')\r\n                var tableLine = startUUID[1].split('-')\r\n                console.log(startUUID[0] + '++' + startUUID[1] + '++' + tableLine[0] + '++' + tableLine[1])\r\n                if (tableLine[0] == 'ddpcdata') {\r\n                    var idxddpc = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType[idxddpc].ddpc[tableLine[1]].dataconstr = payload.name\r\n                }\r\n            }\r\n        },\r\n        //changeNameMachine(state, payload) {},\r\n        //changeNameHWElement(state, payload) {},\r\n        //changeNameModeDeclaration(state, payload) {},\r\n        //changeNameMachineDesign(state, payload) {},\r\n\r\n        deleteRefElement(state, payload) { // ref하는곳 찾기\r\n            var indices = this.getters.getchangenamelist(payload.uuid)\r\n            console.log('==deleteRefMachineDesign==' + indices)\r\n\r\n            for (let i = 0; i < indices.length; i++) {\r\n                var startUUID = state.connectionLine[state.openProjectIndex].start[indices[i]].split('/')\r\n                var tableLine = startUUID[1].split('-')\r\n\r\n                if (tableLine[0] == 'machinedesign') { // machin에서 machinDesign ref할때\r\n                    var idxMachineD = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].Machine.Machine[idxMachineD].machinedesign = null\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxMachineD].validation = true\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].validation = true\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n                    state.navigatorList[state.openProjectIndex].validation = true\r\n                } else if (tableLine[0] == 'hwelement') { // machin에서 HWElement ref할때\r\n                    var idxMachineHWE = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].Machine.Machine[idxMachineHWE].hwelement = null\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxMachineHWE].validation = true\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].validation = true\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n                    state.navigatorList[state.openProjectIndex].validation = true\r\n                } else if (tableLine[0] == 'functiontable') { // machin에서 Mode Declaration ref할때\r\n                    var idxMachineMD = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === startUUID[0])\r\n                    state.SAHLProject[state.openProjectIndex].Machine.Machine[idxMachineMD].functiongroup[tableLine[1]].type = ''\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxMachineMD].validation = true\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].validation = true\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = true\r\n                    state.navigatorList[state.openProjectIndex].validation = true\r\n                }\r\n            }\r\n\r\n            for (let n = indices.length; n >= 0; n--) {\r\n                state.connectionLine[state.openProjectIndex].start.splice(indices[n], 1)\r\n                state.connectionLine[state.openProjectIndex].end.splice(indices[n], 1)\r\n                EventBus.$emit('delet-line', indices[n])\r\n            }\r\n        },\r\n\r\n        deleteElement(state, payload) {\r\n            var idxElement\r\n            console.log('deleteElement' + payload.parent)\r\n            if (payload.parent == constant.CompuMethod_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.CompuMethod.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.CompuMethod_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.DataConstr_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.DataConstr.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.DataConstr_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.ApplicationArray_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ApplicationArrayDataType.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.ApplicationArray_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.Implementation_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.ServiceInterface_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.Machine_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].Machine.Machine.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.MachineDesigne_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.EthernetCluster_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.ModeDeclarationGroup_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].Machine.ModeDeclarationGroup.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.ModeDeclarationGroup_index].children.splice(idxElement, 1)\r\n            } else if (payload.parent == constant.HWElement_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.HWElement.findIndex(data => data.uuid === payload.uuid)\r\n                state.SAHLProject[state.openProjectIndex].Machine.HWElement.splice(idxElement, 1)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children.splice(idxElement, 1)\r\n            }\r\n        },\r\n        setValidation(state, payload) {\r\n            var idxElement, isValidation = false\r\n            if (payload.parent == constant.Implementation_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].DataTypes.ImplementationDataType.findIndex(data => data.uuid === payload.uuid)\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children[idxElement].validation = false\r\n                state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].children.forEach(item => {\r\n                    if (item.validation == true) {\r\n                        isValidation = true\r\n                    }\r\n                })\r\n                if (!isValidation) {\r\n                    state.navigatorList[state.openProjectIndex].children[constant.DateType_index].children[constant.Implementation_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].children[constant.DateType_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].validation = false\r\n                }\r\n            } else if (payload.parent == constant.ServiceInterface_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Service.ServiceInterface.findIndex(data => data.uuid === payload.uuid)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children[idxElement].validation = false\r\n                state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].children.forEach(item => {\r\n                    if (item.validation == true) {\r\n                        isValidation = true\r\n                    }\r\n                })\r\n                if (!isValidation) {\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].children[constant.ServiceInterface_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Service_index].children[constant.ServiceInterfaces_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Service_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].validation = false\r\n                }\r\n            } else if (payload.parent == constant.Machine_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.Machine.findIndex(data => data.uuid === payload.uuid)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children[idxElement].validation = false\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].children.forEach(item => {\r\n                    if (item.validation == true) {\r\n                        isValidation = true\r\n                    }\r\n                })\r\n                if (!isValidation) {\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.Machine_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].validation = false\r\n                }\r\n            } else if (payload.parent == constant.MachineDesigne_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === payload.uuid)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children[idxElement].validation = false\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].children.forEach(item => {\r\n                    if (item.validation == true) {\r\n                        isValidation = true\r\n                    }\r\n                })\r\n                if (!isValidation) {\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.MachineDesigne_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].validation = false\r\n                }\r\n            } else if (payload.parent == constant.EthernetCluster_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.EthernetCluster.findIndex(data => data.uuid === payload.uuid)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children[idxElement].validation = false\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].children.forEach(item => {\r\n                    if (item.validation == true) {\r\n                        isValidation = true\r\n                    }\r\n                })\r\n                if (!isValidation) {\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.EthernetCluster_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].validation = false\r\n                }\r\n            } else if (payload.parent == constant.HWElement_str) {\r\n                idxElement = state.SAHLProject[state.openProjectIndex].Machine.MachineDesign.findIndex(data => data.uuid === payload.uuid)\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children[idxElement].validation = false\r\n                state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].children.forEach(item => {\r\n                    if (item.validation == true) {\r\n                        isValidation = true\r\n                    }\r\n                })\r\n                if (!isValidation) {\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].children[constant.HWElement_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].children[constant.Machines_index].validation = false\r\n                    state.navigatorList[state.openProjectIndex].validation = false\r\n                }\r\n            }\r\n\r\n        },\r\n        saveElement(state, payload) {\r\n            var FileSaver = require('file-saver');\r\n            var blob = new Blob([JSON.stringify(this.getters.getSaveObject(payload.list))], { type: \"text/plain;charset=utf-8\" });\r\n\r\n            try { FileSaver.saveAs(blob, payload.saveName); } catch (e) { alert('Failed to save the file !'); }\r\n\r\n        },\r\n        uploadFileprocess(state, payload) {\r\n            console.log(payload.fileInfo)\r\n        },\r\n        initialiseStore(state) {\r\n            if (localStorage.getItem(\"setting\")) {\r\n                console.log(\"loading\");\r\n                state.setting = JSON.parse(localStorage.getItem(\"setting\"))\r\n            }\r\n        }\r\n    },\r\n    actions: {}\r\n});"]}]}